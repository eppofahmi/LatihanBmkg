<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<style>body{background-color:white;}</style>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbChjb2RlKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCFlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXN1bHQgPSBldmFsKCIoIiArIGNvZGUgKyAiKSIpOwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBpbml0U2l6aW5nKGVsKSB7CiAgICB2YXIgc2l6aW5nID0gc2l6aW5nUG9saWN5KGVsKTsKICAgIGlmICghc2l6aW5nKQogICAgICByZXR1cm47CgogICAgdmFyIGNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodG1sd2lkZ2V0X2NvbnRhaW5lciIpOwogICAgaWYgKCFjZWwpCiAgICAgIHJldHVybjsKCiAgICBpZiAodHlwZW9mKHNpemluZy5wYWRkaW5nKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9IHBhZGRpbmdUb0Nzcyh1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKSk7CiAgICB9CgogICAgaWYgKHNpemluZy5maWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgaWYgKGNlbCkgewogICAgICAgIGNlbC5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICAgdmFyIHBhZCA9IHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpOwogICAgICAgIGNlbC5zdHlsZS50b3AgPSBwYWQudG9wICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUucmlnaHQgPSBwYWQucmlnaHQgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5ib3R0b20gPSBwYWQuYm90dG9tICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUubGVmdCA9IHBhZC5sZWZ0ICsgInB4IjsKICAgICAgICBlbC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgZWwuc3R5bGUud2lkdGggPSBweChzaXppbmcud2lkdGgpOwogICAgICBlbC5zdHlsZS5oZWlnaHQgPSBweChzaXppbmcuaGVpZ2h0KTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwogICAgfQogIH0KCiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIG1ldGhvZHMKICB2YXIgZGVmYXVsdHMgPSB7CiAgICBmaW5kOiBmdW5jdGlvbihzY29wZSkgewogICAgICByZXR1cm4gcXVlcnlTZWxlY3RvckFsbChzY29wZSwgIi4iICsgdGhpcy5uYW1lKTsKICAgIH0sCiAgICByZW5kZXJFcnJvcjogZnVuY3Rpb24oZWwsIGVycikgewogICAgICB2YXIgJGVsID0gJChlbCk7CgogICAgICB0aGlzLmNsZWFyRXJyb3IoZWwpOwoKICAgICAgLy8gQWRkIGFsbCB0aGVzZSBlcnJvciBjbGFzc2VzLCBhcyBTaGlueSBkb2VzCiAgICAgIHZhciBlcnJDbGFzcyA9ICJzaGlueS1vdXRwdXQtZXJyb3IiOwogICAgICBpZiAoZXJyLnR5cGUgIT09IG51bGwpIHsKICAgICAgICAvLyB1c2UgdGhlIGNsYXNzZXMgb2YgdGhlIGVycm9yIGNvbmRpdGlvbiBhcyBDU1MgY2xhc3MgbmFtZXMKICAgICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiAiICsgJC5tYXAoYXNBcnJheShlcnIudHlwZSksIGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgICAgIHJldHVybiBlcnJDbGFzcyArICItIiArIHR5cGU7CiAgICAgICAgfSkuam9pbigiICIpOwogICAgICB9CiAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiIGh0bWx3aWRnZXRzLWVycm9yIjsKCiAgICAgIC8vIElzIGVsIGlubGluZSBvciBibG9jaz8gSWYgaW5saW5lIG9yIGlubGluZS1ibG9jaywganVzdCBkaXNwbGF5Om5vbmUgaXQKICAgICAgLy8gYW5kIGFkZCBhbiBpbmxpbmUgZXJyb3IuCiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmNzcygiZGlzcGxheSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBkaXNwbGF5KTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgICRlbC5oaWRlKCk7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yU3BhbiA9ICQoIjxzcGFuPiIpLmFkZENsYXNzKGVyckNsYXNzKTsKICAgICAgICAgIGVycm9yU3Bhbi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvclNwYW4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKSB7CiAgICAgICAgLy8gSWYgYmxvY2ssIGFkZCBhbiBlcnJvciBqdXN0IGFmdGVyIHRoZSBlbCwgc2V0IHZpc2liaWxpdHk6bm9uZSBvbiB0aGUKICAgICAgICAvLyBlbCwgYW5kIHBvc2l0aW9uIHRoZSBlcnJvciB0byBiZSBvbiB0b3Agb2YgdGhlIGVsLgogICAgICAgIC8vIE1hcmsgaXQgd2l0aCBhIHVuaXF1ZSBJRCBhbmQgQ1NTIGNsYXNzIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIuCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JEaXYgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKGVyckNsYXNzKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikKICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgLy8gc2V0dGluZyB3aWR0aCBjYW4gcHVzaCBvdXQgdGhlIHBhZ2Ugc2l6ZSwgZm9yY2luZyBvdGhlcndpc2UKICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgc2Nyb2xsYmFycyB0byBhcHBlYXIgYW5kIG1ha2luZyBpdCBpbXBvc3NpYmxlIGZvcgogICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0byBzaHJpbms7IHNvIHVzZSBtYXgtd2lkdGggaW5zdGVhZAogICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgZXJyb3JEaXYudGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JEaXYpOwoKICAgICAgICAgIC8vIFJlYWxseSBkdW1iIHdheSB0byBrZWVwIHRoZSBzaXplL3Bvc2l0aW9uIG9mIHRoZSBlcnJvciBpbiBzeW5jIHdpdGgKICAgICAgICAgIC8vIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgd2luZG93IGlzIHJlc2l6ZWQgb3Igd2hhdGV2ZXIuCiAgICAgICAgICB2YXIgaW50SWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKCFlcnJvckRpdlswXS5wYXJlbnRFbGVtZW50KSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRJZCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yRGl2CiAgICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24oZWwpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICB2YXIgZGlzcGxheSA9ICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBudWxsKTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgIGlmIChkaXNwbGF5KQogICAgICAgICAgJGVsLmNzcygiZGlzcGxheSIsIGRpc3BsYXkpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIil7CiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJpbmhlcml0Iik7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNpemluZzoge30KICB9OwoKICAvLyBDYWxsZWQgYnkgd2lkZ2V0IGJpbmRpbmdzIHRvIHJlZ2lzdGVyIGEgbmV3IHR5cGUgb2Ygd2lkZ2V0LiBUaGUgZGVmaW5pdGlvbgogIC8vIG9iamVjdCBjYW4gY29udGFpbiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgLy8gLSBuYW1lIChyZXF1aXJlZCkgLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBiaW5kaW5nIG5hbWUsIHdoaWNoIHdpbGwgYmUKICAvLyAgIHVzZWQgYnkgZGVmYXVsdCBhcyB0aGUgQ1NTIGNsYXNzbmFtZSB0byBsb29rIGZvci4KICAvLyAtIGluaXRpYWxpemUgKG9wdGlvbmFsKSAtIEEgZnVuY3Rpb24oZWwpIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIHdpZGdldCBlbGVtZW50OyBpZiBhIHZhbHVlIGlzIHJldHVybmVkLCBpdCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQKICAvLyAgIHZhbHVlIHRvIHJlbmRlclZhbHVlLgogIC8vIC0gcmVuZGVyVmFsdWUgKHJlcXVpcmVkKSAtIEEgZnVuY3Rpb24oZWwsIGRhdGEsIGluaXRWYWx1ZSkgdGhhdCB3aWxsIGJlCiAgLy8gICBjYWxsZWQgd2l0aCBkYXRhLiBTdGF0aWMgY29udGV4dHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgZWxlbWVudDsgU2hpbnkgYXBwcyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHBlcgogIC8vICAgZWxlbWVudCwgYXMgdGhlIGRhdGEgY2hhbmdlcy4KICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0ID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgewogICAgaWYgKCFkZWZpbml0aW9uLm5hbWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgbmFtZSIpOwogICAgfQogICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgdHlwZSIpOwogICAgfQogICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgc3VwcG9ydCBvdXRwdXQgd2lkZ2V0cwogICAgaWYgKGRlZmluaXRpb24udHlwZSAhPT0gIm91dHB1dCIpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgd2lkZ2V0IHR5cGUgJyIgKyBkZWZpbml0aW9uLnR5cGUgKyAiJyIpOwogICAgfQogICAgLy8gVE9ETzogVmVyaWZ5IHRoYXQgLm5hbWUgaXMgYSB2YWxpZCBDU1MgY2xhc3NuYW1lCgogICAgLy8gU3VwcG9ydCBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMuIE9sZC1zdHlsZSBjbGFzcy1ib3VuZAogICAgLy8gZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0ICJvYmplY3QiIHBlciB3aWRnZXQgcGVyIHR5cGUvY2xhc3Mgb2YKICAgIC8vIHdpZGdldDsgdGhlIHJlbmRlclZhbHVlIGFuZCByZXNpemUgbWV0aG9kcyBvbiBzdWNoIHdpZGdldCBvYmplY3RzCiAgICAvLyB0YWtlIGVsIGFuZCBpbnN0YW5jZSBhcmd1bWVudHMsIGJlY2F1c2UgdGhlIHdpZGdldCBvYmplY3QgY2FuJ3QKICAgIC8vIHN0b3JlIHRoZW0uIE5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQKICAgIC8vIG9iamVjdCBwZXIgd2lkZ2V0IGluc3RhbmNlOyB0aGUgZGVmaW5pdGlvbiB0aGF0J3MgcGFzc2VkIGluIGRvZXNuJ3QKICAgIC8vIHByb3ZpZGUgcmVuZGVyVmFsdWUgb3IgcmVzaXplIG1ldGhvZHMgYXQgYWxsLCBqdXN0IHRoZSBzaW5nbGUgbWV0aG9kCiAgICAvLyAgIGZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpCiAgICAvLyB3aGljaCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGhhcyByZW5kZXJWYWx1ZSh4KSBhbmQgcmVzaXplKHcsIGgpLgogICAgLy8gVGhpcyBlbmFibGVzIGEgZmFyIG1vcmUgbmF0dXJhbCBwcm9ncmFtbWluZyBzdHlsZSBmb3IgdGhlIHdpZGdldAogICAgLy8gYXV0aG9yLCB3aG8gY2FuIHN0b3JlIHBlci1pbnN0YW5jZSBzdGF0ZSB1c2luZyBlaXRoZXIgT08tc3R5bGUKICAgIC8vIGluc3RhbmNlIGZpZWxkcyBvciBmdW5jdGlvbmFsLXN0eWxlIGNsb3N1cmUgdmFyaWFibGVzIChJIGd1ZXNzIHRoaXMKICAgIC8vIGlzIGluIGNvbnRyYXN0IHRvIHdoYXQgY2FuIG9ubHkgYmUgY2FsbGVkIEMtc3R5bGUgcHNldWRvLU9PIHdoaWNoIGlzCiAgICAvLyB3aGF0IHdlIHJlcXVpcmVkIGJlZm9yZSkuCiAgICBpZiAoZGVmaW5pdGlvbi5mYWN0b3J5KSB7CiAgICAgIGRlZmluaXRpb24gPSBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZpbml0aW9uKTsKICAgIH0KCiAgICBpZiAoIWRlZmluaXRpb24ucmVuZGVyVmFsdWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgcmVuZGVyVmFsdWUgZnVuY3Rpb24iKTsKICAgIH0KCiAgICAvLyBGb3Igc3RhdGljIHJlbmRlcmluZyAobm9uLVNoaW55KSwgdXNlIGEgc2ltcGxlIHdpZGdldCByZWdpc3RyYXRpb24KICAgIC8vIHNjaGVtZS4gV2UgYWxzbyB1c2UgdGhpcyBzY2hlbWUgZm9yIFNoaW55IGFwcHMvZG9jdW1lbnRzIHRoYXQgYWxzbwogICAgLy8gY29udGFpbiBzdGF0aWMgd2lkZ2V0cy4KICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uCiAgICB2YXIgc3RhdGljQmluZGluZyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwogICAgb3ZlcnJpZGVNZXRob2Qoc3RhdGljQmluZGluZywgImZpbmQiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBzdXBlcmZ1bmMoc2NvcGUpOwogICAgICAgIC8vIEZpbHRlciBvdXQgU2hpbnkgb3V0cHV0cywgd2Ugb25seSB3YW50IHRoZSBzdGF0aWMga2luZAogICAgICAgIHJldHVybiBmaWx0ZXJCeUNsYXNzKHJlc3VsdHMsICJodG1sLXdpZGdldC1vdXRwdXQiLCBmYWxzZSk7CiAgICAgIH07CiAgICB9KTsKICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzLnB1c2goc3RhdGljQmluZGluZyk7CgogICAgaWYgKHNoaW55TW9kZSkgewogICAgICAvLyBTaGlueSBpcyBydW5uaW5nLiBSZWdpc3RlciB0aGUgZGVmaW5pdGlvbiB3aXRoIGFuIG91dHB1dCBiaW5kaW5nLgogICAgICAvLyBUaGUgZGVmaW5pdGlvbiBpdHNlbGYgd2lsbCBub3QgYmUgdGhlIG91dHB1dCBiaW5kaW5nLCBpbnN0ZWFkCiAgICAgIC8vIHdlIHdpbGwgbWFrZSBhbiBvdXRwdXQgYmluZGluZyBvYmplY3QgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlCiAgICAgIC8vIGRlZmluaXRpb24uIFRoaXMgaXMgYmVjYXVzZSB3ZSBmb29saXNobHkgdXNlZCB0aGUgc2FtZSBtZXRob2QKICAgICAgLy8gbmFtZSAocmVuZGVyVmFsdWUpIGZvciBodG1sd2lkZ2V0cyBkZWZpbml0aW9uIGFuZCBTaGlueSBiaW5kaW5ncwogICAgICAvLyBidXQgdGhleSBhY3R1YWxseSBoYXZlIHF1aXRlIGRpZmZlcmVudCBzZW1hbnRpY3MgKHRoZSBTaGlueQogICAgICAvLyBiaW5kaW5ncyByZWNlaXZlIGRhdGEgdGhhdCBpbmNsdWRlcyBsb3RzIG9mIG1ldGFkYXRhIHRoYXQgaXQKICAgICAgLy8gc3RyaXBzIG9mZiBiZWZvcmUgY2FsbGluZyBodG1sd2lkZ2V0cyByZW5kZXJWYWx1ZSkuIFdlIGNhbid0CiAgICAgIC8vIGp1c3QgaWdub3JlIHRoZSBkaWZmZXJlbmNlIGJlY2F1c2UgaW4gc29tZSB3aWRnZXRzIGl0J3MgaGVscGZ1bAogICAgICAvLyB0byBjYWxsIHRoaXMucmVuZGVyVmFsdWUoKSBmcm9tIGluc2lkZSBvZiByZXNpemUoKSwgYW5kIGlmCiAgICAgIC8vIHdlJ3JlIG5vdCBkZWxlZ2F0aW5nLCB0aGVuIHRoYXQgY2FsbCB3aWxsIGdvIHRvIHRoZSBTaGlueQogICAgICAvLyB2ZXJzaW9uIGluc3RlYWQgb2YgdGhlIGh0bWx3aWRnZXRzIHZlcnNpb24uCgogICAgICAvLyBNZXJnZSBkZWZhdWx0cyB3aXRoIGRlZmluaXRpb24sIHdpdGhvdXQgbXV0YXRpbmcgZWl0aGVyLgogICAgICB2YXIgYmluZGluZ0RlZiA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwoKICAgICAgLy8gVGhpcyBvYmplY3Qgd2lsbCBiZSBvdXIgYWN0dWFsIFNoaW55IGJpbmRpbmcuCiAgICAgIHZhciBzaGlueUJpbmRpbmcgPSBuZXcgU2hpbnkuT3V0cHV0QmluZGluZygpOwoKICAgICAgLy8gV2l0aCBhIGZldyBleGNlcHRpb25zLCB3ZSdsbCB3YW50IHRvIHNpbXBseSB1c2UgdGhlIGJpbmRpbmdEZWYncwogICAgICAvLyB2ZXJzaW9uIG9mIG1ldGhvZHMgaWYgdGhleSBhcmUgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvCiAgICAgIC8vIFNoaW55J3MgZGVmYXVsdHMuIE5PVEU6IElmIFNoaW55J3Mgb3V0cHV0IGJpbmRpbmdzIGdhaW4gYWRkaXRpb25hbAogICAgICAvLyBtZXRob2RzIGluIHRoZSBmdXR1cmUsIGFuZCB3ZSB3YW50IHRoZW0gdG8gYmUgb3ZlcnJpZGVhYmxlIGJ5CiAgICAgIC8vIEhUTUxXaWRnZXQgYmluZGluZyBkZWZpbml0aW9ucywgdGhlbiB3ZSdsbCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoaXMKICAgICAgLy8gbGlzdC4KICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiZ2V0SWQiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUNoYW5nZSIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAicmVuZGVyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiY2xlYXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJzaG93UHJvZ3Jlc3MiKTsKCiAgICAgIC8vIFRoZSBmaW5kLCByZW5kZXJWYWx1ZSwgYW5kIHJlc2l6ZSBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseSwgYmVjYXVzZSB3ZQogICAgICAvLyB3YW50IHRvIGFjdHVhbGx5IGRlY29yYXRlIHRoZSBiZWhhdmlvciBvZiB0aGUgYmluZGluZ0RlZiBtZXRob2RzLgoKICAgICAgc2hpbnlCaW5kaW5nLmZpbmQgPSBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gYmluZGluZ0RlZi5maW5kKHNjb3BlKTsKCiAgICAgICAgLy8gT25seSByZXR1cm4gZWxlbWVudHMgdGhhdCBhcmUgU2hpbnkgb3V0cHV0cywgbm90IHN0YXRpYyBvbmVzCiAgICAgICAgdmFyIGR5bmFtaWNSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoIi5odG1sLXdpZGdldC1vdXRwdXQiKTsKCiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdoYXRldmVyIGNhdXNlZCBTaGlueSB0byB0aGluayB0aGVyZSBtaWdodCBiZQogICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4KICAgICAgICAvLyBTaW5jZSB0aGVyZSBtaWdodCBiZSBsb3RzIG9mIGRpZmZlcmVudCBodG1sd2lkZ2V0cyBiaW5kaW5ncywgd2UKICAgICAgICAvLyBzY2hlZHVsZSBleGVjdXRpb24gZm9yIGxhdGVyLS1ubyBuZWVkIHRvIHN0YXRpY1JlbmRlciBtdWx0aXBsZQogICAgICAgIC8vIHRpbWVzLgogICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPT0gZHluYW1pY1Jlc3VsdHMubGVuZ3RoKQogICAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXIoKTsKCiAgICAgICAgcmV0dXJuIGR5bmFtaWNSZXN1bHRzOwogICAgICB9OwoKICAgICAgLy8gV3JhcCByZW5kZXJWYWx1ZSB0byBoYW5kbGUgaW5pdGlhbGl6YXRpb24sIHdoaWNoIHVuZm9ydHVuYXRlbHkgaXNuJ3QKICAgICAgLy8gc3VwcG9ydGVkIG5hdGl2ZWx5IGJ5IFNoaW55IGF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZy4KCiAgICAgIHNoaW55QmluZGluZy5yZW5kZXJWYWx1ZSA9IGZ1bmN0aW9uKGVsLCBkYXRhKSB7CiAgICAgICAgU2hpbnkucmVuZGVyRGVwZW5kZW5jaWVzKGRhdGEuZGVwcyk7CiAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBkYXRhLmV2YWxzICYmIGkgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2ldKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFiaW5kaW5nRGVmLnJlbmRlck9uTnVsbFZhbHVlKSB7CiAgICAgICAgICBpZiAoZGF0YS54ID09PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgIGluaXRTaXppbmcoZWwpOwoKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiLCB0cnVlKTsKICAgICAgICAgIGlmIChiaW5kaW5nRGVmLmluaXRpYWxpemUpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJpbmRpbmdEZWYuaW5pdGlhbGl6ZShlbCwgZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSwgW2VsLCBkYXRhLnhdKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHsKICAgICAgICAgICAgdzogc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgfTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCgogIGZ1bmN0aW9uIGhhc19qUXVlcnkzKCkgewogICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciAkdmVyc2lvbiA9IHdpbmRvdy5qUXVlcnkuZm4uanF1ZXJ5OwogICAgdmFyICRtYWpvcl92ZXJzaW9uID0gcGFyc2VJbnQoJHZlcnNpb24uc3BsaXQoIi4iKVswXSk7CiAgICByZXR1cm4gJG1ham9yX3ZlcnNpb24gPj0gMzsKICB9CgogIC8qCiAgLyBTaGlueSAxLjQgYnVtcGVkIGpRdWVyeSBmcm9tIDEueCB0byAzLnggd2hpY2ggbWVhbnMgalF1ZXJ5J3MKICAvIG9uLXJlYWR5IGhhbmRsZXIgKGkuZS4sICQoZm4pKSBpcyBub3cgYXN5bmNyb25vdXMgKGkuZS4sIGl0IG5vdwogIC8gcmVhbGx5IG1lYW5zICQoc2V0VGltZW91dChmbikpLgogIC8gaHR0cHM6Ly9qcXVlcnkuY29tL3VwZ3JhZGUtZ3VpZGUvMy4wLyNicmVha2luZy1jaGFuZ2UtZG9jdW1lbnQtcmVhZHktaGFuZGxlcnMtYXJlLW5vdy1hc3luY2hyb25vdXMKICAvCiAgLyBTaW5jZSBTaGlueSB1c2VzICQoKSB0byBzY2hlZHVsZSBpbml0U2hpbnksIHNoaW55Pj0xLjQgY2FsbHMgaW5pdFNoaW55CiAgLyBvbmUgdGljayBsYXRlciB0aGFuIGl0IGRpZCBiZWZvcmUsIHdoaWNoIG1lYW5zIHN0YXRpY1JlbmRlcigpIGlzCiAgLyBjYWxsZWQgcmVuZGVyVmFsdWUoKSBlYXJsaWVyIHRoYW4gKGFkdmFuY2VkKSB3aWRnZXQgYXV0aG9ycyBtaWdodCBiZSBleHBlY3RpbmcuCiAgLyBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9zaGlueS9pc3N1ZXMvMjYzMAogIC8KICAvIEZvciBhIGNvbmNyZXRlIGV4YW1wbGUsIGxlYWZsZXQgaGFzIHNvbWUgbWV0aG9kcyAoZS5nLiwgdXBkYXRlQm91bmRzKQogIC8gd2hpY2ggcmVmZXJlbmNlIFNoaW55IG1ldGhvZHMgcmVnaXN0ZXJlZCBpbiBpbml0U2hpbnkgKGUuZy4sIHNldElucHV0VmFsdWUpLgogIC8gU2luY2UgbGVhZmxldCBpcyBwcml2eSB0byB0aGlzIGxpZmUtY3ljbGUsIGl0IGtub3dzIHRvIHVzZSBzZXRUaW1lb3V0KCkgdG8KICAvIGRlbGF5IGV4ZWN1dGlvbiBvZiB0aG9zZSBtZXRob2RzICh1bnRpbCBTaGlueSBtZXRob2RzIGFyZSByZWFkeSkKICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL2xlYWZsZXQvYmxvYi8xOGVjOTgxL2phdmFzY3JpcHQvc3JjL2luZGV4LmpzI0wyNjYtTDI2OAogIC8KICAvIElkZWFsbHkgd2lkZ2V0IGF1dGhvcnMgd291bGRuJ3QgbmVlZCB0byB1c2UgdGhpcyBzZXRUaW1lb3V0KCkgaGFjayB0aGF0CiAgLyBsZWFmbGV0IHVzZXMgdG8gY2FsbCBTaGlueSBtZXRob2RzIG9uIGEgc3RhdGljUmVuZGVyKCkuIEluIHRoZSBsb25nIHJ1biwKICAvIHRoZSBsb2dpYyBpbml0U2hpbnkgc2hvdWxkIGJlIGJyb2tlbiB1cCBzbyB0aGF0IG1ldGhvZCByZWdpc3RyYXRpb24gaGFwcGVucwogIC8gcmlnaHQgYXdheSwgYnV0IGJpbmRpbmcgaGFwcGVucyBsYXRlci4KICAqLwogIGZ1bmN0aW9uIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKSB7CiAgICBpZiAoc2hpbnlNb2RlICYmIGhhc19qUXVlcnkzKCkpIHsKICAgICAgd2luZG93LmpRdWVyeSh3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgIH0KICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhcmd1bWVudHMuY2FsbGVlLCBmYWxzZSk7CiAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgIH0sIGZhbHNlKTsKICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGFyZ3VtZW50cy5jYWxsZWUpOwogICAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgICAgfQogICAgfSk7CiAgfQoKCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsKICAgIC8vIElmIG5vIGtleSwgZGVmYXVsdCB0byB0aGUgZmlyc3QgaXRlbQogICAgaWYgKHR5cGVvZihrZXkpID09PSAidW5kZWZpbmVkIikKICAgICAga2V5ID0gMTsKCiAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlcG5hbWUgKyAiLSIgKyBrZXkgKyAiLWF0dGFjaG1lbnQiKTsKICAgIGlmICghbGluaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGFjaG1lbnQgIiArIGRlcG5hbWUgKyAiLyIgKyBrZXkgKyAiIG5vdCBmb3VuZCBpbiBkb2N1bWVudCIpOwogICAgfQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgewogICAgdmFyIG5hbWVzID0gW107CiAgICB2YXIgbGVuZ3RoOwogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgewogICAgICAgIGlmIChkZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkKICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyIpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGxlbmd0aCkgIT09ICJ1bmRlZmluZWQiICYmIGxlbmd0aCAhPT0gZGZbbmFtZV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsKICAgICAgICB9CiAgICAgICAgbGVuZ3RoID0gZGZbbmFtZV0ubGVuZ3RoOwogICAgfQogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBpdGVtOwogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgewogICAgICAgIGl0ZW0gPSB7fTsKICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuYW1lcy5sZW5ndGg7IGNvbCsrKSB7CiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOwogICAgICAgIH0KICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMudHJhbnNwb3NlQXJyYXkyRCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiBhcnJheTsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgewogICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbihyb3cpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93W2ldCiAgICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycmF5OwogIH07CiAgLy8gU3BsaXQgdmFsdWUgYXQgc3BsaXRDaGFyLCBidXQgYWxsb3cgc3BsaXRDaGFyIHRvIGJlIGVzY2FwZWQKICAvLyB1c2luZyBlc2NhcGVDaGFyLiBBbnkgb3RoZXIgY2hhcmFjdGVycyBlc2NhcGVkIGJ5IGVzY2FwZUNoYXIKICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLgogIGZ1bmN0aW9uIHNwbGl0V2l0aEVzY2FwZSh2YWx1ZSwgc3BsaXRDaGFyLCBlc2NhcGVDaGFyKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgIHZhciBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCB2YWx1ZS5sZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmICghZXNjYXBlTW9kZSkgewogICAgICAgIGlmICh2YWx1ZVtwb3NdID09PSBzcGxpdENoYXIpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW3Bvc10gPT09IGVzY2FwZUNoYXIpIHsKICAgICAgICAgIGVzY2FwZU1vZGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGlmIChjdXJyZW50UmVzdWx0ICE9PSAiIikgewogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CiAgLy8gRnVuY3Rpb24gYXV0aG9yZWQgYnkgWWlodWkvSkogQWxsYWlyZQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlciA9IGZ1bmN0aW9uKG8sIG1lbWJlcikgewogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQogICAgICBpZiAobyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgcGFydCBpbiBvKSB7CiAgICAgICAgaWYgKGkgPT0gKGwgLSAxKSkgeyAvLyBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSB0aGVuIGV2YWx1bGF0ZQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikKICAgICAgICAgICAgb1twYXJ0XSA9IHRyeUV2YWwob1twYXJ0XSk7CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlIGNvbnRpbnVlIHRvIG5leHQgZW1iZWRkZWQgb2JqZWN0CiAgICAgICAgICBvID0gb1twYXJ0XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuCiAgLy8gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgb3IgbnVsbCBpZiBub25lLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICByZXR1cm4gZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpOwogIH07CgogIC8vIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzY29wZSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLAogIC8vIGFuZCByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVsZW1lbnQsIGlmIGFueS4gSWYgbm8gZWxlbWVudCBtYXRjaGVzIHRoZQogIC8vIHNlbGVjdG9yLCBvciB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCBoYXMgbm8gSFRNTFdpZGdldAogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKGVsKTsKICAgIH0KICB9OwoKICAvLyBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLCBhbmQKICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50cywgaW4gYW4gYXJyYXkuIElmIGVsZW1lbnRzIHRoYXQKICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgY29udGFpbiBudWxscy4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZEFsbCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBub2RlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0cy5wdXNoKHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShub2Rlc1tpXSkpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOwogIGZ1bmN0aW9uIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpIHsKICAgIHdoaWxlIChwb3N0UmVuZGVySGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7CiAgICAgIGlmIChoYW5kbGVyKSB7CiAgICAgICAgaGFuZGxlcigpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZWdpc3RlciB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUKICAvLyBuZXh0IHRpbWUgc3RhdGljIHdpZGdldHMgYXJlIHJlbmRlcmVkLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICBwb3N0UmVuZGVySGFuZGxlcnMucHVzaChjYWxsYmFjayk7CiAgfTsKCiAgLy8gVGFrZXMgYSBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbiwgYW5kIHJldHVybnMgYW4KICAvLyBvbGQtc3R5bGUgY2xhc3MtYm91bmQgZGVmaW5pdGlvbi4gVGhpcyBzYXZlcyB1cyBmcm9tIGhhdmluZwogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoCiAgLy8gdHlwZXMgb2YgZGVmaW5pdGlvbnMuCiAgZnVuY3Rpb24gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmbikgewogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgbmFtZTogZGVmbi5uYW1lLAogICAgICB0eXBlOiBkZWZuLnR5cGUsCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIGRlZm4uZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0sCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyVmFsdWUoeCk7CiAgICAgIH0sCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZGVmbi5maW5kKQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsKICAgIGlmIChkZWZuLnJlbmRlckVycm9yKQogICAgICByZXN1bHQucmVuZGVyRXJyb3IgPSBkZWZuLnJlbmRlckVycm9yOwogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikKICAgICAgcmVzdWx0LmNsZWFyRXJyb3IgPSBkZWZuLmNsZWFyRXJyb3I7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn0pKCk7Cgo="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCgohZnVuY3Rpb24odCxlKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sZSk6ZSh0LmVjaGFydHM9e30pfSh0aGlzLGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT0yMzExLG49ZnVuY3Rpb24oKXtyZXR1cm4gZSsrfSx2PSJvYmplY3QiPT10eXBlb2Ygd3gmJiJmdW5jdGlvbiI9PXR5cGVvZiB3eC5nZXRTeXN0ZW1JbmZvU3luYz97YnJvd3Nlcjp7fSxvczp7fSxub2RlOiExLHd4YTohMCxjYW52YXNTdXBwb3J0ZWQ6ITAsc3ZnU3VwcG9ydGVkOiExLHRvdWNoRXZlbnRzU3VwcG9ydGVkOiEwLGRvbVN1cHBvcnRlZDohMX06InVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudCYmInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3ticm93c2VyOnt9LG9zOnt9LG5vZGU6ITEsd29ya2VyOiEwLGNhbnZhc1N1cHBvcnRlZDohMCxkb21TdXBwb3J0ZWQ6ITF9OiJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yP3ticm93c2VyOnt9LG9zOnt9LG5vZGU6ITAsd29ya2VyOiExLGNhbnZhc1N1cHBvcnRlZDohMCxzdmdTdXBwb3J0ZWQ6ITAsZG9tU3VwcG9ydGVkOiExfTpmdW5jdGlvbih0KXt2YXIgZT17fSxpPXQubWF0Y2goL0ZpcmVmb3hcLyhbXGQuXSspLyksbj10Lm1hdGNoKC9NU0lFXHMoW1xkLl0rKS8pfHx0Lm1hdGNoKC9UcmlkZW50XC8uKz9ydjooKFtcZC5dKykpLyksbz10Lm1hdGNoKC9FZGdlXC8oW1xkLl0rKS8pLGE9L21pY3JvbWVzc2VuZ2VyL2kudGVzdCh0KTtpJiYoZS5maXJlZm94PSEwLGUudmVyc2lvbj1pWzFdKTtuJiYoZS5pZT0hMCxlLnZlcnNpb249blsxXSk7byYmKGUuZWRnZT0hMCxlLnZlcnNpb249b1sxXSk7YSYmKGUud2VDaGF0PSEwKTtyZXR1cm57YnJvd3NlcjplLG9zOnt9LG5vZGU6ITEsY2FudmFzU3VwcG9ydGVkOiEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCxzdmdTdXBwb3J0ZWQ6InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdSZWN0LHRvdWNoRXZlbnRzU3VwcG9ydGVkOiJvbnRvdWNoc3RhcnQiaW4gd2luZG93JiYhZS5pZSYmIWUuZWRnZSxwb2ludGVyRXZlbnRzU3VwcG9ydGVkOiJvbnBvaW50ZXJkb3duImluIHdpbmRvdyYmKGUuZWRnZXx8ZS5pZSYmMTE8PWUudmVyc2lvbiksZG9tU3VwcG9ydGVkOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnR9fShuYXZpZ2F0b3IudXNlckFnZW50KTt2YXIgcz17IltvYmplY3QgRnVuY3Rpb25dIjoxLCJbb2JqZWN0IFJlZ0V4cF0iOjEsIltvYmplY3QgRGF0ZV0iOjEsIltvYmplY3QgRXJyb3JdIjoxLCJbb2JqZWN0IENhbnZhc0dyYWRpZW50XSI6MSwiW29iamVjdCBDYW52YXNQYXR0ZXJuXSI6MSwiW29iamVjdCBJbWFnZV0iOjEsIltvYmplY3QgQ2FudmFzXSI6MX0sbD17IltvYmplY3QgSW50OEFycmF5XSI6MSwiW29iamVjdCBVaW50OEFycmF5XSI6MSwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iOjEsIltvYmplY3QgSW50MTZBcnJheV0iOjEsIltvYmplY3QgVWludDE2QXJyYXldIjoxLCJbb2JqZWN0IEludDMyQXJyYXldIjoxLCJbb2JqZWN0IFVpbnQzMkFycmF5XSI6MSwiW29iamVjdCBGbG9hdDMyQXJyYXldIjoxLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iOjF9LHU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxpPUFycmF5LnByb3RvdHlwZSxyPWkuZm9yRWFjaCxoPWkuZmlsdGVyLG89aS5zbGljZSxjPWkubWFwLGQ9aS5yZWR1Y2UsYT17fTtmdW5jdGlvbiBmKHQsZSl7ImNyZWF0ZUNhbnZhcyI9PT10JiYoZz1udWxsKSxhW3RdPWV9ZnVuY3Rpb24gayh0KXtpZihudWxsPT10fHwib2JqZWN0IiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGU9dCxpPXUuY2FsbCh0KTtpZigiW29iamVjdCBBcnJheV0iPT09aSl7aWYoISQodCkpe2U9W107Zm9yKHZhciBuPTAsbz10Lmxlbmd0aDtuPG87bisrKWVbbl09ayh0W25dKX19ZWxzZSBpZihsW2ldKXtpZighJCh0KSl7dmFyIGE9dC5jb25zdHJ1Y3RvcjtpZih0LmNvbnN0cnVjdG9yLmZyb20pZT1hLmZyb20odCk7ZWxzZXtlPW5ldyBhKHQubGVuZ3RoKTtmb3Iobj0wLG89dC5sZW5ndGg7bjxvO24rKyllW25dPWsodFtuXSl9fX1lbHNlIGlmKCFzW2ldJiYhJCh0KSYmIUcodCkpZm9yKHZhciByIGluIGU9e30sdCl0Lmhhc093blByb3BlcnR5KHIpJiYoZVtyXT1rKHRbcl0pKTtyZXR1cm4gZX1mdW5jdGlvbiBtKHQsZSxpKXtpZighRShlKXx8IUUodCkpcmV0dXJuIGk/ayhlKTp0O2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPXRbbl0sYT1lW25dOyFFKGEpfHwhRShvKXx8TChhKXx8TChvKXx8RyhhKXx8RyhvKXx8QihhKXx8QihvKXx8JChhKXx8JChvKT8haSYmbiBpbiB0fHwodFtuXT1rKGVbbl0pKTptKG8sYSxpKX1yZXR1cm4gdH1mdW5jdGlvbiBwKHQsZSl7Zm9yKHZhciBpPXRbMF0sbj0xLG89dC5sZW5ndGg7bjxvO24rKylpPW0oaSx0W25dLGUpO3JldHVybiBpfWZ1bmN0aW9uIFAodCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH1mdW5jdGlvbiBEKHQsZSxpKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYoaT9udWxsIT1lW25dOm51bGw9PXRbbl0pJiYodFtuXT1lW25dKTtyZXR1cm4gdH1mdW5jdGlvbiB5KCl7cmV0dXJuIGEuY3JlYXRlQ2FudmFzKCl9dmFyIGc7ZnVuY3Rpb24geCgpe3JldHVybiBnPWd8fHkoKS5nZXRDb250ZXh0KCIyZCIpfWZ1bmN0aW9uIF8odCxlKXtpZih0KXtpZih0LmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspaWYodFtpXT09PWUpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gdyh0LGUpe3ZhciBpPXQucHJvdG90eXBlO2Z1bmN0aW9uIG4oKXt9Zm9yKHZhciBvIGluIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLGkpaS5oYXNPd25Qcm9wZXJ0eShvKSYmKHQucHJvdG90eXBlW29dPWlbb10pOyh0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10KS5zdXBlckNsYXNzPWV9ZnVuY3Rpb24gYih0LGUsaSl7RCh0PSJwcm90b3R5cGUiaW4gdD90LnByb3RvdHlwZTp0LGU9InByb3RvdHlwZSJpbiBlP2UucHJvdG90eXBlOmUsaSl9ZnVuY3Rpb24gTih0KXtpZih0KXJldHVybiJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBSKHQsZSxpKXtpZih0JiZlKWlmKHQuZm9yRWFjaCYmdC5mb3JFYWNoPT09cil0LmZvckVhY2goZSxpKTtlbHNlIGlmKHQubGVuZ3RoPT09K3QubGVuZ3RoKWZvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKyllLmNhbGwoaSx0W25dLG4sdCk7ZWxzZSBmb3IodmFyIGEgaW4gdCl0Lmhhc093blByb3BlcnR5KGEpJiZlLmNhbGwoaSx0W2FdLGEsdCl9ZnVuY3Rpb24gTyh0LGUsaSl7aWYodCYmZSl7aWYodC5tYXAmJnQubWFwPT09YylyZXR1cm4gdC5tYXAoZSxpKTtmb3IodmFyIG49W10sbz0wLGE9dC5sZW5ndGg7bzxhO28rKyluLnB1c2goZS5jYWxsKGksdFtvXSxvLHQpKTtyZXR1cm4gbn19ZnVuY3Rpb24gUyh0LGUsaSxuKXtpZih0JiZlKXtpZih0LnJlZHVjZSYmdC5yZWR1Y2U9PT1kKXJldHVybiB0LnJlZHVjZShlLGksbik7Zm9yKHZhciBvPTAsYT10Lmxlbmd0aDtvPGE7bysrKWk9ZS5jYWxsKG4saSx0W29dLG8sdCk7cmV0dXJuIGl9fWZ1bmN0aW9uIE0odCxlLGkpe2lmKHQmJmUpe2lmKHQuZmlsdGVyJiZ0LmZpbHRlcj09PWgpcmV0dXJuIHQuZmlsdGVyKGUsaSk7Zm9yKHZhciBuPVtdLG89MCxhPXQubGVuZ3RoO288YTtvKyspZS5jYWxsKGksdFtvXSxvLHQpJiZuLnB1c2godFtvXSk7cmV0dXJuIG59fWZ1bmN0aW9uIEkodCxlLGkpe2lmKHQmJmUpZm9yKHZhciBuPTAsbz10Lmxlbmd0aDtuPG87bisrKWlmKGUuY2FsbChpLHRbbl0sbix0KSlyZXR1cm4gdFtuXX1mdW5jdGlvbiBBKHQsZSl7dmFyIGk9by5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGkuY29uY2F0KG8uY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIFQodCl7dmFyIGU9by5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGUuY29uY2F0KG8uY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIEwodCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PXUuY2FsbCh0KX1mdW5jdGlvbiBDKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIHoodCl7cmV0dXJuIltvYmplY3QgU3RyaW5nXSI9PT11LmNhbGwodCl9ZnVuY3Rpb24gRSh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4iZnVuY3Rpb24iPT1lfHwhIXQmJiJvYmplY3QiPT1lfWZ1bmN0aW9uIEIodCl7cmV0dXJuISFzW3UuY2FsbCh0KV19ZnVuY3Rpb24gVih0KXtyZXR1cm4hIWxbdS5jYWxsKHQpXX1mdW5jdGlvbiBHKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiB0Lm5vZGVUeXBlJiYib2JqZWN0Ij09dHlwZW9mIHQub3duZXJEb2N1bWVudH1mdW5jdGlvbiBGKHQpe3JldHVybiB0IT10fWZ1bmN0aW9uIFcodCl7Zm9yKHZhciBlPTAsaT1hcmd1bWVudHMubGVuZ3RoO2U8aTtlKyspaWYobnVsbCE9YXJndW1lbnRzW2VdKXJldHVybiBhcmd1bWVudHNbZV19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiBudWxsIT10P3Q6ZX1mdW5jdGlvbiBaKHQsZSxpKXtyZXR1cm4gbnVsbCE9dD90Om51bGwhPWU/ZTppfWZ1bmN0aW9uIFUoKXtyZXR1cm4gRnVuY3Rpb24uY2FsbC5hcHBseShvLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWCh0KXtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuW3QsdCx0LHRdO3ZhciBlPXQubGVuZ3RoO3JldHVybiAyPT09ZT9bdFswXSx0WzFdLHRbMF0sdFsxXV06Mz09PWU/W3RbMF0sdFsxXSx0WzJdLHRbMV1dOnR9ZnVuY3Rpb24gWSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlKX1mdW5jdGlvbiBqKHQpe3JldHVybiBudWxsPT10P251bGw6ImZ1bmN0aW9uIj09dHlwZW9mIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX1hLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKX07dmFyIHE9Il9fZWNfcHJpbWl0aXZlX18iO2Z1bmN0aW9uIEsodCl7dFtxXT0hMH1mdW5jdGlvbiAkKHQpe3JldHVybiB0W3FdfWZ1bmN0aW9uIEoodCl7dmFyIGk9TCh0KTt0aGlzLmRhdGE9e307dmFyIG49dGhpcztmdW5jdGlvbiBlKHQsZSl7aT9uLnNldCh0LGUpOm4uc2V0KGUsdCl9dCBpbnN0YW5jZW9mIEo/dC5lYWNoKGUpOnQmJlIodCxlKX1mdW5jdGlvbiBRKHQpe3JldHVybiBuZXcgSih0KX1mdW5jdGlvbiB0dCh0LGUpe2Zvcih2YXIgaT1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7bisrKWlbbl09dFtuXTt2YXIgbz10Lmxlbmd0aDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKWlbbitvXT1lW25dO3JldHVybiBpfWZ1bmN0aW9uIGV0KCl7fUoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpKLGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmhhc093blByb3BlcnR5KHQpP3RoaXMuZGF0YVt0XTpudWxsfSxzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhW3RdPWV9LGVhY2g6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdm9pZCAwIT09ZSYmKHQ9QSh0LGUpKSx0aGlzLmRhdGEpdGhpcy5kYXRhLmhhc093blByb3BlcnR5KGkpJiZ0KHRoaXMuZGF0YVtpXSxpKX0scmVtb3ZlS2V5OmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmRhdGFbdF19fTt2YXIgaXQ9KE9iamVjdC5mcmVlemV8fE9iamVjdCkoeyRvdmVycmlkZTpmLGNsb25lOmssbWVyZ2U6bSxtZXJnZUFsbDpwLGV4dGVuZDpQLGRlZmF1bHRzOkQsY3JlYXRlQ2FudmFzOnksZ2V0Q29udGV4dDp4LGluZGV4T2Y6Xyxpbmhlcml0czp3LG1peGluOmIsaXNBcnJheUxpa2U6TixlYWNoOlIsbWFwOk8scmVkdWNlOlMsZmlsdGVyOk0sZmluZDpJLGJpbmQ6QSxjdXJyeTpULGlzQXJyYXk6TCxpc0Z1bmN0aW9uOkMsaXNTdHJpbmc6eixpc09iamVjdDpFLGlzQnVpbHRJbk9iamVjdDpCLGlzVHlwZWRBcnJheTpWLGlzRG9tOkcsZXFOYU46RixyZXRyaWV2ZTpXLHJldHJpZXZlMjpILHJldHJpZXZlMzpaLHNsaWNlOlUsbm9ybWFsaXplQ3NzQXJyYXk6WCxhc3NlcnQ6WSx0cmltOmosc2V0QXNQcmltaXRpdmU6Syxpc1ByaW1pdGl2ZTokLGNyZWF0ZUhhc2hNYXA6USxjb25jYXRBcnJheTp0dCxub29wOmV0fSksbnQ9InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/QXJyYXk6RmxvYXQzMkFycmF5O2Z1bmN0aW9uIG90KHQsZSl7dmFyIGk9bmV3IG50KDIpO3JldHVybiBudWxsPT10JiYodD0wKSxudWxsPT1lJiYoZT0wKSxpWzBdPXQsaVsxXT1lLGl9ZnVuY3Rpb24gYXQodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0fWZ1bmN0aW9uIHJ0KHQpe3ZhciBlPW5ldyBudCgyKTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlfWZ1bmN0aW9uIHN0KHQsZSxpKXtyZXR1cm4gdFswXT1lLHRbMV09aSx0fWZ1bmN0aW9uIGx0KHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0sdFsxXT1lWzFdK2lbMV0sdH1mdW5jdGlvbiB1dCh0LGUsaSxuKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0qbix0WzFdPWVbMV0raVsxXSpuLHR9ZnVuY3Rpb24gaHQodCxlLGkpe3JldHVybiB0WzBdPWVbMF0taVswXSx0WzFdPWVbMV0taVsxXSx0fWZ1bmN0aW9uIGN0KHQpe3JldHVybiBNYXRoLnNxcnQoZnQodCkpfXZhciBkdD1jdDtmdW5jdGlvbiBmdCh0KXtyZXR1cm4gdFswXSp0WzBdK3RbMV0qdFsxXX12YXIgcHQ9ZnQ7ZnVuY3Rpb24gZ3QodCxlLGkpe3JldHVybiB0WzBdPWVbMF0qaSx0WzFdPWVbMV0qaSx0fWZ1bmN0aW9uIG10KHQsZSl7dmFyIGk9Y3QoZSk7cmV0dXJuIDA9PT1pPyh0WzBdPTAsdFsxXT0wKToodFswXT1lWzBdL2ksdFsxXT1lWzFdL2kpLHR9ZnVuY3Rpb24gdnQodCxlKXtyZXR1cm4gTWF0aC5zcXJ0KCh0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pKX12YXIgeXQ9dnQ7ZnVuY3Rpb24geHQodCxlKXtyZXR1cm4odFswXS1lWzBdKSoodFswXS1lWzBdKSsodFsxXS1lWzFdKSoodFsxXS1lWzFdKX12YXIgX3Q9eHQ7ZnVuY3Rpb24gd3QodCxlLGksbil7cmV0dXJuIHRbMF09ZVswXStuKihpWzBdLWVbMF0pLHRbMV09ZVsxXStuKihpWzFdLWVbMV0pLHR9ZnVuY3Rpb24gYnQodCxlLGkpe3ZhciBuPWVbMF0sbz1lWzFdO3JldHVybiB0WzBdPWlbMF0qbitpWzJdKm8raVs0XSx0WzFdPWlbMV0qbitpWzNdKm8raVs1XSx0fWZ1bmN0aW9uIFN0KHQsZSxpKXtyZXR1cm4gdFswXT1NYXRoLm1pbihlWzBdLGlbMF0pLHRbMV09TWF0aC5taW4oZVsxXSxpWzFdKSx0fWZ1bmN0aW9uIE10KHQsZSxpKXtyZXR1cm4gdFswXT1NYXRoLm1heChlWzBdLGlbMF0pLHRbMV09TWF0aC5tYXgoZVsxXSxpWzFdKSx0fXZhciBJdD0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7Y3JlYXRlOm90LGNvcHk6YXQsY2xvbmU6cnQsc2V0OnN0LGFkZDpsdCxzY2FsZUFuZEFkZDp1dCxzdWI6aHQsbGVuOmN0LGxlbmd0aDpkdCxsZW5TcXVhcmU6ZnQsbGVuZ3RoU3F1YXJlOnB0LG11bDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXSppWzBdLHRbMV09ZVsxXSppWzFdLHR9LGRpdjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXS9pWzBdLHRbMV09ZVsxXS9pWzFdLHR9LGRvdDpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdfSxzY2FsZTpndCxub3JtYWxpemU6bXQsZGlzdGFuY2U6dnQsZGlzdDp5dCxkaXN0YW5jZVNxdWFyZTp4dCxkaXN0U3F1YXJlOl90LG5lZ2F0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdH0sbGVycDp3dCxhcHBseVRyYW5zZm9ybTpidCxtaW46U3QsbWF4Ok10fSk7ZnVuY3Rpb24gVHQoKXt0aGlzLm9uKCJtb3VzZWRvd24iLHRoaXMuX2RyYWdTdGFydCx0aGlzKSx0aGlzLm9uKCJtb3VzZW1vdmUiLHRoaXMuX2RyYWcsdGhpcyksdGhpcy5vbigibW91c2V1cCIsdGhpcy5fZHJhZ0VuZCx0aGlzKX1mdW5jdGlvbiBBdCh0LGUpe3JldHVybnt0YXJnZXQ6dCx0b3BUYXJnZXQ6ZSYmZS50b3BUYXJnZXR9fVR0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6VHQsX2RyYWdTdGFydDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC50YXJnZXQ7ZSYmIWUuZHJhZ2dhYmxlOyllPWUucGFyZW50O2UmJigodGhpcy5fZHJhZ2dpbmdUYXJnZXQ9ZSkuZHJhZ2dpbmc9ITAsdGhpcy5feD10Lm9mZnNldFgsdGhpcy5feT10Lm9mZnNldFksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChBdChlLHQpLCJkcmFnc3RhcnQiLHQuZXZlbnQpKX0sX2RyYWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7aWYoZSl7dmFyIGk9dC5vZmZzZXRYLG49dC5vZmZzZXRZLG89aS10aGlzLl94LGE9bi10aGlzLl95O3RoaXMuX3g9aSx0aGlzLl95PW4sZS5kcmlmdChvLGEsdCksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChBdChlLHQpLCJkcmFnIix0LmV2ZW50KTt2YXIgcj10aGlzLmZpbmRIb3ZlcihpLG4sZSkudGFyZ2V0LHM9dGhpcy5fZHJvcFRhcmdldDtlIT09KHRoaXMuX2Ryb3BUYXJnZXQ9cikmJihzJiZyIT09cyYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChBdChzLHQpLCJkcmFnbGVhdmUiLHQuZXZlbnQpLHImJnIhPT1zJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KEF0KHIsdCksImRyYWdlbnRlciIsdC5ldmVudCkpfX0sX2RyYWdFbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7ZSYmKGUuZHJhZ2dpbmc9ITEpLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQoQXQoZSx0KSwiZHJhZ2VuZCIsdC5ldmVudCksdGhpcy5fZHJvcFRhcmdldCYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChBdCh0aGlzLl9kcm9wVGFyZ2V0LHQpLCJkcm9wIix0LmV2ZW50KSx0aGlzLl9kcmFnZ2luZ1RhcmdldD1udWxsLHRoaXMuX2Ryb3BUYXJnZXQ9bnVsbH19O3ZhciBEdD1BcnJheS5wcm90b3R5cGUuc2xpY2UsQ3Q9ZnVuY3Rpb24odCl7dGhpcy5fJGhhbmRsZXJzPXt9LHRoaXMuXyRldmVudFByb2Nlc3Nvcj10fTtmdW5jdGlvbiBMdCh0LGUsaSxuLG8sYSl7dmFyIHI9dC5fJGhhbmRsZXJzO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBpJiYobz1uLG49aSxpPW51bGwpLCFufHwhZSlyZXR1cm4gdDtpPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5fJGV2ZW50UHJvY2Vzc29yO3JldHVybiBudWxsIT1lJiZpJiZpLm5vcm1hbGl6ZVF1ZXJ5JiYoZT1pLm5vcm1hbGl6ZVF1ZXJ5KGUpKSxlfSh0LGkpLHJbZV18fChyW2VdPVtdKTtmb3IodmFyIHM9MDtzPHJbZV0ubGVuZ3RoO3MrKylpZihyW2VdW3NdLmg9PT1uKXJldHVybiB0O3ZhciBsPXtoOm4sb25lOmEscXVlcnk6aSxjdHg6b3x8dCxjYWxsQXRMYXN0Om4uenJFdmVudGZ1bENhbGxBdExhc3R9LHU9cltlXS5sZW5ndGgtMSxoPXJbZV1bdV07cmV0dXJuIGgmJmguY2FsbEF0TGFzdD9yW2VdLnNwbGljZSh1LDAsbCk6cltlXS5wdXNoKGwpLHR9Q3QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpDdCxvbmU6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIEx0KHRoaXMsdCxlLGksbiwhMCl9LG9uOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBMdCh0aGlzLHQsZSxpLG4sITEpfSxpc1NpbGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl8kaGFuZGxlcnM7cmV0dXJuIWVbdF18fCFlW3RdLmxlbmd0aH0sb2ZmOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fJGhhbmRsZXJzO2lmKCF0KXJldHVybiB0aGlzLl8kaGFuZGxlcnM9e30sdGhpcztpZihlKXtpZihpW3RdKXtmb3IodmFyIG49W10sbz0wLGE9aVt0XS5sZW5ndGg7bzxhO28rKylpW3RdW29dLmghPT1lJiZuLnB1c2goaVt0XVtvXSk7aVt0XT1ufWlbdF0mJjA9PT1pW3RdLmxlbmd0aCYmZGVsZXRlIGlbdF19ZWxzZSBkZWxldGUgaVt0XTtyZXR1cm4gdGhpc30sdHJpZ2dlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl8kaGFuZGxlcnNbdF0saT10aGlzLl8kZXZlbnRQcm9jZXNzb3I7aWYoZSl7dmFyIG49YXJndW1lbnRzLG89bi5sZW5ndGg7MzxvJiYobj1EdC5jYWxsKG4sMSkpO2Zvcih2YXIgYT1lLmxlbmd0aCxyPTA7cjxhOyl7dmFyIHM9ZVtyXTtpZihpJiZpLmZpbHRlciYmbnVsbCE9cy5xdWVyeSYmIWkuZmlsdGVyKHQscy5xdWVyeSkpcisrO2Vsc2V7c3dpdGNoKG8pe2Nhc2UgMTpzLmguY2FsbChzLmN0eCk7YnJlYWs7Y2FzZSAyOnMuaC5jYWxsKHMuY3R4LG5bMV0pO2JyZWFrO2Nhc2UgMzpzLmguY2FsbChzLmN0eCxuWzFdLG5bMl0pO2JyZWFrO2RlZmF1bHQ6cy5oLmFwcGx5KHMuY3R4LG4pfXMub25lPyhlLnNwbGljZShyLDEpLGEtLSk6cisrfX19cmV0dXJuIGkmJmkuYWZ0ZXJUcmlnZ2VyJiZpLmFmdGVyVHJpZ2dlcih0KSx0aGlzfSx0cmlnZ2VyV2l0aENvbnRleHQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fJGhhbmRsZXJzW3RdLGk9dGhpcy5fJGV2ZW50UHJvY2Vzc29yO2lmKGUpe3ZhciBuPWFyZ3VtZW50cyxvPW4ubGVuZ3RoOzQ8byYmKG49RHQuY2FsbChuLDEsbi5sZW5ndGgtMSkpO2Zvcih2YXIgYT1uW24ubGVuZ3RoLTFdLHI9ZS5sZW5ndGgscz0wO3M8cjspe3ZhciBsPWVbc107aWYoaSYmaS5maWx0ZXImJm51bGwhPWwucXVlcnkmJiFpLmZpbHRlcih0LGwucXVlcnkpKXMrKztlbHNle3N3aXRjaChvKXtjYXNlIDE6bC5oLmNhbGwoYSk7YnJlYWs7Y2FzZSAyOmwuaC5jYWxsKGEsblsxXSk7YnJlYWs7Y2FzZSAzOmwuaC5jYWxsKGEsblsxXSxuWzJdKTticmVhaztkZWZhdWx0OmwuaC5hcHBseShhLG4pfWwub25lPyhlLnNwbGljZShzLDEpLHItLSk6cysrfX19cmV0dXJuIGkmJmkuYWZ0ZXJUcmlnZ2VyJiZpLmFmdGVyVHJpZ2dlcih0KSx0aGlzfX07dmFyIGt0PU1hdGgubG9nKDIpO2Z1bmN0aW9uIFB0KHQsZSxpLG4sbyxhKXt2YXIgcj1uKyItIitvLHM9dC5sZW5ndGg7aWYoYS5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm4gYVtyXTtpZigxPT09ZSl7dmFyIGw9TWF0aC5yb3VuZChNYXRoLmxvZygoMTw8cyktMSZ+bykva3QpO3JldHVybiB0W2ldW2xdfWZvcih2YXIgdT1ufDE8PGksaD1pKzE7biYxPDxoOyloKys7Zm9yKHZhciBjPTAsZD0wLGY9MDtkPHM7ZCsrKXt2YXIgcD0xPDxkO3Amb3x8KGMrPShmJTI/LTE6MSkqdFtpXVtkXSpQdCh0LGUtMSxoLHUsb3xwLGEpLGYrKyl9cmV0dXJuIGFbcl09Y31mdW5jdGlvbiBOdCh0LGUpe3ZhciBpPVtbdFswXSx0WzFdLDEsMCwwLDAsLWVbMF0qdFswXSwtZVswXSp0WzFdXSxbMCwwLDAsdFswXSx0WzFdLDEsLWVbMV0qdFswXSwtZVsxXSp0WzFdXSxbdFsyXSx0WzNdLDEsMCwwLDAsLWVbMl0qdFsyXSwtZVsyXSp0WzNdXSxbMCwwLDAsdFsyXSx0WzNdLDEsLWVbM10qdFsyXSwtZVszXSp0WzNdXSxbdFs0XSx0WzVdLDEsMCwwLDAsLWVbNF0qdFs0XSwtZVs0XSp0WzVdXSxbMCwwLDAsdFs0XSx0WzVdLDEsLWVbNV0qdFs0XSwtZVs1XSp0WzVdXSxbdFs2XSx0WzddLDEsMCwwLDAsLWVbNl0qdFs2XSwtZVs2XSp0WzddXSxbMCwwLDAsdFs2XSx0WzddLDEsLWVbN10qdFs2XSwtZVs3XSp0WzddXV0sbj17fSxvPVB0KGksOCwwLDAsMCxuKTtpZigwIT09byl7Zm9yKHZhciBhPVtdLHI9MDtyPDg7cisrKWZvcih2YXIgcz0wO3M8ODtzKyspbnVsbD09YVtzXSYmKGFbc109MCksYVtzXSs9KChyK3MpJTI/LTE6MSkqUHQoaSw3LDA9PT1yPzE6MCwxPDxyLDE8PHMsbikvbyplW3JdO3JldHVybiBmdW5jdGlvbih0LGUsaSl7dmFyIG49ZSphWzZdK2kqYVs3XSsxO3RbMF09KGUqYVswXStpKmFbMV0rYVsyXSkvbix0WzFdPShlKmFbM10raSphWzRdK2FbNV0pL259fX12YXIgT3Q9Il9fX3pyRVZFTlRTQVZFRCIsUnQ9W107ZnVuY3Rpb24genQodCxlLGksbixvKXtpZihlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmdi5kb21TdXBwb3J0ZWQmJiFFdChlKSl7dmFyIGE9ZVtPdF18fChlW090XT17fSkscj1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPWk/ImludlRyYW5zIjoidHJhbnMiLG89ZVtuXSxhPWUuc3JjQ29vcmRzLHI9ITAscz1bXSxsPVtdLHU9MDt1PDQ7dSsrKXt2YXIgaD10W3VdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9Mip1LGQ9aC5sZWZ0LGY9aC50b3A7cy5wdXNoKGQsZikscj1yJiZhJiZkPT09YVtjXSYmZj09PWFbMStjXSxsLnB1c2godFt1XS5vZmZzZXRMZWZ0LHRbdV0ub2Zmc2V0VG9wKX1yZXR1cm4gciYmbz9vOihlLnNyY0Nvb3Jkcz1zLGVbbl09aT9OdChsLHMpOk50KHMsbCkpfShmdW5jdGlvbih0LGUpe3ZhciBpPWUubWFya2VycztpZihpKXJldHVybiBpO2k9ZS5tYXJrZXJzPVtdO2Zvcih2YXIgbj1bImxlZnQiLCJyaWdodCJdLG89WyJ0b3AiLCJib3R0b20iXSxhPTA7YTw0O2ErKyl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikscz1yLnN0eWxlLGw9YSUyLHU9KGE+PjEpJTI7cy5jc3NUZXh0PVsicG9zaXRpb246IGFic29sdXRlIiwidmlzaWJpbGl0eTogaGlkZGVuIiwicGFkZGluZzogMCIsIm1hcmdpbjogMCIsImJvcmRlci13aWR0aDogMCIsInVzZXItc2VsZWN0OiBub25lIiwid2lkdGg6MCIsImhlaWdodDowIixuW2xdKyI6MCIsb1t1XSsiOjAiLG5bMS1sXSsiOmF1dG8iLG9bMS11XSsiOmF1dG8iLCIiXS5qb2luKCIhaW1wb3J0YW50OyIpLHQuYXBwZW5kQ2hpbGQociksaS5wdXNoKHIpfXJldHVybiBpfShlLGEpLGEsbyk7aWYocilyZXR1cm4gcih0LGksbiksITB9cmV0dXJuITF9ZnVuY3Rpb24gRXQodCl7cmV0dXJuIkNBTlZBUyI9PT10Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl9dmFyIEJ0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLFZ0PS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxHdD1bXTtmdW5jdGlvbiBGdCh0LGUsaSxuKXtyZXR1cm4gaT1pfHx7fSxufHwhdi5jYW52YXNTdXBwb3J0ZWQ/V3QodCxlLGkpOnYuYnJvd3Nlci5maXJlZm94JiZudWxsIT1lLmxheWVyWCYmZS5sYXllclghPT1lLm9mZnNldFg/KGkuenJYPWUubGF5ZXJYLGkuenJZPWUubGF5ZXJZKTpudWxsIT1lLm9mZnNldFg/KGkuenJYPWUub2Zmc2V0WCxpLnpyWT1lLm9mZnNldFkpOld0KHQsZSxpKSxpfWZ1bmN0aW9uIFd0KHQsZSxpKXtpZih2LmRvbVN1cHBvcnRlZCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBuPWUuY2xpZW50WCxvPWUuY2xpZW50WTtpZihFdCh0KSl7dmFyIGE9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gaS56clg9bi1hLmxlZnQsdm9pZChpLnpyWT1vLWEudG9wKX1pZih6dChHdCx0LG4sbykpcmV0dXJuIGkuenJYPUd0WzBdLHZvaWQoaS56clk9R3RbMV0pfWkuenJYPWkuenJZPTB9ZnVuY3Rpb24gSHQodCl7cmV0dXJuIHR8fHdpbmRvdy5ldmVudH1mdW5jdGlvbiBadCh0LGUsaSl7aWYobnVsbCE9KGU9SHQoZSkpLnpyWClyZXR1cm4gZTt2YXIgbj1lLnR5cGU7aWYobiYmMDw9bi5pbmRleE9mKCJ0b3VjaCIpKXt2YXIgbz0idG91Y2hlbmQiIT09bj9lLnRhcmdldFRvdWNoZXNbMF06ZS5jaGFuZ2VkVG91Y2hlc1swXTtvJiZGdCh0LG8sZSxpKX1lbHNlIEZ0KHQsZSxlLGkpLGUuenJEZWx0YT1lLndoZWVsRGVsdGE/ZS53aGVlbERlbHRhLzEyMDotKGUuZGV0YWlsfHwwKS8zO3ZhciBhPWUuYnV0dG9uO3JldHVybiBudWxsPT1lLndoaWNoJiZ2b2lkIDAhPT1hJiZWdC50ZXN0KGUudHlwZSkmJihlLndoaWNoPTEmYT8xOjImYT8zOjQmYT8yOjApLGV9ZnVuY3Rpb24gVXQodCxlLGksbil7QnQ/dC5hZGRFdmVudExpc3RlbmVyKGUsaSxuKTp0LmF0dGFjaEV2ZW50KCJvbiIrZSxpKX12YXIgWHQ9QnQ/ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdC5jYW5jZWxCdWJibGU9ITB9OmZ1bmN0aW9uKHQpe3QucmV0dXJuVmFsdWU9ITEsdC5jYW5jZWxCdWJibGU9ITB9O2Z1bmN0aW9uIFl0KHQpe3JldHVybiAyPT09dC53aGljaHx8Mz09PXQud2hpY2h9ZnVuY3Rpb24ganQoKXt0aGlzLl90cmFjaz1bXX1mdW5jdGlvbiBxdCh0KXt2YXIgZT10WzFdWzBdLXRbMF1bMF0saT10WzFdWzFdLXRbMF1bMV07cmV0dXJuIE1hdGguc3FydChlKmUraSppKX1qdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmp0LHJlY29nbml6ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2RvVHJhY2sodCxlLGkpLHRoaXMuX3JlY29nbml6ZSh0KX0sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2subGVuZ3RoPTAsdGhpc30sX2RvVHJhY2s6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQudG91Y2hlcztpZihuKXtmb3IodmFyIG89e3BvaW50czpbXSx0b3VjaGVzOltdLHRhcmdldDplLGV2ZW50OnR9LGE9MCxyPW4ubGVuZ3RoO2E8cjthKyspe3ZhciBzPW5bYV0sbD1GdChpLHMse30pO28ucG9pbnRzLnB1c2goW2wuenJYLGwuenJZXSksby50b3VjaGVzLnB1c2gocyl9dGhpcy5fdHJhY2sucHVzaChvKX19LF9yZWNvZ25pemU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIEt0KWlmKEt0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1LdFtlXSh0aGlzLl90cmFjayx0KTtpZihpKXJldHVybiBpfX19O3ZhciBLdD17cGluY2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aDtpZihpKXt2YXIgbj0odFtpLTFdfHx7fSkucG9pbnRzLG89KHRbaS0yXXx8e30pLnBvaW50c3x8bjtpZihvJiYxPG8ubGVuZ3RoJiZuJiYxPG4ubGVuZ3RoKXt2YXIgYT1xdChuKS9xdChvKTtpc0Zpbml0ZShhKXx8KGE9MSksZS5waW5jaFNjYWxlPWE7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuWyh0WzBdWzBdK3RbMV1bMF0pLzIsKHRbMF1bMV0rdFsxXVsxXSkvMl19KG4pO3JldHVybiBlLnBpbmNoWD1yWzBdLGUucGluY2hZPXJbMV0se3R5cGU6InBpbmNoIix0YXJnZXQ6dFswXS50YXJnZXQsZXZlbnQ6ZX19fX19LCR0PSJzaWxlbnQiO2Z1bmN0aW9uIEp0KCl7WHQodGhpcy5ldmVudCl9ZnVuY3Rpb24gUXQoKXt9UXQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRlKHQsZSxpLG4pe0N0LmNhbGwodGhpcyksdGhpcy5zdG9yYWdlPXQsdGhpcy5wYWludGVyPWUsdGhpcy5wYWludGVyUm9vdD1uLGk9aXx8bmV3IFF0LHRoaXMucHJveHk9bnVsbCx0aGlzLl9ob3ZlcmVkPXt9LHRoaXMuX2xhc3RUb3VjaE1vbWVudCx0aGlzLl9sYXN0WCx0aGlzLl9sYXN0WSx0aGlzLl9nZXN0dXJlTWdyLFR0LmNhbGwodGhpcyksdGhpcy5zZXRIYW5kbGVyUHJveHkoaSl9dmFyIGVlPVsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNld2hlZWwiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdO2Z1bmN0aW9uIGllKHQsZSxpKXtpZih0W3QucmVjdEhvdmVyPyJyZWN0Q29udGFpbiI6ImNvbnRhaW4iXShlLGkpKXtmb3IodmFyIG4sbz10O287KXtpZihvLmNsaXBQYXRoJiYhby5jbGlwUGF0aC5jb250YWluKGUsaSkpcmV0dXJuITE7by5zaWxlbnQmJihuPSEwKSxvPW8ucGFyZW50fXJldHVybiFufHwkdH1yZXR1cm4hMX1mdW5jdGlvbiBuZSh0LGUsaSl7dmFyIG49dC5wYWludGVyO3JldHVybiBlPDB8fGU+bi5nZXRXaWR0aCgpfHxpPDB8fGk+bi5nZXRIZWlnaHQoKX10ZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnRlLHNldEhhbmRsZXJQcm94eTpmdW5jdGlvbihlKXt0aGlzLnByb3h5JiZ0aGlzLnByb3h5LmRpc3Bvc2UoKSxlJiYoUihlZSxmdW5jdGlvbih0KXtlLm9uJiZlLm9uKHQsdGhpc1t0XSx0aGlzKX0sdGhpcyksZS5oYW5kbGVyPXRoaXMpLHRoaXMucHJveHk9ZX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuenJYLGk9dC56clksbj1uZSh0aGlzLGUsaSksbz10aGlzLl9ob3ZlcmVkLGE9by50YXJnZXQ7YSYmIWEuX196ciYmKGE9KG89dGhpcy5maW5kSG92ZXIoby54LG8ueSkpLnRhcmdldCk7dmFyIHI9dGhpcy5faG92ZXJlZD1uP3t4OmUseTppfTp0aGlzLmZpbmRIb3ZlcihlLGkpLHM9ci50YXJnZXQsbD10aGlzLnByb3h5O2wuc2V0Q3Vyc29yJiZsLnNldEN1cnNvcihzP3MuY3Vyc29yOiJkZWZhdWx0IiksYSYmcyE9PWEmJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobywibW91c2VvdXQiLHQpLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQociwibW91c2Vtb3ZlIix0KSxzJiZzIT09YSYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChyLCJtb3VzZW92ZXIiLHQpfSxtb3VzZW91dDpmdW5jdGlvbih0KXt2YXIgZT10LnpyRXZlbnRDb250cm9sLGk9dC56cklzVG9Mb2NhbERPTTsib25seV9nbG9iYWxvdXQiIT09ZSYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudCh0aGlzLl9ob3ZlcmVkLCJtb3VzZW91dCIsdCksIm5vX2dsb2JhbG91dCIhPT1lJiYoaXx8dGhpcy50cmlnZ2VyKCJnbG9iYWxvdXQiLHt0eXBlOiJnbG9iYWxvdXQiLGV2ZW50OnR9KSl9LHJlc2l6ZTpmdW5jdGlvbih0KXt0aGlzLl9ob3ZlcmVkPXt9fSxkaXNwYXRjaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdF07aSYmaS5jYWxsKHRoaXMsZSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnByb3h5LmRpc3Bvc2UoKSx0aGlzLnN0b3JhZ2U9dGhpcy5wcm94eT10aGlzLnBhaW50ZXI9bnVsbH0sc2V0Q3Vyc29yU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm94eTtlLnNldEN1cnNvciYmZS5zZXRDdXJzb3IodCl9LGRpc3BhdGNoVG9FbGVtZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0odD10fHx7fSkudGFyZ2V0O2lmKCFufHwhbi5zaWxlbnQpe2Zvcih2YXIgbz0ib24iK2UsYT1mdW5jdGlvbih0LGUsaSl7cmV0dXJue3R5cGU6dCxldmVudDppLHRhcmdldDplLnRhcmdldCx0b3BUYXJnZXQ6ZS50b3BUYXJnZXQsY2FuY2VsQnViYmxlOiExLG9mZnNldFg6aS56clgsb2Zmc2V0WTppLnpyWSxnZXN0dXJlRXZlbnQ6aS5nZXN0dXJlRXZlbnQscGluY2hYOmkucGluY2hYLHBpbmNoWTppLnBpbmNoWSxwaW5jaFNjYWxlOmkucGluY2hTY2FsZSx3aGVlbERlbHRhOmkuenJEZWx0YSx6ckJ5VG91Y2g6aS56ckJ5VG91Y2gsd2hpY2g6aS53aGljaCxzdG9wOkp0fX0oZSx0LGkpO24mJihuW29dJiYoYS5jYW5jZWxCdWJibGU9bltvXS5jYWxsKG4sYSkpLG4udHJpZ2dlcihlLGEpLG49bi5wYXJlbnQsIWEuY2FuY2VsQnViYmxlKTspO2EuY2FuY2VsQnViYmxlfHwodGhpcy50cmlnZ2VyKGUsYSksdGhpcy5wYWludGVyJiZ0aGlzLnBhaW50ZXIuZWFjaE90aGVyTGF5ZXIoZnVuY3Rpb24odCl7ImZ1bmN0aW9uIj09dHlwZW9mIHRbb10mJnRbb10uY2FsbCh0LGEpLHQudHJpZ2dlciYmdC50cmlnZ2VyKGUsYSl9KSl9fSxmaW5kSG92ZXI6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKSxvPXt4OnQseTplfSxhPW4ubGVuZ3RoLTE7MDw9YTthLS0pe3ZhciByO2lmKG5bYV0hPT1pJiYhblthXS5pZ25vcmUmJihyPWllKG5bYV0sdCxlKSkmJihvLnRvcFRhcmdldHx8KG8udG9wVGFyZ2V0PW5bYV0pLHIhPT0kdCkpe28udGFyZ2V0PW5bYV07YnJlYWt9fXJldHVybiBvfSxwcm9jZXNzR2VzdHVyZTpmdW5jdGlvbih0LGUpe3RoaXMuX2dlc3R1cmVNZ3J8fCh0aGlzLl9nZXN0dXJlTWdyPW5ldyBqdCk7dmFyIGk9dGhpcy5fZ2VzdHVyZU1ncjsic3RhcnQiPT09ZSYmaS5jbGVhcigpO3ZhciBuPWkucmVjb2duaXplKHQsdGhpcy5maW5kSG92ZXIodC56clgsdC56clksbnVsbCkudGFyZ2V0LHRoaXMucHJveHkuZG9tKTtpZigiZW5kIj09PWUmJmkuY2xlYXIoKSxuKXt2YXIgbz1uLnR5cGU7dC5nZXN0dXJlRXZlbnQ9byx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KHt0YXJnZXQ6bi50YXJnZXR9LG8sbi5ldmVudCl9fX0sUihbImNsaWNrIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJkYmxjbGljayIsImNvbnRleHRtZW51Il0sZnVuY3Rpb24ocil7dGUucHJvdG90eXBlW3JdPWZ1bmN0aW9uKHQpe3ZhciBlLGksbj10LnpyWCxvPXQuenJZLGE9bmUodGhpcyxuLG8pO2lmKCJtb3VzZXVwIj09PXImJmF8fChpPShlPXRoaXMuZmluZEhvdmVyKG4sbykpLnRhcmdldCksIm1vdXNlZG93biI9PT1yKXRoaXMuX2Rvd25FbD1pLHRoaXMuX2Rvd25Qb2ludD1bdC56clgsdC56clldLHRoaXMuX3VwRWw9aTtlbHNlIGlmKCJtb3VzZXVwIj09PXIpdGhpcy5fdXBFbD1pO2Vsc2UgaWYoImNsaWNrIj09PXIpe2lmKHRoaXMuX2Rvd25FbCE9PXRoaXMuX3VwRWx8fCF0aGlzLl9kb3duUG9pbnR8fDQ8eXQodGhpcy5fZG93blBvaW50LFt0LnpyWCx0LnpyWV0pKXJldHVybjt0aGlzLl9kb3duUG9pbnQ9bnVsbH10aGlzLmRpc3BhdGNoVG9FbGVtZW50KGUscix0KX19KSxiKHRlLEN0KSxiKHRlLFR0KTt2YXIgb2U9InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/QXJyYXk6RmxvYXQzMkFycmF5O2Z1bmN0aW9uIGFlKCl7dmFyIHQ9bmV3IG9lKDYpO3JldHVybiByZSh0KSx0fWZ1bmN0aW9uIHJlKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT0wLHRbNV09MCx0fWZ1bmN0aW9uIHNlKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHR9ZnVuY3Rpb24gbGUodCxlLGkpe3ZhciBuPWVbMF0qaVswXStlWzJdKmlbMV0sbz1lWzFdKmlbMF0rZVszXSppWzFdLGE9ZVswXSppWzJdK2VbMl0qaVszXSxyPWVbMV0qaVsyXStlWzNdKmlbM10scz1lWzBdKmlbNF0rZVsyXSppWzVdK2VbNF0sbD1lWzFdKmlbNF0rZVszXSppWzVdK2VbNV07cmV0dXJuIHRbMF09bix0WzFdPW8sdFsyXT1hLHRbM109cix0WzRdPXMsdFs1XT1sLHR9ZnVuY3Rpb24gdWUodCxlLGkpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdK2lbMF0sdFs1XT1lWzVdK2lbMV0sdH1mdW5jdGlvbiBoZSh0LGUsaSl7dmFyIG49ZVswXSxvPWVbMl0sYT1lWzRdLHI9ZVsxXSxzPWVbM10sbD1lWzVdLHU9TWF0aC5zaW4oaSksaD1NYXRoLmNvcyhpKTtyZXR1cm4gdFswXT1uKmgrcip1LHRbMV09LW4qdStyKmgsdFsyXT1vKmgrcyp1LHRbM109LW8qdStoKnMsdFs0XT1oKmErdSpsLHRbNV09aCpsLXUqYSx0fWZ1bmN0aW9uIGNlKHQsZSxpKXt2YXIgbj1pWzBdLG89aVsxXTtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm8sdFsyXT1lWzJdKm4sdFszXT1lWzNdKm8sdFs0XT1lWzRdKm4sdFs1XT1lWzVdKm8sdH1mdW5jdGlvbiBkZSh0LGUpe3ZhciBpPWVbMF0sbj1lWzJdLG89ZVs0XSxhPWVbMV0scj1lWzNdLHM9ZVs1XSxsPWkqci1hKm47cmV0dXJuIGw/KGw9MS9sLHRbMF09cipsLHRbMV09LWEqbCx0WzJdPS1uKmwsdFszXT1pKmwsdFs0XT0obipzLXIqbykqbCx0WzVdPShhKm8taSpzKSpsLHQpOm51bGx9ZnVuY3Rpb24gZmUodCl7dmFyIGU9YWUoKTtyZXR1cm4gc2UoZSx0KSxlfXZhciBwZT0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7Y3JlYXRlOmFlLGlkZW50aXR5OnJlLGNvcHk6c2UsbXVsOmxlLHRyYW5zbGF0ZTp1ZSxyb3RhdGU6aGUsc2NhbGU6Y2UsaW52ZXJ0OmRlLGNsb25lOmZlfSksZ2U9cmU7ZnVuY3Rpb24gbWUodCl7cmV0dXJuIDVlLTU8dHx8dDwtNWUtNX12YXIgdmU9ZnVuY3Rpb24odCl7KHQ9dHx8e30pLnBvc2l0aW9ufHwodGhpcy5wb3NpdGlvbj1bMCwwXSksbnVsbD09dC5yb3RhdGlvbiYmKHRoaXMucm90YXRpb249MCksdC5zY2FsZXx8KHRoaXMuc2NhbGU9WzEsMV0pLHRoaXMub3JpZ2luPXRoaXMub3JpZ2lufHxudWxsfSx5ZT12ZS5wcm90b3R5cGU7eWUudHJhbnNmb3JtPW51bGwseWUubmVlZExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIG1lKHRoaXMucm90YXRpb24pfHxtZSh0aGlzLnBvc2l0aW9uWzBdKXx8bWUodGhpcy5wb3NpdGlvblsxXSl8fG1lKHRoaXMuc2NhbGVbMF0tMSl8fG1lKHRoaXMuc2NhbGVbMV0tMSl9O3ZhciB4ZT1bXTt5ZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXQmJnQudHJhbnNmb3JtLGk9dGhpcy5uZWVkTG9jYWxUcmFuc2Zvcm0oKSxuPXRoaXMudHJhbnNmb3JtO2lmKGl8fGUpe249bnx8YWUoKSxpP3RoaXMuZ2V0TG9jYWxUcmFuc2Zvcm0obik6Z2UobiksZSYmKGk/bGUobix0LnRyYW5zZm9ybSxuKTpzZShuLHQudHJhbnNmb3JtKSksdGhpcy50cmFuc2Zvcm09bjt2YXIgbz10aGlzLmdsb2JhbFNjYWxlUmF0aW87aWYobnVsbCE9byYmMSE9PW8pe3RoaXMuZ2V0R2xvYmFsU2NhbGUoeGUpO3ZhciBhPXhlWzBdPDA/LTE6MSxyPXhlWzFdPDA/LTE6MSxzPSgoeGVbMF0tYSkqbythKS94ZVswXXx8MCxsPSgoeGVbMV0tcikqbytyKS94ZVsxXXx8MDtuWzBdKj1zLG5bMV0qPXMsblsyXSo9bCxuWzNdKj1sfXRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxhZSgpLGRlKHRoaXMuaW52VHJhbnNmb3JtLG4pfWVsc2UgbiYmZ2Uobil9LHllLmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3JldHVybiB2ZS5nZXRMb2NhbFRyYW5zZm9ybSh0aGlzLHQpfSx5ZS5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50cmFuc2Zvcm0saT10LmRwcnx8MTtlP3Quc2V0VHJhbnNmb3JtKGkqZVswXSxpKmVbMV0saSplWzJdLGkqZVszXSxpKmVbNF0saSplWzVdKTp0LnNldFRyYW5zZm9ybShpLDAsMCxpLDAsMCl9LHllLnJlc3RvcmVUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dC5kcHJ8fDE7dC5zZXRUcmFuc2Zvcm0oZSwwLDAsZSwwLDApfTt2YXIgX2U9W10sd2U9YWUoKTt5ZS5zZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10WzBdKnRbMF0rdFsxXSp0WzFdLGk9dFsyXSp0WzJdK3RbM10qdFszXSxuPXRoaXMucG9zaXRpb24sbz10aGlzLnNjYWxlO21lKGUtMSkmJihlPU1hdGguc3FydChlKSksbWUoaS0xKSYmKGk9TWF0aC5zcXJ0KGkpKSx0WzBdPDAmJihlPS1lKSx0WzNdPDAmJihpPS1pKSxuWzBdPXRbNF0sblsxXT10WzVdLG9bMF09ZSxvWzFdPWksdGhpcy5yb3RhdGlvbj1NYXRoLmF0YW4yKC10WzFdL2ksdFswXS9lKX19LHllLmRlY29tcG9zZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMudHJhbnNmb3JtKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMudHJhbnNmb3JtO3QmJnQudHJhbnNmb3JtJiYobGUoX2UsdC5pbnZUcmFuc2Zvcm0sZSksZT1fZSk7dmFyIGk9dGhpcy5vcmlnaW47aSYmKGlbMF18fGlbMV0pJiYod2VbNF09aVswXSx3ZVs1XT1pWzFdLGxlKF9lLGUsd2UpLF9lWzRdLT1pWzBdLF9lWzVdLT1pWzFdLGU9X2UpLHRoaXMuc2V0TG9jYWxUcmFuc2Zvcm0oZSl9fSx5ZS5nZXRHbG9iYWxTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZm9ybTtyZXR1cm4gdD10fHxbXSxlPyh0WzBdPU1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKSx0WzFdPU1hdGguc3FydChlWzJdKmVbMl0rZVszXSplWzNdKSxlWzBdPDAmJih0WzBdPS10WzBdKSxlWzNdPDAmJih0WzFdPS10WzFdKSk6KHRbMF09MSx0WzFdPTEpLHR9LHllLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbD1mdW5jdGlvbih0LGUpe3ZhciBpPVt0LGVdLG49dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIG4mJmJ0KGksaSxuKSxpfSx5ZS50cmFuc2Zvcm1Db29yZFRvR2xvYmFsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W3QsZV0sbj10aGlzLnRyYW5zZm9ybTtyZXR1cm4gbiYmYnQoaSxpLG4pLGl9LHZlLmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7Z2UoZT1lfHxbXSk7dmFyIGk9dC5vcmlnaW4sbj10LnNjYWxlfHxbMSwxXSxvPXQucm90YXRpb258fDAsYT10LnBvc2l0aW9ufHxbMCwwXTtyZXR1cm4gaSYmKGVbNF0tPWlbMF0sZVs1XS09aVsxXSksY2UoZSxlLG4pLG8mJmhlKGUsZSxvKSxpJiYoZVs0XSs9aVswXSxlWzVdKz1pWzFdKSxlWzRdKz1hWzBdLGVbNV0rPWFbMV0sZX07dmFyIGJlPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHF1YWRyYXRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnR9LHF1YWRyYXRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0scXVhZHJhdGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0Oi0uNSooLS10Kih0LTIpLTEpfSxjdWJpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sY3ViaWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxjdWJpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0Oi41KigodC09MikqdCp0KzIpfSxxdWFydGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnR9LHF1YXJ0aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0scXVhcnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQ6LS41KigodC09MikqdCp0KnQtMil9LHF1aW50aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdCp0fSxxdWludGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQqdCp0KzF9LHF1aW50aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0KnQ6LjUqKCh0LT0yKSp0KnQqdCp0KzIpfSxzaW51c29pZGFsSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3ModCpNYXRoLlBJLzIpfSxzaW51c29pZGFsT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpbih0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4uNSooMS1NYXRoLmNvcyhNYXRoLlBJKnQpKX0sZXhwb25lbnRpYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDpNYXRoLnBvdygxMDI0LHQtMSl9LGV4cG9uZW50aWFsT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LGV4cG9uZW50aWFsSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToodCo9Mik8MT8uNSpNYXRoLnBvdygxMDI0LHQtMSk6LjUqKDItTWF0aC5wb3coMiwtMTAqKHQtMSkpKX0sY2lyY3VsYXJJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxjaXJjdWxhck91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KDEtIC0tdCp0KX0sY2lyY3VsYXJJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0sZWxhc3RpY0luOmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooZT0haXx8aTwxPyhpPTEsLjEpOi40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLC1pKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uNCkpfSxlbGFzdGljT3V0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooZT0haXx8aTwxPyhpPTEsLjEpOi40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxlbGFzdGljSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGUsaT0uMTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOihlPSFpfHxpPDE/KGk9MSwuMSk6LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksKHQqPTIpPDE/aSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKi0uNTppKk1hdGgucG93KDIsLTEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKi41KzEpfSxiYWNrSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCooMi43MDE1OCp0LTEuNzAxNTgpfSxiYWNrT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KigyLjcwMTU4KnQrMS43MDE1OCkrMX0sYmFja0luT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNTk0OTA5NTtyZXR1cm4odCo9Mik8MT90KnQqKCgxK2UpKnQtZSkqLjU6LjUqKCh0LT0yKSp0KigoMStlKSp0K2UpKzIpfSxib3VuY2VJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1iZS5ib3VuY2VPdXQoMS10KX0sYm91bmNlT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9LGJvdW5jZUluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KmJlLmJvdW5jZUluKDIqdCk6LjUqYmUuYm91bmNlT3V0KDIqdC0xKSsuNX19O2Z1bmN0aW9uIFNlKHQpe3RoaXMuX3RhcmdldD10LnRhcmdldCx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5sb29wPW51bGwhPXQubG9vcCYmdC5sb29wLHRoaXMuZ2FwPXQuZ2FwfHwwLHRoaXMuZWFzaW5nPXQuZWFzaW5nfHwiTGluZWFyIix0aGlzLm9uZnJhbWU9dC5vbmZyYW1lLHRoaXMub25kZXN0cm95PXQub25kZXN0cm95LHRoaXMub25yZXN0YXJ0PXQub25yZXN0YXJ0LHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9wYXVzZWQ9ITF9U2UucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTZSxzdGVwOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faW5pdGlhbGl6ZWR8fCh0aGlzLl9zdGFydFRpbWU9dCt0aGlzLl9kZWxheSx0aGlzLl9pbml0aWFsaXplZD0hMCksdGhpcy5fcGF1c2VkKXRoaXMuX3BhdXNlZFRpbWUrPWU7ZWxzZXt2YXIgaT0odC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSkvdGhpcy5fbGlmZTtpZighKGk8MCkpe2k9TWF0aC5taW4oaSwxKTt2YXIgbj10aGlzLmVhc2luZyxvPSJzdHJpbmciPT10eXBlb2Ygbj9iZVtuXTpuLGE9ImZ1bmN0aW9uIj09dHlwZW9mIG8/byhpKTppO3JldHVybiB0aGlzLmZpcmUoImZyYW1lIixhKSwxPT09aT90aGlzLmxvb3A/KHRoaXMucmVzdGFydCh0KSwicmVzdGFydCIpOih0aGlzLl9uZWVkc1JlbW92ZT0hMCwiZGVzdHJveSIpOm51bGx9fX0scmVzdGFydDpmdW5jdGlvbih0KXt2YXIgZT0odC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSkldGhpcy5fbGlmZTt0aGlzLl9zdGFydFRpbWU9dC1lK3RoaXMuZ2FwLHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9uZWVkc1JlbW92ZT0hMX0sZmlyZTpmdW5jdGlvbih0LGUpe3RoaXNbdD0ib24iK3RdJiZ0aGlzW3RdKHRoaXMuX3RhcmdldCxlKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITB9LHJlc3VtZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMX19O2Z1bmN0aW9uIE1lKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5fbGVuPTB9dmFyIEllPU1lLnByb3RvdHlwZTtJZS5pbnNlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFlKHQpO3JldHVybiB0aGlzLmluc2VydEVudHJ5KGUpLGV9LEllLmluc2VydEVudHJ5PWZ1bmN0aW9uKHQpe3RoaXMuaGVhZD8oKHRoaXMudGFpbC5uZXh0PXQpLnByZXY9dGhpcy50YWlsLHQubmV4dD1udWxsLHRoaXMudGFpbD10KTp0aGlzLmhlYWQ9dGhpcy50YWlsPXQsdGhpcy5fbGVuKyt9LEllLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10LnByZXYsaT10Lm5leHQ7ZT9lLm5leHQ9aTp0aGlzLmhlYWQ9aSxpP2kucHJldj1lOnRoaXMudGFpbD1lLHQubmV4dD10LnByZXY9bnVsbCx0aGlzLl9sZW4tLX0sSWUubGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbn0sSWUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5fbGVuPTB9O2Z1bmN0aW9uIFRlKHQpe3RoaXMuX2xpc3Q9bmV3IE1lLHRoaXMuX21hcD17fSx0aGlzLl9tYXhTaXplPXR8fDEwLHRoaXMuX2xhc3RSZW1vdmVkRW50cnk9bnVsbH12YXIgQWU9ZnVuY3Rpb24odCl7dGhpcy52YWx1ZT10LHRoaXMubmV4dCx0aGlzLnByZXZ9LERlPVRlLnByb3RvdHlwZTtEZS5wdXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9saXN0LG49dGhpcy5fbWFwLG89bnVsbDtpZihudWxsPT1uW3RdKXt2YXIgYT1pLmxlbigpLHI9dGhpcy5fbGFzdFJlbW92ZWRFbnRyeTtpZihhPj10aGlzLl9tYXhTaXplJiYwPGEpe3ZhciBzPWkuaGVhZDtpLnJlbW92ZShzKSxkZWxldGUgbltzLmtleV0sbz1zLnZhbHVlLHRoaXMuX2xhc3RSZW1vdmVkRW50cnk9c31yP3IudmFsdWU9ZTpyPW5ldyBBZShlKSxyLmtleT10LGkuaW5zZXJ0RW50cnkociksblt0XT1yfXJldHVybiBvfSxEZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwW3RdLGk9dGhpcy5fbGlzdDtpZihudWxsIT1lKXJldHVybiBlIT09aS50YWlsJiYoaS5yZW1vdmUoZSksaS5pbnNlcnRFbnRyeShlKSksZS52YWx1ZX0sRGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9saXN0LmNsZWFyKCksdGhpcy5fbWFwPXt9fTt2YXIgQ2U9e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIExlKHQpe3JldHVybih0PU1hdGgucm91bmQodCkpPDA/MDoyNTU8dD8yNTU6dH1mdW5jdGlvbiBrZSh0KXtyZXR1cm4gdDwwPzA6MTx0PzE6dH1mdW5jdGlvbiBQZSh0KXtyZXR1cm4gdC5sZW5ndGgmJiIlIj09PXQuY2hhckF0KHQubGVuZ3RoLTEpP0xlKHBhcnNlRmxvYXQodCkvMTAwKjI1NSk6TGUocGFyc2VJbnQodCwxMCkpfWZ1bmN0aW9uIE5lKHQpe3JldHVybiB0Lmxlbmd0aCYmIiUiPT09dC5jaGFyQXQodC5sZW5ndGgtMSk/a2UocGFyc2VGbG9hdCh0KS8xMDApOmtlKHBhcnNlRmxvYXQodCkpfWZ1bmN0aW9uIE9lKHQsZSxpKXtyZXR1cm4gaTwwP2krPTE6MTxpJiYoaS09MSksNippPDE/dCsoZS10KSppKjY6MippPDE/ZTozKmk8Mj90KyhlLXQpKigyLzMtaSkqNjp0fWZ1bmN0aW9uIFJlKHQsZSxpKXtyZXR1cm4gdCsoZS10KSppfWZ1bmN0aW9uIHplKHQsZSxpLG4sbyl7cmV0dXJuIHRbMF09ZSx0WzFdPWksdFsyXT1uLHRbM109byx0fWZ1bmN0aW9uIEVlKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0fXZhciBCZT1uZXcgVGUoMjApLFZlPW51bGw7ZnVuY3Rpb24gR2UodCxlKXtWZSYmRWUoVmUsZSksVmU9QmUucHV0KHQsVmV8fGUuc2xpY2UoKSl9ZnVuY3Rpb24gRmUodCxlKXtpZih0KXtlPWV8fFtdO3ZhciBpPUJlLmdldCh0KTtpZihpKXJldHVybiBFZShlLGkpO3ZhciBuLG89KHQrPSIiKS5yZXBsYWNlKC8gL2csIiIpLnRvTG93ZXJDYXNlKCk7aWYobyBpbiBDZSlyZXR1cm4gRWUoZSxDZVtvXSksR2UodCxlKSxlO2lmKCIjIj09PW8uY2hhckF0KDApKXJldHVybiA0PT09by5sZW5ndGg/MDw9KG49cGFyc2VJbnQoby5zdWJzdHIoMSksMTYpKSYmbjw9NDA5NT8oemUoZSwoMzg0MCZuKT4+NHwoMzg0MCZuKT4+OCwyNDAmbnwoMjQwJm4pPj40LDE1Jm58KDE1Jm4pPDw0LDEpLEdlKHQsZSksZSk6dm9pZCB6ZShlLDAsMCwwLDEpOjc9PT1vLmxlbmd0aD8wPD0obj1wYXJzZUludChvLnN1YnN0cigxKSwxNikpJiZuPD0xNjc3NzIxNT8oemUoZSwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbiwxKSxHZSh0LGUpLGUpOnZvaWQgemUoZSwwLDAsMCwxKTp2b2lkIDA7dmFyIGE9by5pbmRleE9mKCIoIikscj1vLmluZGV4T2YoIikiKTtpZigtMSE9PWEmJnIrMT09PW8ubGVuZ3RoKXt2YXIgcz1vLnN1YnN0cigwLGEpLGw9by5zdWJzdHIoYSsxLHItKGErMSkpLnNwbGl0KCIsIiksdT0xO3N3aXRjaChzKXtjYXNlInJnYmEiOmlmKDQhPT1sLmxlbmd0aClyZXR1cm4gdm9pZCB6ZShlLDAsMCwwLDEpO3U9TmUobC5wb3AoKSk7Y2FzZSJyZ2IiOnJldHVybiAzIT09bC5sZW5ndGg/dm9pZCB6ZShlLDAsMCwwLDEpOih6ZShlLFBlKGxbMF0pLFBlKGxbMV0pLFBlKGxbMl0pLHUpLEdlKHQsZSksZSk7Y2FzZSJoc2xhIjpyZXR1cm4gNCE9PWwubGVuZ3RoP3ZvaWQgemUoZSwwLDAsMCwxKToobFszXT1OZShsWzNdKSxXZShsLGUpLEdlKHQsZSksZSk7Y2FzZSJoc2wiOnJldHVybiAzIT09bC5sZW5ndGg/dm9pZCB6ZShlLDAsMCwwLDEpOihXZShsLGUpLEdlKHQsZSksZSk7ZGVmYXVsdDpyZXR1cm59fXplKGUsMCwwLDAsMSl9fWZ1bmN0aW9uIFdlKHQsZSl7dmFyIGk9KHBhcnNlRmxvYXQodFswXSklMzYwKzM2MCklMzYwLzM2MCxuPU5lKHRbMV0pLG89TmUodFsyXSksYT1vPD0uNT9vKihuKzEpOm8rbi1vKm4scj0yKm8tYTtyZXR1cm4gemUoZT1lfHxbXSxMZSgyNTUqT2UocixhLGkrMS8zKSksTGUoMjU1Kk9lKHIsYSxpKSksTGUoMjU1Kk9lKHIsYSxpLTEvMykpLDEpLDQ9PT10Lmxlbmd0aCYmKGVbM109dFszXSksZX1mdW5jdGlvbiBIZSh0LGUpe3ZhciBpPUZlKHQpO2lmKGkpe2Zvcih2YXIgbj0wO248MztuKyspaVtuXT1lPDA/aVtuXSooMS1lKXwwOigyNTUtaVtuXSkqZStpW25dfDAsMjU1PGlbbl0/aVtuXT0yNTU6dFtuXTwwJiYoaVtuXT0wKTtyZXR1cm4gJGUoaSw0PT09aS5sZW5ndGg/InJnYmEiOiJyZ2IiKX19ZnVuY3Rpb24gWmUodCl7dmFyIGU9RmUodCk7aWYoZSlyZXR1cm4oKDE8PDI0KSsoZVswXTw8MTYpKyhlWzFdPDw4KSsgK2VbMl0pLnRvU3RyaW5nKDE2KS5zbGljZSgxKX1mdW5jdGlvbiBVZSh0LGUsaSl7aWYoZSYmZS5sZW5ndGgmJjA8PXQmJnQ8PTEpe2k9aXx8W107dmFyIG49dCooZS5sZW5ndGgtMSksbz1NYXRoLmZsb29yKG4pLGE9TWF0aC5jZWlsKG4pLHI9ZVtvXSxzPWVbYV0sbD1uLW87cmV0dXJuIGlbMF09TGUoUmUoclswXSxzWzBdLGwpKSxpWzFdPUxlKFJlKHJbMV0sc1sxXSxsKSksaVsyXT1MZShSZShyWzJdLHNbMl0sbCkpLGlbM109a2UoUmUoclszXSxzWzNdLGwpKSxpfX12YXIgWGU9VWU7ZnVuY3Rpb24gWWUodCxlLGkpe2lmKGUmJmUubGVuZ3RoJiYwPD10JiZ0PD0xKXt2YXIgbj10KihlLmxlbmd0aC0xKSxvPU1hdGguZmxvb3IobiksYT1NYXRoLmNlaWwobikscj1GZShlW29dKSxzPUZlKGVbYV0pLGw9bi1vLHU9JGUoW0xlKFJlKHJbMF0sc1swXSxsKSksTGUoUmUoclsxXSxzWzFdLGwpKSxMZShSZShyWzJdLHNbMl0sbCkpLGtlKFJlKHJbM10sc1szXSxsKSldLCJyZ2JhIik7cmV0dXJuIGk/e2NvbG9yOnUsbGVmdEluZGV4Om8scmlnaHRJbmRleDphLHZhbHVlOm59OnV9fXZhciBqZT1ZZTtmdW5jdGlvbiBxZSh0LGUsaSxuKXtpZih0PUZlKHQpKXJldHVybiB0PWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlLGksbj10WzBdLzI1NSxvPXRbMV0vMjU1LGE9dFsyXS8yNTUscj1NYXRoLm1pbihuLG8sYSkscz1NYXRoLm1heChuLG8sYSksbD1zLXIsdT0ocytyKS8yO2lmKDA9PWwpaT1lPTA7ZWxzZXtpPXU8LjU/bC8ocytyKTpsLygyLXMtcik7dmFyIGg9KChzLW4pLzYrbC8yKS9sLGM9KChzLW8pLzYrbC8yKS9sLGQ9KChzLWEpLzYrbC8yKS9sO249PT1zP2U9ZC1jOm89PT1zP2U9MS8zK2gtZDphPT09cyYmKGU9Mi8zK2MtaCksZTwwJiYoZSs9MSksMTxlJiYoZS09MSl9dmFyIGY9WzM2MCplLGksdV07cmV0dXJuIG51bGwhPXRbM10mJmYucHVzaCh0WzNdKSxmfX0odCksbnVsbCE9ZSYmKHRbMF09ZnVuY3Rpb24odCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOjM2MDx0PzM2MDp0fShlKSksbnVsbCE9aSYmKHRbMV09TmUoaSkpLG51bGwhPW4mJih0WzJdPU5lKG4pKSwkZShXZSh0KSwicmdiYSIpfWZ1bmN0aW9uIEtlKHQsZSl7aWYoKHQ9RmUodCkpJiZudWxsIT1lKXJldHVybiB0WzNdPWtlKGUpLCRlKHQsInJnYmEiKX1mdW5jdGlvbiAkZSh0LGUpe2lmKHQmJnQubGVuZ3RoKXt2YXIgaT10WzBdKyIsIit0WzFdKyIsIit0WzJdO3JldHVybiJyZ2JhIiE9PWUmJiJoc3ZhIiE9PWUmJiJoc2xhIiE9PWV8fChpKz0iLCIrdFszXSksZSsiKCIraSsiKSJ9fXZhciBKZT0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7cGFyc2U6RmUsbGlmdDpIZSx0b0hleDpaZSxmYXN0TGVycDpVZSxmYXN0TWFwVG9Db2xvcjpYZSxsZXJwOlllLG1hcFRvQ29sb3I6amUsbW9kaWZ5SFNMOnFlLG1vZGlmeUFscGhhOktlLHN0cmluZ2lmeTokZX0pLFFlPUFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiB0aSh0LGUpe3JldHVybiB0W2VdfWZ1bmN0aW9uIGVpKHQsZSxpKXt0W2VdPWl9ZnVuY3Rpb24gaWkodCxlLGkpe3JldHVybihlLXQpKmkrdH1mdW5jdGlvbiBuaSh0LGUsaSl7cmV0dXJuLjU8aT9lOnR9ZnVuY3Rpb24gb2kodCxlLGksbixvKXt2YXIgYT10Lmxlbmd0aDtpZigxPT09bylmb3IodmFyIHI9MDtyPGE7cisrKW5bcl09aWkodFtyXSxlW3JdLGkpO2Vsc2V7dmFyIHM9YSYmdFswXS5sZW5ndGg7Zm9yKHI9MDtyPGE7cisrKWZvcih2YXIgbD0wO2w8cztsKyspbltyXVtsXT1paSh0W3JdW2xdLGVbcl1bbF0saSl9fWZ1bmN0aW9uIGFpKHQsZSxpKXt2YXIgbj10Lmxlbmd0aCxvPWUubGVuZ3RoO2lmKG4hPT1vKWlmKG88bil0Lmxlbmd0aD1vO2Vsc2UgZm9yKHZhciBhPW47YTxvO2ErKyl0LnB1c2goMT09PWk/ZVthXTpRZS5jYWxsKGVbYV0pKTt2YXIgcj10WzBdJiZ0WzBdLmxlbmd0aDtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKWlmKDE9PT1pKWlzTmFOKHRbYV0pJiYodFthXT1lW2FdKTtlbHNlIGZvcih2YXIgcz0wO3M8cjtzKyspaXNOYU4odFthXVtzXSkmJih0W2FdW3NdPWVbYV1bc10pfWZ1bmN0aW9uIHJpKHQsZSxpKXtpZih0PT09ZSlyZXR1cm4hMDt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7aWYoMT09PWkpe2Zvcih2YXIgbz0wO288bjtvKyspaWYodFtvXSE9PWVbb10pcmV0dXJuITF9ZWxzZXt2YXIgYT10WzBdLmxlbmd0aDtmb3Iobz0wO288bjtvKyspZm9yKHZhciByPTA7cjxhO3IrKylpZih0W29dW3JdIT09ZVtvXVtyXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBzaSh0LGUsaSxuLG8sYSxyLHMsbCl7dmFyIHU9dC5sZW5ndGg7aWYoMT09PWwpZm9yKHZhciBoPTA7aDx1O2grKylzW2hdPWxpKHRbaF0sZVtoXSxpW2hdLG5baF0sbyxhLHIpO2Vsc2V7dmFyIGM9dFswXS5sZW5ndGg7Zm9yKGg9MDtoPHU7aCsrKWZvcih2YXIgZD0wO2Q8YztkKyspc1toXVtkXT1saSh0W2hdW2RdLGVbaF1bZF0saVtoXVtkXSxuW2hdW2RdLG8sYSxyKX19ZnVuY3Rpb24gbGkodCxlLGksbixvLGEscil7dmFyIHM9LjUqKGktdCksbD0uNSoobi1lKTtyZXR1cm4oMiooZS1pKStzK2wpKnIrKC0zKihlLWkpLTIqcy1sKSphK3MqbytlfWZ1bmN0aW9uIHVpKHQpe2lmKE4odCkpe3ZhciBlPXQubGVuZ3RoO2lmKE4odFswXSkpe2Zvcih2YXIgaT1bXSxuPTA7bjxlO24rKylpLnB1c2goUWUuY2FsbCh0W25dKSk7cmV0dXJuIGl9cmV0dXJuIFFlLmNhbGwodCl9cmV0dXJuIHR9ZnVuY3Rpb24gaGkodCl7cmV0dXJuIHRbMF09TWF0aC5mbG9vcih0WzBdKSx0WzFdPU1hdGguZmxvb3IodFsxXSksdFsyXT1NYXRoLmZsb29yKHRbMl0pLCJyZ2JhKCIrdC5qb2luKCIsIikrIikifWZ1bmN0aW9uIGNpKHQsZSxpLG4sYSxvKXt2YXIgcj10Ll9nZXR0ZXIscz10Ll9zZXR0ZXIsbD0ic3BsaW5lIj09PWUsdT1uLmxlbmd0aDtpZih1KXt2YXIgaCxjPU4oblswXS52YWx1ZSksZD0hMSxmPSExLHA9Yz9mdW5jdGlvbih0KXt2YXIgZT10W3QubGVuZ3RoLTFdLnZhbHVlO3JldHVybiBOKGUmJmVbMF0pPzI6MX0obik6MDtuLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pLGg9blt1LTFdLnRpbWU7Zm9yKHZhciBnPVtdLG09W10sdj1uWzBdLnZhbHVlLHk9ITAseD0wO3g8dTt4Kyspe2cucHVzaChuW3hdLnRpbWUvaCk7dmFyIF89blt4XS52YWx1ZTtpZihjJiZyaShfLHYscCl8fCFjJiZfPT09dnx8KHk9ITEpLCJzdHJpbmciPT10eXBlb2Yodj1fKSl7dmFyIHc9RmUoXyk7dz8oXz13LGQ9ITApOmY9ITB9bS5wdXNoKF8pfWlmKG98fCF5KXt2YXIgYj1tW3UtMV07Zm9yKHg9MDt4PHUtMTt4KyspYz9haShtW3hdLGIscCk6IWlzTmFOKG1beF0pfHxpc05hTihiKXx8Znx8ZHx8KG1beF09Yik7YyYmYWkocih0Ll90YXJnZXQsYSksYixwKTt2YXIgUyxNLEksVCxBLEQ9MCxDPTA7aWYoZCl2YXIgTD1bMCwwLDAsMF07dmFyIGs9bmV3IFNlKHt0YXJnZXQ6dC5fdGFyZ2V0LGxpZmU6aCxsb29wOnQuX2xvb3AsZGVsYXk6dC5fZGVsYXksb25mcmFtZTpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKGU8MClpPTA7ZWxzZSBpZihlPEMpe2ZvcihpPU1hdGgubWluKEQrMSx1LTEpOzA8PWkmJiEoZ1tpXTw9ZSk7aS0tKTtpPU1hdGgubWluKGksdS0yKX1lbHNle2ZvcihpPUQ7aTx1JiYhKGdbaV0+ZSk7aSsrKTtpPU1hdGgubWluKGktMSx1LTIpfUM9ZTt2YXIgbj1nWyhEPWkpKzFdLWdbaV07aWYoMCE9bilpZihTPShlLWdbaV0pL24sbClpZihJPW1baV0sTT1tWzA9PT1pP2k6aS0xXSxUPW1bdS0yPGk/dS0xOmkrMV0sQT1tW3UtMzxpP3UtMTppKzJdLGMpc2koTSxJLFQsQSxTLFMqUyxTKlMqUyxyKHQsYSkscCk7ZWxzZXtpZihkKW89c2koTSxJLFQsQSxTLFMqUyxTKlMqUyxMLDEpLG89aGkoTCk7ZWxzZXtpZihmKXJldHVybiBuaShJLFQsUyk7bz1saShNLEksVCxBLFMsUypTLFMqUypTKX1zKHQsYSxvKX1lbHNlIGlmKGMpb2kobVtpXSxtW2krMV0sUyxyKHQsYSkscCk7ZWxzZXt2YXIgbztpZihkKW9pKG1baV0sbVtpKzFdLFMsTCwxKSxvPWhpKEwpO2Vsc2V7aWYoZilyZXR1cm4gbmkobVtpXSxtW2krMV0sUyk7bz1paShtW2ldLG1baSsxXSxTKX1zKHQsYSxvKX19LG9uZGVzdHJveTppfSk7cmV0dXJuIGUmJiJzcGxpbmUiIT09ZSYmKGsuZWFzaW5nPWUpLGt9fX1mdW5jdGlvbiBkaSh0LGUsaSxuKXt0aGlzLl90cmFja3M9e30sdGhpcy5fdGFyZ2V0PXQsdGhpcy5fbG9vcD1lfHwhMSx0aGlzLl9nZXR0ZXI9aXx8dGksdGhpcy5fc2V0dGVyPW58fGVpLHRoaXMuX2NsaXBDb3VudD0wLHRoaXMuX2RlbGF5PTAsdGhpcy5fZG9uZUxpc3Q9W10sdGhpcy5fb25mcmFtZUxpc3Q9W10sdGhpcy5fY2xpcExpc3Q9W119ZGkucHJvdG90eXBlPXt3aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdHJhY2tzO2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe2lmKCFpW25dKXtpW25dPVtdO3ZhciBvPXRoaXMuX2dldHRlcih0aGlzLl90YXJnZXQsbik7aWYobnVsbD09byljb250aW51ZTswIT09dCYmaVtuXS5wdXNoKHt0aW1lOjAsdmFsdWU6dWkobyl9KX1pW25dLnB1c2goe3RpbWU6dCx2YWx1ZTplW25dfSl9cmV0dXJuIHRoaXN9LGR1cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb25mcmFtZUxpc3QucHVzaCh0KSx0aGlzfSxwYXVzZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fY2xpcExpc3QubGVuZ3RoO3QrKyl0aGlzLl9jbGlwTGlzdFt0XS5wYXVzZSgpO3RoaXMuX3BhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9jbGlwTGlzdC5sZW5ndGg7dCsrKXRoaXMuX2NsaXBMaXN0W3RdLnJlc3VtZSgpO3RoaXMuX3BhdXNlZD0hMX0saXNQYXVzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3BhdXNlZH0sX2RvbmVDYWxsYmFjazpmdW5jdGlvbigpe3RoaXMuX3RyYWNrcz17fSx0aGlzLl9jbGlwTGlzdC5sZW5ndGg9MDtmb3IodmFyIHQ9dGhpcy5fZG9uZUxpc3QsZT10Lmxlbmd0aCxpPTA7aTxlO2krKyl0W2ldLmNhbGwodGhpcyl9LHN0YXJ0OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpey0tYXx8by5fZG9uZUNhbGxiYWNrKCl9dmFyIG4sbz10aGlzLGE9MDtmb3IodmFyIHIgaW4gdGhpcy5fdHJhY2tzKWlmKHRoaXMuX3RyYWNrcy5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIHM9Y2kodGhpcyx0LGksdGhpcy5fdHJhY2tzW3JdLHIsZSk7cyYmKHRoaXMuX2NsaXBMaXN0LnB1c2gocyksYSsrLHRoaXMuYW5pbWF0aW9uJiZ0aGlzLmFuaW1hdGlvbi5hZGRDbGlwKHMpLG49cyl9aWYobil7dmFyIGw9bi5vbmZyYW1lO24ub25mcmFtZT1mdW5jdGlvbih0LGUpe2wodCxlKTtmb3IodmFyIGk9MDtpPG8uX29uZnJhbWVMaXN0Lmxlbmd0aDtpKyspby5fb25mcmFtZUxpc3RbaV0odCxlKX19cmV0dXJuIGF8fHRoaXMuX2RvbmVDYWxsYmFjaygpLHRoaXN9LHN0b3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NsaXBMaXN0LGk9dGhpcy5hbmltYXRpb24sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO3QmJm8ub25mcmFtZSh0aGlzLl90YXJnZXQsMSksaSYmaS5yZW1vdmVDbGlwKG8pfWUubGVuZ3RoPTB9LGRlbGF5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxheT10LHRoaXN9LGRvbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2RvbmVMaXN0LnB1c2godCksdGhpc30sZ2V0Q2xpcHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcExpc3R9fTt2YXIgZmk9MTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKGZpPU1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLDEpKTt2YXIgcGk9ZmksZ2k9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG1pKCl7dGhpcy5hbmltYXRvcnM9W119dmFyIHZpPWdpO2Z1bmN0aW9uIHlpKHQsZSxpLG4sbyxhLHIscyl7eihuKT8oYT1vLG89bixuPTApOkMobyk/KGE9byxvPSJsaW5lYXIiLG49MCk6QyhuKT8oYT1uLG49MCk6aT1DKGkpPyhhPWksNTAwKTppfHw1MDAsdC5zdG9wQW5pbWF0aW9uKCksZnVuY3Rpb24gdChlLGksbixvLGEscixzKXt2YXIgbD17fTt2YXIgdT0wO2Zvcih2YXIgaCBpbiBvKW8uaGFzT3duUHJvcGVydHkoaCkmJihudWxsIT1uW2hdP0Uob1toXSkmJiFOKG9baF0pP3QoZSxpP2krIi4iK2g6aCxuW2hdLG9baF0sYSxyLHMpOihzPyhsW2hdPW5baF0seGkoZSxpLGgsb1toXSkpOmxbaF09b1toXSx1KyspOm51bGw9PW9baF18fHN8fHhpKGUsaSxoLG9baF0pKTswPHUmJmUuYW5pbWF0ZShpLCExKS53aGVuKG51bGw9PWE/NTAwOmEsbCkuZGVsYXkocnx8MCl9KHQsIiIsdCxlLGksbixzKTt2YXIgbD10LmFuaW1hdG9ycy5zbGljZSgpLHU9bC5sZW5ndGg7ZnVuY3Rpb24gaCgpey0tdXx8YSYmYSgpfXV8fGEmJmEoKTtmb3IodmFyIGM9MDtjPGwubGVuZ3RoO2MrKylsW2NdLmRvbmUoaCkuc3RhcnQobyxyKX1mdW5jdGlvbiB4aSh0LGUsaSxuKXtpZihlKXt2YXIgbz17fTtvW2VdPXt9LG9bZV1baV09bix0LmF0dHIobyl9ZWxzZSB0LmF0dHIoaSxuKX1taS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm1pLGFuaW1hdGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPSExLG89dGhpcyxhPXRoaXMuX196cjtpZih0KXt2YXIgcj10LnNwbGl0KCIuIikscz1vO249InNoYXBlIj09PXJbMF07Zm9yKHZhciBsPTAsdT1yLmxlbmd0aDtsPHU7bCsrKXM9cyYmc1tyW2xdXTtzJiYoaT1zKX1lbHNlIGk9bztpZihpKXt2YXIgaD1vLmFuaW1hdG9ycyxjPW5ldyBkaShpLGUpO3JldHVybiBjLmR1cmluZyhmdW5jdGlvbih0KXtvLmRpcnR5KG4pfSkuZG9uZShmdW5jdGlvbigpe2guc3BsaWNlKF8oaCxjKSwxKX0pLGgucHVzaChjKSxhJiZhLmFuaW1hdGlvbi5hZGRBbmltYXRvcihjKSxjfXZpKCdQcm9wZXJ0eSAiJyt0KyciIGlzIG5vdCBleGlzdGVkIGluIGVsZW1lbnQgJytvLmlkKX0sc3RvcEFuaW1hdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hbmltYXRvcnMsaT1lLmxlbmd0aCxuPTA7bjxpO24rKyllW25dLnN0b3AodCk7cmV0dXJuIGUubGVuZ3RoPTAsdGhpc30sYW5pbWF0ZVRvOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt5aSh0aGlzLHQsZSxpLG4sbyxhKX0sYW5pbWF0ZUZyb206ZnVuY3Rpb24odCxlLGksbixvLGEpe3lpKHRoaXMsdCxlLGksbixvLGEsITApfX07dmFyIF9pPWZ1bmN0aW9uKHQpe3ZlLmNhbGwodGhpcyx0KSxDdC5jYWxsKHRoaXMsdCksbWkuY2FsbCh0aGlzLHQpLHRoaXMuaWQ9dC5pZHx8bigpfTtfaS5wcm90b3R5cGU9e3R5cGU6ImVsZW1lbnQiLG5hbWU6IiIsX196cjpudWxsLGlnbm9yZTohMSxjbGlwUGF0aDpudWxsLGlzR3JvdXA6ITEsZHJpZnQ6ZnVuY3Rpb24odCxlKXtzd2l0Y2godGhpcy5kcmFnZ2FibGUpe2Nhc2UiaG9yaXpvbnRhbCI6ZT0wO2JyZWFrO2Nhc2UidmVydGljYWwiOnQ9MH12YXIgaT10aGlzLnRyYW5zZm9ybTsoaT1pfHwodGhpcy50cmFuc2Zvcm09WzEsMCwwLDEsMCwwXSkpWzRdKz10LGlbNV0rPWUsdGhpcy5kZWNvbXBvc2VUcmFuc2Zvcm0oKSx0aGlzLmRpcnR5KCExKX0sYmVmb3JlVXBkYXRlOmZ1bmN0aW9uKCl7fSxhZnRlclVwZGF0ZTpmdW5jdGlvbigpe30sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKX0sdHJhdmVyc2U6ZnVuY3Rpb24odCxlKXt9LGF0dHJLVjpmdW5jdGlvbih0LGUpe2lmKCJwb3NpdGlvbiI9PT10fHwic2NhbGUiPT09dHx8Im9yaWdpbiI9PT10KXtpZihlKXt2YXIgaT10aGlzW3RdOyhpPWl8fCh0aGlzW3RdPVtdKSlbMF09ZVswXSxpWzFdPWVbMV19fWVsc2UgdGhpc1t0XT1lfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmU9ITAsdGhpcy5fX3pyJiZ0aGlzLl9fenIucmVmcmVzaCgpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmU9ITEsdGhpcy5fX3pyJiZ0aGlzLl9fenIucmVmcmVzaCgpfSxhdHRyOmZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRoaXMuYXR0cktWKHQsZSk7ZWxzZSBpZihFKHQpKWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJnRoaXMuYXR0cktWKGksdFtpXSk7cmV0dXJuIHRoaXMuZGlydHkoITEpLHRoaXN9LHNldENsaXBQYXRoOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX196cjtlJiZ0LmFkZFNlbGZUb1pyKGUpLHRoaXMuY2xpcFBhdGgmJnRoaXMuY2xpcFBhdGghPT10JiZ0aGlzLnJlbW92ZUNsaXBQYXRoKCksKHRoaXMuY2xpcFBhdGg9dCkuX196cj1lLCh0Ll9fY2xpcFRhcmdldD10aGlzKS5kaXJ0eSghMSl9LHJlbW92ZUNsaXBQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jbGlwUGF0aDt0JiYodC5fX3pyJiZ0LnJlbW92ZVNlbGZGcm9tWnIodC5fX3pyKSx0Ll9fenI9bnVsbCx0Ll9fY2xpcFRhcmdldD1udWxsLHRoaXMuY2xpcFBhdGg9bnVsbCx0aGlzLmRpcnR5KCExKSl9LGFkZFNlbGZUb1pyOmZ1bmN0aW9uKHQpe3RoaXMuX196cj10O3ZhciBlPXRoaXMuYW5pbWF0b3JzO2lmKGUpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdC5hbmltYXRpb24uYWRkQW5pbWF0b3IoZVtpXSk7dGhpcy5jbGlwUGF0aCYmdGhpcy5jbGlwUGF0aC5hZGRTZWxmVG9acih0KX0scmVtb3ZlU2VsZkZyb21acjpmdW5jdGlvbih0KXt0aGlzLl9fenI9bnVsbDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQuYW5pbWF0aW9uLnJlbW92ZUFuaW1hdG9yKGVbaV0pO3RoaXMuY2xpcFBhdGgmJnRoaXMuY2xpcFBhdGgucmVtb3ZlU2VsZkZyb21acih0KX19LGIoX2ksbWkpLGIoX2ksdmUpLGIoX2ksQ3QpO3ZhciB3aSxiaSxTaSxNaSxJaT1idCxUaT1NYXRoLm1pbixBaT1NYXRoLm1heDtmdW5jdGlvbiBEaSh0LGUsaSxuKXtpPDAmJih0Kz1pLGk9LWkpLG48MCYmKGUrPW4sbj0tbiksdGhpcy54PXQsdGhpcy55PWUsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PW59RGkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpEaSx1bmlvbjpmdW5jdGlvbih0KXt2YXIgZT1UaSh0LngsdGhpcy54KSxpPVRpKHQueSx0aGlzLnkpO3RoaXMud2lkdGg9QWkodC54K3Qud2lkdGgsdGhpcy54K3RoaXMud2lkdGgpLWUsdGhpcy5oZWlnaHQ9QWkodC55K3QuaGVpZ2h0LHRoaXMueSt0aGlzLmhlaWdodCktaSx0aGlzLng9ZSx0aGlzLnk9aX0sYXBwbHlUcmFuc2Zvcm06KHdpPVtdLGJpPVtdLFNpPVtdLE1pPVtdLGZ1bmN0aW9uKHQpe2lmKHQpe3dpWzBdPVNpWzBdPXRoaXMueCx3aVsxXT1NaVsxXT10aGlzLnksYmlbMF09TWlbMF09dGhpcy54K3RoaXMud2lkdGgsYmlbMV09U2lbMV09dGhpcy55K3RoaXMuaGVpZ2h0LElpKHdpLHdpLHQpLElpKGJpLGJpLHQpLElpKFNpLFNpLHQpLElpKE1pLE1pLHQpLHRoaXMueD1UaSh3aVswXSxiaVswXSxTaVswXSxNaVswXSksdGhpcy55PVRpKHdpWzFdLGJpWzFdLFNpWzFdLE1pWzFdKTt2YXIgZT1BaSh3aVswXSxiaVswXSxTaVswXSxNaVswXSksaT1BaSh3aVsxXSxiaVsxXSxTaVsxXSxNaVsxXSk7dGhpcy53aWR0aD1lLXRoaXMueCx0aGlzLmhlaWdodD1pLXRoaXMueX19KSxjYWxjdWxhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU9dC53aWR0aC90aGlzLndpZHRoLGk9dC5oZWlnaHQvdGhpcy5oZWlnaHQsbj1hZSgpO3JldHVybiB1ZShuLG4sWy10aGlzLngsLXRoaXMueV0pLGNlKG4sbixbZSxpXSksdWUobixuLFt0LngsdC55XSksbn0saW50ZXJzZWN0OmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3QgaW5zdGFuY2VvZiBEaXx8KHQ9RGkuY3JlYXRlKHQpKTt2YXIgZT10aGlzLGk9ZS54LG49ZS54K2Uud2lkdGgsbz1lLnksYT1lLnkrZS5oZWlnaHQscj10Lngscz10LngrdC53aWR0aCxsPXQueSx1PXQueSt0LmhlaWdodDtyZXR1cm4hKG48cnx8czxpfHxhPGx8fHU8byl9LGNvbnRhaW46ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3JldHVybiB0Pj1pLngmJnQ8PWkueCtpLndpZHRoJiZlPj1pLnkmJmU8PWkueStpLmhlaWdodH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERpKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGNvcHk6ZnVuY3Rpb24odCl7dGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodH0scGxhaW46ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnksd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9fX0sRGkuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRGkodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX07dmFyIENpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0PXR8fHt9LF9pLmNhbGwodGhpcyx0KSx0KXQuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzW2VdPXRbZV0pO3RoaXMuX2NoaWxkcmVuPVtdLHRoaXMuX19zdG9yYWdlPW51bGwsdGhpcy5fX2RpcnR5PSEwfTtDaS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkNpLGlzR3JvdXA6ITAsdHlwZToiZ3JvdXAiLHNpbGVudDohMSxjaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5zbGljZSgpfSxjaGlsZEF0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX0sY2hpbGRPZk5hbWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NoaWxkcmVuLGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLm5hbWU9PT10KXJldHVybiBlW2ldfSxjaGlsZENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiYodGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0aGlzLl9kb0FkZCh0KSksdGhpc30sYWRkQmVmb3JlOmZ1bmN0aW9uKHQsZSl7aWYodCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmZSYmZS5wYXJlbnQ9PT10aGlzKXt2YXIgaT10aGlzLl9jaGlsZHJlbixuPWkuaW5kZXhPZihlKTswPD1uJiYoaS5zcGxpY2UobiwwLHQpLHRoaXMuX2RvQWRkKHQpKX1yZXR1cm4gdGhpc30sX2RvQWRkOmZ1bmN0aW9uKHQpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCk7dmFyIGU9KHQucGFyZW50PXRoaXMpLl9fc3RvcmFnZSxpPXRoaXMuX196cjtlJiZlIT09dC5fX3N0b3JhZ2UmJihlLmFkZFRvU3RvcmFnZSh0KSx0IGluc3RhbmNlb2YgQ2kmJnQuYWRkQ2hpbGRyZW5Ub1N0b3JhZ2UoZSkpLGkmJmkucmVmcmVzaCgpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyLGk9dGhpcy5fX3N0b3JhZ2Usbj10aGlzLl9jaGlsZHJlbixvPV8obix0KTtyZXR1cm4gbzwwfHwobi5zcGxpY2UobywxKSx0LnBhcmVudD1udWxsLGkmJihpLmRlbEZyb21TdG9yYWdlKHQpLHQgaW5zdGFuY2VvZiBDaSYmdC5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKGkpKSxlJiZlLnJlZnJlc2goKSksdGhpc30scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMuX2NoaWxkcmVuLG49dGhpcy5fX3N0b3JhZ2U7Zm9yKGU9MDtlPGkubGVuZ3RoO2UrKyl0PWlbZV0sbiYmKG4uZGVsRnJvbVN0b3JhZ2UodCksdCBpbnN0YW5jZW9mIENpJiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UobikpLHQucGFyZW50PW51bGw7cmV0dXJuIGkubGVuZ3RoPTAsdGhpc30sZWFjaENoaWxkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2NoaWxkcmVuLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTt0LmNhbGwoZSxvLG4pfXJldHVybiB0aGlzfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5fY2hpbGRyZW5baV07dC5jYWxsKGUsbiksImdyb3VwIj09PW4udHlwZSYmbi50cmF2ZXJzZSh0LGUpfXJldHVybiB0aGlzfSxhZGRDaGlsZHJlblRvU3RvcmFnZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX2NoaWxkcmVuW2VdO3QuYWRkVG9TdG9yYWdlKGkpLGkgaW5zdGFuY2VvZiBDaSYmaS5hZGRDaGlsZHJlblRvU3RvcmFnZSh0KX19LGRlbENoaWxkcmVuRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9jaGlsZHJlbltlXTt0LmRlbEZyb21TdG9yYWdlKGkpLGkgaW5zdGFuY2VvZiBDaSYmaS5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHQpfX0sZGlydHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2RpcnR5PSEwLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKSx0aGlzfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsaT1uZXcgRGkoMCwwLDAsMCksbj10fHx0aGlzLl9jaGlsZHJlbixvPVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHI9blthXTtpZighci5pZ25vcmUmJiFyLmludmlzaWJsZSl7dmFyIHM9ci5nZXRCb3VuZGluZ1JlY3QoKSxsPXIuZ2V0TG9jYWxUcmFuc2Zvcm0obyk7bD8oaS5jb3B5KHMpLGkuYXBwbHlUcmFuc2Zvcm0obCksKGU9ZXx8aS5jbG9uZSgpKS51bmlvbihpKSk6KGU9ZXx8cy5jbG9uZSgpKS51bmlvbihzKX19cmV0dXJuIGV8fGl9fSx3KENpLF9pKTt2YXIgTGk9MzIsa2k9NztmdW5jdGlvbiBQaSh0LGUsaSxuKXt2YXIgbz1lKzE7aWYobz09PWkpcmV0dXJuIDE7aWYobih0W28rK10sdFtlXSk8MCl7Zm9yKDtvPGkmJm4odFtvXSx0W28tMV0pPDA7KW8rKzshZnVuY3Rpb24odCxlLGkpe2ktLTtmb3IoO2U8aTspe3ZhciBuPXRbZV07dFtlKytdPXRbaV0sdFtpLS1dPW59fSh0LGUsbyl9ZWxzZSBmb3IoO288aSYmMDw9bih0W29dLHRbby0xXSk7KW8rKztyZXR1cm4gby1lfWZ1bmN0aW9uIE5pKHQsZSxpLG4sbyl7Zm9yKG49PT1lJiZuKys7bjxpO24rKyl7Zm9yKHZhciBhLHI9dFtuXSxzPWUsbD1uO3M8bDspbyhyLHRbYT1zK2w+Pj4xXSk8MD9sPWE6cz0xK2E7dmFyIHU9bi1zO3N3aXRjaCh1KXtjYXNlIDM6dFtzKzNdPXRbcysyXTtjYXNlIDI6dFtzKzJdPXRbcysxXTtjYXNlIDE6dFtzKzFdPXRbc107YnJlYWs7ZGVmYXVsdDpmb3IoOzA8dTspdFtzK3VdPXRbcyt1LTFdLHUtLX10W3NdPXJ9fWZ1bmN0aW9uIE9pKHQsZSxpLG4sbyxhKXt2YXIgcj0wLHM9MCxsPTE7aWYoMDxhKHQsZVtpK29dKSl7Zm9yKHM9bi1vO2w8cyYmMDxhKHQsZVtpK28rbF0pOykobD0xKygocj1sKTw8MSkpPD0wJiYobD1zKTtzPGwmJihsPXMpLHIrPW8sbCs9b31lbHNle2ZvcihzPW8rMTtsPHMmJmEodCxlW2krby1sXSk8PTA7KShsPTErKChyPWwpPDwxKSk8PTAmJihsPXMpO3M8bCYmKGw9cyk7dmFyIHU9cjtyPW8tbCxsPW8tdX1mb3IocisrO3I8bDspe3ZhciBoPXIrKGwtcj4+PjEpOzA8YSh0LGVbaStoXSk/cj1oKzE6bD1ofXJldHVybiBsfWZ1bmN0aW9uIFJpKHQsZSxpLG4sbyxhKXt2YXIgcj0wLHM9MCxsPTE7aWYoYSh0LGVbaStvXSk8MCl7Zm9yKHM9bysxO2w8cyYmYSh0LGVbaStvLWxdKTwwOykobD0xKygocj1sKTw8MSkpPD0wJiYobD1zKTtzPGwmJihsPXMpO3ZhciB1PXI7cj1vLWwsbD1vLXV9ZWxzZXtmb3Iocz1uLW87bDxzJiYwPD1hKHQsZVtpK28rbF0pOykobD0xKygocj1sKTw8MSkpPD0wJiYobD1zKTtzPGwmJihsPXMpLHIrPW8sbCs9b31mb3IocisrO3I8bDspe3ZhciBoPXIrKGwtcj4+PjEpO2EodCxlW2kraF0pPDA/bD1oOnI9aCsxfXJldHVybiBsfWZ1bmN0aW9uIHppKHAsZyl7dmFyIHIscyxtPWtpLGw9MCx2PVtdO2Z1bmN0aW9uIGUodCl7dmFyIGU9clt0XSxpPXNbdF0sbj1yW3QrMV0sbz1zW3QrMV07c1t0XT1pK28sdD09PWwtMyYmKHJbdCsxXT1yW3QrMl0sc1t0KzFdPXNbdCsyXSksbC0tO3ZhciBhPVJpKHBbbl0scCxlLGksMCxnKTtlKz1hLDAhPT0oaS09YSkmJjAhPT0obz1PaShwW2UraS0xXSxwLG4sbyxvLTEsZykpJiYoaTw9bz9mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0wO2ZvcihvPTA7bzxlO28rKyl2W29dPXBbdCtvXTt2YXIgYT0wLHI9aSxzPXQ7aWYocFtzKytdPXBbcisrXSwwPT0tLW4pe2ZvcihvPTA7bzxlO28rKylwW3Mrb109dlthK29dO3JldHVybn1pZigxPT09ZSl7Zm9yKG89MDtvPG47bysrKXBbcytvXT1wW3Irb107cmV0dXJuIHBbcytuXT12W2FdfXZhciBsLHUsaCxjPW07Zm9yKDs7KXt1PWw9MCxoPSExO2Rve2lmKGcocFtyXSx2W2FdKTwwKXtpZihwW3MrK109cFtyKytdLHUrKywobD0wKT09LS1uKXtoPSEwO2JyZWFrfX1lbHNlIGlmKHBbcysrXT12W2ErK10sbCsrLHU9MCwxPT0tLWUpe2g9ITA7YnJlYWt9fXdoaWxlKChsfHUpPGMpO2lmKGgpYnJlYWs7ZG97aWYoMCE9PShsPVJpKHBbcl0sdixhLGUsMCxnKSkpe2ZvcihvPTA7bzxsO28rKylwW3Mrb109dlthK29dO2lmKHMrPWwsYSs9bCwoZS09bCk8PTEpe2g9ITA7YnJlYWt9fWlmKHBbcysrXT1wW3IrK10sMD09LS1uKXtoPSEwO2JyZWFrfWlmKDAhPT0odT1PaSh2W2FdLHAscixuLDAsZykpKXtmb3Iobz0wO288dTtvKyspcFtzK29dPXBbcitvXTtpZihzKz11LHIrPXUsMD09PShuLT11KSl7aD0hMDticmVha319aWYocFtzKytdPXZbYSsrXSwxPT0tLWUpe2g9ITA7YnJlYWt9Yy0tfXdoaWxlKGtpPD1sfHxraTw9dSk7aWYoaClicmVhaztjPDAmJihjPTApLGMrPTJ9aWYoKG09Yyk8MSYmKG09MSksMT09PWUpe2ZvcihvPTA7bzxuO28rKylwW3Mrb109cFtyK29dO3BbcytuXT12W2FdfWVsc2V7aWYoMD09PWUpdGhyb3cgbmV3IEVycm9yO2ZvcihvPTA7bzxlO28rKylwW3Mrb109dlthK29dfX0oZSxpLG4sbyk6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89MDtmb3Iobz0wO288bjtvKyspdltvXT1wW2krb107dmFyIGE9dCtlLTEscj1uLTEscz1pK24tMSxsPTAsdT0wO2lmKHBbcy0tXT1wW2EtLV0sMD09LS1lKXtmb3IobD1zLShuLTEpLG89MDtvPG47bysrKXBbbCtvXT12W29dO3JldHVybn1pZigxPT09bil7Zm9yKHU9KHMtPWUpKzEsbD0oYS09ZSkrMSxvPWUtMTswPD1vO28tLSlwW3Urb109cFtsK29dO3JldHVybiBwW3NdPXZbcl19dmFyIGg9bTtmb3IoOzspe3ZhciBjPTAsZD0wLGY9ITE7ZG97aWYoZyh2W3JdLHBbYV0pPDApe2lmKHBbcy0tXT1wW2EtLV0sYysrLChkPTApPT0tLWUpe2Y9ITA7YnJlYWt9fWVsc2UgaWYocFtzLS1dPXZbci0tXSxkKyssYz0wLDE9PS0tbil7Zj0hMDticmVha319d2hpbGUoKGN8ZCk8aCk7aWYoZilicmVhaztkb3tpZigwIT09KGM9ZS1SaSh2W3JdLHAsdCxlLGUtMSxnKSkpe2ZvcihlLT1jLHU9KHMtPWMpKzEsbD0oYS09YykrMSxvPWMtMTswPD1vO28tLSlwW3Urb109cFtsK29dO2lmKDA9PT1lKXtmPSEwO2JyZWFrfX1pZihwW3MtLV09dltyLS1dLDE9PS0tbil7Zj0hMDticmVha31pZigwIT09KGQ9bi1PaShwW2FdLHYsMCxuLG4tMSxnKSkpe2ZvcihuLT1kLHU9KHMtPWQpKzEsbD0oci09ZCkrMSxvPTA7bzxkO28rKylwW3Urb109dltsK29dO2lmKG48PTEpe2Y9ITA7YnJlYWt9fWlmKHBbcy0tXT1wW2EtLV0sMD09LS1lKXtmPSEwO2JyZWFrfWgtLX13aGlsZShraTw9Y3x8a2k8PWQpO2lmKGYpYnJlYWs7aDwwJiYoaD0wKSxoKz0yfShtPWgpPDEmJihtPTEpO2lmKDE9PT1uKXtmb3IodT0ocy09ZSkrMSxsPShhLT1lKSsxLG89ZS0xOzA8PW87by0tKXBbdStvXT1wW2wrb107cFtzXT12W3JdfWVsc2V7aWYoMD09PW4pdGhyb3cgbmV3IEVycm9yO2ZvcihsPXMtKG4tMSksbz0wO288bjtvKyspcFtsK29dPXZbb119fShlLGksbixvKSl9cj1bXSxzPVtdLHRoaXMubWVyZ2VSdW5zPWZ1bmN0aW9uKCl7Zm9yKDsxPGw7KXt2YXIgdD1sLTI7aWYoMTw9dCYmc1t0LTFdPD1zW3RdK3NbdCsxXXx8Mjw9dCYmc1t0LTJdPD1zW3RdK3NbdC0xXSlzW3QtMV08c1t0KzFdJiZ0LS07ZWxzZSBpZihzW3RdPnNbdCsxXSlicmVhaztlKHQpfX0sdGhpcy5mb3JjZU1lcmdlUnVucz1mdW5jdGlvbigpe2Zvcig7MTxsOyl7dmFyIHQ9bC0yOzA8dCYmc1t0LTFdPHNbdCsxXSYmdC0tLGUodCl9fSx0aGlzLnB1c2hSdW49ZnVuY3Rpb24odCxlKXtyW2xdPXQsc1tsXT1lLGwrPTF9fWZ1bmN0aW9uIEVpKHQsZSxpLG4pe2k9aXx8MDt2YXIgbz0obj1ufHx0Lmxlbmd0aCktaTtpZighKG88Mikpe3ZhciBhPTA7aWYobzxMaSlOaSh0LGksbixpKyhhPVBpKHQsaSxuLGUpKSxlKTtlbHNle3ZhciByPW5ldyB6aSh0LGUpLHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7TGk8PXQ7KWV8PTEmdCx0Pj49MTtyZXR1cm4gdCtlfShvKTtkb3tpZigoYT1QaSh0LGksbixlKSk8cyl7dmFyIGw9bztzPGwmJihsPXMpLE5pKHQsaSxpK2wsaSthLGUpLGE9bH1yLnB1c2hSdW4oaSxhKSxyLm1lcmdlUnVucygpLG8tPWEsaSs9YX13aGlsZSgwIT09byk7ci5mb3JjZU1lcmdlUnVucygpfX19ZnVuY3Rpb24gQmkodCxlKXtyZXR1cm4gdC56bGV2ZWw9PT1lLnpsZXZlbD90Lno9PT1lLno/dC56Mi1lLnoyOnQuei1lLno6dC56bGV2ZWwtZS56bGV2ZWx9ZnVuY3Rpb24gVmkoKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wfVZpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VmksdHJhdmVyc2U6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX3Jvb3RzLmxlbmd0aDtpKyspdGhpcy5fcm9vdHNbaV0udHJhdmVyc2UodCxlKX0sZ2V0RGlzcGxheUxpc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwhMSx0JiZ0aGlzLnVwZGF0ZURpc3BsYXlMaXN0KGUpLHRoaXMuX2Rpc3BsYXlMaXN0fSx1cGRhdGVEaXNwbGF5TGlzdDpmdW5jdGlvbih0KXt0aGlzLl9kaXNwbGF5TGlzdExlbj0wO2Zvcih2YXIgZT10aGlzLl9yb290cyxpPXRoaXMuX2Rpc3BsYXlMaXN0LG49MCxvPWUubGVuZ3RoO248bztuKyspdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUoZVtuXSxudWxsLHQpO2kubGVuZ3RoPXRoaXMuX2Rpc3BsYXlMaXN0TGVuLHYuY2FudmFzU3VwcG9ydGVkJiZFaShpLEJpKX0sX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlOmZ1bmN0aW9uKHQsZSxpKXtpZighdC5pZ25vcmV8fGkpe3QuYmVmb3JlVXBkYXRlKCksdC5fX2RpcnR5JiZ0LnVwZGF0ZSgpLHQuYWZ0ZXJVcGRhdGUoKTt2YXIgbj10LmNsaXBQYXRoO2lmKG4pe2U9ZT9lLnNsaWNlKCk6W107Zm9yKHZhciBvPW4sYT10O287KW8ucGFyZW50PWEsby51cGRhdGVUcmFuc2Zvcm0oKSxlLnB1c2gobyksbz0oYT1vKS5jbGlwUGF0aH1pZih0LmlzR3JvdXApe2Zvcih2YXIgcj10Ll9jaGlsZHJlbixzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBsPXJbc107dC5fX2RpcnR5JiYobC5fX2RpcnR5PSEwKSx0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShsLGUsaSl9dC5fX2RpcnR5PSExfWVsc2UgdC5fX2NsaXBQYXRocz1lLHRoaXMuX2Rpc3BsYXlMaXN0W3RoaXMuX2Rpc3BsYXlMaXN0TGVuKytdPXR9fSxhZGRSb290OmZ1bmN0aW9uKHQpe3QuX19zdG9yYWdlIT09dGhpcyYmKHQgaW5zdGFuY2VvZiBDaSYmdC5hZGRDaGlsZHJlblRvU3RvcmFnZSh0aGlzKSx0aGlzLmFkZFRvU3RvcmFnZSh0KSx0aGlzLl9yb290cy5wdXNoKHQpKX0sZGVsUm9vdDpmdW5jdGlvbih0KXtpZihudWxsPT10KXtmb3IodmFyIGU9MDtlPHRoaXMuX3Jvb3RzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX3Jvb3RzW2VdO2kgaW5zdGFuY2VvZiBDaSYmaS5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHRoaXMpfXJldHVybiB0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx2b2lkKHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTApfWlmKHQgaW5zdGFuY2VvZiBBcnJheSl7ZT0wO2Zvcih2YXIgbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuZGVsUm9vdCh0W2VdKX1lbHNle3ZhciBvPV8odGhpcy5fcm9vdHMsdCk7MDw9byYmKHRoaXMuZGVsRnJvbVN0b3JhZ2UodCksdGhpcy5fcm9vdHMuc3BsaWNlKG8sMSksdCBpbnN0YW5jZW9mIENpJiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UodGhpcykpfX0sYWRkVG9TdG9yYWdlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5fX3N0b3JhZ2U9dGhpcyx0LmRpcnR5KCExKSksdGhpc30sZGVsRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0Ll9fc3RvcmFnZT1udWxsKSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyTGlzdD10aGlzLl9yb290cz1udWxsfSxkaXNwbGF5YWJsZVNvcnRGdW5jOkJpfTt2YXIgR2k9e3NoYWRvd0JsdXI6MSxzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHRleHRTaGFkb3dCbHVyOjEsdGV4dFNoYWRvd09mZnNldFg6MSx0ZXh0U2hhZG93T2Zmc2V0WToxLHRleHRCb3hTaGFkb3dCbHVyOjEsdGV4dEJveFNoYWRvd09mZnNldFg6MSx0ZXh0Qm94U2hhZG93T2Zmc2V0WToxfSxGaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIEdpLmhhc093blByb3BlcnR5KGUpP2kqdC5kcHI6aX0sV2k9e05PTkU6MCxTVFlMRV9CSU5EOjEsUExBSU5fVEVYVDoyfSxIaT05LFppPVtbInNoYWRvd0JsdXIiLDBdLFsic2hhZG93T2Zmc2V0WCIsMF0sWyJzaGFkb3dPZmZzZXRZIiwwXSxbInNoYWRvd0NvbG9yIiwiIzAwMCJdLFsibGluZUNhcCIsImJ1dHQiXSxbImxpbmVKb2luIiwibWl0ZXIiXSxbIm1pdGVyTGltaXQiLDEwXV0sVWk9ZnVuY3Rpb24odCl7dGhpcy5leHRlbmRGcm9tKHQsITEpfTtmdW5jdGlvbiBYaSh0LGUsaSl7dmFyIG49bnVsbD09ZS54PzA6ZS54LG89bnVsbD09ZS54Mj8xOmUueDIsYT1udWxsPT1lLnk/MDplLnkscj1udWxsPT1lLnkyPzA6ZS55MjtyZXR1cm4gZS5nbG9iYWx8fChuPW4qaS53aWR0aCtpLngsbz1vKmkud2lkdGgraS54LGE9YSppLmhlaWdodCtpLnkscj1yKmkuaGVpZ2h0K2kueSksbj1pc05hTihuKT8wOm4sbz1pc05hTihvKT8xOm8sYT1pc05hTihhKT8wOmEscj1pc05hTihyKT8wOnIsdC5jcmVhdGVMaW5lYXJHcmFkaWVudChuLGEsbyxyKX1mdW5jdGlvbiBZaSh0LGUsaSl7dmFyIG49aS53aWR0aCxvPWkuaGVpZ2h0LGE9TWF0aC5taW4obixvKSxyPW51bGw9PWUueD8uNTplLngscz1udWxsPT1lLnk/LjU6ZS55LGw9bnVsbD09ZS5yPy41OmUucjtyZXR1cm4gZS5nbG9iYWx8fChyPXIqbitpLngscz1zKm8raS55LGwqPWEpLHQuY3JlYXRlUmFkaWFsR3JhZGllbnQocixzLDAscixzLGwpfVVpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VWksZmlsbDoiIzAwMCIsc3Ryb2tlOm51bGwsb3BhY2l0eToxLGZpbGxPcGFjaXR5Om51bGwsc3Ryb2tlT3BhY2l0eTpudWxsLGxpbmVEYXNoOm51bGwsbGluZURhc2hPZmZzZXQ6MCxzaGFkb3dCbHVyOjAsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxsaW5lV2lkdGg6MSxzdHJva2VOb1NjYWxlOiExLHRleHQ6bnVsbCxmb250Om51bGwsdGV4dEZvbnQ6bnVsbCxmb250U3R5bGU6bnVsbCxmb250V2VpZ2h0Om51bGwsZm9udFNpemU6bnVsbCxmb250RmFtaWx5Om51bGwsdGV4dFRhZzpudWxsLHRleHRGaWxsOiIjMDAwIix0ZXh0U3Ryb2tlOm51bGwsdGV4dFdpZHRoOm51bGwsdGV4dEhlaWdodDpudWxsLHRleHRTdHJva2VXaWR0aDowLHRleHRMaW5lSGVpZ2h0Om51bGwsdGV4dFBvc2l0aW9uOiJpbnNpZGUiLHRleHRSZWN0Om51bGwsdGV4dE9mZnNldDpudWxsLHRleHRBbGlnbjpudWxsLHRleHRWZXJ0aWNhbEFsaWduOm51bGwsdGV4dERpc3RhbmNlOjUsdGV4dFNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsdGV4dFNoYWRvd0JsdXI6MCx0ZXh0U2hhZG93T2Zmc2V0WDowLHRleHRTaGFkb3dPZmZzZXRZOjAsdGV4dEJveFNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsdGV4dEJveFNoYWRvd0JsdXI6MCx0ZXh0Qm94U2hhZG93T2Zmc2V0WDowLHRleHRCb3hTaGFkb3dPZmZzZXRZOjAsdHJhbnNmb3JtVGV4dDohMSx0ZXh0Um90YXRpb246MCx0ZXh0T3JpZ2luOm51bGwsdGV4dEJhY2tncm91bmRDb2xvcjpudWxsLHRleHRCb3JkZXJDb2xvcjpudWxsLHRleHRCb3JkZXJXaWR0aDowLHRleHRCb3JkZXJSYWRpdXM6MCx0ZXh0UGFkZGluZzpudWxsLHJpY2g6bnVsbCx0cnVuY2F0ZTpudWxsLGJsZW5kOm51bGwsYmluZDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcyxvPWkmJmkuc3R5bGUsYT0hb3x8dC5fX2F0dHJDYWNoZWRCeSE9PVdpLlNUWUxFX0JJTkQ7dC5fX2F0dHJDYWNoZWRCeT1XaS5TVFlMRV9CSU5EO2Zvcih2YXIgcj0wO3I8WmkubGVuZ3RoO3IrKyl7dmFyIHM9Wmlbcl0sbD1zWzBdOyFhJiZuW2xdPT09b1tsXXx8KHRbbF09RmkodCxsLG5bbF18fHNbMV0pKX1pZighYSYmbi5maWxsPT09by5maWxsfHwodC5maWxsU3R5bGU9bi5maWxsKSwhYSYmbi5zdHJva2U9PT1vLnN0cm9rZXx8KHQuc3Ryb2tlU3R5bGU9bi5zdHJva2UpLCFhJiZuLm9wYWNpdHk9PT1vLm9wYWNpdHl8fCh0Lmdsb2JhbEFscGhhPW51bGw9PW4ub3BhY2l0eT8xOm4ub3BhY2l0eSksIWEmJm4uYmxlbmQ9PT1vLmJsZW5kfHwodC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249bi5ibGVuZHx8InNvdXJjZS1vdmVyIiksdGhpcy5oYXNTdHJva2UoKSl7dmFyIHU9bi5saW5lV2lkdGg7dC5saW5lV2lkdGg9dS8odGhpcy5zdHJva2VOb1NjYWxlJiZlJiZlLmdldExpbmVTY2FsZT9lLmdldExpbmVTY2FsZSgpOjEpfX0saGFzRmlsbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZmlsbDtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dH0saGFzU3Ryb2tlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHJva2U7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9PXQmJjA8dGhpcy5saW5lV2lkdGh9LGV4dGVuZEZyb206ZnVuY3Rpb24odCxlKXtpZih0KWZvcih2YXIgaSBpbiB0KSF0Lmhhc093blByb3BlcnR5KGkpfHwhMCE9PWUmJighMT09PWU/dGhpcy5oYXNPd25Qcm9wZXJ0eShpKTpudWxsPT10W2ldKXx8KHRoaXNbaV09dFtpXSl9LHNldDpmdW5jdGlvbih0LGUpeyJzdHJpbmciPT10eXBlb2YgdD90aGlzW3RdPWU6dGhpcy5leHRlbmRGcm9tKHQsITApfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0LmV4dGVuZEZyb20odGhpcywhMCksdH0sZ2V0R3JhZGllbnQ6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj0oInJhZGlhbCI9PT1lLnR5cGU/WWk6WGkpKHQsZSxpKSxvPWUuY29sb3JTdG9wcyxhPTA7YTxvLmxlbmd0aDthKyspbi5hZGRDb2xvclN0b3Aob1thXS5vZmZzZXQsb1thXS5jb2xvcik7cmV0dXJuIG59fTtmb3IodmFyIGppPVVpLnByb3RvdHlwZSxxaT0wO3FpPFppLmxlbmd0aDtxaSsrKXt2YXIgS2k9WmlbcWldO0tpWzBdaW4gaml8fChqaVtLaVswXV09S2lbMV0pfVVpLmdldEdyYWRpZW50PWppLmdldEdyYWRpZW50O2Z1bmN0aW9uICRpKHQsZSl7dGhpcy5pbWFnZT10LHRoaXMucmVwZWF0PWUsdGhpcy50eXBlPSJwYXR0ZXJuIn1mdW5jdGlvbiBKaSgpe3JldHVybiExfWZ1bmN0aW9uIFFpKHQsZSxpKXt2YXIgbj15KCksbz1lLmdldFdpZHRoKCksYT1lLmdldEhlaWdodCgpLHI9bi5zdHlsZTtyZXR1cm4gciYmKHIucG9zaXRpb249ImFic29sdXRlIixyLmxlZnQ9MCxyLnRvcD0wLHIud2lkdGg9bysicHgiLHIuaGVpZ2h0PWErInB4IixuLnNldEF0dHJpYnV0ZSgiZGF0YS16ci1kb20taWQiLHQpKSxuLndpZHRoPW8qaSxuLmhlaWdodD1hKmksbn1mdW5jdGlvbiB0bih0LGUsaSl7dmFyIG47aT1pfHxwaSwic3RyaW5nIj09dHlwZW9mIHQ/bj1RaSh0LGUsaSk6RSh0KSYmKHQ9KG49dCkuaWQpLHRoaXMuaWQ9dDt2YXIgbz0odGhpcy5kb209bikuc3R5bGU7byYmKG4ub25zZWxlY3RzdGFydD1KaSxvWyItd2Via2l0LXVzZXItc2VsZWN0Il09Im5vbmUiLG9bInVzZXItc2VsZWN0Il09Im5vbmUiLG9bIi13ZWJraXQtdG91Y2gtY2FsbG91dCJdPSJub25lIixvWyItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiXT0icmdiYSgwLDAsMCwwKSIsby5wYWRkaW5nPTAsby5tYXJnaW49MCxvWyJib3JkZXItd2lkdGgiXT0wKSx0aGlzLmRvbUJhY2s9bnVsbCx0aGlzLmN0eEJhY2s9bnVsbCx0aGlzLnBhaW50ZXI9ZSx0aGlzLmNvbmZpZz1udWxsLHRoaXMuY2xlYXJDb2xvcj0wLHRoaXMubW90aW9uQmx1cj0hMSx0aGlzLmxhc3RGcmFtZUFscGhhPS43LHRoaXMuZHByPWl9dG4ucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp0bixfX2RpcnR5OiEwLF9fdXNlZDohKCRpLnByb3RvdHlwZS5nZXRDYW52YXNQYXR0ZXJuPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZVBhdHRlcm4odGhpcy5pbWFnZSx0aGlzLnJlcGVhdHx8InJlcGVhdCIpfSksX19kcmF3SW5kZXg6MCxfX3N0YXJ0SW5kZXg6MCxfX2VuZEluZGV4OjAsaW5jcmVtZW50YWw6ITEsZ2V0RWxlbWVudENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19lbmRJbmRleC10aGlzLl9fc3RhcnRJbmRleH0saW5pdENvbnRleHQ6ZnVuY3Rpb24oKXt0aGlzLmN0eD10aGlzLmRvbS5nZXRDb250ZXh0KCIyZCIpLHRoaXMuY3R4LmRwcj10aGlzLmRwcn0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1RaSgiYmFjay0iK3RoaXMuaWQsdGhpcy5wYWludGVyLHQpLHRoaXMuY3R4QmFjaz10aGlzLmRvbUJhY2suZ2V0Q29udGV4dCgiMmQiKSwxIT09dCYmdGhpcy5jdHhCYWNrLnNjYWxlKHQsdCl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZHByLG49dGhpcy5kb20sbz1uLnN0eWxlLGE9dGhpcy5kb21CYWNrO28mJihvLndpZHRoPXQrInB4IixvLmhlaWdodD1lKyJweCIpLG4ud2lkdGg9dCppLG4uaGVpZ2h0PWUqaSxhJiYoYS53aWR0aD10KmksYS5oZWlnaHQ9ZSppLDEhPT1pJiZ0aGlzLmN0eEJhY2suc2NhbGUoaSxpKSl9LGNsZWFyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbj10aGlzLmRvbSxvPXRoaXMuY3R4LGE9bi53aWR0aCxyPW4uaGVpZ2h0LHM9KGU9ZXx8dGhpcy5jbGVhckNvbG9yLHRoaXMubW90aW9uQmx1ciYmIXQpLGw9dGhpcy5sYXN0RnJhbWVBbHBoYSx1PXRoaXMuZHByO3MmJih0aGlzLmRvbUJhY2t8fHRoaXMuY3JlYXRlQmFja0J1ZmZlcigpLHRoaXMuY3R4QmFjay5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImNvcHkiLHRoaXMuY3R4QmFjay5kcmF3SW1hZ2UobiwwLDAsYS91LHIvdSkpLG8uY2xlYXJSZWN0KDAsMCxhLHIpLGUmJiJ0cmFuc3BhcmVudCIhPT1lJiYoZS5jb2xvclN0b3BzPyhpPWUuX19jYW52YXNHcmFkaWVudHx8VWkuZ2V0R3JhZGllbnQobyxlLHt4OjAseTowLHdpZHRoOmEsaGVpZ2h0OnJ9KSxlLl9fY2FudmFzR3JhZGllbnQ9aSk6ZS5pbWFnZSYmKGk9JGkucHJvdG90eXBlLmdldENhbnZhc1BhdHRlcm4uY2FsbChlLG8pKSxvLnNhdmUoKSxvLmZpbGxTdHlsZT1pfHxlLG8uZmlsbFJlY3QoMCwwLGEsciksby5yZXN0b3JlKCkpO2lmKHMpe3ZhciBoPXRoaXMuZG9tQmFjaztvLnNhdmUoKSxvLmdsb2JhbEFscGhhPWwsby5kcmF3SW1hZ2UoaCwwLDAsYSxyKSxvLnJlc3RvcmUoKX19fTt2YXIgZW49InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZ3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZ3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lKXx8ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDE2KX0sbm49bmV3IFRlKDUwKTtmdW5jdGlvbiBvbih0KXtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGU9bm4uZ2V0KHQpO3JldHVybiBlJiZlLmltYWdlfWZ1bmN0aW9uIGFuKHQsZSxpLG4sbyl7aWYodCl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiB0O2lmKGUmJmUuX196ckltYWdlU3JjPT09dHx8IWkpcmV0dXJuIGU7dmFyIGE9bm4uZ2V0KHQpLHI9e2hvc3RFbDppLGNiOm4sY2JQYXlsb2FkOm99O3JldHVybiBhP3NuKGU9YS5pbWFnZSl8fGEucGVuZGluZy5wdXNoKHIpOigoZT1uZXcgSW1hZ2UpLm9ubG9hZD1lLm9uZXJyb3I9cm4sbm4ucHV0KHQsZS5fX2NhY2hlZEltZ09iaj17aW1hZ2U6ZSxwZW5kaW5nOltyXX0pLGUuc3JjPWUuX196ckltYWdlU3JjPXQpLGV9cmV0dXJuIGV9ZnVuY3Rpb24gcm4oKXt2YXIgdD10aGlzLl9fY2FjaGVkSW1nT2JqO3RoaXMub25sb2FkPXRoaXMub25lcnJvcj10aGlzLl9fY2FjaGVkSW1nT2JqPW51bGw7Zm9yKHZhciBlPTA7ZTx0LnBlbmRpbmcubGVuZ3RoO2UrKyl7dmFyIGk9dC5wZW5kaW5nW2VdLG49aS5jYjtuJiZuKHRoaXMsaS5jYlBheWxvYWQpLGkuaG9zdEVsLmRpcnR5KCl9dC5wZW5kaW5nLmxlbmd0aD0wfWZ1bmN0aW9uIHNuKHQpe3JldHVybiB0JiZ0LndpZHRoJiZ0LmhlaWdodH12YXIgbG49e30sdW49MCxobj01ZTMsY249L1x7KFthLXpBLVowLTlfXSspXHwoW159XSopXH0vZyxkbj0iMTJweCBzYW5zLXNlcmlmIixmbj17fTtmdW5jdGlvbiBwbih0LGUpe3ZhciBpPXQrIjoiKyhlPWV8fGRuKTtpZihsbltpXSlyZXR1cm4gbG5baV07Zm9yKHZhciBuLG8sYT0odCsiIikuc3BsaXQoIlxuIikscj0wLHM9MCxsPWEubGVuZ3RoO3M8bDtzKyspcj1NYXRoLm1heCgobj1hW3NdLG89ZSxmbi5tZWFzdXJlVGV4dChuLG8pKS53aWR0aCxyKTtyZXR1cm4gaG48dW4mJih1bj0wLGxuPXt9KSx1bisrLGxuW2ldPXJ9ZnVuY3Rpb24gZ24odCxlLGksbixvLGEscixzKXtyZXR1cm4gcj9mdW5jdGlvbih0LGUsaSxuLG8sYSxyLHMpe3ZhciBsPUluKHQse3JpY2g6cix0cnVuY2F0ZTpzLGZvbnQ6ZSx0ZXh0QWxpZ246aSx0ZXh0UGFkZGluZzpvLHRleHRMaW5lSGVpZ2h0OmF9KSx1PWwub3V0ZXJXaWR0aCxoPWwub3V0ZXJIZWlnaHQsYz1tbigwLHUsaSksZD12bigwLGgsbik7cmV0dXJuIG5ldyBEaShjLGQsdSxoKX0odCxlLGksbixvLGEscixzKTpmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXt2YXIgcz1Nbih0LGUsbyxhLHIpLGw9cG4odCxlKTtvJiYobCs9b1sxXStvWzNdKTt2YXIgdT1zLm91dGVySGVpZ2h0LGg9bW4oMCxsLGkpLGM9dm4oMCx1LG4pLGQ9bmV3IERpKGgsYyxsLHUpO3JldHVybiBkLmxpbmVIZWlnaHQ9cy5saW5lSGVpZ2h0LGR9KHQsZSxpLG4sbyxhLHMpfWZ1bmN0aW9uIG1uKHQsZSxpKXtyZXR1cm4icmlnaHQiPT09aT90LT1lOiJjZW50ZXIiPT09aSYmKHQtPWUvMiksdH1mdW5jdGlvbiB2bih0LGUsaSl7cmV0dXJuIm1pZGRsZSI9PT1pP3QtPWUvMjoiYm90dG9tIj09PWkmJih0LT1lKSx0fWZ1bmN0aW9uIHluKHQsZSxpKXt2YXIgbj1lLnRleHRQb3NpdGlvbixvPWUudGV4dERpc3RhbmNlLGE9aS54LHI9aS55O289b3x8MDt2YXIgcz1pLmhlaWdodCxsPWkud2lkdGgsdT1zLzIsaD0ibGVmdCIsYz0idG9wIjtzd2l0Y2gobil7Y2FzZSJsZWZ0IjphLT1vLHIrPXUsaD0icmlnaHQiLGM9Im1pZGRsZSI7YnJlYWs7Y2FzZSJyaWdodCI6YSs9bytsLHIrPXUsYz0ibWlkZGxlIjticmVhaztjYXNlInRvcCI6YSs9bC8yLHItPW8saD0iY2VudGVyIixjPSJib3R0b20iO2JyZWFrO2Nhc2UiYm90dG9tIjphKz1sLzIscis9cytvLGg9ImNlbnRlciI7YnJlYWs7Y2FzZSJpbnNpZGUiOmErPWwvMixyKz11LGg9ImNlbnRlciIsYz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZUxlZnQiOmErPW8scis9dSxjPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlUmlnaHQiOmErPWwtbyxyKz11LGg9InJpZ2h0IixjPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlVG9wIjphKz1sLzIscis9byxoPSJjZW50ZXIiO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tIjphKz1sLzIscis9cy1vLGg9ImNlbnRlciIsYz0iYm90dG9tIjticmVhaztjYXNlImluc2lkZVRvcExlZnQiOmErPW8scis9bzticmVhaztjYXNlImluc2lkZVRvcFJpZ2h0IjphKz1sLW8scis9byxoPSJyaWdodCI7YnJlYWs7Y2FzZSJpbnNpZGVCb3R0b21MZWZ0IjphKz1vLHIrPXMtbyxjPSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tUmlnaHQiOmErPWwtbyxyKz1zLW8saD0icmlnaHQiLGM9ImJvdHRvbSJ9cmV0dXJuKHQ9dHx8e30pLng9YSx0Lnk9cix0LnRleHRBbGlnbj1oLHQudGV4dFZlcnRpY2FsQWxpZ249Yyx0fWZ1bmN0aW9uIHhuKHQsZSxpLG4sbyl7aWYoIWUpcmV0dXJuIiI7dmFyIGE9KHQrIiIpLnNwbGl0KCJcbiIpO289X24oZSxpLG4sbyk7Zm9yKHZhciByPTAscz1hLmxlbmd0aDtyPHM7cisrKWFbcl09d24oYVtyXSxvKTtyZXR1cm4gYS5qb2luKCJcbiIpfWZ1bmN0aW9uIF9uKHQsZSxpLG4peyhuPVAoe30sbikpLmZvbnQ9ZTtpPUgoaSwiLi4uIik7bi5tYXhJdGVyYXRpb25zPUgobi5tYXhJdGVyYXRpb25zLDIpO3ZhciBvPW4ubWluQ2hhcj1IKG4ubWluQ2hhciwwKTtuLmNuQ2hhcldpZHRoPXBuKCLlm70iLGUpO3ZhciBhPW4uYXNjQ2hhcldpZHRoPXBuKCJhIixlKTtuLnBsYWNlaG9sZGVyPUgobi5wbGFjZWhvbGRlciwiIik7Zm9yKHZhciByPXQ9TWF0aC5tYXgoMCx0LTEpLHM9MDtzPG8mJmE8PXI7cysrKXItPWE7dmFyIGw9cG4oaSxlKTtyZXR1cm4gcjxsJiYoaT0iIixsPTApLHI9dC1sLG4uZWxsaXBzaXM9aSxuLmVsbGlwc2lzV2lkdGg9bCxuLmNvbnRlbnRXaWR0aD1yLG4uY29udGFpbmVyV2lkdGg9dCxufWZ1bmN0aW9uIHduKHQsZSl7dmFyIGk9ZS5jb250YWluZXJXaWR0aCxuPWUuZm9udCxvPWUuY29udGVudFdpZHRoO2lmKCFpKXJldHVybiIiO3ZhciBhPXBuKHQsbik7aWYoYTw9aSlyZXR1cm4gdDtmb3IodmFyIHI9MDs7cisrKXtpZihhPD1vfHxyPj1lLm1heEl0ZXJhdGlvbnMpe3QrPWUuZWxsaXBzaXM7YnJlYWt9dmFyIHM9MD09PXI/Ym4odCxvLGUuYXNjQ2hhcldpZHRoLGUuY25DaGFyV2lkdGgpOjA8YT9NYXRoLmZsb29yKHQubGVuZ3RoKm8vYSk6MDthPXBuKHQ9dC5zdWJzdHIoMCxzKSxuKX1yZXR1cm4iIj09PXQmJih0PWUucGxhY2Vob2xkZXIpLHR9ZnVuY3Rpb24gYm4odCxlLGksbil7Zm9yKHZhciBvPTAsYT0wLHI9dC5sZW5ndGg7YTxyJiZvPGU7YSsrKXt2YXIgcz10LmNoYXJDb2RlQXQoYSk7bys9MDw9cyYmczw9MTI3P2k6bn1yZXR1cm4gYX1mdW5jdGlvbiBTbih0KXtyZXR1cm4gcG4oIuWbvSIsdCl9ZnVuY3Rpb24gTW4odCxlLGksbixvKXtudWxsIT10JiYodCs9IiIpO3ZhciBhPUgobixTbihlKSkscj10P3Quc3BsaXQoIlxuIik6W10scz1yLmxlbmd0aCphLGw9cyx1PSEwO2lmKGkmJihsKz1pWzBdK2lbMl0pLHQmJm8pe3U9ITE7dmFyIGg9by5vdXRlckhlaWdodCxjPW8ub3V0ZXJXaWR0aDtpZihudWxsIT1oJiZoPGwpdD0iIixyPVtdO2Vsc2UgaWYobnVsbCE9Yylmb3IodmFyIGQ9X24oYy0oaT9pWzFdK2lbM106MCksZSxvLmVsbGlwc2lzLHttaW5DaGFyOm8ubWluQ2hhcixwbGFjZWhvbGRlcjpvLnBsYWNlaG9sZGVyfSksZj0wLHA9ci5sZW5ndGg7ZjxwO2YrKylyW2ZdPXduKHJbZl0sZCl9cmV0dXJue2xpbmVzOnIsaGVpZ2h0OnMsb3V0ZXJIZWlnaHQ6bCxsaW5lSGVpZ2h0OmEsY2FuQ2FjaGVCeVRleHRTdHJpbmc6dX19ZnVuY3Rpb24gSW4odCxlKXt2YXIgaT17bGluZXM6W10sd2lkdGg6MCxoZWlnaHQ6MH07aWYobnVsbCE9dCYmKHQrPSIiKSwhdClyZXR1cm4gaTtmb3IodmFyIG4sbz1jbi5sYXN0SW5kZXg9MDtudWxsIT0obj1jbi5leGVjKHQpKTspe3ZhciBhPW4uaW5kZXg7bzxhJiZUbihpLHQuc3Vic3RyaW5nKG8sYSkpLFRuKGksblsyXSxuWzFdKSxvPWNuLmxhc3RJbmRleH1vPHQubGVuZ3RoJiZUbihpLHQuc3Vic3RyaW5nKG8sdC5sZW5ndGgpKTt2YXIgcj1pLmxpbmVzLHM9MCxsPTAsdT1bXSxoPWUudGV4dFBhZGRpbmcsYz1lLnRydW5jYXRlLGQ9YyYmYy5vdXRlcldpZHRoLGY9YyYmYy5vdXRlckhlaWdodDtoJiYobnVsbCE9ZCYmKGQtPWhbMV0raFszXSksbnVsbCE9ZiYmKGYtPWhbMF0raFsyXSkpO2Zvcih2YXIgcD0wO3A8ci5sZW5ndGg7cCsrKXtmb3IodmFyIGc9cltwXSxtPTAsdj0wLHk9MDt5PGcudG9rZW5zLmxlbmd0aDt5Kyspe3ZhciB4PShDPWcudG9rZW5zW3ldKS5zdHlsZU5hbWUmJmUucmljaFtDLnN0eWxlTmFtZV18fHt9LF89Qy50ZXh0UGFkZGluZz14LnRleHRQYWRkaW5nLHc9Qy5mb250PXguZm9udHx8ZS5mb250LGI9Qy50ZXh0SGVpZ2h0PUgoeC50ZXh0SGVpZ2h0LFNuKHcpKTtpZihfJiYoYis9X1swXStfWzJdKSxDLmhlaWdodD1iLEMubGluZUhlaWdodD1aKHgudGV4dExpbmVIZWlnaHQsZS50ZXh0TGluZUhlaWdodCxiKSxDLnRleHRBbGlnbj14JiZ4LnRleHRBbGlnbnx8ZS50ZXh0QWxpZ24sQy50ZXh0VmVydGljYWxBbGlnbj14JiZ4LnRleHRWZXJ0aWNhbEFsaWdufHwibWlkZGxlIixudWxsIT1mJiZzK0MubGluZUhlaWdodD5mKXJldHVybntsaW5lczpbXSx3aWR0aDowLGhlaWdodDowfTtDLnRleHRXaWR0aD1wbihDLnRleHQsdyk7dmFyIFM9eC50ZXh0V2lkdGgsTT1udWxsPT1TfHwiYXV0byI9PT1TO2lmKCJzdHJpbmciPT10eXBlb2YgUyYmIiUiPT09Uy5jaGFyQXQoUy5sZW5ndGgtMSkpQy5wZXJjZW50V2lkdGg9Uyx1LnB1c2goQyksUz0wO2Vsc2V7aWYoTSl7Uz1DLnRleHRXaWR0aDt2YXIgST14LnRleHRCYWNrZ3JvdW5kQ29sb3IsVD1JJiZJLmltYWdlO1QmJnNuKFQ9b24oVCkpJiYoUz1NYXRoLm1heChTLFQud2lkdGgqYi9ULmhlaWdodCkpfXZhciBBPV8/X1sxXStfWzNdOjA7Uys9QTt2YXIgRD1udWxsIT1kP2QtdjpudWxsO251bGwhPUQmJkQ8UyYmKCFNfHxEPEE/KEMudGV4dD0iIixDLnRleHRXaWR0aD1TPTApOihDLnRleHQ9eG4oQy50ZXh0LEQtQSx3LGMuZWxsaXBzaXMse21pbkNoYXI6Yy5taW5DaGFyfSksQy50ZXh0V2lkdGg9cG4oQy50ZXh0LHcpLFM9Qy50ZXh0V2lkdGgrQSkpfXYrPUMud2lkdGg9Uyx4JiYobT1NYXRoLm1heChtLEMubGluZUhlaWdodCkpfWcud2lkdGg9dixzKz1nLmxpbmVIZWlnaHQ9bSxsPU1hdGgubWF4KGwsdil9aS5vdXRlcldpZHRoPWkud2lkdGg9SChlLnRleHRXaWR0aCxsKSxpLm91dGVySGVpZ2h0PWkuaGVpZ2h0PUgoZS50ZXh0SGVpZ2h0LHMpLGgmJihpLm91dGVyV2lkdGgrPWhbMV0raFszXSxpLm91dGVySGVpZ2h0Kz1oWzBdK2hbMl0pO2ZvcihwPTA7cDx1Lmxlbmd0aDtwKyspe3ZhciBDLEw9KEM9dVtwXSkucGVyY2VudFdpZHRoO0Mud2lkdGg9cGFyc2VJbnQoTCwxMCkvMTAwKmx9cmV0dXJuIGl9ZnVuY3Rpb24gVG4odCxlLGkpe2Zvcih2YXIgbj0iIj09PWUsbz1lLnNwbGl0KCJcbiIpLGE9dC5saW5lcyxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl0sbD17c3R5bGVOYW1lOmksdGV4dDpzLGlzTGluZUhvbGRlcjohcyYmIW59O2lmKHIpYS5wdXNoKHt0b2tlbnM6W2xdfSk7ZWxzZXt2YXIgdT0oYVthLmxlbmd0aC0xXXx8KGFbMF09e3Rva2VuczpbXX0pKS50b2tlbnMsaD11Lmxlbmd0aDsxPT09aCYmdVswXS5pc0xpbmVIb2xkZXI/dVswXT1sOiFzJiZoJiYhbnx8dS5wdXNoKGwpfX19ZnVuY3Rpb24gQW4odCl7dmFyIGU9KHQuZm9udFNpemV8fHQuZm9udEZhbWlseSkmJlt0LmZvbnRTdHlsZSx0LmZvbnRXZWlnaHQsKHQuZm9udFNpemV8fDEyKSsicHgiLHQuZm9udEZhbWlseXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIik7cmV0dXJuIGUmJmooZSl8fHQudGV4dEZvbnR8fHQuZm9udH1mdW5jdGlvbiBEbih0LGUpe3ZhciBpLG4sbyxhLHIscz1lLngsbD1lLnksdT1lLndpZHRoLGg9ZS5oZWlnaHQsYz1lLnI7dTwwJiYocys9dSx1PS11KSxoPDAmJihsKz1oLGg9LWgpLCJudW1iZXIiPT10eXBlb2YgYz9pPW49bz1hPWM6YyBpbnN0YW5jZW9mIEFycmF5PzE9PT1jLmxlbmd0aD9pPW49bz1hPWNbMF06Mj09PWMubGVuZ3RoPyhpPW89Y1swXSxuPWE9Y1sxXSk6Mz09PWMubGVuZ3RoPyhpPWNbMF0sbj1hPWNbMV0sbz1jWzJdKTooaT1jWzBdLG49Y1sxXSxvPWNbMl0sYT1jWzNdKTppPW49bz1hPTAsdTxpK24mJihpKj11LyhyPWkrbiksbio9dS9yKSx1PG8rYSYmKG8qPXUvKHI9bythKSxhKj11L3IpLGg8bitvJiYobio9aC8ocj1uK28pLG8qPWgvciksaDxpK2EmJihpKj1oLyhyPWkrYSksYSo9aC9yKSx0Lm1vdmVUbyhzK2ksbCksdC5saW5lVG8ocyt1LW4sbCksMCE9PW4mJnQuYXJjKHMrdS1uLGwrbixuLC1NYXRoLlBJLzIsMCksdC5saW5lVG8ocyt1LGwraC1vKSwwIT09byYmdC5hcmMocyt1LW8sbCtoLW8sbywwLE1hdGguUEkvMiksdC5saW5lVG8ocythLGwraCksMCE9PWEmJnQuYXJjKHMrYSxsK2gtYSxhLE1hdGguUEkvMixNYXRoLlBJKSx0LmxpbmVUbyhzLGwraSksMCE9PWkmJnQuYXJjKHMraSxsK2ksaSxNYXRoLlBJLDEuNSpNYXRoLlBJKX1mbi5tZWFzdXJlVGV4dD1mdW5jdGlvbih0LGUpe3ZhciBpPXgoKTtyZXR1cm4gaS5mb250PWV8fGRuLGkubWVhc3VyZVRleHQodCl9O3ZhciBDbj1kbixMbj17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LGtuPXt0b3A6MSxib3R0b206MSxtaWRkbGU6MX0sUG49W1sidGV4dFNoYWRvd0JsdXIiLCJzaGFkb3dCbHVyIiwwXSxbInRleHRTaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WCIsMF0sWyJ0ZXh0U2hhZG93T2Zmc2V0WSIsInNoYWRvd09mZnNldFkiLDBdLFsidGV4dFNoYWRvd0NvbG9yIiwic2hhZG93Q29sb3IiLCJ0cmFuc3BhcmVudCJdXSxObj17fSxPbj17fTtmdW5jdGlvbiBSbih0KXtyZXR1cm4gem4odCksUih0LnJpY2gsem4pLHR9ZnVuY3Rpb24gem4odCl7aWYodCl7dC5mb250PUFuKHQpO3ZhciBlPXQudGV4dEFsaWduOyJtaWRkbGUiPT09ZSYmKGU9ImNlbnRlciIpLHQudGV4dEFsaWduPW51bGw9PWV8fExuW2VdP2U6ImxlZnQiO3ZhciBpPXQudGV4dFZlcnRpY2FsQWxpZ258fHQudGV4dEJhc2VsaW5lOyJjZW50ZXIiPT09aSYmKGk9Im1pZGRsZSIpLHQudGV4dFZlcnRpY2FsQWxpZ249bnVsbD09aXx8a25baV0/aToidG9wIix0LnRleHRQYWRkaW5nJiYodC50ZXh0UGFkZGluZz1YKHQudGV4dFBhZGRpbmcpKX19ZnVuY3Rpb24gRW4odCxlLGksbixvLGEpe24ucmljaD9mdW5jdGlvbih0LGUsaSxuLG8sYSl7YSE9PUhpJiYoZS5fX2F0dHJDYWNoZWRCeT1XaS5OT05FKTt2YXIgcj10Ll9fdGV4dENvdGVudEJsb2NrO3ImJiF0Ll9fZGlydHlUZXh0fHwocj10Ll9fdGV4dENvdGVudEJsb2NrPUluKGksbikpOyFmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkud2lkdGgscj1pLm91dGVyV2lkdGgscz1pLm91dGVySGVpZ2h0LGw9bi50ZXh0UGFkZGluZyx1PUhuKE9uLHQsbixvKSxoPXUuYmFzZVgsYz11LmJhc2VZLGQ9dS50ZXh0QWxpZ24sZj11LnRleHRWZXJ0aWNhbEFsaWduO0JuKGUsbixvLGgsYyk7dmFyIHA9bW4oaCxyLGQpLGc9dm4oYyxzLGYpLG09cCx2PWc7bCYmKG0rPWxbM10sdis9bFswXSk7dmFyIHk9bSthO0duKG4pJiZGbih0LGUsbixwLGcscixzKTtmb3IodmFyIHg9MDt4PGkubGluZXMubGVuZ3RoO3grKyl7Zm9yKHZhciBfLHc9aS5saW5lc1t4XSxiPXcudG9rZW5zLFM9Yi5sZW5ndGgsTT13LmxpbmVIZWlnaHQsST13LndpZHRoLFQ9MCxBPW0sRD15LEM9Uy0xO1Q8UyYmKCEoXz1iW1RdKS50ZXh0QWxpZ258fCJsZWZ0Ij09PV8udGV4dEFsaWduKTspVm4odCxlLF8sbixNLHYsQSwibGVmdCIpLEktPV8ud2lkdGgsQSs9Xy53aWR0aCxUKys7Zm9yKDswPD1DJiYicmlnaHQiPT09KF89YltDXSkudGV4dEFsaWduOylWbih0LGUsXyxuLE0sdixELCJyaWdodCIpLEktPV8ud2lkdGgsRC09Xy53aWR0aCxDLS07Zm9yKEErPShhLShBLW0pLSh5LUQpLUkpLzI7VDw9QzspXz1iW1RdLFZuKHQsZSxfLG4sTSx2LEErXy53aWR0aC8yLCJjZW50ZXIiKSxBKz1fLndpZHRoLFQrKzt2Kz1NfX0odCxlLHIsbixvKX0odCxlLGksbixvLGEpOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcixzPUduKG4pLGw9ITEsdT1lLl9fYXR0ckNhY2hlZEJ5PT09V2kuUExBSU5fVEVYVDthIT09SGk/KGEmJihyPWEuc3R5bGUsbD0hcyYmdSYmciksZS5fX2F0dHJDYWNoZWRCeT1zP1dpLk5PTkU6V2kuUExBSU5fVEVYVCk6dSYmKGUuX19hdHRyQ2FjaGVkQnk9V2kuTk9ORSk7dmFyIGg9bi5mb250fHxDbjtsJiZoPT09KHIuZm9udHx8Q24pfHwoZS5mb250PWgpO3ZhciBjPXQuX19jb21wdXRlZEZvbnQ7dC5fX3N0eWxlRm9udCE9PWgmJih0Ll9fc3R5bGVGb250PWgsYz10Ll9fY29tcHV0ZWRGb250PWUuZm9udCk7dmFyIGQ9bi50ZXh0UGFkZGluZyxmPW4udGV4dExpbmVIZWlnaHQscD10Ll9fdGV4dENvdGVudEJsb2NrO3AmJiF0Ll9fZGlydHlUZXh0fHwocD10Ll9fdGV4dENvdGVudEJsb2NrPU1uKGksYyxkLGYsbi50cnVuY2F0ZSkpO3ZhciBnPXAub3V0ZXJIZWlnaHQsbT1wLmxpbmVzLHY9cC5saW5lSGVpZ2h0LHk9SG4oT24sdCxuLG8pLHg9eS5iYXNlWCxfPXkuYmFzZVksdz15LnRleHRBbGlnbnx8ImxlZnQiLGI9eS50ZXh0VmVydGljYWxBbGlnbjtCbihlLG4sbyx4LF8pO3ZhciBTPXZuKF8sZyxiKSxNPXgsST1TO2lmKHN8fGQpe3ZhciBUPXBuKGksYyk7ZCYmKFQrPWRbMV0rZFszXSk7dmFyIEE9bW4oeCxULHcpO3MmJkZuKHQsZSxuLEEsUyxULGcpLGQmJihNPWpuKHgsdyxkKSxJKz1kWzBdKX1lLnRleHRBbGlnbj13LGUudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGUuZ2xvYmFsQWxwaGE9bi5vcGFjaXR5fHwxO2Zvcih2YXIgRD0wO0Q8UG4ubGVuZ3RoO0QrKyl7dmFyIEM9UG5bRF0sTD1DWzBdLGs9Q1sxXSxQPW5bTF07bCYmUD09PXJbTF18fChlW2tdPUZpKGUsayxQfHxDWzJdKSl9SSs9di8yO3ZhciBOPW4udGV4dFN0cm9rZVdpZHRoLE89bD9yLnRleHRTdHJva2VXaWR0aDpudWxsLFI9IWx8fE4hPT1PLHo9IWx8fFJ8fG4udGV4dFN0cm9rZSE9PXIudGV4dFN0cm9rZSxFPVVuKG4udGV4dFN0cm9rZSxOKSxCPVhuKG4udGV4dEZpbGwpO0UmJihSJiYoZS5saW5lV2lkdGg9TikseiYmKGUuc3Ryb2tlU3R5bGU9RSkpO0ImJihsJiZuLnRleHRGaWxsPT09ci50ZXh0RmlsbHx8KGUuZmlsbFN0eWxlPUIpKTtpZigxPT09bS5sZW5ndGgpRSYmZS5zdHJva2VUZXh0KG1bMF0sTSxJKSxCJiZlLmZpbGxUZXh0KG1bMF0sTSxJKTtlbHNlIGZvcihEPTA7RDxtLmxlbmd0aDtEKyspRSYmZS5zdHJva2VUZXh0KG1bRF0sTSxJKSxCJiZlLmZpbGxUZXh0KG1bRF0sTSxJKSxJKz12fSh0LGUsaSxuLG8sYSl9ZnVuY3Rpb24gQm4odCxlLGksbixvKXtpZihpJiZlLnRleHRSb3RhdGlvbil7dmFyIGE9ZS50ZXh0T3JpZ2luOyJjZW50ZXIiPT09YT8obj1pLndpZHRoLzIraS54LG89aS5oZWlnaHQvMitpLnkpOmEmJihuPWFbMF0raS54LG89YVsxXStpLnkpLHQudHJhbnNsYXRlKG4sbyksdC5yb3RhdGUoLWUudGV4dFJvdGF0aW9uKSx0LnRyYW5zbGF0ZSgtbiwtbyl9fWZ1bmN0aW9uIFZuKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9bi5yaWNoW2kuc3R5bGVOYW1lXXx8e307bC50ZXh0PWkudGV4dDt2YXIgdT1pLnRleHRWZXJ0aWNhbEFsaWduLGg9YStvLzI7InRvcCI9PT11P2g9YStpLmhlaWdodC8yOiJib3R0b20iPT09dSYmKGg9YStvLWkuaGVpZ2h0LzIpLCFpLmlzTGluZUhvbGRlciYmR24obCkmJkZuKHQsZSxsLCJyaWdodCI9PT1zP3ItaS53aWR0aDoiY2VudGVyIj09PXM/ci1pLndpZHRoLzI6cixoLWkuaGVpZ2h0LzIsaS53aWR0aCxpLmhlaWdodCk7dmFyIGM9aS50ZXh0UGFkZGluZztjJiYocj1qbihyLHMsYyksaC09aS5oZWlnaHQvMi1jWzJdLWkudGV4dEhlaWdodC8yKSxabihlLCJzaGFkb3dCbHVyIixaKGwudGV4dFNoYWRvd0JsdXIsbi50ZXh0U2hhZG93Qmx1ciwwKSksWm4oZSwic2hhZG93Q29sb3IiLGwudGV4dFNoYWRvd0NvbG9yfHxuLnRleHRTaGFkb3dDb2xvcnx8InRyYW5zcGFyZW50IiksWm4oZSwic2hhZG93T2Zmc2V0WCIsWihsLnRleHRTaGFkb3dPZmZzZXRYLG4udGV4dFNoYWRvd09mZnNldFgsMCkpLFpuKGUsInNoYWRvd09mZnNldFkiLFoobC50ZXh0U2hhZG93T2Zmc2V0WSxuLnRleHRTaGFkb3dPZmZzZXRZLDApKSxabihlLCJ0ZXh0QWxpZ24iLHMpLFpuKGUsInRleHRCYXNlbGluZSIsIm1pZGRsZSIpLFpuKGUsImZvbnQiLGkuZm9udHx8Q24pO3ZhciBkPVVuKGwudGV4dFN0cm9rZXx8bi50ZXh0U3Ryb2tlLHApLGY9WG4obC50ZXh0RmlsbHx8bi50ZXh0RmlsbCkscD1IKGwudGV4dFN0cm9rZVdpZHRoLG4udGV4dFN0cm9rZVdpZHRoKTtkJiYoWm4oZSwibGluZVdpZHRoIixwKSxabihlLCJzdHJva2VTdHlsZSIsZCksZS5zdHJva2VUZXh0KGkudGV4dCxyLGgpKSxmJiYoWm4oZSwiZmlsbFN0eWxlIixmKSxlLmZpbGxUZXh0KGkudGV4dCxyLGgpKX1mdW5jdGlvbiBHbih0KXtyZXR1cm4hISh0LnRleHRCYWNrZ3JvdW5kQ29sb3J8fHQudGV4dEJvcmRlcldpZHRoJiZ0LnRleHRCb3JkZXJDb2xvcil9ZnVuY3Rpb24gRm4odCxlLGksbixvLGEscil7dmFyIHM9aS50ZXh0QmFja2dyb3VuZENvbG9yLGw9aS50ZXh0Qm9yZGVyV2lkdGgsdT1pLnRleHRCb3JkZXJDb2xvcixoPXoocyk7aWYoWm4oZSwic2hhZG93Qmx1ciIsaS50ZXh0Qm94U2hhZG93Qmx1cnx8MCksWm4oZSwic2hhZG93Q29sb3IiLGkudGV4dEJveFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiKSxabihlLCJzaGFkb3dPZmZzZXRYIixpLnRleHRCb3hTaGFkb3dPZmZzZXRYfHwwKSxabihlLCJzaGFkb3dPZmZzZXRZIixpLnRleHRCb3hTaGFkb3dPZmZzZXRZfHwwKSxofHxsJiZ1KXtlLmJlZ2luUGF0aCgpO3ZhciBjPWkudGV4dEJvcmRlclJhZGl1cztjP0RuKGUse3g6bix5Om8sd2lkdGg6YSxoZWlnaHQ6cixyOmN9KTplLnJlY3QobixvLGEsciksZS5jbG9zZVBhdGgoKX1pZihoKWlmKFpuKGUsImZpbGxTdHlsZSIscyksbnVsbCE9aS5maWxsT3BhY2l0eSl7dmFyIGQ9ZS5nbG9iYWxBbHBoYTtlLmdsb2JhbEFscGhhPWkuZmlsbE9wYWNpdHkqaS5vcGFjaXR5LGUuZmlsbCgpLGUuZ2xvYmFsQWxwaGE9ZH1lbHNlIGUuZmlsbCgpO2Vsc2UgaWYoRShzKSl7dmFyIGY9cy5pbWFnZTsoZj1hbihmLG51bGwsdCxXbixzKSkmJnNuKGYpJiZlLmRyYXdJbWFnZShmLG4sbyxhLHIpfWlmKGwmJnUpaWYoWm4oZSwibGluZVdpZHRoIixsKSxabihlLCJzdHJva2VTdHlsZSIsdSksbnVsbCE9aS5zdHJva2VPcGFjaXR5KXtkPWUuZ2xvYmFsQWxwaGE7ZS5nbG9iYWxBbHBoYT1pLnN0cm9rZU9wYWNpdHkqaS5vcGFjaXR5LGUuc3Ryb2tlKCksZS5nbG9iYWxBbHBoYT1kfWVsc2UgZS5zdHJva2UoKX1mdW5jdGlvbiBXbih0LGUpe2UuaW1hZ2U9dH1mdW5jdGlvbiBIbih0LGUsaSxuKXt2YXIgbz1pLnh8fDAsYT1pLnl8fDAscj1pLnRleHRBbGlnbixzPWkudGV4dFZlcnRpY2FsQWxpZ247aWYobil7dmFyIGw9aS50ZXh0UG9zaXRpb247aWYobCBpbnN0YW5jZW9mIEFycmF5KW89bi54K1luKGxbMF0sbi53aWR0aCksYT1uLnkrWW4obFsxXSxuLmhlaWdodCk7ZWxzZXt2YXIgdT1lJiZlLmNhbGN1bGF0ZVRleHRQb3NpdGlvbj9lLmNhbGN1bGF0ZVRleHRQb3NpdGlvbihObixpLG4pOnluKE5uLGksbik7bz11LngsYT11Lnkscj1yfHx1LnRleHRBbGlnbixzPXN8fHUudGV4dFZlcnRpY2FsQWxpZ259dmFyIGg9aS50ZXh0T2Zmc2V0O2gmJihvKz1oWzBdLGErPWhbMV0pfXJldHVybih0PXR8fHt9KS5iYXNlWD1vLHQuYmFzZVk9YSx0LnRleHRBbGlnbj1yLHQudGV4dFZlcnRpY2FsQWxpZ249cyx0fWZ1bmN0aW9uIFpuKHQsZSxpKXtyZXR1cm4gdFtlXT1GaSh0LGUsaSksdFtlXX1mdW5jdGlvbiBVbih0LGUpe3JldHVybiBudWxsPT10fHxlPD0wfHwidHJhbnNwYXJlbnQiPT09dHx8Im5vbmUiPT09dD9udWxsOnQuaW1hZ2V8fHQuY29sb3JTdG9wcz8iIzAwMCI6dH1mdW5jdGlvbiBYbih0KXtyZXR1cm4gbnVsbD09dHx8Im5vbmUiPT09dD9udWxsOnQuaW1hZ2V8fHQuY29sb3JTdG9wcz8iIzAwMCI6dH1mdW5jdGlvbiBZbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD8wPD10Lmxhc3RJbmRleE9mKCIlIik/cGFyc2VGbG9hdCh0KS8xMDAqZTpwYXJzZUZsb2F0KHQpOnR9ZnVuY3Rpb24gam4odCxlLGkpe3JldHVybiJyaWdodCI9PT1lP3QtaVsxXToiY2VudGVyIj09PWU/dCtpWzNdLzItaVsxXS8yOnQraVszXX1mdW5jdGlvbiBxbih0LGUpe3JldHVybiBudWxsIT10JiYodHx8ZS50ZXh0QmFja2dyb3VuZENvbG9yfHxlLnRleHRCb3JkZXJXaWR0aCYmZS50ZXh0Qm9yZGVyQ29sb3J8fGUudGV4dFBhZGRpbmcpfWZ1bmN0aW9uIEtuKCl7fXZhciAkbj1uZXcgRGk7ZnVuY3Rpb24gSm4odCl7Zm9yKHZhciBlIGluIHQ9dHx8e30sX2kuY2FsbCh0aGlzLHQpLHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmInN0eWxlIiE9PWUmJih0aGlzW2VdPXRbZV0pO3RoaXMuc3R5bGU9bmV3IFVpKHQuc3R5bGUsdGhpcyksdGhpcy5fcmVjdD1udWxsLHRoaXMuX19jbGlwUGF0aHM9bnVsbH1mdW5jdGlvbiBRbih0KXtKbi5jYWxsKHRoaXMsdCl9Sm4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpKbix0eXBlOiJkaXNwbGF5YWJsZSIsX19kaXJ0eTohMCxpbnZpc2libGU6IShLbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOktuLGRyYXdSZWN0VGV4dDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc3R5bGU7ZT1pLnRleHRSZWN0fHxlLHRoaXMuX19kaXJ0eSYmUm4oaSk7dmFyIG49aS50ZXh0O2lmKG51bGwhPW4mJihuKz0iIikscW4obixpKSl7dC5zYXZlKCk7dmFyIG89dGhpcy50cmFuc2Zvcm07aS50cmFuc2Zvcm1UZXh0P3RoaXMuc2V0VHJhbnNmb3JtKHQpOm8mJigkbi5jb3B5KGUpLCRuLmFwcGx5VHJhbnNmb3JtKG8pLGU9JG4pLEVuKHRoaXMsdCxuLGksZSxIaSksdC5yZXN0b3JlKCl9fX0pLHo6MCx6MjowLHpsZXZlbDowLGRyYWdnYWJsZTohMSxkcmFnZ2luZzohMSxzaWxlbnQ6ITEsY3VsbGluZzohMSxjdXJzb3I6InBvaW50ZXIiLHJlY3RIb3ZlcjohMSxwcm9ncmVzc2l2ZTohMSxpbmNyZW1lbnRhbDohMSxnbG9iYWxTY2FsZVJhdGlvOjEsYmVmb3JlQnJ1c2g6ZnVuY3Rpb24odCl7fSxhZnRlckJydXNoOmZ1bmN0aW9uKHQpe30sYnJ1c2g6ZnVuY3Rpb24odCxlKXt9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe30sY29udGFpbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlY3RDb250YWluKHQsZSl9LHRyYXZlcnNlOmZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LHJlY3RDb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKGlbMF0saVsxXSl9LGRpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5PXRoaXMuX19kaXJ0eVRleHQ9ITAsdGhpcy5fcmVjdD1udWxsLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKX0sYW5pbWF0ZVN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoInN0eWxlIix0KX0sYXR0cktWOmZ1bmN0aW9uKHQsZSl7InN0eWxlIiE9PXQ/X2kucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsdCxlKTp0aGlzLnN0eWxlLnNldChlKX0sc2V0U3R5bGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXQodCxlKSx0aGlzLmRpcnR5KCExKSx0aGlzfSx1c2VTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZT1uZXcgVWkodCx0aGlzKSx0aGlzLmRpcnR5KCExKSx0aGlzfSxjYWxjdWxhdGVUZXh0UG9zaXRpb246bnVsbH0sdyhKbixfaSksYihKbixLbiksUW4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpRbix0eXBlOiJpbWFnZSIsYnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnN0eWxlLG49aS5pbWFnZTtpLmJpbmQodCx0aGlzLGUpO3ZhciBvPXRoaXMuX2ltYWdlPWFuKG4sdGhpcy5faW1hZ2UsdGhpcyx0aGlzLm9ubG9hZCk7aWYobyYmc24obykpe3ZhciBhPWkueHx8MCxyPWkueXx8MCxzPWkud2lkdGgsbD1pLmhlaWdodCx1PW8ud2lkdGgvby5oZWlnaHQ7aWYobnVsbD09cyYmbnVsbCE9bD9zPWwqdTpudWxsPT1sJiZudWxsIT1zP2w9cy91Om51bGw9PXMmJm51bGw9PWwmJihzPW8ud2lkdGgsbD1vLmhlaWdodCksdGhpcy5zZXRUcmFuc2Zvcm0odCksaS5zV2lkdGgmJmkuc0hlaWdodCl7dmFyIGg9aS5zeHx8MCxjPWkuc3l8fDA7dC5kcmF3SW1hZ2UobyxoLGMsaS5zV2lkdGgsaS5zSGVpZ2h0LGEscixzLGwpfWVsc2UgaWYoaS5zeCYmaS5zeSl7dmFyIGQ9cy0oaD1pLnN4KSxmPWwtKGM9aS5zeSk7dC5kcmF3SW1hZ2UobyxoLGMsZCxmLGEscixzLGwpfWVsc2UgdC5kcmF3SW1hZ2UobyxhLHIscyxsKTtudWxsIT1pLnRleHQmJih0aGlzLnJlc3RvcmVUcmFuc2Zvcm0odCksdGhpcy5kcmF3UmVjdFRleHQodCx0aGlzLmdldEJvdW5kaW5nUmVjdCgpKSl9fSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlO3JldHVybiB0aGlzLl9yZWN0fHwodGhpcy5fcmVjdD1uZXcgRGkodC54fHwwLHQueXx8MCx0LndpZHRofHwwLHQuaGVpZ2h0fHwwKSksdGhpcy5fcmVjdH19LHcoUW4sSm4pO3ZhciB0bz0zMTQxNTk7ZnVuY3Rpb24gZW8odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfXZhciBpbz1uZXcgRGkoMCwwLDAsMCksbm89bmV3IERpKDAsMCwwLDApO2Z1bmN0aW9uIG9vKHQsZSxpKXt0aGlzLnR5cGU9ImNhbnZhcyI7dmFyIG49IXQubm9kZU5hbWV8fCJDQU5WQVMiPT09dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO3RoaXMuX29wdHM9aT1QKHt9LGl8fHt9KSx0aGlzLmRwcj1pLmRldmljZVBpeGVsUmF0aW98fHBpLHRoaXMuX3NpbmdsZUNhbnZhcz1uO3ZhciBvPSh0aGlzLnJvb3Q9dCkuc3R5bGU7byYmKG9bIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvciJdPSJ0cmFuc3BhcmVudCIsb1siLXdlYmtpdC11c2VyLXNlbGVjdCJdPW9bInVzZXItc2VsZWN0Il09b1siLXdlYmtpdC10b3VjaC1jYWxsb3V0Il09Im5vbmUiLHQuaW5uZXJIVE1MPSIiKSx0aGlzLnN0b3JhZ2U9ZTt2YXIgYT10aGlzLl96bGV2ZWxMaXN0PVtdLHI9dGhpcy5fbGF5ZXJzPXt9O2lmKHRoaXMuX2xheWVyQ29uZmlnPXt9LHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZz0hMSxuKXt2YXIgcz10LndpZHRoLGw9dC5oZWlnaHQ7bnVsbCE9aS53aWR0aCYmKHM9aS53aWR0aCksbnVsbCE9aS5oZWlnaHQmJihsPWkuaGVpZ2h0KSx0aGlzLmRwcj1pLmRldmljZVBpeGVsUmF0aW98fDEsdC53aWR0aD1zKnRoaXMuZHByLHQuaGVpZ2h0PWwqdGhpcy5kcHIsdGhpcy5fd2lkdGg9cyx0aGlzLl9oZWlnaHQ9bDt2YXIgdT1uZXcgdG4odCx0aGlzLHRoaXMuZHByKTt1Ll9fYnVpbHRpbl9fPSEwLHUuaW5pdENvbnRleHQoKSwoclt0b109dSkuemxldmVsPXRvLGEucHVzaCh0byksdGhpcy5fZG9tUm9vdD10fWVsc2V7dGhpcy5fd2lkdGg9dGhpcy5fZ2V0U2l6ZSgwKSx0aGlzLl9oZWlnaHQ9dGhpcy5fZ2V0U2l6ZSgxKTt2YXIgaD10aGlzLl9kb21Sb290PWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGkuc3R5bGUuY3NzVGV4dD1bInBvc2l0aW9uOnJlbGF0aXZlIiwid2lkdGg6Iit0KyJweCIsImhlaWdodDoiK2UrInB4IiwicGFkZGluZzowIiwibWFyZ2luOjAiLCJib3JkZXItd2lkdGg6MCJdLmpvaW4oIjsiKSsiOyIsaX0odGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0KTt0LmFwcGVuZENoaWxkKGgpfXRoaXMuX2hvdmVybGF5ZXI9bnVsbCx0aGlzLl9ob3ZlckVsZW1lbnRzPVtdfW9vLnByb3RvdHlwZT17Y29uc3RydWN0b3I6b28sZ2V0VHlwZTpmdW5jdGlvbigpe3JldHVybiJjYW52YXMifSxpc1NpbmdsZUNhbnZhczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDYW52YXN9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21Sb290fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcmVkcmF3SWQ9TWF0aC5yYW5kb20oKSx0aGlzLl9wYWludExpc3QoZSx0LHRoaXMuX3JlZHJhd0lkKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXSxhPXRoaXMuX2xheWVyc1tvXTtpZighYS5fX2J1aWx0aW5fXyYmYS5yZWZyZXNoKXt2YXIgcj0wPT09bj90aGlzLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDthLnJlZnJlc2gocil9fXJldHVybiB0aGlzLnJlZnJlc2hIb3ZlcigpLHRoaXN9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7aWYoIXQuX19ob3Zlck1pcil7dmFyIGk9bmV3IHQuY29uc3RydWN0b3Ioe3N0eWxlOnQuc3R5bGUsc2hhcGU6dC5zaGFwZSx6OnQueix6Mjp0LnoyLHNpbGVudDp0LnNpbGVudH0pO3JldHVybihpLl9fZnJvbT10KS5fX2hvdmVyTWlyPWksZSYmaS5zZXRTdHlsZShlKSx0aGlzLl9ob3ZlckVsZW1lbnRzLnB1c2goaSksaX19LHJlbW92ZUhvdmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuX19ob3Zlck1pcixpPXRoaXMuX2hvdmVyRWxlbWVudHMsbj1fKGksZSk7MDw9biYmaS5zcGxpY2UobiwxKSx0Ll9faG92ZXJNaXI9bnVsbH0sY2xlYXJIb3ZlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5faG92ZXJFbGVtZW50cyxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV0uX19mcm9tO24mJihuLl9faG92ZXJNaXI9bnVsbCl9ZS5sZW5ndGg9MH0scmVmcmVzaEhvdmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faG92ZXJFbGVtZW50cyxlPXQubGVuZ3RoLGk9dGhpcy5faG92ZXJsYXllcjtpZihpJiZpLmNsZWFyKCksZSl7RWkodCx0aGlzLnN0b3JhZ2UuZGlzcGxheWFibGVTb3J0RnVuYyk7dmFyIG49e307KGk9aXx8KHRoaXMuX2hvdmVybGF5ZXI9dGhpcy5nZXRMYXllcigxZTUpKSkuY3R4LnNhdmUoKTtmb3IodmFyIG89MDtvPGU7KXt2YXIgYT10W29dLHI9YS5fX2Zyb207ciYmci5fX3pyPyhvKyssci5pbnZpc2libGV8fChhLnRyYW5zZm9ybT1yLnRyYW5zZm9ybSxhLmludlRyYW5zZm9ybT1yLmludlRyYW5zZm9ybSxhLl9fY2xpcFBhdGhzPXIuX19jbGlwUGF0aHMsdGhpcy5fZG9QYWludEVsKGEsaSwhMCxuKSkpOih0LnNwbGljZShvLDEpLHIuX19ob3Zlck1pcj1udWxsLGUtLSl9aS5jdHgucmVzdG9yZSgpfX0sZ2V0SG92ZXJMYXllcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExheWVyKDFlNSl9LF9wYWludExpc3Q6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuX3JlZHJhd0lkPT09aSl7ZT1lfHwhMSx0aGlzLl91cGRhdGVMYXllclN0YXR1cyh0KTt2YXIgbj10aGlzLl9kb1BhaW50TGlzdCh0LGUpO2lmKHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyYmdGhpcy5fY29tcG9zaXRlTWFudWFsbHkoKSwhbil7dmFyIG89dGhpcztlbihmdW5jdGlvbigpe28uX3BhaW50TGlzdCh0LGUsaSl9KX19fSxfY29tcG9zaXRlTWFudWFsbHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldExheWVyKHRvKS5jdHgsaT10aGlzLl9kb21Sb290LndpZHRoLG49dGhpcy5fZG9tUm9vdC5oZWlnaHQ7ZS5jbGVhclJlY3QoMCwwLGksbiksdGhpcy5lYWNoQnVpbHRpbkxheWVyKGZ1bmN0aW9uKHQpe3QudmlydHVhbCYmZS5kcmF3SW1hZ2UodC5kb20sMCwwLGksbil9KX0sX2RvUGFpbnRMaXN0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLG49MDtuPHRoaXMuX3psZXZlbExpc3QubGVuZ3RoO24rKyl7dmFyIG89dGhpcy5femxldmVsTGlzdFtuXTsocz10aGlzLl9sYXllcnNbb10pLl9fYnVpbHRpbl9fJiZzIT09dGhpcy5faG92ZXJsYXllciYmKHMuX19kaXJ0eXx8ZSkmJmkucHVzaChzKX1mb3IodmFyIGE9ITAscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgcyxsPShzPWlbcl0pLmN0eCx1PXt9O2wuc2F2ZSgpO3ZhciBoPWU/cy5fX3N0YXJ0SW5kZXg6cy5fX2RyYXdJbmRleCxjPSFlJiZzLmluY3JlbWVudGFsJiZEYXRlLm5vdyxkPWMmJkRhdGUubm93KCksZj1zLnpsZXZlbD09PXRoaXMuX3psZXZlbExpc3RbMF0/dGhpcy5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYocy5fX3N0YXJ0SW5kZXg9PT1zLl9fZW5kSW5kZXgpcy5jbGVhcighMSxmKTtlbHNlIGlmKGg9PT1zLl9fc3RhcnRJbmRleCl7dmFyIHA9dFtoXTtwLmluY3JlbWVudGFsJiZwLm5vdENsZWFyJiYhZXx8cy5jbGVhcighMSxmKX0tMT09PWgmJihjb25zb2xlLmVycm9yKCJGb3Igc29tZSB1bmtub3duIHJlYXNvbi4gZHJhd0luZGV4IGlzIC0xIiksaD1zLl9fc3RhcnRJbmRleCk7Zm9yKHZhciBnPWg7ZzxzLl9fZW5kSW5kZXg7ZysrKXt2YXIgbT10W2ddO2lmKHRoaXMuX2RvUGFpbnRFbChtLHMsZSx1KSxtLl9fZGlydHk9bS5fX2RpcnR5VGV4dD0hMSxjKWlmKDE1PERhdGUubm93KCktZClicmVha31zLl9fZHJhd0luZGV4PWcscy5fX2RyYXdJbmRleDxzLl9fZW5kSW5kZXgmJihhPSExKSx1LnByZXZFbENsaXBQYXRocyYmbC5yZXN0b3JlKCksbC5yZXN0b3JlKCl9cmV0dXJuIHYud3hhJiZSKHRoaXMuX2xheWVycyxmdW5jdGlvbih0KXt0JiZ0LmN0eCYmdC5jdHguZHJhdyYmdC5jdHguZHJhdygpfSksYX0sX2RvUGFpbnRFbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLmN0eCxhPXQudHJhbnNmb3JtO2lmKChlLl9fZGlydHl8fGkpJiYhdC5pbnZpc2libGUmJjAhPT10LnN0eWxlLm9wYWNpdHkmJighYXx8YVswXXx8YVszXSkmJighdC5jdWxsaW5nfHwhZnVuY3Rpb24odCxlLGkpe3JldHVybiBpby5jb3B5KHQuZ2V0Qm91bmRpbmdSZWN0KCkpLHQudHJhbnNmb3JtJiZpby5hcHBseVRyYW5zZm9ybSh0LnRyYW5zZm9ybSksbm8ud2lkdGg9ZSxuby5oZWlnaHQ9aSwhaW8uaW50ZXJzZWN0KG5vKX0odCx0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpKSl7dmFyIHI9dC5fX2NsaXBQYXRocyxzPW4ucHJldkVsQ2xpcFBhdGhzO3MmJiFmdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXJldHVybiExO2lmKCF0fHwhZXx8dC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldIT09ZVtpXSlyZXR1cm4hMDtyZXR1cm4hMX0ocixzKXx8KHMmJihvLnJlc3RvcmUoKSxuLnByZXZFbENsaXBQYXRocz1udWxsLG4ucHJldkVsPW51bGwpLHImJihvLnNhdmUoKSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uc2V0VHJhbnNmb3JtKGUpLGUuYmVnaW5QYXRoKCksbi5idWlsZFBhdGgoZSxuLnNoYXBlKSxlLmNsaXAoKSxuLnJlc3RvcmVUcmFuc2Zvcm0oZSl9fShyLG8pLG4ucHJldkVsQ2xpcFBhdGhzPXIpKSx0LmJlZm9yZUJydXNoJiZ0LmJlZm9yZUJydXNoKG8pLHQuYnJ1c2gobyxuLnByZXZFbHx8bnVsbCksKG4ucHJldkVsPXQpLmFmdGVyQnJ1c2gmJnQuYWZ0ZXJCcnVzaChvKX19LGdldExheWVyOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nJiYodD10byk7dmFyIGk9dGhpcy5fbGF5ZXJzW3RdO3JldHVybiBpfHwoKGk9bmV3IHRuKCJ6cl8iK3QsdGhpcyx0aGlzLmRwcikpLnpsZXZlbD10LGkuX19idWlsdGluX189ITAsdGhpcy5fbGF5ZXJDb25maWdbdF0/bShpLHRoaXMuX2xheWVyQ29uZmlnW3RdLCEwKTp0aGlzLl9sYXllckNvbmZpZ1t0LS4wMV0mJm0oaSx0aGlzLl9sYXllckNvbmZpZ1t0LS4wMV0sITApLGUmJihpLnZpcnR1YWw9ZSksdGhpcy5pbnNlcnRMYXllcih0LGkpLGkuaW5pdENvbnRleHQoKSksaX0saW5zZXJ0TGF5ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9sYXllcnMsbj10aGlzLl96bGV2ZWxMaXN0LG89bi5sZW5ndGgsYT1udWxsLHI9LTEscz10aGlzLl9kb21Sb290O2lmKGlbdF0pdmkoIlpMZXZlbCAiK3QrIiBoYXMgYmVlbiB1c2VkIGFscmVhZHkiKTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKCEhdC5fX2J1aWx0aW5fX3x8ImZ1bmN0aW9uIj09dHlwZW9mIHQucmVzaXplJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZWZyZXNoKX0oZSkpe2lmKDA8byYmdD5uWzBdKXtmb3Iocj0wO3I8by0xJiYhKG5bcl08dCYmbltyKzFdPnQpO3IrKyk7YT1pW25bcl1dfWlmKG4uc3BsaWNlKHIrMSwwLHQpLCEoaVt0XT1lKS52aXJ0dWFsKWlmKGEpe3ZhciBsPWEuZG9tO2wubmV4dFNpYmxpbmc/cy5pbnNlcnRCZWZvcmUoZS5kb20sbC5uZXh0U2libGluZyk6cy5hcHBlbmRDaGlsZChlLmRvbSl9ZWxzZSBzLmZpcnN0Q2hpbGQ/cy5pbnNlcnRCZWZvcmUoZS5kb20scy5maXJzdENoaWxkKTpzLmFwcGVuZENoaWxkKGUuZG9tKX1lbHNlIHZpKCJMYXllciBvZiB6bGV2ZWwgIit0KyIgaXMgbm90IHZhbGlkIil9LGVhY2hMYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbz10aGlzLl96bGV2ZWxMaXN0O2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspaT1vW25dLHQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSxpKX0sZWFjaEJ1aWx0aW5MYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG89MDtvPGEubGVuZ3RoO28rKyluPWFbb10sKGk9dGhpcy5fbGF5ZXJzW25dKS5fX2J1aWx0aW5fXyYmdC5jYWxsKGUsaSxuKX0sZWFjaE90aGVyTGF5ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYT10aGlzLl96bGV2ZWxMaXN0O2ZvcihvPTA7bzxhLmxlbmd0aDtvKyspbj1hW29dLChpPXRoaXMuX2xheWVyc1tuXSkuX19idWlsdGluX198fHQuY2FsbChlLGksbil9LGdldExheWVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXllcnN9LF91cGRhdGVMYXllclN0YXR1czpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe28mJihvLl9fZW5kSW5kZXghPT10JiYoby5fX2RpcnR5PSEwKSxvLl9fZW5kSW5kZXg9dCl9aWYodGhpcy5lYWNoQnVpbHRpbkxheWVyKGZ1bmN0aW9uKHQsZSl7dC5fX2RpcnR5PXQuX191c2VkPSExfSksdGhpcy5fc2luZ2xlQ2FudmFzKWZvcih2YXIgaT0xO2k8dC5sZW5ndGg7aSsrKXtpZigocj10W2ldKS56bGV2ZWwhPT10W2ktMV0uemxldmVsfHxyLmluY3JlbWVudGFsKXt0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITA7YnJlYWt9fXZhciBuLG89bnVsbCxhPTA7Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHIscyxsPShyPXRbaV0pLnpsZXZlbDtuIT09bCYmKG49bCxhPTApLHIuaW5jcmVtZW50YWw/KChzPXRoaXMuZ2V0TGF5ZXIobCsuMDAxLHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZykpLmluY3JlbWVudGFsPSEwLGE9MSk6cz10aGlzLmdldExheWVyKGwrKDA8YT8uMDE6MCksdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSxzLl9fYnVpbHRpbl9ffHx2aSgiWkxldmVsICIrbCsiIGhhcyBiZWVuIHVzZWQgYnkgdW5rb3duIGxheWVyICIrcy5pZCkscyE9PW8mJihzLl9fdXNlZD0hMCxzLl9fc3RhcnRJbmRleCE9PWkmJihzLl9fZGlydHk9ITApLHMuX19zdGFydEluZGV4PWkscy5pbmNyZW1lbnRhbD9zLl9fZHJhd0luZGV4PS0xOnMuX19kcmF3SW5kZXg9aSxlKGkpLG89cyksci5fX2RpcnR5JiYocy5fX2RpcnR5PSEwLHMuaW5jcmVtZW50YWwmJnMuX19kcmF3SW5kZXg8MCYmKHMuX19kcmF3SW5kZXg9aSkpfWUoaSksdGhpcy5lYWNoQnVpbHRpbkxheWVyKGZ1bmN0aW9uKHQsZSl7IXQuX191c2VkJiYwPHQuZ2V0RWxlbWVudENvdW50KCkmJih0Ll9fZGlydHk9ITAsdC5fX3N0YXJ0SW5kZXg9dC5fX2VuZEluZGV4PXQuX19kcmF3SW5kZXg9MCksdC5fX2RpcnR5JiZ0Ll9fZHJhd0luZGV4PDAmJih0Ll9fZHJhd0luZGV4PXQuX19zdGFydEluZGV4KX0pfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hCdWlsdGluTGF5ZXIodGhpcy5fY2xlYXJMYXllciksdGhpc30sX2NsZWFyTGF5ZXI6ZnVuY3Rpb24odCl7dC5jbGVhcigpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24odCl7dGhpcy5fYmFja2dyb3VuZENvbG9yPXR9LGNvbmZpZ0xheWVyOmZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIGk9dGhpcy5fbGF5ZXJDb25maWc7aVt0XT9tKGlbdF0sZSwhMCk6aVt0XT1lO2Zvcih2YXIgbj0wO248dGhpcy5femxldmVsTGlzdC5sZW5ndGg7bisrKXt2YXIgbz10aGlzLl96bGV2ZWxMaXN0W25dO2lmKG89PT10fHxvPT09dCsuMDEpbSh0aGlzLl9sYXllcnNbb10saVt0XSwhMCl9fX0sZGVsTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGF5ZXJzLGk9dGhpcy5femxldmVsTGlzdCxuPWVbdF07biYmKG4uZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobi5kb20pLGRlbGV0ZSBlW3RdLGkuc3BsaWNlKF8oaSx0KSwxKSl9LHJlc2l6ZTpmdW5jdGlvbihlLGkpe2lmKHRoaXMuX2RvbVJvb3Quc3R5bGUpe3ZhciB0PXRoaXMuX2RvbVJvb3Q7dC5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgbj10aGlzLl9vcHRzO2lmKG51bGwhPWUmJihuLndpZHRoPWUpLG51bGwhPWkmJihuLmhlaWdodD1pKSxlPXRoaXMuX2dldFNpemUoMCksaT10aGlzLl9nZXRTaXplKDEpLHQuc3R5bGUuZGlzcGxheT0iIix0aGlzLl93aWR0aCE9PWV8fGkhPT10aGlzLl9oZWlnaHQpe2Zvcih2YXIgbyBpbiB0LnN0eWxlLndpZHRoPWUrInB4Iix0LnN0eWxlLmhlaWdodD1pKyJweCIsdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVycy5oYXNPd25Qcm9wZXJ0eShvKSYmdGhpcy5fbGF5ZXJzW29dLnJlc2l6ZShlLGkpO1IodGhpcy5fcHJvZ3Jlc3NpdmVMYXllcnMsZnVuY3Rpb24odCl7dC5yZXNpemUoZSxpKX0pLHRoaXMucmVmcmVzaCghMCl9dGhpcy5fd2lkdGg9ZSx0aGlzLl9oZWlnaHQ9aX1lbHNle2lmKG51bGw9PWV8fG51bGw9PWkpcmV0dXJuO3RoaXMuX3dpZHRoPWUsdGhpcy5faGVpZ2h0PWksdGhpcy5nZXRMYXllcih0bykucmVzaXplKGUsaSl9cmV0dXJuIHRoaXN9LGNsZWFyTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGF5ZXJzW3RdO2UmJmUuY2xlYXIoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMucm9vdC5pbm5lckhUTUw9IiIsdGhpcy5yb290PXRoaXMuc3RvcmFnZT10aGlzLl9kb21Sb290PXRoaXMuX2xheWVycz1udWxsfSxnZXRSZW5kZXJlZENhbnZhczpmdW5jdGlvbih0KXtpZih0PXR8fHt9LHRoaXMuX3NpbmdsZUNhbnZhcyYmIXRoaXMuX2NvbXBvc2l0ZU1hbnVhbGx5KXJldHVybiB0aGlzLl9sYXllcnNbdG9dLmRvbTt2YXIgZT1uZXcgdG4oImltYWdlIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2lmKGUuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpLHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLG49ZS5kb20uaGVpZ2h0LG89ZS5jdHg7dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7dC5fX2J1aWx0aW5fXz9vLmRyYXdJbWFnZSh0LmRvbSwwLDAsaSxuKTp0LnJlbmRlclRvQ2FudmFzJiYoZS5jdHguc2F2ZSgpLHQucmVuZGVyVG9DYW52YXMoZS5jdHgpLGUuY3R4LnJlc3RvcmUoKSl9KX1lbHNlIGZvcih2YXIgYT17fSxyPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCkscz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbD1yW3NdO3RoaXMuX2RvUGFpbnRFbChsLGUsITAsYSl9cmV0dXJuIGUuZG9tfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sX2dldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxpPVsid2lkdGgiLCJoZWlnaHQiXVt0XSxuPVsiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiXVt0XSxvPVsicGFkZGluZ0xlZnQiLCJwYWRkaW5nVG9wIl1bdF0sYT1bInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iXVt0XTtpZihudWxsIT1lW2ldJiYiYXV0byIhPT1lW2ldKXJldHVybiBwYXJzZUZsb2F0KGVbaV0pO3ZhciByPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUocik7cmV0dXJuKHJbbl18fGVvKHNbaV0pfHxlbyhyLnN0eWxlW2ldKSktKGVvKHNbb10pfHwwKS0oZW8oc1thXSl8fDApfDB9LHBhdGhUb0ltYWdlOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLmRwcjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxuPWkuZ2V0Q29udGV4dCgiMmQiKSxvPXQuZ2V0Qm91bmRpbmdSZWN0KCksYT10LnN0eWxlLHI9YS5zaGFkb3dCbHVyKmUscz1hLnNoYWRvd09mZnNldFgqZSxsPWEuc2hhZG93T2Zmc2V0WSplLHU9YS5oYXNTdHJva2UoKT9hLmxpbmVXaWR0aDowLGg9TWF0aC5tYXgodS8yLHItcyksYz1NYXRoLm1heCh1LzIscytyKSxkPU1hdGgubWF4KHUvMixyLWwpLGY9TWF0aC5tYXgodS8yLGwrcikscD1vLndpZHRoK2grYyxnPW8uaGVpZ2h0K2QrZjtpLndpZHRoPXAqZSxpLmhlaWdodD1nKmUsbi5zY2FsZShlLGUpLG4uY2xlYXJSZWN0KDAsMCxwLGcpLG4uZHByPWU7dmFyIG09e3Bvc2l0aW9uOnQucG9zaXRpb24scm90YXRpb246dC5yb3RhdGlvbixzY2FsZTp0LnNjYWxlfTt0LnBvc2l0aW9uPVtoLW8ueCxkLW8ueV0sdC5yb3RhdGlvbj0wLHQuc2NhbGU9WzEsMV0sdC51cGRhdGVUcmFuc2Zvcm0oKSx0JiZ0LmJydXNoKG4pO3ZhciB2PW5ldyBRbih7c3R5bGU6e3g6MCx5OjAsaW1hZ2U6aX19KTtyZXR1cm4gbnVsbCE9bS5wb3NpdGlvbiYmKHYucG9zaXRpb249dC5wb3NpdGlvbj1tLnBvc2l0aW9uKSxudWxsIT1tLnJvdGF0aW9uJiYodi5yb3RhdGlvbj10LnJvdGF0aW9uPW0ucm90YXRpb24pLG51bGwhPW0uc2NhbGUmJih2LnNjYWxlPXQuc2NhbGU9bS5zY2FsZSksdn19O2Z1bmN0aW9uIGFvKHQpe3Q9dHx8e30sdGhpcy5zdGFnZT10LnN0YWdlfHx7fSx0aGlzLm9uZnJhbWU9dC5vbmZyYW1lfHxmdW5jdGlvbigpe30sdGhpcy5fY2xpcHM9W10sdGhpcy5fcnVubmluZz0hMSx0aGlzLl90aW1lLHRoaXMuX3BhdXNlZFRpbWUsdGhpcy5fcGF1c2VTdGFydCx0aGlzLl9wYXVzZWQ9ITEsQ3QuY2FsbCh0aGlzKX1hby5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmFvLGFkZENsaXA6ZnVuY3Rpb24odCl7dGhpcy5fY2xpcHMucHVzaCh0KX0sYWRkQW5pbWF0b3I6ZnVuY3Rpb24odCl7dC5hbmltYXRpb249dGhpcztmb3IodmFyIGU9dC5nZXRDbGlwcygpLGk9MDtpPGUubGVuZ3RoO2krKyl0aGlzLmFkZENsaXAoZVtpXSl9LHJlbW92ZUNsaXA6ZnVuY3Rpb24odCl7dmFyIGU9Xyh0aGlzLl9jbGlwcyx0KTswPD1lJiZ0aGlzLl9jbGlwcy5zcGxpY2UoZSwxKX0scmVtb3ZlQW5pbWF0b3I6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZ2V0Q2xpcHMoKSxpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5yZW1vdmVDbGlwKGVbaV0pO3QuYW5pbWF0aW9uPW51bGx9LF91cGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fcGF1c2VkVGltZSxlPXQtdGhpcy5fdGltZSxpPXRoaXMuX2NsaXBzLG49aS5sZW5ndGgsbz1bXSxhPVtdLHI9MDtyPG47cisrKXt2YXIgcz1pW3JdLGw9cy5zdGVwKHQsZSk7bCYmKG8ucHVzaChsKSxhLnB1c2gocykpfWZvcihyPTA7cjxuOylpW3JdLl9uZWVkc1JlbW92ZT8oaVtyXT1pW24tMV0saS5wb3AoKSxuLS0pOnIrKztuPW8ubGVuZ3RoO2ZvcihyPTA7cjxuO3IrKylhW3JdLmZpcmUob1tyXSk7dGhpcy5fdGltZT10LHRoaXMub25mcmFtZShlKSx0aGlzLnRyaWdnZXIoImZyYW1lIixlKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKX0sX3N0YXJ0TG9vcDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fcnVubmluZz0hMCxlbihmdW5jdGlvbiB0KCl7ZS5fcnVubmluZyYmKGVuKHQpLGUuX3BhdXNlZHx8ZS5fdXBkYXRlKCkpfSl9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fc3RhcnRMb29wKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9ydW5uaW5nPSExfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZHx8KHRoaXMuX3BhdXNlU3RhcnQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fcGF1c2VkPSEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkJiYodGhpcy5fcGF1c2VkVGltZSs9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fcGF1c2VTdGFydCx0aGlzLl9wYXVzZWQ9ITEpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX2NsaXBzPVtdfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2NsaXBzLmxlbmd0aH0sYW5pbWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBkaSh0LChlPWV8fHt9KS5sb29wLGUuZ2V0dGVyLGUuc2V0dGVyKTtyZXR1cm4gdGhpcy5hZGRBbmltYXRvcihpKSxpfX0sYihhbyxDdCk7dmFyIHJvLHNvLGxvPXYuZG9tU3VwcG9ydGVkLHVvPShzbz17cG9pbnRlcmRvd246MSxwb2ludGVydXA6MSxwb2ludGVybW92ZToxLHBvaW50ZXJvdXQ6MX0se21vdXNlOnJvPVsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNld2hlZWwiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdLHRvdWNoOlsidG91Y2hzdGFydCIsInRvdWNoZW5kIiwidG91Y2htb3ZlIl0scG9pbnRlcjpPKHJvLGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZSgibW91c2UiLCJwb2ludGVyIik7cmV0dXJuIHNvLmhhc093blByb3BlcnR5KGUpP2U6dH0pfSksaG89e21vdXNlOlsibW91c2Vtb3ZlIiwibW91c2V1cCJdLHBvaW50ZXI6WyJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCJdfTtmdW5jdGlvbiBjbyh0KXtyZXR1cm4ibW91c2V3aGVlbCI9PT10JiZ2LmJyb3dzZXIuZmlyZWZveD8iRE9NTW91c2VTY3JvbGwiOnR9ZnVuY3Rpb24gZm8odCl7dmFyIGU9dC5wb2ludGVyVHlwZTtyZXR1cm4icGVuIj09PWV8fCJ0b3VjaCI9PT1lfWZ1bmN0aW9uIHBvKHQpe3QmJih0LnpyQnlUb3VjaD0hMCl9ZnVuY3Rpb24gZ28odCxlKXtmb3IodmFyIGk9ZSxuPSExO2kmJjkhPT1pLm5vZGVUeXBlJiYhKG49aS5kb21CZWxvbmdUb1pyfHxpIT09ZSYmaT09PXQucGFpbnRlclJvb3QpOylpPWkucGFyZW50Tm9kZTtyZXR1cm4gbn1mdW5jdGlvbiBtbyh0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy50YXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PXQuZG9tLHRoaXMucG9pbnRlclR5cGU9ZS5wb2ludGVyVHlwZSx0aGlzLmNsaWVudFg9ZS5jbGllbnRYLHRoaXMuY2xpZW50WT1lLmNsaWVudFl9dmFyIHZvPW1vLnByb3RvdHlwZTt2by5zdG9wUHJvcGFnYXRpb249dm8uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPXZvLnByZXZlbnREZWZhdWx0PWV0O3ZhciB5bz17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3Q9WnQodGhpcy5kb20sdCksdGhpcy5fbWF5UG9pbnRlckNhcHR1cmU9W3QuenJYLHQuenJZXSx0aGlzLnRyaWdnZXIoIm1vdXNlZG93biIsdCl9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXt0PVp0KHRoaXMuZG9tLHQpO3ZhciBlPXRoaXMuX21heVBvaW50ZXJDYXB0dXJlOyFlfHx0LnpyWD09PWVbMF0mJnQuenJZPT09ZVsxXXx8TW8odGhpcywhMCksdGhpcy50cmlnZ2VyKCJtb3VzZW1vdmUiLHQpfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3Q9WnQodGhpcy5kb20sdCksTW8odGhpcywhMSksdGhpcy50cmlnZ2VyKCJtb3VzZXVwIix0KX0sbW91c2VvdXQ6ZnVuY3Rpb24odCl7dD1adCh0aGlzLmRvbSx0KSx0aGlzLl9wb2ludGVyQ2FwdHVyaW5nJiYodC56ckV2ZW50Q29udHJvbD0ibm9fZ2xvYmFsb3V0Iik7dmFyIGU9dC50b0VsZW1lbnR8fHQucmVsYXRlZFRhcmdldDt0LnpySXNUb0xvY2FsRE9NPWdvKHRoaXMsZSksdGhpcy50cmlnZ2VyKCJtb3VzZW91dCIsdCl9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24odCl7cG8odD1adCh0aGlzLmRvbSx0KSksdGhpcy5fbGFzdFRvdWNoTW9tZW50PW5ldyBEYXRlLHRoaXMuaGFuZGxlci5wcm9jZXNzR2VzdHVyZSh0LCJzdGFydCIpLHlvLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCkseW8ubW91c2Vkb3duLmNhbGwodGhpcyx0KX0sdG91Y2htb3ZlOmZ1bmN0aW9uKHQpe3BvKHQ9WnQodGhpcy5kb20sdCkpLHRoaXMuaGFuZGxlci5wcm9jZXNzR2VzdHVyZSh0LCJjaGFuZ2UiKSx5by5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSx0b3VjaGVuZDpmdW5jdGlvbih0KXtwbyh0PVp0KHRoaXMuZG9tLHQpKSx0aGlzLmhhbmRsZXIucHJvY2Vzc0dlc3R1cmUodCwiZW5kIikseW8ubW91c2V1cC5jYWxsKHRoaXMsdCksK25ldyBEYXRlLXRoaXMuX2xhc3RUb3VjaE1vbWVudDwzMDAmJnlvLmNsaWNrLmNhbGwodGhpcyx0KX0scG9pbnRlcmRvd246ZnVuY3Rpb24odCl7eW8ubW91c2Vkb3duLmNhbGwodGhpcyx0KX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24odCl7Zm8odCl8fHlvLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCl9LHBvaW50ZXJ1cDpmdW5jdGlvbih0KXt5by5tb3VzZXVwLmNhbGwodGhpcyx0KX0scG9pbnRlcm91dDpmdW5jdGlvbih0KXtmbyh0KXx8eW8ubW91c2VvdXQuY2FsbCh0aGlzLHQpfX07UihbImNsaWNrIiwibW91c2V3aGVlbCIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiXSxmdW5jdGlvbihlKXt5b1tlXT1mdW5jdGlvbih0KXt0PVp0KHRoaXMuZG9tLHQpLHRoaXMudHJpZ2dlcihlLHQpfX0pO3ZhciB4bz17cG9pbnRlcm1vdmU6ZnVuY3Rpb24odCl7Zm8odCl8fHhvLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCl9LHBvaW50ZXJ1cDpmdW5jdGlvbih0KXt4by5tb3VzZXVwLmNhbGwodGhpcyx0KX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMudHJpZ2dlcigibW91c2Vtb3ZlIix0KX0sbW91c2V1cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2ludGVyQ2FwdHVyaW5nO01vKHRoaXMsITEpLHRoaXMudHJpZ2dlcigibW91c2V1cCIsdCksZSYmKHQuenJFdmVudENvbnRyb2w9Im9ubHlfZ2xvYmFsb3V0Iix0aGlzLnRyaWdnZXIoIm1vdXNlb3V0Iix0KSl9fTtmdW5jdGlvbiBfbyhpLG4pe3ZhciBvPW4uZG9tSGFuZGxlcnM7di5wb2ludGVyRXZlbnRzU3VwcG9ydGVkP1IodW8ucG9pbnRlcixmdW5jdGlvbihlKXtibyhuLGUsZnVuY3Rpb24odCl7b1tlXS5jYWxsKGksdCl9KX0pOih2LnRvdWNoRXZlbnRzU3VwcG9ydGVkJiZSKHVvLnRvdWNoLGZ1bmN0aW9uKGUpe2JvKG4sZSxmdW5jdGlvbih0KXtvW2VdLmNhbGwoaSx0KSxmdW5jdGlvbih0KXt0LnRvdWNoaW5nPSEwLG51bGwhPXQudG91Y2hUaW1lciYmKGNsZWFyVGltZW91dCh0LnRvdWNoVGltZXIpLHQudG91Y2hUaW1lcj1udWxsKSx0LnRvdWNoVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3QudG91Y2hpbmc9ITEsdC50b3VjaFRpbWVyPW51bGx9LDcwMCl9KG4pfSl9KSxSKHVvLm1vdXNlLGZ1bmN0aW9uKGUpe2JvKG4sZSxmdW5jdGlvbih0KXt0PUh0KHQpLG4udG91Y2hpbmd8fG9bZV0uY2FsbChpLHQpfSl9KSl9ZnVuY3Rpb24gd28oaSxuKXtmdW5jdGlvbiB0KGUpe2JvKG4sZSxmdW5jdGlvbih0KXt0PUh0KHQpLGdvKGksdC50YXJnZXQpfHwodD1mdW5jdGlvbih0LGUpe3JldHVybiBadCh0LmRvbSxuZXcgbW8odCxlKSwhMCl9KGksdCksbi5kb21IYW5kbGVyc1tlXS5jYWxsKGksdCkpfSx7Y2FwdHVyZTohMH0pfXYucG9pbnRlckV2ZW50c1N1cHBvcnRlZD9SKGhvLnBvaW50ZXIsdCk6di50b3VjaEV2ZW50c1N1cHBvcnRlZHx8Uihoby5tb3VzZSx0KX1mdW5jdGlvbiBibyh0LGUsaSxuKXt0Lm1vdW50ZWRbZV09aSx0Lmxpc3RlbmVyT3B0c1tlXT1uLFV0KHQuZG9tVGFyZ2V0LGNvKGUpLGksbil9ZnVuY3Rpb24gU28odCl7dmFyIGUsaSxuLG8sYT10Lm1vdW50ZWQ7Zm9yKHZhciByIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShyKSYmKGU9dC5kb21UYXJnZXQsaT1jbyhyKSxuPWFbcl0sbz10Lmxpc3RlbmVyT3B0c1tyXSxCdD9lLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxuLG8pOmUuZGV0YWNoRXZlbnQoIm9uIitpLG4pKTt0Lm1vdW50ZWQ9e319ZnVuY3Rpb24gTW8odCxlKXtpZih0Ll9tYXlQb2ludGVyQ2FwdHVyZT1udWxsLGxvJiZ0Ll9wb2ludGVyQ2FwdHVyaW5nXmUpe3QuX3BvaW50ZXJDYXB0dXJpbmc9ZTt2YXIgaT10Ll9nbG9iYWxIYW5kbGVyU2NvcGU7ZT93byh0LGkpOlNvKGkpfX1mdW5jdGlvbiBJbyh0LGUpe3RoaXMuZG9tVGFyZ2V0PXQsdGhpcy5kb21IYW5kbGVycz1lLHRoaXMubW91bnRlZD17fSx0aGlzLmxpc3RlbmVyT3B0cz17fSx0aGlzLnRvdWNoVGltZXI9bnVsbCx0aGlzLnRvdWNoaW5nPSExfWZ1bmN0aW9uIFRvKHQsZSl7Q3QuY2FsbCh0aGlzKSx0aGlzLmRvbT10LHRoaXMucGFpbnRlclJvb3Q9ZSx0aGlzLl9sb2NhbEhhbmRsZXJTY29wZT1uZXcgSW8odCx5byksbG8mJih0aGlzLl9nbG9iYWxIYW5kbGVyU2NvcGU9bmV3IElvKGRvY3VtZW50LHhvKSksdGhpcy5fcG9pbnRlckNhcHR1cmluZz0hMSx0aGlzLl9tYXlQb2ludGVyQ2FwdHVyZT1udWxsLF9vKHRoaXMsdGhpcy5fbG9jYWxIYW5kbGVyU2NvcGUpfXZhciBBbz1Uby5wcm90b3R5cGU7QW8uZGlzcG9zZT1mdW5jdGlvbigpe1NvKHRoaXMuX2xvY2FsSGFuZGxlclNjb3BlKSxsbyYmU28odGhpcy5fZ2xvYmFsSGFuZGxlclNjb3BlKX0sQW8uc2V0Q3Vyc29yPWZ1bmN0aW9uKHQpe3RoaXMuZG9tLnN0eWxlJiYodGhpcy5kb20uc3R5bGUuY3Vyc29yPXR8fCJkZWZhdWx0Iil9LGIoVG8sQ3QpO3ZhciBEbz0hdi5jYW52YXNTdXBwb3J0ZWQsQ289e2NhbnZhczpvb30sTG89e307ZnVuY3Rpb24ga28odCxlKXt2YXIgaT1uZXcgTm8obigpLHQsZSk7cmV0dXJuIExvW2kuaWRdPWl9ZnVuY3Rpb24gUG8odCxlKXtDb1t0XT1lfXZhciBObz1mdW5jdGlvbih0LGUsaSl7aT1pfHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgbj10aGlzLG89bmV3IFZpLGE9aS5yZW5kZXJlcjtpZihEbyl7aWYoIUNvLnZtbCl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHJlcXVpcmUgJ3pyZW5kZXIvdm1sL3ZtbCcgdG8gc3VwcG9ydCBJRTgiKTthPSJ2bWwifWVsc2UgYSYmQ29bYV18fChhPSJjYW52YXMiKTt2YXIgcj1uZXcgQ29bYV0oZSxvLGksdCk7dGhpcy5zdG9yYWdlPW8sdGhpcy5wYWludGVyPXI7dmFyIHM9di5ub2RlfHx2Lndvcmtlcj9udWxsOm5ldyBUbyhyLmdldFZpZXdwb3J0Um9vdCgpLHIucm9vdCk7dGhpcy5oYW5kbGVyPW5ldyB0ZShvLHIscyxyLnJvb3QpLHRoaXMuYW5pbWF0aW9uPW5ldyBhbyh7c3RhZ2U6e3VwZGF0ZTpBKHRoaXMuZmx1c2gsdGhpcyl9fSksdGhpcy5hbmltYXRpb24uc3RhcnQoKSx0aGlzLl9uZWVkc1JlZnJlc2g7dmFyIGw9by5kZWxGcm9tU3RvcmFnZSx1PW8uYWRkVG9TdG9yYWdlO28uZGVsRnJvbVN0b3JhZ2U9ZnVuY3Rpb24odCl7bC5jYWxsKG8sdCksdCYmdC5yZW1vdmVTZWxmRnJvbVpyKG4pfSxvLmFkZFRvU3RvcmFnZT1mdW5jdGlvbih0KXt1LmNhbGwobyx0KSx0LmFkZFNlbGZUb1pyKG4pfX07Tm8ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpObyxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfSxhZGQ6ZnVuY3Rpb24odCl7dGhpcy5zdG9yYWdlLmFkZFJvb3QodCksdGhpcy5fbmVlZHNSZWZyZXNoPSEwfSxyZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy5zdG9yYWdlLmRlbFJvb3QodCksdGhpcy5fbmVlZHNSZWZyZXNoPSEwfSxjb25maWdMYXllcjpmdW5jdGlvbih0LGUpe3RoaXMucGFpbnRlci5jb25maWdMYXllciYmdGhpcy5wYWludGVyLmNvbmZpZ0xheWVyKHQsZSksdGhpcy5fbmVlZHNSZWZyZXNoPSEwfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24odCl7dGhpcy5wYWludGVyLnNldEJhY2tncm91bmRDb2xvciYmdGhpcy5wYWludGVyLnNldEJhY2tncm91bmRDb2xvcih0KSx0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LHJlZnJlc2hJbW1lZGlhdGVseTpmdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD10aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaCgpLHRoaXMuX25lZWRzUmVmcmVzaD10aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD0hMH0sZmx1c2g6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9uZWVkc1JlZnJlc2gmJih0PSEwLHRoaXMucmVmcmVzaEltbWVkaWF0ZWx5KCkpLHRoaXMuX25lZWRzUmVmcmVzaEhvdmVyJiYodD0hMCx0aGlzLnJlZnJlc2hIb3ZlckltbWVkaWF0ZWx5KCkpLHQmJnRoaXMudHJpZ2dlcigicmVuZGVyZWQiKX0sYWRkSG92ZXI6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnBhaW50ZXIuYWRkSG92ZXIpe3ZhciBpPXRoaXMucGFpbnRlci5hZGRIb3Zlcih0LGUpO3JldHVybiB0aGlzLnJlZnJlc2hIb3ZlcigpLGl9fSxyZW1vdmVIb3ZlcjpmdW5jdGlvbih0KXt0aGlzLnBhaW50ZXIucmVtb3ZlSG92ZXImJih0aGlzLnBhaW50ZXIucmVtb3ZlSG92ZXIodCksdGhpcy5yZWZyZXNoSG92ZXIoKSl9LGNsZWFySG92ZXI6ZnVuY3Rpb24oKXt0aGlzLnBhaW50ZXIuY2xlYXJIb3ZlciYmKHRoaXMucGFpbnRlci5jbGVhckhvdmVyKCksdGhpcy5yZWZyZXNoSG92ZXIoKSl9LHJlZnJlc2hIb3ZlcjpmdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSEwfSxyZWZyZXNoSG92ZXJJbW1lZGlhdGVseTpmdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSExLHRoaXMucGFpbnRlci5yZWZyZXNoSG92ZXImJnRoaXMucGFpbnRlci5yZWZyZXNoSG92ZXIoKX0scmVzaXplOmZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5wYWludGVyLnJlc2l6ZSh0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLmhhbmRsZXIucmVzaXplKCl9LGNsZWFyQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uY2xlYXIoKX0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludGVyLmdldFdpZHRoKCl9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0SGVpZ2h0KCl9LHBhdGhUb0ltYWdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucGFpbnRlci5wYXRoVG9JbWFnZSh0LGUpfSxzZXRDdXJzb3JTdHlsZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZXIuc2V0Q3Vyc29yU3R5bGUodCl9LGZpbmRIb3ZlcjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhhbmRsZXIuZmluZEhvdmVyKHQsZSl9LG9uOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmhhbmRsZXIub24odCxlLGkpfSxvZmY6ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXIub2ZmKHQsZSl9LHRyaWdnZXI6ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXIudHJpZ2dlcih0LGUpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuc3RvcmFnZS5kZWxSb290KCksdGhpcy5wYWludGVyLmNsZWFyKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5zdG9wKCksdGhpcy5jbGVhcigpLHRoaXMuc3RvcmFnZS5kaXNwb3NlKCksdGhpcy5wYWludGVyLmRpc3Bvc2UoKSx0aGlzLmhhbmRsZXIuZGlzcG9zZSgpLHRoaXMuYW5pbWF0aW9uPXRoaXMuc3RvcmFnZT10aGlzLnBhaW50ZXI9dGhpcy5oYW5kbGVyPW51bGwsZnVuY3Rpb24odCl7ZGVsZXRlIExvW3RdfSh0aGlzLmlkKX19O3ZhciBPbz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7dmVyc2lvbjoiNC4zLjIiLGluaXQ6a28sZGlzcG9zZTpmdW5jdGlvbih0KXtpZih0KXQuZGlzcG9zZSgpO2Vsc2V7Zm9yKHZhciBlIGluIExvKUxvLmhhc093blByb3BlcnR5KGUpJiZMb1tlXS5kaXNwb3NlKCk7TG89e319cmV0dXJuIHRoaXN9LGdldEluc3RhbmNlOmZ1bmN0aW9uKHQpe3JldHVybiBMb1t0XX0scmVnaXN0ZXJQYWludGVyOlBvfSksUm89Uix6bz1FLEVvPUwsQm89InNlcmllc1wwIjtmdW5jdGlvbiBWbyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5P3Q6bnVsbD09dD9bXTpbdF19ZnVuY3Rpb24gR28odCxlLGkpe2lmKHQpe3RbZV09dFtlXXx8e30sdC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXQuZW1waGFzaXNbZV18fHt9O2Zvcih2YXIgbj0wLG89aS5sZW5ndGg7bjxvO24rKyl7dmFyIGE9aVtuXTshdC5lbXBoYXNpc1tlXS5oYXNPd25Qcm9wZXJ0eShhKSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShhKSYmKHQuZW1waGFzaXNbZV1bYV09dFtlXVthXSl9fX12YXIgRm89WyJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwicmljaCIsInRhZyIsImNvbG9yIiwidGV4dEJvcmRlckNvbG9yIiwidGV4dEJvcmRlcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJsaW5lSGVpZ2h0IiwiYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwiYmFzZWxpbmUiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dCbHVyIiwidGV4dFNoYWRvd09mZnNldFgiLCJ0ZXh0U2hhZG93T2Zmc2V0WSIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIl07ZnVuY3Rpb24gV28odCl7cmV0dXJuIXpvKHQpfHxFbyh0KXx8dCBpbnN0YW5jZW9mIERhdGU/dDp0LnZhbHVlfWZ1bmN0aW9uIEhvKHQsbyl7bz0ob3x8W10pLnNsaWNlKCk7dmFyIGE9Tyh0fHxbXSxmdW5jdGlvbih0LGUpe3JldHVybntleGlzdDp0fX0pO3JldHVybiBSbyhvLGZ1bmN0aW9uKHQsZSl7aWYoem8odCkpe2Zvcih2YXIgaT0wO2k8YS5sZW5ndGg7aSsrKWlmKCFhW2ldLm9wdGlvbiYmbnVsbCE9dC5pZCYmYVtpXS5leGlzdC5pZD09PXQuaWQrIiIpcmV0dXJuIGFbaV0ub3B0aW9uPXQsdm9pZChvW2VdPW51bGwpO2ZvcihpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBuPWFbaV0uZXhpc3Q7aWYoIShhW2ldLm9wdGlvbnx8bnVsbCE9bi5pZCYmbnVsbCE9dC5pZHx8bnVsbD09dC5uYW1lfHxYbyh0KXx8WG8obil8fG4ubmFtZSE9PXQubmFtZSsiIikpcmV0dXJuIGFbaV0ub3B0aW9uPXQsdm9pZChvW2VdPW51bGwpfX19KSxSbyhvLGZ1bmN0aW9uKHQsZSl7aWYoem8odCkpe2Zvcih2YXIgaT0wO2k8YS5sZW5ndGg7aSsrKXt2YXIgbj1hW2ldLmV4aXN0O2lmKCFhW2ldLm9wdGlvbiYmIVhvKG4pJiZudWxsPT10LmlkKXthW2ldLm9wdGlvbj10O2JyZWFrfX1pPj1hLmxlbmd0aCYmYS5wdXNoKHtvcHRpb246dH0pfX0pLGF9ZnVuY3Rpb24gWm8odCl7dmFyIHI9USgpO1JvKHQsZnVuY3Rpb24odCxlKXt2YXIgaT10LmV4aXN0O2kmJnIuc2V0KGkuaWQsdCl9KSxSbyh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5vcHRpb247WSghaXx8bnVsbD09aS5pZHx8IXIuZ2V0KGkuaWQpfHxyLmdldChpLmlkKT09PXQsImlkIGR1cGxpY2F0ZXM6ICIrKGkmJmkuaWQpKSxpJiZudWxsIT1pLmlkJiZyLnNldChpLmlkLHQpLHQua2V5SW5mb3x8KHQua2V5SW5mbz17fSl9KSxSbyh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5leGlzdCxuPXQub3B0aW9uLG89dC5rZXlJbmZvO2lmKHpvKG4pKXtpZihvLm5hbWU9bnVsbCE9bi5uYW1lP24ubmFtZSsiIjppP2kubmFtZTpCbytlLGkpby5pZD1pLmlkO2Vsc2UgaWYobnVsbCE9bi5pZClvLmlkPW4uaWQrIiI7ZWxzZSBmb3IodmFyIGE9MDtvLmlkPSJcMCIrby5uYW1lKyJcMCIrYSsrLHIuZ2V0KG8uaWQpOyk7ci5zZXQoby5pZCx0KX19KX1mdW5jdGlvbiBVbyh0KXt2YXIgZT10Lm5hbWU7cmV0dXJuISghZXx8IWUuaW5kZXhPZihCbykpfWZ1bmN0aW9uIFhvKHQpe3JldHVybiB6byh0KSYmdC5pZCYmMD09PSh0LmlkKyIiKS5pbmRleE9mKCJcMF9lY19cMCIpfWZ1bmN0aW9uIFlvKGUsdCl7cmV0dXJuIG51bGwhPXQuZGF0YUluZGV4SW5zaWRlP3QuZGF0YUluZGV4SW5zaWRlOm51bGwhPXQuZGF0YUluZGV4P0wodC5kYXRhSW5kZXgpP08odC5kYXRhSW5kZXgsZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5kZXhPZlJhd0luZGV4KHQpfSk6ZS5pbmRleE9mUmF3SW5kZXgodC5kYXRhSW5kZXgpOm51bGwhPXQubmFtZT9MKHQubmFtZSk/Tyh0Lm5hbWUsZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5kZXhPZk5hbWUodCl9KTplLmluZGV4T2ZOYW1lKHQubmFtZSk6dm9pZCAwfWZ1bmN0aW9uIGpvKCl7dmFyIGU9Il9fXDBlY19pbm5lcl8iK3FvKysrIl8iK01hdGgucmFuZG9tKCkudG9GaXhlZCg1KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHRbZV18fCh0W2VdPXt9KX19dmFyIHFvPTA7ZnVuY3Rpb24gS28ocyxsLHUpe2lmKHoobCkpe3ZhciB0PXt9O3RbbCsiSW5kZXgiXT0wLGw9dH12YXIgZT11JiZ1LmRlZmF1bHRNYWluVHlwZTshZXx8JG8obCxlKyJJbmRleCIpfHwkbyhsLGUrIklkIil8fCRvKGwsZSsiTmFtZSIpfHwobFtlKyJJbmRleCJdPTApO3ZhciBoPXt9O3JldHVybiBSbyhsLGZ1bmN0aW9uKHQsZSl7dD1sW2VdO2lmKCJkYXRhSW5kZXgiIT09ZSYmImRhdGFJbmRleEluc2lkZSIhPT1lKXt2YXIgaT1lLm1hdGNoKC9eKFx3KykoSW5kZXh8SWR8TmFtZSkkLyl8fFtdLG49aVsxXSxvPShpWzJdfHwiIikudG9Mb3dlckNhc2UoKTtpZighKCFufHwhb3x8bnVsbD09dHx8ImluZGV4Ij09PW8mJiJub25lIj09PXR8fHUmJnUuaW5jbHVkZU1haW5UeXBlcyYmXyh1LmluY2x1ZGVNYWluVHlwZXMsbik8MCkpe3ZhciBhPXttYWluVHlwZTpufTsiaW5kZXgiPT09byYmImFsbCI9PT10fHwoYVtvXT10KTt2YXIgcj1zLnF1ZXJ5Q29tcG9uZW50cyhhKTtoW24rIk1vZGVscyJdPXIsaFtuKyJNb2RlbCJdPXJbMF19fWVsc2UgaFtlXT10fSksaH1mdW5jdGlvbiAkbyh0LGUpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIEpvKHQsZSxpKXt0LnNldEF0dHJpYnV0ZT90LnNldEF0dHJpYnV0ZShlLGkpOnRbZV09aX1mdW5jdGlvbiBRbyh0KXtyZXR1cm4iYXV0byI9PT10P3YuZG9tU3VwcG9ydGVkPyJodG1sIjoicmljaFRleHQiOnR8fCJodG1sIn1mdW5jdGlvbiB0YSh0LGkpe3ZhciBuPVEoKSxvPVtdO3JldHVybiBSKHQsZnVuY3Rpb24odCl7dmFyIGU9aSh0KTsobi5nZXQoZSl8fChvLnB1c2goZSksbi5zZXQoZSxbXSkpKS5wdXNoKHQpfSkse2tleXM6byxidWNrZXRzOm59fXZhciBlYT0iLiIsaWE9Il9fX0VDX19DT01QT05FTlRfX0NPTlRBSU5FUl9fXyI7ZnVuY3Rpb24gbmEodCl7dmFyIGU9e21haW46IiIsc3ViOiIifTtyZXR1cm4gdCYmKHQ9dC5zcGxpdChlYSksZS5tYWluPXRbMF18fCIiLGUuc3ViPXRbMV18fCIiKSxlfWZ1bmN0aW9uIG9hKHQpeyh0LiRjb25zdHJ1Y3Rvcj10KS5leHRlbmQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuJGNvbnN0cnVjdG9yP3QuJGNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTppLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaT10aGlzO3JldHVybiBQKGUucHJvdG90eXBlLHQpLGUuZXh0ZW5kPXRoaXMuZXh0ZW5kLGUuc3VwZXJDYWxsPXNhLGUuc3VwZXJBcHBseT1sYSx3KGUsdGhpcyksZS5zdXBlckNsYXNzPWksZX19dmFyIGFhPTA7ZnVuY3Rpb24gcmEodCl7dmFyIGU9WyJfX1wwaXNfY2x6IixhYSsrLE1hdGgucmFuZG9tKCkudG9GaXhlZCgzKV0uam9pbigiXyIpO3QucHJvdG90eXBlW2VdPSEwLHQuaXNJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdFtlXSl9fWZ1bmN0aW9uIHNhKHQsZSl7dmFyIGk9VShhcmd1bWVudHMsMik7cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxpKX1mdW5jdGlvbiBsYSh0LGUsaSl7cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxpKX1mdW5jdGlvbiB1YShpLHQpe3Q9dHx8e307dmFyIG89e307aWYoaS5yZWdpc3RlckNsYXNzPWZ1bmN0aW9uKHQsZSl7aWYoZSlpZihmdW5jdGlvbih0KXtZKC9eW2EtekEtWjAtOV9dKyhbLl1bYS16QS1aMC05X10rKT8kLy50ZXN0KHQpLCdjb21wb25lbnRUeXBlICInK3QrJyIgaWxsZWdhbCcpfShlKSwoZT1uYShlKSkuc3ViKXtpZihlLnN1YiE9PWlhKXsoZnVuY3Rpb24odCl7dmFyIGU9b1t0Lm1haW5dO2UmJmVbaWFdfHwoKGU9b1t0Lm1haW5dPXt9KVtpYV09ITApO3JldHVybiBlfSkoZSlbZS5zdWJdPXR9fWVsc2Ugb1tlLm1haW5dPXQ7cmV0dXJuIHR9LGkuZ2V0Q2xhc3M9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPW9bdF07aWYobiYmbltpYV0mJihuPWU/bltlXTpudWxsKSxpJiYhbil0aHJvdyBuZXcgRXJyb3IoZT8iQ29tcG9uZW50ICIrdCsiLiIrKGV8fCIiKSsiIG5vdCBleGlzdHMuIExvYWQgaXQgZmlyc3QuIjp0KyIudHlwZSBzaG91bGQgYmUgc3BlY2lmaWVkLiIpO3JldHVybiBufSxpLmdldENsYXNzZXNCeU1haW5UeXBlPWZ1bmN0aW9uKHQpe3Q9bmEodCk7dmFyIGk9W10sZT1vW3QubWFpbl07cmV0dXJuIGUmJmVbaWFdP1IoZSxmdW5jdGlvbih0LGUpe2UhPT1pYSYmaS5wdXNoKHQpfSk6aS5wdXNoKGUpLGl9LGkuaGFzQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bmEodCksISFvW3QubWFpbl19LGkuZ2V0QWxsQ2xhc3NNYWluVHlwZXM9ZnVuY3Rpb24oKXt2YXIgaT1bXTtyZXR1cm4gUihvLGZ1bmN0aW9uKHQsZSl7aS5wdXNoKGUpfSksaX0saS5oYXNTdWJUeXBlcz1mdW5jdGlvbih0KXt0PW5hKHQpO3ZhciBlPW9bdC5tYWluXTtyZXR1cm4gZSYmZVtpYV19LGkucGFyc2VDbGFzc1R5cGU9bmEsdC5yZWdpc3RlcldoZW5FeHRlbmQpe3ZhciBuPWkuZXh0ZW5kO24mJihpLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZT1uLmNhbGwodGhpcyx0KTtyZXR1cm4gaS5yZWdpc3RlckNsYXNzKGUsdC50eXBlKX0pfXJldHVybiBpfWZ1bmN0aW9uIGhhKHMpe2Zvcih2YXIgdD0wO3Q8cy5sZW5ndGg7dCsrKXNbdF1bMV18fChzW3RdWzFdPXNbdF1bMF0pO3JldHVybiBmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXt9LG89MDtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXVsxXTtpZighKGUmJjA8PV8oZSxhKXx8aSYmXyhpLGEpPDApKXt2YXIgcj10LmdldFNoYWxsb3coYSk7bnVsbCE9ciYmKG5bc1tvXVswXV09cil9fXJldHVybiBufX12YXIgY2E9aGEoW1sibGluZVdpZHRoIiwid2lkdGgiXSxbInN0cm9rZSIsImNvbG9yIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdXSksZGE9e2dldExpbmVTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1jYSh0aGlzLHQpO3JldHVybiBlLmxpbmVEYXNoPXRoaXMuZ2V0TGluZURhc2goZS5saW5lV2lkdGgpLGV9LGdldExpbmVEYXNoOmZ1bmN0aW9uKHQpe251bGw9PXQmJih0PTEpO3ZhciBlPXRoaXMuZ2V0KCJ0eXBlIiksaT1NYXRoLm1heCh0LDIpLG49NCp0O3JldHVybiJzb2xpZCIhPT1lJiZudWxsIT1lJiYoImRhc2hlZCI9PT1lP1tuLG5dOltpLGldKX19LGZhPWhhKFtbImZpbGwiLCJjb2xvciJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsib3BhY2l0eSJdLFsic2hhZG93Q29sb3IiXV0pLHBhPXtnZXRBcmVhU3R5bGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZmEodGhpcyx0LGUpfX0sZ2E9TWF0aC5wb3csbWE9TWF0aC5zcXJ0LHZhPTFlLTgseWE9MWUtNCx4YT1tYSgzKSxfYT0xLzMsd2E9b3QoKSxiYT1vdCgpLFNhPW90KCk7ZnVuY3Rpb24gTWEodCl7cmV0dXJuLXZhPHQmJnQ8dmF9ZnVuY3Rpb24gSWEodCl7cmV0dXJuIHZhPHR8fHQ8LXZhfWZ1bmN0aW9uIFRhKHQsZSxpLG4sbyl7dmFyIGE9MS1vO3JldHVybiBhKmEqKGEqdCszKm8qZSkrbypvKihvKm4rMyphKmkpfWZ1bmN0aW9uIEFhKHQsZSxpLG4sbyl7dmFyIGE9MS1vO3JldHVybiAzKigoKGUtdCkqYSsyKihpLWUpKm8pKmErKG4taSkqbypvKX1mdW5jdGlvbiBEYSh0LGUsaSxuLG8pe3ZhciBhPTYqaS0xMiplKzYqdCxyPTkqZSszKm4tMyp0LTkqaSxzPTMqZS0zKnQsbD0wO2lmKE1hKHIpKXtpZihJYShhKSkwPD0oaD0tcy9hKSYmaDw9MSYmKG9bbCsrXT1oKX1lbHNle3ZhciB1PWEqYS00KnIqcztpZihNYSh1KSlvWzBdPS1hLygyKnIpO2Vsc2UgaWYoMDx1KXt2YXIgaCxjPW1hKHUpLGQ9KC1hLWMpLygyKnIpOzA8PShoPSgtYStjKS8oMipyKSkmJmg8PTEmJihvW2wrK109aCksMDw9ZCYmZDw9MSYmKG9bbCsrXT1kKX19cmV0dXJuIGx9ZnVuY3Rpb24gQ2EodCxlLGksbixvLGEpe3ZhciByPShlLXQpKm8rdCxzPShpLWUpKm8rZSxsPShuLWkpKm8raSx1PShzLXIpKm8rcixoPShsLXMpKm8rcyxjPShoLXUpKm8rdTthWzBdPXQsYVsxXT1yLGFbMl09dSxhWzNdPWMsYVs0XT1jLGFbNV09aCxhWzZdPWwsYVs3XT1ufWZ1bmN0aW9uIExhKHQsZSxpLG4pe3ZhciBvPTEtbjtyZXR1cm4gbyoobyp0KzIqbiplKStuKm4qaX1mdW5jdGlvbiBrYSh0LGUsaSxuKXtyZXR1cm4gMiooKDEtbikqKGUtdCkrbiooaS1lKSl9ZnVuY3Rpb24gUGEodCxlLGkpe3ZhciBuPXQraS0yKmU7cmV0dXJuIDA9PW4/LjU6KHQtZSkvbn1mdW5jdGlvbiBOYSh0LGUsaSxuLG8pe3ZhciBhPShlLXQpKm4rdCxyPShpLWUpKm4rZSxzPShyLWEpKm4rYTtvWzBdPXQsb1sxXT1hLG9bMl09cyxvWzNdPXMsb1s0XT1yLG9bNV09aX12YXIgT2E9TWF0aC5taW4sUmE9TWF0aC5tYXgsemE9TWF0aC5zaW4sRWE9TWF0aC5jb3MsQmE9MipNYXRoLlBJLFZhPW90KCksR2E9b3QoKSxGYT1vdCgpO2Z1bmN0aW9uIFdhKHQsZSxpKXtpZigwIT09dC5sZW5ndGgpe3ZhciBuLG89dFswXSxhPW9bMF0scj1vWzBdLHM9b1sxXSxsPW9bMV07Zm9yKG49MTtuPHQubGVuZ3RoO24rKylvPXRbbl0sYT1PYShhLG9bMF0pLHI9UmEocixvWzBdKSxzPU9hKHMsb1sxXSksbD1SYShsLG9bMV0pO2VbMF09YSxlWzFdPXMsaVswXT1yLGlbMV09bH19ZnVuY3Rpb24gSGEodCxlLGksbixvLGEpe29bMF09T2EodCxpKSxvWzFdPU9hKGUsbiksYVswXT1SYSh0LGkpLGFbMV09UmEoZSxuKX12YXIgWmE9W10sVWE9W107ZnVuY3Rpb24gWGEodCxlLGksbixvLGEscixzLGwsdSl7dmFyIGgsYz1EYSxkPVRhLGY9Yyh0LGksbyxyLFphKTtmb3IobFswXT0xLzAsbFsxXT0xLzAsdVswXT0tMS8wLHVbMV09LTEvMCxoPTA7aDxmO2grKyl7dmFyIHA9ZCh0LGksbyxyLFphW2hdKTtsWzBdPU9hKHAsbFswXSksdVswXT1SYShwLHVbMF0pfWZvcihmPWMoZSxuLGEscyxVYSksaD0wO2g8ZjtoKyspe3ZhciBnPWQoZSxuLGEscyxVYVtoXSk7bFsxXT1PYShnLGxbMV0pLHVbMV09UmEoZyx1WzFdKX1sWzBdPU9hKHQsbFswXSksdVswXT1SYSh0LHVbMF0pLGxbMF09T2EocixsWzBdKSx1WzBdPVJhKHIsdVswXSksbFsxXT1PYShlLGxbMV0pLHVbMV09UmEoZSx1WzFdKSxsWzFdPU9hKHMsbFsxXSksdVsxXT1SYShzLHVbMV0pfWZ1bmN0aW9uIFlhKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdT1TdCxoPU10LGM9TWF0aC5hYnMoby1hKTtpZihjJUJhPDFlLTQmJjFlLTQ8YylyZXR1cm4gc1swXT10LWksc1sxXT1lLW4sbFswXT10K2ksdm9pZChsWzFdPWUrbik7aWYoVmFbMF09RWEobykqaSt0LFZhWzFdPXphKG8pKm4rZSxHYVswXT1FYShhKSppK3QsR2FbMV09emEoYSkqbitlLHUocyxWYSxHYSksaChsLFZhLEdhKSwobyU9QmEpPDAmJihvKz1CYSksKGElPUJhKTwwJiYoYSs9QmEpLGE8byYmIXI/YSs9QmE6bzxhJiZyJiYobys9QmEpLHIpe3ZhciBkPWE7YT1vLG89ZH1mb3IodmFyIGY9MDtmPGE7Zis9TWF0aC5QSS8yKW88ZiYmKEZhWzBdPUVhKGYpKmkrdCxGYVsxXT16YShmKSpuK2UsdShzLEZhLHMpLGgobCxGYSxsKSl9dmFyIGphPXtNOjEsTDoyLEM6MyxROjQsQTo1LFo6NixSOjd9LHFhPVtdLEthPVtdLCRhPVtdLEphPVtdLFFhPU1hdGgubWluLHRyPU1hdGgubWF4LGVyPU1hdGguY29zLGlyPU1hdGguc2luLG5yPU1hdGguc3FydCxvcj1NYXRoLmFicyxhcj0idW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheSxycj1mdW5jdGlvbih0KXt0aGlzLl9zYXZlRGF0YT0hdCx0aGlzLl9zYXZlRGF0YSYmKHRoaXMuZGF0YT1bXSksdGhpcy5fY3R4PW51bGx9O2Z1bmN0aW9uIHNyKHQsZSxpLG4sbyxhLHIpe2lmKDA9PT1vKXJldHVybiExO3ZhciBzPW8sbD0wO2lmKGUrczxyJiZuK3M8cnx8cjxlLXMmJnI8bi1zfHx0K3M8YSYmaStzPGF8fGE8dC1zJiZhPGktcylyZXR1cm4hMTtpZih0PT09aSlyZXR1cm4gTWF0aC5hYnMoYS10KTw9cy8yO3ZhciB1PShsPShlLW4pLyh0LWkpKSphLXIrKHQqbi1pKmUpLyh0LWkpO3JldHVybiB1KnUvKGwqbCsxKTw9cy8yKnMvMn1mdW5jdGlvbiBscih0LGUsaSxuLG8sYSxyLHMsbCx1LGgpe2lmKDA9PT1sKXJldHVybiExO3ZhciBjPWw7cmV0dXJuIShlK2M8aCYmbitjPGgmJmErYzxoJiZzK2M8aHx8aDxlLWMmJmg8bi1jJiZoPGEtYyYmaDxzLWN8fHQrYzx1JiZpK2M8dSYmbytjPHUmJnIrYzx1fHx1PHQtYyYmdTxpLWMmJnU8by1jJiZ1PHItYykmJmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsLHUsaCl7dmFyIGMsZCxmLHAsZyxtPS4wMDUsdj0xLzA7d2FbMF09bCx3YVsxXT11O2Zvcih2YXIgeT0wO3k8MTt5Kz0uMDUpYmFbMF09VGEodCxpLG8scix5KSxiYVsxXT1UYShlLG4sYSxzLHkpLChwPV90KHdhLGJhKSk8diYmKGM9eSx2PXApO3Y9MS8wO2Zvcih2YXIgeD0wO3g8MzImJiEobTx5YSk7eCsrKWQ9Yy1tLGY9YyttLGJhWzBdPVRhKHQsaSxvLHIsZCksYmFbMV09VGEoZSxuLGEscyxkKSxwPV90KGJhLHdhKSwwPD1kJiZwPHY/KGM9ZCx2PXApOihTYVswXT1UYSh0LGksbyxyLGYpLFNhWzFdPVRhKGUsbixhLHMsZiksZz1fdChTYSx3YSksZjw9MSYmZzx2PyhjPWYsdj1nKTptKj0uNSk7cmV0dXJuIGgmJihoWzBdPVRhKHQsaSxvLHIsYyksaFsxXT1UYShlLG4sYSxzLGMpKSxtYSh2KX0odCxlLGksbixvLGEscixzLHUsaCxudWxsKTw9Yy8yfWZ1bmN0aW9uIHVyKHQsZSxpLG4sbyxhLHIscyxsKXtpZigwPT09cilyZXR1cm4hMTt2YXIgdT1yO3JldHVybiEoZSt1PGwmJm4rdTxsJiZhK3U8bHx8bDxlLXUmJmw8bi11JiZsPGEtdXx8dCt1PHMmJmkrdTxzJiZvK3U8c3x8czx0LXUmJnM8aS11JiZzPG8tdSkmJmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdSxoPS4wMDUsYz0xLzA7d2FbMF09cix3YVsxXT1zO2Zvcih2YXIgZD0wO2Q8MTtkKz0uMDUpe2JhWzBdPUxhKHQsaSxvLGQpLGJhWzFdPUxhKGUsbixhLGQpLChtPV90KHdhLGJhKSk8YyYmKHU9ZCxjPW0pfWM9MS8wO2Zvcih2YXIgZj0wO2Y8MzImJiEoaDx5YSk7ZisrKXt2YXIgcD11LWgsZz11K2g7YmFbMF09TGEodCxpLG8scCksYmFbMV09TGEoZSxuLGEscCk7dmFyIG09X3QoYmEsd2EpO2lmKDA8PXAmJm08Yyl1PXAsYz1tO2Vsc2V7U2FbMF09TGEodCxpLG8sZyksU2FbMV09TGEoZSxuLGEsZyk7dmFyIHY9X3QoU2Esd2EpO2c8PTEmJnY8Yz8odT1nLGM9dik6aCo9LjV9fXJldHVybiBsJiYobFswXT1MYSh0LGksbyx1KSxsWzFdPUxhKGUsbixhLHUpKSxtYShjKX0odCxlLGksbixvLGEscyxsLG51bGwpPD11LzJ9cnIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpycixfeGk6MCxfeWk6MCxfeDA6MCxfeTA6MCxfdXg6MCxfdXk6MCxfbGVuOjAsX2xpbmVEYXNoOm51bGwsX2Rhc2hPZmZzZXQ6MCxfZGFzaElkeDowLF9kYXNoU3VtOjAsc2V0U2NhbGU6ZnVuY3Rpb24odCxlLGkpe2k9aXx8MCx0aGlzLl91eD1vcihpL3BpL3QpfHwwLHRoaXMuX3V5PW9yKGkvcGkvZSl8fDB9LGdldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSxiZWdpblBhdGg6ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuX2N0eD10KSYmdC5iZWdpblBhdGgoKSx0JiYodGhpcy5kcHI9dC5kcHIpLHRoaXMuX3NhdmVEYXRhJiYodGhpcy5fbGVuPTApLHRoaXMuX2xpbmVEYXNoJiYodGhpcy5fbGluZURhc2g9bnVsbCx0aGlzLl9kYXNoT2Zmc2V0PTApLHRoaXN9LG1vdmVUbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZERhdGEoamEuTSx0LGUpLHRoaXMuX2N0eCYmdGhpcy5fY3R4Lm1vdmVUbyh0LGUpLHRoaXMuX3gwPXQsdGhpcy5feTA9ZSx0aGlzLl94aT10LHRoaXMuX3lpPWUsdGhpc30sbGluZVRvOmZ1bmN0aW9uKHQsZSl7dmFyIGk9b3IodC10aGlzLl94aSk+dGhpcy5fdXh8fG9yKGUtdGhpcy5feWkpPnRoaXMuX3V5fHx0aGlzLl9sZW48NTtyZXR1cm4gdGhpcy5hZGREYXRhKGphLkwsdCxlKSx0aGlzLl9jdHgmJmkmJih0aGlzLl9uZWVkc0Rhc2goKT90aGlzLl9kYXNoZWRMaW5lVG8odCxlKTp0aGlzLl9jdHgubGluZVRvKHQsZSkpLGkmJih0aGlzLl94aT10LHRoaXMuX3lpPWUpLHRoaXN9LGJlemllckN1cnZlVG86ZnVuY3Rpb24odCxlLGksbixvLGEpe3JldHVybiB0aGlzLmFkZERhdGEoamEuQyx0LGUsaSxuLG8sYSksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLGksbixvLGEpOnRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvKHQsZSxpLG4sbyxhKSksdGhpcy5feGk9byx0aGlzLl95aT1hLHRoaXN9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMuYWRkRGF0YShqYS5RLHQsZSxpLG4pLHRoaXMuX2N0eCYmKHRoaXMuX25lZWRzRGFzaCgpP3RoaXMuX2Rhc2hlZFF1YWRyYXRpY1RvKHQsZSxpLG4pOnRoaXMuX2N0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQsZSxpLG4pKSx0aGlzLl94aT1pLHRoaXMuX3lpPW4sdGhpc30sYXJjOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtyZXR1cm4gdGhpcy5hZGREYXRhKGphLkEsdCxlLGksaSxuLG8tbiwwLGE/MDoxKSx0aGlzLl9jdHgmJnRoaXMuX2N0eC5hcmModCxlLGksbixvLGEpLHRoaXMuX3hpPWVyKG8pKmkrdCx0aGlzLl95aT1pcihvKSppK2UsdGhpc30sYXJjVG86ZnVuY3Rpb24odCxlLGksbixvKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjVG8odCxlLGksbixvKSx0aGlzfSxyZWN0OmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0aGlzLl9jdHgmJnRoaXMuX2N0eC5yZWN0KHQsZSxpLG4pLHRoaXMuYWRkRGF0YShqYS5SLHQsZSxpLG4pLHRoaXN9LGNsb3NlUGF0aDpmdW5jdGlvbigpe3RoaXMuYWRkRGF0YShqYS5aKTt2YXIgdD10aGlzLl9jdHgsZT10aGlzLl94MCxpPXRoaXMuX3kwO3JldHVybiB0JiYodGhpcy5fbmVlZHNEYXNoKCkmJnRoaXMuX2Rhc2hlZExpbmVUbyhlLGkpLHQuY2xvc2VQYXRoKCkpLHRoaXMuX3hpPWUsdGhpcy5feWk9aSx0aGlzfSxmaWxsOmZ1bmN0aW9uKHQpe3QmJnQuZmlsbCgpLHRoaXMudG9TdGF0aWMoKX0sc3Ryb2tlOmZ1bmN0aW9uKHQpe3QmJnQuc3Ryb2tlKCksdGhpcy50b1N0YXRpYygpfSxzZXRMaW5lRGFzaDpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXkpe3RoaXMuX2xpbmVEYXNoPXQ7Zm9yKHZhciBlPXRoaXMuX2Rhc2hJZHg9MCxpPTA7aTx0Lmxlbmd0aDtpKyspZSs9dFtpXTt0aGlzLl9kYXNoU3VtPWV9cmV0dXJuIHRoaXN9LHNldExpbmVEYXNoT2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXNoT2Zmc2V0PXQsdGhpc30sbGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbn0sc2V0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLmRhdGEmJnRoaXMuZGF0YS5sZW5ndGg9PT1lfHwhYXJ8fCh0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShlKSk7Zm9yKHZhciBpPTA7aTxlO2krKyl0aGlzLmRhdGFbaV09dFtpXTt0aGlzLl9sZW49ZX0sYXBwZW5kUGF0aDpmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0XSk7Zm9yKHZhciBlPXQubGVuZ3RoLGk9MCxuPXRoaXMuX2xlbixvPTA7bzxlO28rKylpKz10W29dLmxlbigpO2FyJiZ0aGlzLmRhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkmJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShuK2kpKTtmb3Iobz0wO288ZTtvKyspZm9yKHZhciBhPXRbb10uZGF0YSxyPTA7cjxhLmxlbmd0aDtyKyspdGhpcy5kYXRhW24rK109YVtyXTt0aGlzLl9sZW49bn0sYWRkRGF0YTpmdW5jdGlvbih0KXtpZih0aGlzLl9zYXZlRGF0YSl7dmFyIGU9dGhpcy5kYXRhO3RoaXMuX2xlbithcmd1bWVudHMubGVuZ3RoPmUubGVuZ3RoJiYodGhpcy5fZXhwYW5kRGF0YSgpLGU9dGhpcy5kYXRhKTtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWVbdGhpcy5fbGVuKytdPWFyZ3VtZW50c1tpXTt0aGlzLl9wcmV2Q21kPXR9fSxfZXhwYW5kRGF0YTpmdW5jdGlvbigpe2lmKCEodGhpcy5kYXRhIGluc3RhbmNlb2YgQXJyYXkpKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5fbGVuO2UrKyl0W2VdPXRoaXMuZGF0YVtlXTt0aGlzLmRhdGE9dH19LF9uZWVkc0Rhc2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZURhc2h9LF9kYXNoZWRMaW5lVG86ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89dGhpcy5fZGFzaFN1bSxhPXRoaXMuX2Rhc2hPZmZzZXQscj10aGlzLl9saW5lRGFzaCxzPXRoaXMuX2N0eCxsPXRoaXMuX3hpLHU9dGhpcy5feWksaD10LWwsYz1lLXUsZD1ucihoKmgrYypjKSxmPWwscD11LGc9ci5sZW5ndGg7Zm9yKGE8MCYmKGE9bythKSxmLT0oYSU9bykqKGgvPWQpLHAtPWEqKGMvPWQpOzA8aCYmZjw9dHx8aDwwJiZ0PD1mfHwwPT09aCYmKDA8YyYmcDw9ZXx8YzwwJiZlPD1wKTspZis9aCooaT1yW249dGhpcy5fZGFzaElkeF0pLHArPWMqaSx0aGlzLl9kYXNoSWR4PShuKzEpJWcsMDxoJiZmPGx8fGg8MCYmbDxmfHwwPGMmJnA8dXx8YzwwJiZ1PHB8fHNbbiUyPyJtb3ZlVG8iOiJsaW5lVG8iXSgwPD1oP1FhKGYsdCk6dHIoZix0KSwwPD1jP1FhKHAsZSk6dHIocCxlKSk7aD1mLXQsYz1wLWUsdGhpcy5fZGFzaE9mZnNldD0tbnIoaCpoK2MqYyl9LF9kYXNoZWRCZXppZXJUbzpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHIscyxsLHUsaCxjPXRoaXMuX2Rhc2hTdW0sZD10aGlzLl9kYXNoT2Zmc2V0LGY9dGhpcy5fbGluZURhc2gscD10aGlzLl9jdHgsZz10aGlzLl94aSxtPXRoaXMuX3lpLHY9VGEseT0wLHg9dGhpcy5fZGFzaElkeCxfPWYubGVuZ3RoLHc9MDtmb3IoZDwwJiYoZD1jK2QpLGQlPWMscj0wO3I8MTtyKz0uMSlzPXYoZyx0LGksbyxyKy4xKS12KGcsdCxpLG8sciksbD12KG0sZSxuLGEscisuMSktdihtLGUsbixhLHIpLHkrPW5yKHMqcytsKmwpO2Zvcig7eDxfJiYhKGQ8KHcrPWZbeF0pKTt4KyspO2ZvcihyPSh3LWQpL3k7cjw9MTspdT12KGcsdCxpLG8sciksaD12KG0sZSxuLGEscikseCUyP3AubW92ZVRvKHUsaCk6cC5saW5lVG8odSxoKSxyKz1mW3hdL3kseD0oeCsxKSVfO3glMiE9MCYmcC5saW5lVG8obyxhKSxzPW8tdSxsPWEtaCx0aGlzLl9kYXNoT2Zmc2V0PS1ucihzKnMrbCpsKX0sX2Rhc2hlZFF1YWRyYXRpY1RvOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWksYT1uO2k9KGkrMip0KS8zLG49KG4rMiplKS8zLHQ9KHRoaXMuX3hpKzIqdCkvMyxlPSh0aGlzLl95aSsyKmUpLzMsdGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLGksbixvLGEpfSx0b1N0YXRpYzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YTt0IGluc3RhbmNlb2YgQXJyYXkmJih0Lmxlbmd0aD10aGlzLl9sZW4sYXImJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheSh0KSkpfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtxYVswXT1xYVsxXT0kYVswXT0kYVsxXT1OdW1iZXIuTUFYX1ZBTFVFLEthWzBdPUthWzFdPUphWzBdPUphWzFdPS1OdW1iZXIuTUFYX1ZBTFVFO2Zvcih2YXIgdCxlLGksbixvLGEscixzLGwsdSxoLGMsZCxmLHA9dGhpcy5kYXRhLGc9MCxtPTAsdj0wLHk9MCx4PTA7eDxwLmxlbmd0aDspe3ZhciBfPXBbeCsrXTtzd2l0Y2goMT09PXgmJih2PWc9cFt4XSx5PW09cFt4KzFdKSxfKXtjYXNlIGphLk06Zz12PXBbeCsrXSxtPXk9cFt4KytdLCRhWzBdPXYsJGFbMV09eSxKYVswXT12LEphWzFdPXk7YnJlYWs7Y2FzZSBqYS5MOkhhKGcsbSxwW3hdLHBbeCsxXSwkYSxKYSksZz1wW3grK10sbT1wW3grK107YnJlYWs7Y2FzZSBqYS5DOlhhKGcsbSxwW3grK10scFt4KytdLHBbeCsrXSxwW3grK10scFt4XSxwW3grMV0sJGEsSmEpLGc9cFt4KytdLG09cFt4KytdO2JyZWFrO2Nhc2UgamEuUTp0PWcsZT1tLGk9cFt4KytdLG49cFt4KytdLG89cFt4XSxhPXBbeCsxXSxyPSRhLHM9SmEsdT1sPXZvaWQgMCx1PUxhLGg9UmEoT2EoKGw9UGEpKHQsaSxvKSwxKSwwKSxjPVJhKE9hKGwoZSxuLGEpLDEpLDApLGQ9dSh0LGksbyxoKSxmPXUoZSxuLGEsYyksclswXT1PYSh0LG8sZCksclsxXT1PYShlLGEsZiksc1swXT1SYSh0LG8sZCksc1sxXT1SYShlLGEsZiksZz1wW3grK10sbT1wW3grK107YnJlYWs7Y2FzZSBqYS5BOnZhciB3PXBbeCsrXSxiPXBbeCsrXSxTPXBbeCsrXSxNPXBbeCsrXSxJPXBbeCsrXSxUPXBbeCsrXStJO3grPTE7dmFyIEE9MS1wW3grK107MT09PXgmJih2PWVyKEkpKlMrdyx5PWlyKEkpKk0rYiksWWEodyxiLFMsTSxJLFQsQSwkYSxKYSksZz1lcihUKSpTK3csbT1pcihUKSpNK2I7YnJlYWs7Y2FzZSBqYS5SOkhhKHY9Zz1wW3grK10seT1tPXBbeCsrXSx2K3BbeCsrXSx5K3BbeCsrXSwkYSxKYSk7YnJlYWs7Y2FzZSBqYS5aOmc9dixtPXl9U3QocWEscWEsJGEpLE10KEthLEthLEphKX1yZXR1cm4gMD09PXgmJihxYVswXT1xYVsxXT1LYVswXT1LYVsxXT0wKSxuZXcgRGkocWFbMF0scWFbMV0sS2FbMF0tcWFbMF0sS2FbMV0tcWFbMV0pfSxyZWJ1aWxkUGF0aDpmdW5jdGlvbih0KXtmb3IodmFyIGUsaSxuLG8sYSxyLHM9dGhpcy5kYXRhLGw9dGhpcy5fdXgsdT10aGlzLl91eSxoPXRoaXMuX2xlbixjPTA7YzxoOyl7dmFyIGQ9c1tjKytdO3N3aXRjaCgxPT09YyYmKGU9bj1zW2NdLGk9bz1zW2MrMV0pLGQpe2Nhc2UgamEuTTplPW49c1tjKytdLGk9bz1zW2MrK10sdC5tb3ZlVG8obixvKTticmVhaztjYXNlIGphLkw6YT1zW2MrK10scj1zW2MrK10sKG9yKGEtbik+bHx8b3Ioci1vKT51fHxjPT09aC0xKSYmKHQubGluZVRvKGEsciksbj1hLG89cik7YnJlYWs7Y2FzZSBqYS5DOnQuYmV6aWVyQ3VydmVUbyhzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10sc1tjKytdLHNbYysrXSksbj1zW2MtMl0sbz1zW2MtMV07YnJlYWs7Y2FzZSBqYS5ROnQucXVhZHJhdGljQ3VydmVUbyhzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10pLG49c1tjLTJdLG89c1tjLTFdO2JyZWFrO2Nhc2UgamEuQTp2YXIgZj1zW2MrK10scD1zW2MrK10sZz1zW2MrK10sbT1zW2MrK10sdj1zW2MrK10seT1zW2MrK10seD1zW2MrK10sXz1zW2MrK10sdz1tPGc/ZzptLGI9bTxnPzE6Zy9tLFM9bTxnP20vZzoxLE09dit5Oy4wMDE8TWF0aC5hYnMoZy1tKT8odC50cmFuc2xhdGUoZixwKSx0LnJvdGF0ZSh4KSx0LnNjYWxlKGIsUyksdC5hcmMoMCwwLHcsdixNLDEtXyksdC5zY2FsZSgxL2IsMS9TKSx0LnJvdGF0ZSgteCksdC50cmFuc2xhdGUoLWYsLXApKTp0LmFyYyhmLHAsdyx2LE0sMS1fKSwxPT09YyYmKGU9ZXIodikqZytmLGk9aXIodikqbStwKSxuPWVyKE0pKmcrZixvPWlyKE0pKm0rcDticmVhaztjYXNlIGphLlI6ZT1uPXNbY10saT1vPXNbYysxXSx0LnJlY3Qoc1tjKytdLHNbYysrXSxzW2MrK10sc1tjKytdKTticmVhaztjYXNlIGphLlo6dC5jbG9zZVBhdGgoKSxuPWUsbz1pfX19fSxyci5DTUQ9amE7dmFyIGhyPTIqTWF0aC5QSTtmdW5jdGlvbiBjcih0KXtyZXR1cm4odCU9aHIpPDAmJih0Kz1ociksdH12YXIgZHI9MipNYXRoLlBJO2Z1bmN0aW9uIGZyKHQsZSxpLG4sbyxhLHIscyxsKXtpZigwPT09cilyZXR1cm4hMTt2YXIgdT1yO3MtPXQsbC09ZTt2YXIgaD1NYXRoLnNxcnQocypzK2wqbCk7aWYoaTxoLXV8fGgrdTxpKXJldHVybiExO2lmKE1hdGguYWJzKG4tbyklZHI8MWUtNClyZXR1cm4hMDtpZihhKXt2YXIgYz1uO249Y3Iobyksbz1jcihjKX1lbHNlIG49Y3Iobiksbz1jcihvKTtvPG4mJihvKz1kcik7dmFyIGQ9TWF0aC5hdGFuMihsLHMpO3JldHVybiBkPDAmJihkKz1kciksbjw9ZCYmZDw9b3x8bjw9ZCtkciYmZCtkcjw9b31mdW5jdGlvbiBwcih0LGUsaSxuLG8sYSl7aWYoZTxhJiZuPGF8fGE8ZSYmYTxuKXJldHVybiAwO2lmKG49PT1lKXJldHVybiAwO3ZhciByPW48ZT8xOi0xLHM9KGEtZSkvKG4tZSk7MSE9cyYmMCE9c3x8KHI9bjxlPy41Oi0uNSk7dmFyIGw9cyooaS10KSt0O3JldHVybiBsPT09bz8xLzA6bzxsP3I6MH12YXIgZ3I9cnIuQ01ELG1yPTIqTWF0aC5QSSx2cj0xZS00O3ZhciB5cj1bLTEsLTEsLTFdLHhyPVstMSwtMV07ZnVuY3Rpb24gX3IodCxlLGksbixvLGEscixzLGwsdSl7aWYoZTx1JiZuPHUmJmE8dSYmczx1fHx1PGUmJnU8biYmdTxhJiZ1PHMpcmV0dXJuIDA7dmFyIGgsYz1mdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9biszKihlLWkpLXQscz0zKihpLTIqZSt0KSxsPTMqKGUtdCksdT10LW8saD1zKnMtMypyKmwsYz1zKmwtOSpyKnUsZD1sKmwtMypzKnUsZj0wO2lmKE1hKGgpJiZNYShjKSl7aWYoTWEocykpYVswXT0wO2Vsc2UgMDw9KE09LWwvcykmJk08PTEmJihhW2YrK109TSl9ZWxzZXt2YXIgcD1jKmMtNCpoKmQ7aWYoTWEocCkpe3ZhciBnPWMvaCxtPS1nLzI7MDw9KE09LXMvcitnKSYmTTw9MSYmKGFbZisrXT1NKSwwPD1tJiZtPD0xJiYoYVtmKytdPW0pfWVsc2UgaWYoMDxwKXt2YXIgdj1tYShwKSx5PWgqcysxLjUqciooLWMrdikseD1oKnMrMS41KnIqKC1jLXYpOzA8PShNPSgtcy0oKHk9eTwwPy1nYSgteSxfYSk6Z2EoeSxfYSkpKyh4PXg8MD8tZ2EoLXgsX2EpOmdhKHgsX2EpKSkpLygzKnIpKSYmTTw9MSYmKGFbZisrXT1NKX1lbHNle3ZhciBfPSgyKmgqcy0zKnIqYykvKDIqbWEoaCpoKmgpKSx3PU1hdGguYWNvcyhfKS8zLGI9bWEoaCksUz1NYXRoLmNvcyh3KSxNPSgtcy0yKmIqUykvKDMqciksST0obT0oLXMrYiooUyt4YSpNYXRoLnNpbih3KSkpLygzKnIpLCgtcytiKihTLXhhKk1hdGguc2luKHcpKSkvKDMqcikpOzA8PU0mJk08PTEmJihhW2YrK109TSksMDw9bSYmbTw9MSYmKGFbZisrXT1tKSwwPD1JJiZJPD0xJiYoYVtmKytdPUkpfX1yZXR1cm4gZn0oZSxuLGEscyx1LHlyKTtpZigwPT09YylyZXR1cm4gMDtmb3IodmFyIGQsZixwPTAsZz0tMSxtPTA7bTxjO20rKyl7dmFyIHY9eXJbbV0seT0wPT09dnx8MT09PXY/LjU6MTtUYSh0LGksbyxyLHYpPGx8fChnPDAmJihnPURhKGUsbixhLHMseHIpLHhyWzFdPHhyWzBdJiYxPGcmJih2b2lkIDAsaD14clswXSx4clswXT14clsxXSx4clsxXT1oKSxkPVRhKGUsbixhLHMseHJbMF0pLDE8ZyYmKGY9VGEoZSxuLGEscyx4clsxXSkpKSwyPT09Zz92PHhyWzBdP3ArPWQ8ZT95Oi15OnY8eHJbMV0/cCs9ZjxkP3k6LXk6cCs9czxmP3k6LXk6djx4clswXT9wKz1kPGU/eToteTpwKz1zPGQ/eToteSl9cmV0dXJuIHB9ZnVuY3Rpb24gd3IodCxlLGksbixvLGEscixzKXtpZihlPHMmJm48cyYmYTxzfHxzPGUmJnM8biYmczxhKXJldHVybiAwO3ZhciBsPWZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC0yKmUraSxyPTIqKGUtdCkscz10LW4sbD0wO2lmKE1hKGEpKXtpZihJYShyKSkwPD0oaD0tcy9yKSYmaDw9MSYmKG9bbCsrXT1oKX1lbHNle3ZhciB1PXIqci00KmEqcztpZihNYSh1KSkwPD0oaD0tci8oMiphKSkmJmg8PTEmJihvW2wrK109aCk7ZWxzZSBpZigwPHUpe3ZhciBoLGM9bWEodSksZD0oLXItYykvKDIqYSk7MDw9KGg9KC1yK2MpLygyKmEpKSYmaDw9MSYmKG9bbCsrXT1oKSwwPD1kJiZkPD0xJiYob1tsKytdPWQpfX1yZXR1cm4gbH0oZSxuLGEscyx5cik7aWYoMD09PWwpcmV0dXJuIDA7dmFyIHU9UGEoZSxuLGEpO2lmKDA8PXUmJnU8PTEpe2Zvcih2YXIgaD0wLGM9TGEoZSxuLGEsdSksZD0wO2Q8bDtkKyspe3ZhciBmPTA9PT15cltkXXx8MT09PXlyW2RdPy41OjE7TGEodCxpLG8seXJbZF0pPHJ8fCh5cltkXTx1P2grPWM8ZT9mOi1mOmgrPWE8Yz9mOi1mKX1yZXR1cm4gaH1mPTA9PT15clswXXx8MT09PXlyWzBdPy41OjE7cmV0dXJuIExhKHQsaSxvLHlyWzBdKTxyPzA6YTxlP2Y6LWZ9ZnVuY3Rpb24gYnIodCxlLGksbixvLGEscixzKXtpZihpPChzLT1lKXx8czwtaSlyZXR1cm4gMDt2YXIgbD1NYXRoLnNxcnQoaSppLXMqcyk7eXJbMF09LWwseXJbMV09bDt2YXIgdT1NYXRoLmFicyhuLW8pO2lmKHU8MWUtNClyZXR1cm4gMDtpZih1JW1yPDFlLTQpe289bXI7dmFyIGg9YT8xOi0xO3JldHVybiByPj15cltuPTBdK3QmJnI8PXlyWzFdK3Q/aDowfWlmKGEpe2w9bjtuPWNyKG8pLG89Y3IobCl9ZWxzZSBuPWNyKG4pLG89Y3Iobyk7bzxuJiYobys9bXIpO2Zvcih2YXIgYz0wLGQ9MDtkPDI7ZCsrKXt2YXIgZj15cltkXTtpZihyPGYrdCl7dmFyIHA9TWF0aC5hdGFuMihzLGYpO2g9YT8xOi0xO3A8MCYmKHA9bXIrcCksKG48PXAmJnA8PW98fG48PXArbXImJnArbXI8PW8pJiYocD5NYXRoLlBJLzImJnA8MS41Kk1hdGguUEkmJihoPS1oKSxjKz1oKX19cmV0dXJuIGN9ZnVuY3Rpb24gU3IodCxlLGksbixvKXtmb3IodmFyIGE9MCxyPTAscz0wLGw9MCx1PTAsaD0wO2g8dC5sZW5ndGg7KXt2YXIgYz10W2grK107c3dpdGNoKGM9PT1nci5NJiYxPGgmJihpfHwoYSs9cHIocixzLGwsdSxuLG8pKSksMT09PWgmJihsPXI9dFtoXSx1PXM9dFtoKzFdKSxjKXtjYXNlIGdyLk06cj1sPXRbaCsrXSxzPXU9dFtoKytdO2JyZWFrO2Nhc2UgZ3IuTDppZihpKXtpZihzcihyLHMsdFtoXSx0W2grMV0sZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9cHIocixzLHRbaF0sdFtoKzFdLG4sbyl8fDA7cj10W2grK10scz10W2grK107YnJlYWs7Y2FzZSBnci5DOmlmKGkpe2lmKGxyKHIscyx0W2grK10sdFtoKytdLHRbaCsrXSx0W2grK10sdFtoXSx0W2grMV0sZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9X3IocixzLHRbaCsrXSx0W2grK10sdFtoKytdLHRbaCsrXSx0W2hdLHRbaCsxXSxuLG8pfHwwO3I9dFtoKytdLHM9dFtoKytdO2JyZWFrO2Nhc2UgZ3IuUTppZihpKXtpZih1cihyLHMsdFtoKytdLHRbaCsrXSx0W2hdLHRbaCsxXSxlLG4sbykpcmV0dXJuITB9ZWxzZSBhKz13cihyLHMsdFtoKytdLHRbaCsrXSx0W2hdLHRbaCsxXSxuLG8pfHwwO3I9dFtoKytdLHM9dFtoKytdO2JyZWFrO2Nhc2UgZ3IuQTp2YXIgZD10W2grK10sZj10W2grK10scD10W2grK10sZz10W2grK10sbT10W2grK10sdj10W2grK107aCs9MTt2YXIgeT0xLXRbaCsrXSx4PU1hdGguY29zKG0pKnArZCxfPU1hdGguc2luKG0pKmcrZjsxPGg/YSs9cHIocixzLHgsXyxuLG8pOihsPXgsdT1fKTt2YXIgdz0obi1kKSpnL3ArZDtpZihpKXtpZihmcihkLGYsZyxtLG0rdix5LGUsdyxvKSlyZXR1cm4hMH1lbHNlIGErPWJyKGQsZixnLG0sbSt2LHksdyxvKTtyPU1hdGguY29zKG0rdikqcCtkLHM9TWF0aC5zaW4obSt2KSpnK2Y7YnJlYWs7Y2FzZSBnci5SOmw9cj10W2grK10sdT1zPXRbaCsrXTt4PWwrdFtoKytdLF89dSt0W2grK107aWYoaSl7aWYoc3IobCx1LHgsdSxlLG4sbyl8fHNyKHgsdSx4LF8sZSxuLG8pfHxzcih4LF8sbCxfLGUsbixvKXx8c3IobCxfLGwsdSxlLG4sbykpcmV0dXJuITB9ZWxzZSBhKz1wcih4LHUseCxfLG4sbyksYSs9cHIobCxfLGwsdSxuLG8pO2JyZWFrO2Nhc2UgZ3IuWjppZihpKXtpZihzcihyLHMsbCx1LGUsbixvKSlyZXR1cm4hMH1lbHNlIGErPXByKHIscyxsLHUsbixvKTtyPWwscz11fX1yZXR1cm4gaXx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hYnModC1lKTx2cn0ocyx1KXx8KGErPXByKHIscyxsLHUsbixvKXx8MCksMCE9PWF9dmFyIE1yPSRpLnByb3RvdHlwZS5nZXRDYW52YXNQYXR0ZXJuLElyPU1hdGguYWJzLFRyPW5ldyBycighMCk7ZnVuY3Rpb24gQXIodCl7Sm4uY2FsbCh0aGlzLHQpLHRoaXMucGF0aD1udWxsfUFyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6QXIsdHlwZToicGF0aCIsX19kaXJ0eVBhdGg6ITAsc3Ryb2tlQ29udGFpblRocmVzaG9sZDo1LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MCxzdWJQaXhlbE9wdGltaXplOiExLGJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGksbj10aGlzLnN0eWxlLG89dGhpcy5wYXRofHxUcixhPW4uaGFzU3Ryb2tlKCkscj1uLmhhc0ZpbGwoKSxzPW4uZmlsbCxsPW4uc3Ryb2tlLHU9ciYmISFzLmNvbG9yU3RvcHMsaD1hJiYhIWwuY29sb3JTdG9wcyxjPXImJiEhcy5pbWFnZSxkPWEmJiEhbC5pbWFnZTtuLmJpbmQodCx0aGlzLGUpLHRoaXMuc2V0VHJhbnNmb3JtKHQpLHRoaXMuX19kaXJ0eSYmKHUmJihpPWl8fHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdGhpcy5fZmlsbEdyYWRpZW50PW4uZ2V0R3JhZGllbnQodCxzLGkpKSxoJiYoaT1pfHx0aGlzLmdldEJvdW5kaW5nUmVjdCgpLHRoaXMuX3N0cm9rZUdyYWRpZW50PW4uZ2V0R3JhZGllbnQodCxsLGkpKSk7dT90LmZpbGxTdHlsZT10aGlzLl9maWxsR3JhZGllbnQ6YyYmKHQuZmlsbFN0eWxlPU1yLmNhbGwocyx0KSksaD90LnN0cm9rZVN0eWxlPXRoaXMuX3N0cm9rZUdyYWRpZW50OmQmJih0LnN0cm9rZVN0eWxlPU1yLmNhbGwobCx0KSk7dmFyIGY9bi5saW5lRGFzaCxwPW4ubGluZURhc2hPZmZzZXQsZz0hIXQuc2V0TGluZURhc2gsbT10aGlzLmdldEdsb2JhbFNjYWxlKCk7aWYoby5zZXRTY2FsZShtWzBdLG1bMV0sdGhpcy5zZWdtZW50SWdub3JlVGhyZXNob2xkKSx0aGlzLl9fZGlydHlQYXRofHxmJiYhZyYmYT8oby5iZWdpblBhdGgodCksZiYmIWcmJihvLnNldExpbmVEYXNoKGYpLG8uc2V0TGluZURhc2hPZmZzZXQocCkpLHRoaXMuYnVpbGRQYXRoKG8sdGhpcy5zaGFwZSwhMSksdGhpcy5wYXRoJiYodGhpcy5fX2RpcnR5UGF0aD0hMSkpOih0LmJlZ2luUGF0aCgpLHRoaXMucGF0aC5yZWJ1aWxkUGF0aCh0KSkscilpZihudWxsIT1uLmZpbGxPcGFjaXR5KXt2YXIgdj10Lmdsb2JhbEFscGhhO3QuZ2xvYmFsQWxwaGE9bi5maWxsT3BhY2l0eSpuLm9wYWNpdHksby5maWxsKHQpLHQuZ2xvYmFsQWxwaGE9dn1lbHNlIG8uZmlsbCh0KTtpZihmJiZnJiYodC5zZXRMaW5lRGFzaChmKSx0LmxpbmVEYXNoT2Zmc2V0PXApLGEpaWYobnVsbCE9bi5zdHJva2VPcGFjaXR5KXt2PXQuZ2xvYmFsQWxwaGE7dC5nbG9iYWxBbHBoYT1uLnN0cm9rZU9wYWNpdHkqbi5vcGFjaXR5LG8uc3Ryb2tlKHQpLHQuZ2xvYmFsQWxwaGE9dn1lbHNlIG8uc3Ryb2tlKHQpO2YmJmcmJnQuc2V0TGluZURhc2goW10pLG51bGwhPW4udGV4dCYmKHRoaXMucmVzdG9yZVRyYW5zZm9ybSh0KSx0aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSxpKXt9LGNyZWF0ZVBhdGhQcm94eTpmdW5jdGlvbigpe3RoaXMucGF0aD1uZXcgcnJ9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLnN0eWxlLGk9IXQ7aWYoaSl7dmFyIG49dGhpcy5wYXRoO249bnx8KHRoaXMucGF0aD1uZXcgcnIpLHRoaXMuX19kaXJ0eVBhdGgmJihuLmJlZ2luUGF0aCgpLHRoaXMuYnVpbGRQYXRoKG4sdGhpcy5zaGFwZSwhMSkpLHQ9bi5nZXRCb3VuZGluZ1JlY3QoKX1pZih0aGlzLl9yZWN0PXQsZS5oYXNTdHJva2UoKSl7dmFyIG89dGhpcy5fcmVjdFdpdGhTdHJva2V8fCh0aGlzLl9yZWN0V2l0aFN0cm9rZT10LmNsb25lKCkpO2lmKHRoaXMuX19kaXJ0eXx8aSl7by5jb3B5KHQpO3ZhciBhPWUubGluZVdpZHRoLHI9ZS5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtlLmhhc0ZpbGwoKXx8KGE9TWF0aC5tYXgoYSx0aGlzLnN0cm9rZUNvbnRhaW5UaHJlc2hvbGR8fDQpKSwxZS0xMDxyJiYoby53aWR0aCs9YS9yLG8uaGVpZ2h0Kz1hL3Isby54LT1hL3IvMixvLnktPWEvci8yKX1yZXR1cm4gb31yZXR1cm4gdH0sY29udGFpbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSksbj10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG89dGhpcy5zdHlsZTtpZih0PWlbMF0sZT1pWzFdLG4uY29udGFpbih0LGUpKXt2YXIgYT10aGlzLnBhdGguZGF0YTtpZihvLmhhc1N0cm9rZSgpKXt2YXIgcj1vLmxpbmVXaWR0aCxzPW8uc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjE7aWYoMWUtMTA8cyYmKG8uaGFzRmlsbCgpfHwocj1NYXRoLm1heChyLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZCkpLGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBTcih0LGUsITAsaSxuKX0oYSxyL3MsdCxlKSkpcmV0dXJuITB9aWYoby5oYXNGaWxsKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gU3IodCwwLCExLGUsaSl9KGEsdCxlKX1yZXR1cm4hMX0sZGlydHk6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9ITApLHQmJih0aGlzLl9fZGlydHlQYXRoPXQsdGhpcy5fcmVjdD1udWxsKSx0aGlzLl9fZGlydHk9dGhpcy5fX2RpcnR5VGV4dD0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCksdGhpcy5fX2NsaXBUYXJnZXQmJnRoaXMuX19jbGlwVGFyZ2V0LmRpcnR5KCl9LGFuaW1hdGVTaGFwZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbmltYXRlKCJzaGFwZSIsdCl9LGF0dHJLVjpmdW5jdGlvbih0LGUpeyJzaGFwZSI9PT10Pyh0aGlzLnNldFNoYXBlKGUpLHRoaXMuX19kaXJ0eVBhdGg9ITAsdGhpcy5fcmVjdD1udWxsKTpKbi5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyx0LGUpfSxzZXRTaGFwZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc2hhcGU7aWYoaSl7aWYoRSh0KSlmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoaVtuXT10W25dKTtlbHNlIGlbdF09ZTt0aGlzLmRpcnR5KCEwKX1yZXR1cm4gdGhpc30sZ2V0TGluZVNjYWxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFuc2Zvcm07cmV0dXJuIHQmJjFlLTEwPElyKHRbMF0tMSkmJjFlLTEwPElyKHRbM10tMSk/TWF0aC5zcXJ0KElyKHRbMF0qdFszXS10WzJdKnRbMV0pKToxfX0sQXIuZXh0ZW5kPWZ1bmN0aW9uKG8pe2Z1bmN0aW9uIHQodCl7QXIuY2FsbCh0aGlzLHQpLG8uc3R5bGUmJnRoaXMuc3R5bGUuZXh0ZW5kRnJvbShvLnN0eWxlLCExKTt2YXIgZT1vLnNoYXBlO2lmKGUpe3RoaXMuc2hhcGU9dGhpcy5zaGFwZXx8e307dmFyIGk9dGhpcy5zaGFwZTtmb3IodmFyIG4gaW4gZSkhaS5oYXNPd25Qcm9wZXJ0eShuKSYmZS5oYXNPd25Qcm9wZXJ0eShuKSYmKGlbbl09ZVtuXSl9by5pbml0JiZvLmluaXQuY2FsbCh0aGlzLHQpfWZvcih2YXIgZSBpbiB3KHQsQXIpLG8pInN0eWxlIiE9PWUmJiJzaGFwZSIhPT1lJiYodC5wcm90b3R5cGVbZV09b1tlXSk7cmV0dXJuIHR9LHcoQXIsSm4pO2Z1bmN0aW9uIERyKHQpe3JldHVybiBNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSl9dmFyIENyPXJyLkNNRCxMcj1bW10sW10sW11dLGtyPU1hdGguc3FydCxQcj1NYXRoLmF0YW4yLE5yPWZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLGEscixzPXQuZGF0YSxsPUNyLk0sdT1Dci5DLGg9Q3IuTCxjPUNyLlIsZD1Dci5BLGY9Q3IuUTtmb3IoYT1vPTA7bzxzLmxlbmd0aDspe3N3aXRjaChpPXNbbysrXSxhPW8sbj0wLGkpe2Nhc2UgbDpjYXNlIGg6bj0xO2JyZWFrO2Nhc2UgdTpuPTM7YnJlYWs7Y2FzZSBmOm49MjticmVhaztjYXNlIGQ6dmFyIHA9ZVs0XSxnPWVbNV0sbT1rcihlWzBdKmVbMF0rZVsxXSplWzFdKSx2PWtyKGVbMl0qZVsyXStlWzNdKmVbM10pLHk9UHIoLWVbMV0vdixlWzBdL20pO3Nbb10qPW0sc1tvKytdKz1wLHNbb10qPXYsc1tvKytdKz1nLHNbbysrXSo9bSxzW28rK10qPXYsc1tvKytdKz15LHNbbysrXSs9eSxhPW8rPTI7YnJlYWs7Y2FzZSBjOnhbMF09c1tvKytdLHhbMV09c1tvKytdLGJ0KHgseCxlKSxzW2ErK109eFswXSxzW2ErK109eFsxXSx4WzBdKz1zW28rK10seFsxXSs9c1tvKytdLGJ0KHgseCxlKSxzW2ErK109eFswXSxzW2ErK109eFsxXX1mb3Iocj0wO3I8bjtyKyspe3ZhciB4Oyh4PUxyW3JdKVswXT1zW28rK10seFsxXT1zW28rK10sYnQoeCx4LGUpLHNbYSsrXT14WzBdLHNbYSsrXT14WzFdfX19LE9yPU1hdGguc3FydCxScj1NYXRoLnNpbix6cj1NYXRoLmNvcyxFcj1NYXRoLlBJLEJyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHRbMF0qZVswXSt0WzFdKmVbMV0pLyhEcih0KSpEcihlKSl9LFZyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHRbMF0qZVsxXTx0WzFdKmVbMF0/LTE6MSkqTWF0aC5hY29zKEJyKHQsZSkpfTtmdW5jdGlvbiBHcih0LGUsaSxuLG8sYSxyLHMsbCx1LGgpe3ZhciBjPWwqKEVyLzE4MCksZD16cihjKSoodC1pKS8yK1JyKGMpKihlLW4pLzIsZj0tMSpScihjKSoodC1pKS8yK3pyKGMpKihlLW4pLzIscD1kKmQvKHIqcikrZipmLyhzKnMpOzE8cCYmKHIqPU9yKHApLHMqPU9yKHApKTt2YXIgZz0obz09PWE/LTE6MSkqT3IoKHIqcioocypzKS1yKnIqKGYqZiktcypzKihkKmQpKS8ocipyKihmKmYpK3MqcyooZCpkKSkpfHwwLG09ZypyKmYvcyx2PWcqLXMqZC9yLHk9KHQraSkvMit6cihjKSptLVJyKGMpKnYseD0oZStuKS8yK1JyKGMpKm0renIoYykqdixfPVZyKFsxLDBdLFsoZC1tKS9yLChmLXYpL3NdKSx3PVsoZC1tKS9yLChmLXYpL3NdLGI9WygtMSpkLW0pL3IsKC0xKmYtdikvc10sUz1Wcih3LGIpO0JyKHcsYik8PS0xJiYoUz1FciksMTw9QnIodyxiKSYmKFM9MCksMD09PWEmJjA8UyYmKFMtPTIqRXIpLDE9PT1hJiZTPDAmJihTKz0yKkVyKSxoLmFkZERhdGEodSx5LHgscixzLF8sUyxjLGEpfXZhciBGcj0vKFttbHZoemNxdHNhXSkoW15tbHZoemNxdHNhXSopL2dpLFdyPS8tPyhbMC05XSpcLik/WzAtOV0rKFtlRV0tP1swLTldKyk/L2c7ZnVuY3Rpb24gSHIodCxlKXt2YXIgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbmV3IHJyO2Zvcih2YXIgZSxpPTAsbj0wLG89aSxhPW4scj1uZXcgcnIscz1yci5DTUQsbD10Lm1hdGNoKEZyKSx1PTA7dTxsLmxlbmd0aDt1Kyspe2Zvcih2YXIgaCxjPWxbdV0sZD1jLmNoYXJBdCgwKSxmPWMubWF0Y2goV3IpfHxbXSxwPWYubGVuZ3RoLGc9MDtnPHA7ZysrKWZbZ109cGFyc2VGbG9hdChmW2ddKTtmb3IodmFyIG09MDttPHA7KXt2YXIgdix5LHgsXyx3LGIsUyxNPWksST1uO3N3aXRjaChkKXtjYXNlImwiOmkrPWZbbSsrXSxuKz1mW20rK10saD1zLkwsci5hZGREYXRhKGgsaSxuKTticmVhaztjYXNlIkwiOmk9ZlttKytdLG49ZlttKytdLGg9cy5MLHIuYWRkRGF0YShoLGksbik7YnJlYWs7Y2FzZSJtIjppKz1mW20rK10sbis9ZlttKytdLGg9cy5NLHIuYWRkRGF0YShoLGksbiksbz1pLGE9bixkPSJsIjticmVhaztjYXNlIk0iOmk9ZlttKytdLG49ZlttKytdLGg9cy5NLHIuYWRkRGF0YShoLGksbiksbz1pLGE9bixkPSJMIjticmVhaztjYXNlImgiOmkrPWZbbSsrXSxoPXMuTCxyLmFkZERhdGEoaCxpLG4pO2JyZWFrO2Nhc2UiSCI6aT1mW20rK10saD1zLkwsci5hZGREYXRhKGgsaSxuKTticmVhaztjYXNlInYiOm4rPWZbbSsrXSxoPXMuTCxyLmFkZERhdGEoaCxpLG4pO2JyZWFrO2Nhc2UiViI6bj1mW20rK10saD1zLkwsci5hZGREYXRhKGgsaSxuKTticmVhaztjYXNlIkMiOmg9cy5DLHIuYWRkRGF0YShoLGZbbSsrXSxmW20rK10sZlttKytdLGZbbSsrXSxmW20rK10sZlttKytdKSxpPWZbbS0yXSxuPWZbbS0xXTticmVhaztjYXNlImMiOmg9cy5DLHIuYWRkRGF0YShoLGZbbSsrXStpLGZbbSsrXStuLGZbbSsrXStpLGZbbSsrXStuLGZbbSsrXStpLGZbbSsrXStuKSxpKz1mW20tMl0sbis9ZlttLTFdO2JyZWFrO2Nhc2UiUyI6dj1pLHk9bjt2YXIgVD1yLmxlbigpLEE9ci5kYXRhO2U9PT1zLkMmJih2Kz1pLUFbVC00XSx5Kz1uLUFbVC0zXSksaD1zLkMsTT1mW20rK10sST1mW20rK10saT1mW20rK10sbj1mW20rK10sci5hZGREYXRhKGgsdix5LE0sSSxpLG4pO2JyZWFrO2Nhc2UicyI6dj1pLHk9bjtUPXIubGVuKCksQT1yLmRhdGE7ZT09PXMuQyYmKHYrPWktQVtULTRdLHkrPW4tQVtULTNdKSxoPXMuQyxNPWkrZlttKytdLEk9bitmW20rK10saSs9ZlttKytdLG4rPWZbbSsrXSxyLmFkZERhdGEoaCx2LHksTSxJLGksbik7YnJlYWs7Y2FzZSJRIjpNPWZbbSsrXSxJPWZbbSsrXSxpPWZbbSsrXSxuPWZbbSsrXSxoPXMuUSxyLmFkZERhdGEoaCxNLEksaSxuKTticmVhaztjYXNlInEiOk09ZlttKytdK2ksST1mW20rK10rbixpKz1mW20rK10sbis9ZlttKytdLGg9cy5RLHIuYWRkRGF0YShoLE0sSSxpLG4pO2JyZWFrO2Nhc2UiVCI6dj1pLHk9bjtUPXIubGVuKCksQT1yLmRhdGE7ZT09PXMuUSYmKHYrPWktQVtULTRdLHkrPW4tQVtULTNdKSxpPWZbbSsrXSxuPWZbbSsrXSxoPXMuUSxyLmFkZERhdGEoaCx2LHksaSxuKTticmVhaztjYXNlInQiOnY9aSx5PW47VD1yLmxlbigpLEE9ci5kYXRhO2U9PT1zLlEmJih2Kz1pLUFbVC00XSx5Kz1uLUFbVC0zXSksaSs9ZlttKytdLG4rPWZbbSsrXSxoPXMuUSxyLmFkZERhdGEoaCx2LHksaSxuKTticmVhaztjYXNlIkEiOng9ZlttKytdLF89ZlttKytdLHc9ZlttKytdLGI9ZlttKytdLFM9ZlttKytdLEdyKE09aSxJPW4saT1mW20rK10sbj1mW20rK10sYixTLHgsXyx3LGg9cy5BLHIpO2JyZWFrO2Nhc2UiYSI6eD1mW20rK10sXz1mW20rK10sdz1mW20rK10sYj1mW20rK10sUz1mW20rK10sR3IoTT1pLEk9bixpKz1mW20rK10sbis9ZlttKytdLGIsUyx4LF8sdyxoPXMuQSxyKX19InoiIT09ZCYmIloiIT09ZHx8KGg9cy5aLHIuYWRkRGF0YShoKSxpPW8sbj1hKSxlPWh9cmV0dXJuIHIudG9TdGF0aWMoKSxyfSh0KTtyZXR1cm4oZT1lfHx7fSkuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe2lmKHQuc2V0RGF0YSl7dC5zZXREYXRhKGkuZGF0YSksKGU9dC5nZXRDb250ZXh0KCkpJiZ0LnJlYnVpbGRQYXRoKGUpfWVsc2V7dmFyIGU9dDtpLnJlYnVpbGRQYXRoKGUpfX0sZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0KXtOcihpLHQpLHRoaXMuZGlydHkoITApfSxlfWZ1bmN0aW9uIFpyKHQsZSl7cmV0dXJuIG5ldyBBcihIcih0LGUpKX12YXIgVXI9ZnVuY3Rpb24odCl7Sm4uY2FsbCh0aGlzLHQpfTtVci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlVyLHR5cGU6InRleHQiLGJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zdHlsZTt0aGlzLl9fZGlydHkmJlJuKGkpLGkuZmlsbD1pLnN0cm9rZT1pLnNoYWRvd0JsdXI9aS5zaGFkb3dDb2xvcj1pLnNoYWRvd09mZnNldFg9aS5zaGFkb3dPZmZzZXRZPW51bGw7dmFyIG49aS50ZXh0O251bGwhPW4mJihuKz0iIikscW4obixpKT8odGhpcy5zZXRUcmFuc2Zvcm0odCksRW4odGhpcyx0LG4saSxudWxsLGUpLHRoaXMucmVzdG9yZVRyYW5zZm9ybSh0KSk6dC5fX2F0dHJDYWNoZWRCeT1XaS5OT05FfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlO2lmKHRoaXMuX19kaXJ0eSYmUm4odCksIXRoaXMuX3JlY3Qpe3ZhciBlPXQudGV4dDtudWxsIT1lP2UrPSIiOmU9IiI7dmFyIGk9Z24odC50ZXh0KyIiLHQuZm9udCx0LnRleHRBbGlnbix0LnRleHRWZXJ0aWNhbEFsaWduLHQudGV4dFBhZGRpbmcsdC50ZXh0TGluZUhlaWdodCx0LnJpY2gpO2lmKGkueCs9dC54fHwwLGkueSs9dC55fHwwLFVuKHQudGV4dFN0cm9rZSx0LnRleHRTdHJva2VXaWR0aCkpe3ZhciBuPXQudGV4dFN0cm9rZVdpZHRoO2kueC09bi8yLGkueS09bi8yLGkud2lkdGgrPW4saS5oZWlnaHQrPW59dGhpcy5fcmVjdD1pfXJldHVybiB0aGlzLl9yZWN0fX0sdyhVcixKbik7ZnVuY3Rpb24gWHIobCl7cmV0dXJuIHYuYnJvd3Nlci5pZSYmMTE8PXYuYnJvd3Nlci52ZXJzaW9uP2Z1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9fY2xpcFBhdGhzLGk9dGhpcy5zdHlsZTtpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dLGE9byYmby5zaGFwZSxyPW8mJm8udHlwZTtpZihhJiYoInNlY3RvciI9PT1yJiZhLnN0YXJ0QW5nbGU9PT1hLmVuZEFuZ2xlfHwicmVjdCI9PT1yJiYoIWEud2lkdGh8fCFhLmhlaWdodCkpKXtmb3IodmFyIHM9MDtzPGpyLmxlbmd0aDtzKyspanJbc11bMl09aVtqcltzXVswXV0saVtqcltzXVswXV09anJbc11bMV07dD0hMDticmVha319aWYobC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdClmb3Iocz0wO3M8anIubGVuZ3RoO3MrKylpW2pyW3NdWzBdXT1qcltzXVsyXX06bH12YXIgWXI9QXIuZXh0ZW5kKHt0eXBlOiJjaXJjbGUiLHNoYXBlOntjeDowLGN5OjAscjowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe2kmJnQubW92ZVRvKGUuY3grZS5yLGUuY3kpLHQuYXJjKGUuY3gsZS5jeSxlLnIsMCwyKk1hdGguUEksITApfX0pLGpyPVtbInNoYWRvd0JsdXIiLDBdLFsic2hhZG93Q29sb3IiLCIjMDAwIl0sWyJzaGFkb3dPZmZzZXRYIiwwXSxbInNoYWRvd09mZnNldFkiLDBdXSxxcj1Bci5leHRlbmQoe3R5cGU6InNlY3RvciIsc2hhcGU6e2N4OjAsY3k6MCxyMDowLHI6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJLGNsb2Nrd2lzZTohMH0sYnJ1c2g6WHIoQXIucHJvdG90eXBlLmJydXNoKSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPU1hdGgubWF4KGUucjB8fDAsMCksYT1NYXRoLm1heChlLnIsMCkscj1lLnN0YXJ0QW5nbGUscz1lLmVuZEFuZ2xlLGw9ZS5jbG9ja3dpc2UsdT1NYXRoLmNvcyhyKSxoPU1hdGguc2luKHIpO3QubW92ZVRvKHUqbytpLGgqbytuKSx0LmxpbmVUbyh1KmEraSxoKmErbiksdC5hcmMoaSxuLGEscixzLCFsKSx0LmxpbmVUbyhNYXRoLmNvcyhzKSpvK2ksTWF0aC5zaW4ocykqbytuKSwwIT09byYmdC5hcmMoaSxuLG8scyxyLGwpLHQuY2xvc2VQYXRoKCl9fSksS3I9QXIuZXh0ZW5kKHt0eXBlOiJyaW5nIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxyMDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPTIqTWF0aC5QSTt0Lm1vdmVUbyhpK2UucixuKSx0LmFyYyhpLG4sZS5yLDAsbywhMSksdC5tb3ZlVG8oaStlLnIwLG4pLHQuYXJjKGksbixlLnIwLDAsbywhMCl9fSk7ZnVuY3Rpb24gJHIodCxlLGksbixvLGEscil7dmFyIHM9LjUqKGktdCksbD0uNSoobi1lKTtyZXR1cm4oMiooZS1pKStzK2wpKnIrKC0zKihlLWkpLTIqcy1sKSphK3MqbytlfWZ1bmN0aW9uIEpyKHQsZSxpKXt2YXIgbj1lLnBvaW50cyxvPWUuc21vb3RoO2lmKG4mJjI8PW4ubGVuZ3RoKXtpZihvJiYic3BsaW5lIiE9PW8pe3ZhciBhPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLGEscixzLGw9W10sdT1bXSxoPVtdLGM9W107aWYobil7cj1bMS8wLDEvMF0scz1bLTEvMCwtMS8wXTtmb3IodmFyIGQ9MCxmPXQubGVuZ3RoO2Q8ZjtkKyspU3QocixyLHRbZF0pLE10KHMscyx0W2RdKTtTdChyLHIsblswXSksTXQocyxzLG5bMV0pfWZvcihkPTAsZj10Lmxlbmd0aDtkPGY7ZCsrKXt2YXIgcD10W2RdO2lmKGkpbz10W2Q/ZC0xOmYtMV0sYT10WyhkKzEpJWZdO2Vsc2V7aWYoMD09PWR8fGQ9PT1mLTEpe2wucHVzaChydCh0W2RdKSk7Y29udGludWV9bz10W2QtMV0sYT10W2QrMV19aHQodSxhLG8pLGd0KHUsdSxlKTt2YXIgZz12dChwLG8pLG09dnQocCxhKSx2PWcrbTswIT09diYmKGcvPXYsbS89diksZ3QoaCx1LC1nKSxndChjLHUsbSk7dmFyIHk9bHQoW10scCxoKSx4PWx0KFtdLHAsYyk7biYmKE10KHkseSxyKSxTdCh5LHkscyksTXQoeCx4LHIpLFN0KHgseCxzKSksbC5wdXNoKHkpLGwucHVzaCh4KX1yZXR1cm4gaSYmbC5wdXNoKGwuc2hpZnQoKSksbH0obixvLGksZS5zbW9vdGhDb25zdHJhaW50KTt0Lm1vdmVUbyhuWzBdWzBdLG5bMF1bMV0pO2Zvcih2YXIgcj1uLmxlbmd0aCxzPTA7czwoaT9yOnItMSk7cysrKXt2YXIgbD1hWzIqc10sdT1hWzIqcysxXSxoPW5bKHMrMSklcl07dC5iZXppZXJDdXJ2ZVRvKGxbMF0sbFsxXSx1WzBdLHVbMV0saFswXSxoWzFdKX19ZWxzZXsic3BsaW5lIj09PW8mJihuPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQubGVuZ3RoLG49W10sbz0wLGE9MTthPGk7YSsrKW8rPXZ0KHRbYS0xXSx0W2FdKTt2YXIgcj1vLzI7cj1yPGk/aTpyO2ZvcihhPTA7YTxyO2ErKyl7dmFyIHMsbCx1LGg9YS8oci0xKSooZT9pOmktMSksYz1NYXRoLmZsb29yKGgpLGQ9aC1jLGY9dFtjJWldO3U9ZT8ocz10WyhjLTEraSklaV0sbD10WyhjKzEpJWldLHRbKGMrMiklaV0pOihzPXRbMD09PWM/YzpjLTFdLGw9dFtpLTI8Yz9pLTE6YysxXSx0W2ktMzxjP2ktMTpjKzJdKTt2YXIgcD1kKmQsZz1kKnA7bi5wdXNoKFskcihzWzBdLGZbMF0sbFswXSx1WzBdLGQscCxnKSwkcihzWzFdLGZbMV0sbFsxXSx1WzFdLGQscCxnKV0pfXJldHVybiBufShuLGkpKSx0Lm1vdmVUbyhuWzBdWzBdLG5bMF1bMV0pO3M9MTtmb3IodmFyIGM9bi5sZW5ndGg7czxjO3MrKyl0LmxpbmVUbyhuW3NdWzBdLG5bc11bMV0pfWkmJnQuY2xvc2VQYXRoKCl9fXZhciBRcj1Bci5leHRlbmQoe3R5cGU6InBvbHlnb24iLHNoYXBlOntwb2ludHM6bnVsbCxzbW9vdGg6ITEsc21vb3RoQ29uc3RyYWludDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXtKcih0LGUsITApfX0pLHRzPUFyLmV4dGVuZCh7dHlwZToicG9seWxpbmUiLHNoYXBlOntwb2ludHM6bnVsbCxzbW9vdGg6ITEsc21vb3RoQ29uc3RyYWludDpudWxsfSxzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe0pyKHQsZSwhMSl9fSksZXM9TWF0aC5yb3VuZDtmdW5jdGlvbiBpcyh0LGUsaSl7aWYoZSl7dmFyIG49ZS54MSxvPWUueDIsYT1lLnkxLHI9ZS55Mjt0LngxPW4sdC54Mj1vLHQueTE9YSx0LnkyPXI7dmFyIHM9aSYmaS5saW5lV2lkdGg7cyYmKGVzKDIqbik9PT1lcygyKm8pJiYodC54MT10LngyPW9zKG4scywhMCkpLGVzKDIqYSk9PT1lcygyKnIpJiYodC55MT10LnkyPW9zKGEscywhMCkpKX19ZnVuY3Rpb24gbnModCxlLGkpe2lmKGUpe3ZhciBuPWUueCxvPWUueSxhPWUud2lkdGgscj1lLmhlaWdodDt0Lng9bix0Lnk9byx0LndpZHRoPWEsdC5oZWlnaHQ9cjt2YXIgcz1pJiZpLmxpbmVXaWR0aDtzJiYodC54PW9zKG4scywhMCksdC55PW9zKG8scywhMCksdC53aWR0aD1NYXRoLm1heChvcyhuK2EscywhMSktdC54LDA9PT1hPzA6MSksdC5oZWlnaHQ9TWF0aC5tYXgob3MobytyLHMsITEpLXQueSwwPT09cj8wOjEpKX19ZnVuY3Rpb24gb3ModCxlLGkpe2lmKCFlKXJldHVybiB0O3ZhciBuPWVzKDIqdCk7cmV0dXJuKG4rZXMoZSkpJTI9PTA/bi8yOihuKyhpPzE6LTEpKS8yfXZhciBhcz17fSxycz1Bci5leHRlbmQoe3R5cGU6InJlY3QiLHNoYXBlOntyOjAseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYTt0aGlzLnN1YlBpeGVsT3B0aW1pemU/KG5zKGFzLGUsdGhpcy5zdHlsZSksaT1hcy54LG49YXMueSxvPWFzLndpZHRoLGE9YXMuaGVpZ2h0LGFzLnI9ZS5yLGU9YXMpOihpPWUueCxuPWUueSxvPWUud2lkdGgsYT1lLmhlaWdodCksZS5yP0RuKHQsZSk6dC5yZWN0KGksbixvLGEpLHQuY2xvc2VQYXRoKCl9fSksc3M9e30sbHM9QXIuZXh0ZW5kKHt0eXBlOiJsaW5lIixzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxwZXJjZW50OjF9LHN0eWxlOntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLGE7YT10aGlzLnN1YlBpeGVsT3B0aW1pemU/KGlzKHNzLGUsdGhpcy5zdHlsZSksaT1zcy54MSxuPXNzLnkxLG89c3MueDIsc3MueTIpOihpPWUueDEsbj1lLnkxLG89ZS54MixlLnkyKTt2YXIgcj1lLnBlcmNlbnQ7MCE9PXImJih0Lm1vdmVUbyhpLG4pLHI8MSYmKG89aSooMS1yKStvKnIsYT1uKigxLXIpK2EqciksdC5saW5lVG8obyxhKSl9LHBvaW50QXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaGFwZTtyZXR1cm5bZS54MSooMS10KStlLngyKnQsZS55MSooMS10KStlLnkyKnRdfX0pLHVzPVtdO2Z1bmN0aW9uIGhzKHQsZSxpKXt2YXIgbj10LmNweDIsbz10LmNweTI7cmV0dXJuIG51bGw9PT1ufHxudWxsPT09bz9bKGk/QWE6VGEpKHQueDEsdC5jcHgxLHQuY3B4Mix0LngyLGUpLChpP0FhOlRhKSh0LnkxLHQuY3B5MSx0LmNweTIsdC55MixlKV06WyhpP2thOkxhKSh0LngxLHQuY3B4MSx0LngyLGUpLChpP2thOkxhKSh0LnkxLHQuY3B5MSx0LnkyLGUpXX1mdW5jdGlvbiBjcyh0KXt0aGlzLmNvbG9yU3RvcHM9dHx8W119dmFyIGRzPUFyLmV4dGVuZCh7dHlwZToiYmV6aWVyLWN1cnZlIixzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxjcHgxOjAsY3B5MTowLHBlcmNlbnQ6MX0sc3R5bGU6e3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLngxLG49ZS55MSxvPWUueDIsYT1lLnkyLHI9ZS5jcHgxLHM9ZS5jcHkxLGw9ZS5jcHgyLHU9ZS5jcHkyLGg9ZS5wZXJjZW50OzAhPT1oJiYodC5tb3ZlVG8oaSxuKSxudWxsPT1sfHxudWxsPT11PyhoPDEmJihOYShpLHIsbyxoLHVzKSxyPXVzWzFdLG89dXNbMl0sTmEobixzLGEsaCx1cykscz11c1sxXSxhPXVzWzJdKSx0LnF1YWRyYXRpY0N1cnZlVG8ocixzLG8sYSkpOihoPDEmJihDYShpLHIsbCxvLGgsdXMpLHI9dXNbMV0sbD11c1syXSxvPXVzWzNdLENhKG4scyx1LGEsaCx1cykscz11c1sxXSx1PXVzWzJdLGE9dXNbM10pLHQuYmV6aWVyQ3VydmVUbyhyLHMsbCx1LG8sYSkpKX0scG9pbnRBdDpmdW5jdGlvbih0KXtyZXR1cm4gaHModGhpcy5zaGFwZSx0LCExKX0sdGFuZ2VudEF0OmZ1bmN0aW9uKHQpe3ZhciBlPWhzKHRoaXMuc2hhcGUsdCwhMCk7cmV0dXJuIG10KGUsZSl9fSksZnM9QXIuZXh0ZW5kKHt0eXBlOiJhcmMiLHNoYXBlOntjeDowLGN5OjAscjowLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY2xvY2t3aXNlOiEwfSxzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89TWF0aC5tYXgoZS5yLDApLGE9ZS5zdGFydEFuZ2xlLHI9ZS5lbmRBbmdsZSxzPWUuY2xvY2t3aXNlLGw9TWF0aC5jb3MoYSksdT1NYXRoLnNpbihhKTt0Lm1vdmVUbyhsKm8raSx1Km8rbiksdC5hcmMoaSxuLG8sYSxyLCFzKX19KSxwcz1Bci5leHRlbmQoe3R5cGU6ImNvbXBvdW5kIixzaGFwZTp7cGF0aHM6bnVsbH0sX3VwZGF0ZVBhdGhEaXJ0eTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9fZGlydHlQYXRoLGU9dGhpcy5zaGFwZS5wYXRocyxpPTA7aTxlLmxlbmd0aDtpKyspdD10fHxlW2ldLl9fZGlydHlQYXRoO3RoaXMuX19kaXJ0eVBhdGg9dCx0aGlzLl9fZGlydHk9dGhpcy5fX2RpcnR5fHx0fSxiZWZvcmVCcnVzaDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVBhdGhEaXJ0eSgpO2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzfHxbXSxlPXRoaXMuZ2V0R2xvYmFsU2NhbGUoKSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5wYXRofHx0W2ldLmNyZWF0ZVBhdGhQcm94eSgpLHRbaV0ucGF0aC5zZXRTY2FsZShlWzBdLGVbMV0sdFtpXS5zZWdtZW50SWdub3JlVGhyZXNob2xkKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUucGF0aHN8fFtdLG49MDtuPGkubGVuZ3RoO24rKylpW25dLmJ1aWxkUGF0aCh0LGlbbl0uc2hhcGUsITApfSxhZnRlckJydXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLl9fZGlydHlQYXRoPSExfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlUGF0aERpcnR5KCksQXIucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdC5jYWxsKHRoaXMpfX0pO2NzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Y3MsYWRkQ29sb3JTdG9wOmZ1bmN0aW9uKHQsZSl7dGhpcy5jb2xvclN0b3BzLnB1c2goe29mZnNldDp0LGNvbG9yOmV9KX19O2Z1bmN0aW9uIGdzKHQsZSxpLG4sbyxhKXt0aGlzLng9bnVsbD09dD8wOnQsdGhpcy55PW51bGw9PWU/MDplLHRoaXMueDI9bnVsbD09aT8xOmksdGhpcy55Mj1udWxsPT1uPzA6bix0aGlzLnR5cGU9ImxpbmVhciIsdGhpcy5nbG9iYWw9YXx8ITEsY3MuY2FsbCh0aGlzLG8pfWdzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Z3N9LHcoZ3MsY3MpO2Z1bmN0aW9uIG1zKHQsZSxpLG4sbyl7dGhpcy54PW51bGw9PXQ/LjU6dCx0aGlzLnk9bnVsbD09ZT8uNTplLHRoaXMucj1udWxsPT1pPy41OmksdGhpcy50eXBlPSJyYWRpYWwiLHRoaXMuZ2xvYmFsPW98fCExLGNzLmNhbGwodGhpcyxuKX1mdW5jdGlvbiB2cyh0KXtKbi5jYWxsKHRoaXMsdCksdGhpcy5fZGlzcGxheWFibGVzPVtdLHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSx0aGlzLl9jdXJzb3I9MCx0aGlzLm5vdENsZWFyPSEwfW1zLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bXN9LHcobXMsY3MpLHZzLnByb3RvdHlwZS5pbmNyZW1lbnRhbD0hMCx2cy5wcm90b3R5cGUuY2xlYXJEaXNwbGF5Ymxlcz1mdW5jdGlvbigpe3RoaXMuX2Rpc3BsYXlhYmxlcz1bXSx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W10sdGhpcy5fY3Vyc29yPTAsdGhpcy5kaXJ0eSgpLHRoaXMubm90Q2xlYXI9ITF9LHZzLnByb3RvdHlwZS5hZGREaXNwbGF5YWJsZT1mdW5jdGlvbih0LGUpe2U/dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLnB1c2godCk6dGhpcy5fZGlzcGxheWFibGVzLnB1c2godCksdGhpcy5kaXJ0eSgpfSx2cy5wcm90b3R5cGUuYWRkRGlzcGxheWFibGVzPWZ1bmN0aW9uKHQsZSl7ZT1lfHwhMTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLmFkZERpc3BsYXlhYmxlKHRbaV0sZSl9LHZzLnByb3RvdHlwZS5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jdXJzb3I7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX2Rpc3BsYXlhYmxlc1tlXSk7Zm9yKGU9MDtlPHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXQmJnQodGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2VdKX0sdnMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlVHJhbnNmb3JtKCk7Zm9yKHZhciB0PXRoaXMuX2N1cnNvcjt0PHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7dCsrKXsoZT10aGlzLl9kaXNwbGF5YWJsZXNbdF0pLnBhcmVudD10aGlzLGUudXBkYXRlKCksZS5wYXJlbnQ9bnVsbH1mb3IodD0wO3Q8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDt0Kyspe3ZhciBlOyhlPXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsfX0sdnMucHJvdG90eXBlLmJydXNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2N1cnNvcjtpPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7aSsrKXsobj10aGlzLl9kaXNwbGF5YWJsZXNbaV0pLmJlZm9yZUJydXNoJiZuLmJlZm9yZUJydXNoKHQpLG4uYnJ1c2godCxpPT09dGhpcy5fY3Vyc29yP251bGw6dGhpcy5fZGlzcGxheWFibGVzW2ktMV0pLG4uYWZ0ZXJCcnVzaCYmbi5hZnRlckJydXNoKHQpfXRoaXMuX2N1cnNvcj1pO2ZvcihpPTA7aTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2krKyl7dmFyIG47KG49dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2ldKS5iZWZvcmVCcnVzaCYmbi5iZWZvcmVCcnVzaCh0KSxuLmJydXNoKHQsMD09PWk/bnVsbDp0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXNbaS0xXSksbi5hZnRlckJydXNoJiZuLmFmdGVyQnJ1c2godCl9dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLHRoaXMubm90Q2xlYXI9ITB9O3ZhciB5cz1bXTt2cy5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JlY3Qpe2Zvcih2YXIgdD1uZXcgRGkoMS8wLDEvMCwtMS8wLC0xLzApLGU9MDtlPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9kaXNwbGF5YWJsZXNbZV0sbj1pLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7aS5uZWVkTG9jYWxUcmFuc2Zvcm0oKSYmbi5hcHBseVRyYW5zZm9ybShpLmdldExvY2FsVHJhbnNmb3JtKHlzKSksdC51bmlvbihuKX10aGlzLl9yZWN0PXR9cmV0dXJuIHRoaXMuX3JlY3R9LHZzLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtpZih0aGlzLmdldEJvdW5kaW5nUmVjdCgpLmNvbnRhaW4oaVswXSxpWzFdKSlmb3IodmFyIG49MDtuPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7bisrKXtpZih0aGlzLl9kaXNwbGF5YWJsZXNbbl0uY29udGFpbih0LGUpKXJldHVybiEwfXJldHVybiExfSx3KHZzLEpuKTt2YXIgeHM9TWF0aC5tYXgsX3M9TWF0aC5taW4sd3M9e30sYnM9MSxTcz17Y29sb3I6InRleHRGaWxsIix0ZXh0Qm9yZGVyQ29sb3I6InRleHRTdHJva2UiLHRleHRCb3JkZXJXaWR0aDoidGV4dFN0cm9rZVdpZHRoIn0sTXM9ImVtcGhhc2lzIixJcz0ibm9ybWFsIixUcz0xLEFzPXt9LERzPXt9O2Z1bmN0aW9uIENzKHQpe3JldHVybiBBci5leHRlbmQodCl9ZnVuY3Rpb24gTHModCxlKXtEc1t0XT1lfWZ1bmN0aW9uIGtzKHQpe2lmKERzLmhhc093blByb3BlcnR5KHQpKXJldHVybiBEc1t0XX1mdW5jdGlvbiBQcyh0LGUsaSxuKXt2YXIgbz1acih0LGUpO3JldHVybiBpJiYoImNlbnRlciI9PT1uJiYoaT1PcyhpLG8uZ2V0Qm91bmRpbmdSZWN0KCkpKSx6cyhvLGkpKSxvfWZ1bmN0aW9uIE5zKHQsaSxuKXt2YXIgbz1uZXcgUW4oe3N0eWxlOntpbWFnZTp0LHg6aS54LHk6aS55LHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxvbmxvYWQ6ZnVuY3Rpb24odCl7aWYoImNlbnRlciI9PT1uKXt2YXIgZT17d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9O28uc2V0U3R5bGUoT3MoaSxlKSl9fX0pO3JldHVybiBvfWZ1bmN0aW9uIE9zKHQsZSl7dmFyIGksbj1lLndpZHRoL2UuaGVpZ2h0LG89dC5oZWlnaHQqbjtyZXR1cm4gaT1vPD10LndpZHRoP3QuaGVpZ2h0OihvPXQud2lkdGgpL24se3g6dC54K3Qud2lkdGgvMi1vLzIseTp0LnkrdC5oZWlnaHQvMi1pLzIsd2lkdGg6byxoZWlnaHQ6aX19dmFyIFJzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLG49dC5sZW5ndGgsbz0wO288bjtvKyspe3ZhciBhPXRbb107YS5wYXRofHxhLmNyZWF0ZVBhdGhQcm94eSgpLGEuX19kaXJ0eVBhdGgmJmEuYnVpbGRQYXRoKGEucGF0aCxhLnNoYXBlLCEwKSxpLnB1c2goYS5wYXRoKX12YXIgcj1uZXcgQXIoZSk7cmV0dXJuIHIuY3JlYXRlUGF0aFByb3h5KCksci5idWlsZFBhdGg9ZnVuY3Rpb24odCl7dC5hcHBlbmRQYXRoKGkpO3ZhciBlPXQuZ2V0Q29udGV4dCgpO2UmJnQucmVidWlsZFBhdGgoZSl9LHJ9O2Z1bmN0aW9uIHpzKHQsZSl7aWYodC5hcHBseVRyYW5zZm9ybSl7dmFyIGk9dC5nZXRCb3VuZGluZ1JlY3QoKS5jYWxjdWxhdGVUcmFuc2Zvcm0oZSk7dC5hcHBseVRyYW5zZm9ybShpKX19dmFyIEVzPW9zO2Z1bmN0aW9uIEJzKHQpe3JldHVybiBudWxsIT10JiYibm9uZSIhPT10fXZhciBWcz1RKCksR3M9MDtmdW5jdGlvbiBGcyh0KXt2YXIgZT10Ll9faG92ZXJTdGw7aWYoZSYmIXQuX19oaWdobGlnaHRlZCl7dmFyIGk9dC5fX3pyLG49dC51c2VIb3ZlckxheWVyJiZpJiYiY2FudmFzIj09PWkucGFpbnRlci50eXBlO2lmKHQuX19oaWdobGlnaHRlZD1uPyJsYXllciI6InBsYWluIiwhKHQuaXNHcm91cHx8IWkmJnQudXNlSG92ZXJMYXllcikpe3ZhciBvPXQsYT10LnN0eWxlO24mJihhPShvPWkuYWRkSG92ZXIodCkpLnN0eWxlKSxsbChhKSxufHxmdW5jdGlvbih0KXtpZih0Ll9faG92ZXJTdGxEaXJ0eSl7dC5fX2hvdmVyU3RsRGlydHk9ITE7dmFyIGU9dC5fX2hvdmVyU3RsO2lmKGUpe3ZhciBpPXQuX19jYWNoZWROb3JtYWxTdGw9e307dC5fX2NhY2hlZE5vcm1hbFoyPXQuejI7dmFyIG49dC5zdHlsZTtmb3IodmFyIG8gaW4gZSludWxsIT1lW29dJiYoaVtvXT1uW29dKTtpLmZpbGw9bi5maWxsLGkuc3Ryb2tlPW4uc3Ryb2tlfWVsc2UgdC5fX2NhY2hlZE5vcm1hbFN0bD10Ll9fY2FjaGVkTm9ybWFsWjI9bnVsbH19KG8pLGEuZXh0ZW5kRnJvbShlKSxXcyhhLGUsImZpbGwiKSxXcyhhLGUsInN0cm9rZSIpLHNsKGEpLG58fCh0LmRpcnR5KCExKSx0LnoyKz1icyl9fX1mdW5jdGlvbiBXcyh0LGUsaSl7IUJzKGVbaV0pJiZCcyh0W2ldKSYmKHRbaV09ZnVuY3Rpb24odCl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBlPVZzLmdldCh0KTtyZXR1cm4gZXx8KGU9SGUodCwtLjEpLEdzPDFlNCYmKFZzLnNldCh0LGUpLEdzKyspKSxlfSh0W2ldKSl9ZnVuY3Rpb24gSHModCl7dmFyIGU9dC5fX2hpZ2hsaWdodGVkO2lmKGUmJih0Ll9faGlnaGxpZ2h0ZWQ9ITEsIXQuaXNHcm91cCkpaWYoImxheWVyIj09PWUpdC5fX3pyJiZ0Ll9fenIucmVtb3ZlSG92ZXIodCk7ZWxzZXt2YXIgaT10LnN0eWxlLG49dC5fX2NhY2hlZE5vcm1hbFN0bDtuJiYobGwoaSksdC5zZXRTdHlsZShuKSxzbChpKSk7dmFyIG89dC5fX2NhY2hlZE5vcm1hbFoyO251bGwhPW8mJnQuejItbz09PWJzJiYodC56Mj1vKX19ZnVuY3Rpb24gWnModCxlLGkpe3ZhciBuLG89SXMsYT1Jczt0Ll9faGlnaGxpZ2h0ZWQmJihvPU1zLG49ITApLGUodCxpKSx0Ll9faGlnaGxpZ2h0ZWQmJihhPU1zLG49ITApLHQuaXNHcm91cCYmdC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fGUodCxpKX0pLG4mJnQuX19oaWdoRG93bk9uVXBkYXRlJiZ0Ll9faGlnaERvd25PblVwZGF0ZShvLGEpfWZ1bmN0aW9uIFVzKHQsZSl7ZT10Ll9faG92ZXJTdGw9ITEhPT1lJiYodC5ob3ZlclN0eWxlfHxlfHx7fSksdC5fX2hvdmVyU3RsRGlydHk9ITAsdC5fX2hpZ2hsaWdodGVkJiYodC5fX2NhY2hlZE5vcm1hbFN0bD1udWxsLEhzKHQpLEZzKHQpKX1mdW5jdGlvbiBYcyh0KXtLcyh0aGlzLHQpfHx0aGlzLl9faGlnaEJ5T3V0ZXJ8fFpzKHRoaXMsRnMpfWZ1bmN0aW9uIFlzKHQpe0tzKHRoaXMsdCl8fHRoaXMuX19oaWdoQnlPdXRlcnx8WnModGhpcyxIcyl9ZnVuY3Rpb24ganModCl7dGhpcy5fX2hpZ2hCeU91dGVyfD0xPDwodHx8MCksWnModGhpcyxGcyl9ZnVuY3Rpb24gcXModCl7KHRoaXMuX19oaWdoQnlPdXRlciY9figxPDwodHx8MCkpKXx8WnModGhpcyxIcyl9ZnVuY3Rpb24gS3ModCxlKXtyZXR1cm4gdC5fX2hpZ2hEb3duU2lsZW50T25Ub3VjaCYmZS56ckJ5VG91Y2h9ZnVuY3Rpb24gJHModCxlKXtKcyh0LCEwKSxacyh0LFVzLGUpfWZ1bmN0aW9uIEpzKHQsZSl7dmFyIGk9ITE9PT1lO2lmKHQuX19oaWdoRG93blNpbGVudE9uVG91Y2g9dC5oaWdoRG93blNpbGVudE9uVG91Y2gsdC5fX2hpZ2hEb3duT25VcGRhdGU9dC5oaWdoRG93bk9uVXBkYXRlLCFpfHx0Ll9faGlnaERvd25EaXNwYXRjaGVyKXt2YXIgbj1pPyJvZmYiOiJvbiI7dFtuXSgibW91c2VvdmVyIixYcylbbl0oIm1vdXNlb3V0IixZcyksdFtuXSgiZW1waGFzaXMiLGpzKVtuXSgibm9ybWFsIixxcyksdC5fX2hpZ2hCeU91dGVyPXQuX19oaWdoQnlPdXRlcnx8MCx0Ll9faGlnaERvd25EaXNwYXRjaGVyPSFpfX1mdW5jdGlvbiBRcyh0KXtyZXR1cm4hKCF0fHwhdC5fX2hpZ2hEb3duRGlzcGF0Y2hlcil9ZnVuY3Rpb24gdGwodCl7dmFyIGU9QXNbdF07cmV0dXJuIG51bGw9PWUmJlRzPD0zMiYmKGU9QXNbdF09VHMrKyksZX1mdW5jdGlvbiBlbCh0LGUsaSxuLG8sYSxyKXt2YXIgcyxsPShvPW98fHdzKS5sYWJlbEZldGNoZXIsdT1vLmxhYmVsRGF0YUluZGV4LGg9by5sYWJlbERpbUluZGV4LGM9by5sYWJlbFByb3AsZD1pLmdldFNoYWxsb3coInNob3ciKSxmPW4uZ2V0U2hhbGxvdygic2hvdyIpOyhkfHxmKSYmKGwmJihzPWwuZ2V0Rm9ybWF0dGVkTGFiZWwodSwibm9ybWFsIixudWxsLGgsYykpLG51bGw9PXMmJihzPUMoby5kZWZhdWx0VGV4dCk/by5kZWZhdWx0VGV4dCh1LG8pOm8uZGVmYXVsdFRleHQpKTt2YXIgcD1kP3M6bnVsbCxnPWY/SChsP2wuZ2V0Rm9ybWF0dGVkTGFiZWwodSwiZW1waGFzaXMiLG51bGwsaCxjKTpudWxsLHMpOm51bGw7bnVsbD09cCYmbnVsbD09Z3x8KG5sKHQsaSxhLG8pLG5sKGUsbixyLG8sITApKSx0LnRleHQ9cCxlLnRleHQ9Z31mdW5jdGlvbiBpbCh0LGUsaSl7dmFyIG49dC5zdHlsZTtlJiYobGwobiksdC5zZXRTdHlsZShlKSxzbChuKSksbj10Ll9faG92ZXJTdGwsaSYmbiYmKGxsKG4pLFAobixpKSxzbChuKSl9ZnVuY3Rpb24gbmwodCxlLGksbixvKXtyZXR1cm4gb2wodCxlLG4sbyksaSYmUCh0LGkpLHR9ZnVuY3Rpb24gb2wodCxlLGksbil7aWYoKGk9aXx8d3MpLmlzUmVjdFRleHQpe3ZhciBvO2kuZ2V0VGV4dFBvc2l0aW9uP289aS5nZXRUZXh0UG9zaXRpb24oZSxuKToib3V0c2lkZSI9PT0obz1lLmdldFNoYWxsb3coInBvc2l0aW9uIil8fChuP251bGw6Imluc2lkZSIpKSYmKG89InRvcCIpLHQudGV4dFBvc2l0aW9uPW8sdC50ZXh0T2Zmc2V0PWUuZ2V0U2hhbGxvdygib2Zmc2V0Iik7dmFyIGE9ZS5nZXRTaGFsbG93KCJyb3RhdGUiKTtudWxsIT1hJiYoYSo9TWF0aC5QSS8xODApLHQudGV4dFJvdGF0aW9uPWEsdC50ZXh0RGlzdGFuY2U9SChlLmdldFNoYWxsb3coImRpc3RhbmNlIiksbj9udWxsOjUpfXZhciByLHM9ZS5lY01vZGVsLGw9cyYmcy5vcHRpb24udGV4dFN0eWxlLHU9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKDt0JiZ0IT09dC5lY01vZGVsOyl7dmFyIGk9KHQub3B0aW9ufHx3cykucmljaDtpZihpKWZvcih2YXIgbiBpbiBlPWV8fHt9LGkpaS5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09MSk7dD10LnBhcmVudE1vZGVsfXJldHVybiBlfShlKTtpZih1KWZvcih2YXIgaCBpbiByPXt9LHUpaWYodS5oYXNPd25Qcm9wZXJ0eShoKSl7dmFyIGM9ZS5nZXRNb2RlbChbInJpY2giLGhdKTthbChyW2hdPXt9LGMsbCxpLG4pfXJldHVybiB0LnJpY2g9cixhbCh0LGUsbCxpLG4sITApLGkuZm9yY2VSaWNoJiYhaS50ZXh0U3R5bGUmJihpLnRleHRTdHlsZT17fSksdH1mdW5jdGlvbiBhbCh0LGUsaSxuLG8sYSl7aT0hbyYmaXx8d3MsdC50ZXh0RmlsbD1ybChlLmdldFNoYWxsb3coImNvbG9yIiksbil8fGkuY29sb3IsdC50ZXh0U3Ryb2tlPXJsKGUuZ2V0U2hhbGxvdygidGV4dEJvcmRlckNvbG9yIiksbil8fGkudGV4dEJvcmRlckNvbG9yLHQudGV4dFN0cm9rZVdpZHRoPUgoZS5nZXRTaGFsbG93KCJ0ZXh0Qm9yZGVyV2lkdGgiKSxpLnRleHRCb3JkZXJXaWR0aCksb3x8KGEmJih0Lmluc2lkZVJvbGxiYWNrT3B0PW4sc2wodCkpLG51bGw9PXQudGV4dEZpbGwmJih0LnRleHRGaWxsPW4uYXV0b0NvbG9yKSksdC5mb250U3R5bGU9ZS5nZXRTaGFsbG93KCJmb250U3R5bGUiKXx8aS5mb250U3R5bGUsdC5mb250V2VpZ2h0PWUuZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpfHxpLmZvbnRXZWlnaHQsdC5mb250U2l6ZT1lLmdldFNoYWxsb3coImZvbnRTaXplIil8fGkuZm9udFNpemUsdC5mb250RmFtaWx5PWUuZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpfHxpLmZvbnRGYW1pbHksdC50ZXh0QWxpZ249ZS5nZXRTaGFsbG93KCJhbGlnbiIpLHQudGV4dFZlcnRpY2FsQWxpZ249ZS5nZXRTaGFsbG93KCJ2ZXJ0aWNhbEFsaWduIil8fGUuZ2V0U2hhbGxvdygiYmFzZWxpbmUiKSx0LnRleHRMaW5lSGVpZ2h0PWUuZ2V0U2hhbGxvdygibGluZUhlaWdodCIpLHQudGV4dFdpZHRoPWUuZ2V0U2hhbGxvdygid2lkdGgiKSx0LnRleHRIZWlnaHQ9ZS5nZXRTaGFsbG93KCJoZWlnaHQiKSx0LnRleHRUYWc9ZS5nZXRTaGFsbG93KCJ0YWciKSxhJiZuLmRpc2FibGVCb3h8fCh0LnRleHRCYWNrZ3JvdW5kQ29sb3I9cmwoZS5nZXRTaGFsbG93KCJiYWNrZ3JvdW5kQ29sb3IiKSxuKSx0LnRleHRQYWRkaW5nPWUuZ2V0U2hhbGxvdygicGFkZGluZyIpLHQudGV4dEJvcmRlckNvbG9yPXJsKGUuZ2V0U2hhbGxvdygiYm9yZGVyQ29sb3IiKSxuKSx0LnRleHRCb3JkZXJXaWR0aD1lLmdldFNoYWxsb3coImJvcmRlcldpZHRoIiksdC50ZXh0Qm9yZGVyUmFkaXVzPWUuZ2V0U2hhbGxvdygiYm9yZGVyUmFkaXVzIiksdC50ZXh0Qm94U2hhZG93Q29sb3I9ZS5nZXRTaGFsbG93KCJzaGFkb3dDb2xvciIpLHQudGV4dEJveFNoYWRvd0JsdXI9ZS5nZXRTaGFsbG93KCJzaGFkb3dCbHVyIiksdC50ZXh0Qm94U2hhZG93T2Zmc2V0WD1lLmdldFNoYWxsb3coInNoYWRvd09mZnNldFgiKSx0LnRleHRCb3hTaGFkb3dPZmZzZXRZPWUuZ2V0U2hhbGxvdygic2hhZG93T2Zmc2V0WSIpKSx0LnRleHRTaGFkb3dDb2xvcj1lLmdldFNoYWxsb3coInRleHRTaGFkb3dDb2xvciIpfHxpLnRleHRTaGFkb3dDb2xvcix0LnRleHRTaGFkb3dCbHVyPWUuZ2V0U2hhbGxvdygidGV4dFNoYWRvd0JsdXIiKXx8aS50ZXh0U2hhZG93Qmx1cix0LnRleHRTaGFkb3dPZmZzZXRYPWUuZ2V0U2hhbGxvdygidGV4dFNoYWRvd09mZnNldFgiKXx8aS50ZXh0U2hhZG93T2Zmc2V0WCx0LnRleHRTaGFkb3dPZmZzZXRZPWUuZ2V0U2hhbGxvdygidGV4dFNoYWRvd09mZnNldFkiKXx8aS50ZXh0U2hhZG93T2Zmc2V0WX1mdW5jdGlvbiBybCh0LGUpe3JldHVybiJhdXRvIiE9PXQ/dDplJiZlLmF1dG9Db2xvcj9lLmF1dG9Db2xvcjpudWxsfWZ1bmN0aW9uIHNsKHQpe3ZhciBlLGk9dC50ZXh0UG9zaXRpb24sbj10Lmluc2lkZVJvbGxiYWNrT3B0O2lmKG4mJm51bGw9PXQudGV4dEZpbGwpe3ZhciBvPW4uYXV0b0NvbG9yLGE9bi5pc1JlY3RUZXh0LHI9bi51c2VJbnNpZGVTdHlsZSxzPSExIT09ciYmKCEwPT09cnx8YSYmaSYmInN0cmluZyI9PXR5cGVvZiBpJiYwPD1pLmluZGV4T2YoImluc2lkZSIpKSxsPSFzJiZudWxsIT1vOyhzfHxsKSYmKGU9e3RleHRGaWxsOnQudGV4dEZpbGwsdGV4dFN0cm9rZTp0LnRleHRTdHJva2UsdGV4dFN0cm9rZVdpZHRoOnQudGV4dFN0cm9rZVdpZHRofSkscyYmKHQudGV4dEZpbGw9IiNmZmYiLG51bGw9PXQudGV4dFN0cm9rZSYmKHQudGV4dFN0cm9rZT1vLG51bGw9PXQudGV4dFN0cm9rZVdpZHRoJiYodC50ZXh0U3Ryb2tlV2lkdGg9MikpKSxsJiYodC50ZXh0RmlsbD1vKX10Lmluc2lkZVJvbGxiYWNrPWV9ZnVuY3Rpb24gbGwodCl7dmFyIGU9dC5pbnNpZGVSb2xsYmFjaztlJiYodC50ZXh0RmlsbD1lLnRleHRGaWxsLHQudGV4dFN0cm9rZT1lLnRleHRTdHJva2UsdC50ZXh0U3Ryb2tlV2lkdGg9ZS50ZXh0U3Ryb2tlV2lkdGgsdC5pbnNpZGVSb2xsYmFjaz1udWxsKX1mdW5jdGlvbiB1bCh0LGUpe3ZhciBpPWUmJmUuZ2V0TW9kZWwoInRleHRTdHlsZSIpO3JldHVybiBqKFt0LmZvbnRTdHlsZXx8aSYmaS5nZXRTaGFsbG93KCJmb250U3R5bGUiKXx8IiIsdC5mb250V2VpZ2h0fHxpJiZpLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKXx8IiIsKHQuZm9udFNpemV8fGkmJmkuZ2V0U2hhbGxvdygiZm9udFNpemUiKXx8MTIpKyJweCIsdC5mb250RmFtaWx5fHxpJiZpLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIikpfWZ1bmN0aW9uIGhsKHQsZSxpLG4sbyxhKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbyYmKGE9byxvPW51bGwpLG4mJm4uaXNBbmltYXRpb25FbmFibGVkKCkpe3ZhciByPXQ/IlVwZGF0ZSI6IiIscz1uLmdldFNoYWxsb3coImFuaW1hdGlvbkR1cmF0aW9uIityKSxsPW4uZ2V0U2hhbGxvdygiYW5pbWF0aW9uRWFzaW5nIityKSx1PW4uZ2V0U2hhbGxvdygiYW5pbWF0aW9uRGVsYXkiK3IpOyJmdW5jdGlvbiI9PXR5cGVvZiB1JiYodT11KG8sbi5nZXRBbmltYXRpb25EZWxheVBhcmFtcz9uLmdldEFuaW1hdGlvbkRlbGF5UGFyYW1zKGUsbyk6bnVsbCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKG8pKSwwPHM/ZS5hbmltYXRlVG8oaSxzLHV8fDAsbCxhLCEhYSk6KGUuc3RvcEFuaW1hdGlvbigpLGUuYXR0cihpKSxhJiZhKCkpfWVsc2UgZS5zdG9wQW5pbWF0aW9uKCksZS5hdHRyKGkpLGEmJmEoKX1mdW5jdGlvbiBjbCh0LGUsaSxuLG8pe2hsKCEwLHQsZSxpLG4sbyl9ZnVuY3Rpb24gZGwodCxlLGksbixvKXtobCghMSx0LGUsaSxuLG8pfWZ1bmN0aW9uIGZsKHQsZSl7Zm9yKHZhciBpPXJlKFtdKTt0JiZ0IT09ZTspbGUoaSx0LmdldExvY2FsVHJhbnNmb3JtKCksaSksdD10LnBhcmVudDtyZXR1cm4gaX1mdW5jdGlvbiBwbCh0LGUsaSl7cmV0dXJuIGUmJiFOKGUpJiYoZT12ZS5nZXRMb2NhbFRyYW5zZm9ybShlKSksaSYmKGU9ZGUoW10sZSkpLGJ0KFtdLHQsZSl9ZnVuY3Rpb24gZ2wodCxlLGkpe3ZhciBuPTA9PT1lWzRdfHwwPT09ZVs1XXx8MD09PWVbMF0/MTpNYXRoLmFicygyKmVbNF0vZVswXSksbz0wPT09ZVs0XXx8MD09PWVbNV18fDA9PT1lWzJdPzE6TWF0aC5hYnMoMiplWzRdL2VbMl0pLGE9WyJsZWZ0Ij09PXQ/LW46InJpZ2h0Ij09PXQ/bjowLCJ0b3AiPT09dD8tbzoiYm90dG9tIj09PXQ/bzowXTtyZXR1cm4gYT1wbChhLGUsaSksTWF0aC5hYnMoYVswXSk+TWF0aC5hYnMoYVsxXSk/MDxhWzBdPyJyaWdodCI6ImxlZnQiOjA8YVsxXT8iYm90dG9tIjoidG9wIn1mdW5jdGlvbiBtbCh0LGUsbixpKXtpZih0JiZlKXt2YXIgbyxhPShvPXt9LHQudHJhdmVyc2UoZnVuY3Rpb24odCl7IXQuaXNHcm91cCYmdC5hbmlkJiYob1t0LmFuaWRdPXQpfSksbyk7ZS50cmF2ZXJzZShmdW5jdGlvbih0KXtpZighdC5pc0dyb3VwJiZ0LmFuaWQpe3ZhciBlPWFbdC5hbmlkXTtpZihlKXt2YXIgaT1yKHQpO3QuYXR0cihyKGUpKSxjbCh0LGksbix0LmRhdGFJbmRleCl9fX0pfWZ1bmN0aW9uIHIodCl7dmFyIGU9e3Bvc2l0aW9uOnJ0KHQucG9zaXRpb24pLHJvdGF0aW9uOnQucm90YXRpb259O3JldHVybiB0LnNoYXBlJiYoZS5zaGFwZT1QKHt9LHQuc2hhcGUpKSxlfX1mdW5jdGlvbiB2bCh0LG4pe3JldHVybiBPKHQsZnVuY3Rpb24odCl7dmFyIGU9dFswXTtlPXhzKGUsbi54KSxlPV9zKGUsbi54K24ud2lkdGgpO3ZhciBpPXRbMV07cmV0dXJuIGk9eHMoaSxuLnkpLFtlLGk9X3MoaSxuLnkrbi5oZWlnaHQpXX0pfWZ1bmN0aW9uIHlsKHQsZSxpKXt2YXIgbj0oZT1QKHtyZWN0SG92ZXI6ITB9LGUpKS5zdHlsZT17c3Ryb2tlTm9TY2FsZTohMH07aWYoaT1pfHx7eDotMSx5Oi0xLHdpZHRoOjIsaGVpZ2h0OjJ9LHQpcmV0dXJuIDA9PT10LmluZGV4T2YoImltYWdlOi8vIik/KG4uaW1hZ2U9dC5zbGljZSg4KSxEKG4saSksbmV3IFFuKGUpKTpQcyh0LnJlcGxhY2UoInBhdGg6Ly8iLCIiKSxlLGksImNlbnRlciIpfWZ1bmN0aW9uIHhsKHQsZSxpLG4sbyl7Zm9yKHZhciBhPTAscj1vW28ubGVuZ3RoLTFdO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO2lmKF9sKHQsZSxpLG4sc1swXSxzWzFdLHJbMF0sclsxXSkpcmV0dXJuITA7cj1zfX1mdW5jdGlvbiBfbCh0LGUsaSxuLG8sYSxyLHMpe3ZhciBsPWktdCx1PW4tZSxoPXItbyxjPXMtYSxkPXdsKGgsYyxsLHUpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0PD0xZS02JiYtMWUtNjw9dH0oZCkpcmV0dXJuITE7dmFyIGY9dC1vLHA9ZS1hLGc9d2woZixwLGwsdSkvZDtpZihnPDB8fDE8ZylyZXR1cm4hMTt2YXIgbT13bChmLHAsaCxjKS9kO3JldHVybiEobTwwfHwxPG0pfWZ1bmN0aW9uIHdsKHQsZSxpLG4pe3JldHVybiB0Km4taSplfUxzKCJjaXJjbGUiLFlyKSxMcygic2VjdG9yIixxciksTHMoInJpbmciLEtyKSxMcygicG9seWdvbiIsUXIpLExzKCJwb2x5bGluZSIsdHMpLExzKCJyZWN0IixycyksTHMoImxpbmUiLGxzKSxMcygiYmV6aWVyQ3VydmUiLGRzKSxMcygiYXJjIixmcyk7dmFyIGJsPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtaMl9FTVBIQVNJU19MSUZUOmJzLENBQ0hFRF9MQUJFTF9TVFlMRV9QUk9QRVJUSUVTOlNzLGV4dGVuZFNoYXBlOkNzLGV4dGVuZFBhdGg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gQXIuZXh0ZW5kKEhyKHQsZSkpfSh0LGUpfSxyZWdpc3RlclNoYXBlOkxzLGdldFNoYXBlQ2xhc3M6a3MsbWFrZVBhdGg6UHMsbWFrZUltYWdlOk5zLG1lcmdlUGF0aDpScyxyZXNpemVQYXRoOnpzLHN1YlBpeGVsT3B0aW1pemVMaW5lOmZ1bmN0aW9uKHQpe3JldHVybiBpcyh0LnNoYXBlLHQuc2hhcGUsdC5zdHlsZSksdH0sc3ViUGl4ZWxPcHRpbWl6ZVJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQuc2hhcGUsdC5zaGFwZSx0LnN0eWxlKSx0fSxzdWJQaXhlbE9wdGltaXplOkVzLHNldEVsZW1lbnRIb3ZlclN0eWxlOlVzLHNldEhvdmVyU3R5bGU6JHMsc2V0QXNIaWdoRG93bkRpc3BhdGNoZXI6SnMsaXNIaWdoRG93bkRpc3BhdGNoZXI6UXMsZ2V0SGlnaGxpZ2h0RGlnaXQ6dGwsc2V0TGFiZWxTdHlsZTplbCxtb2RpZnlMYWJlbFN0eWxlOmlsLHNldFRleHRTdHlsZTpubCxzZXRUZXh0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvPXtpc1JlY3RUZXh0OiEwfTshMT09PWk/bj0hMDpvLmF1dG9Db2xvcj1pLG9sKHQsZSxvLG4pfSxnZXRGb250OnVsLHVwZGF0ZVByb3BzOmNsLGluaXRQcm9wczpkbCxnZXRUcmFuc2Zvcm06ZmwsYXBwbHlUcmFuc2Zvcm06cGwsdHJhbnNmb3JtRGlyZWN0aW9uOmdsLGdyb3VwVHJhbnNpdGlvbjptbCxjbGlwUG9pbnRzQnlSZWN0OnZsLGNsaXBSZWN0QnlSZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9eHModC54LGUueCksbj1fcyh0LngrdC53aWR0aCxlLngrZS53aWR0aCksbz14cyh0LnksZS55KSxhPV9zKHQueSt0LmhlaWdodCxlLnkrZS5oZWlnaHQpO2lmKGk8PW4mJm88PWEpcmV0dXJue3g6aSx5Om8sd2lkdGg6bi1pLGhlaWdodDphLW99fSxjcmVhdGVJY29uOnlsLGxpbmVQb2x5Z29uSW50ZXJzZWN0OnhsLGxpbmVMaW5lSW50ZXJzZWN0Ol9sLEdyb3VwOkNpLEltYWdlOlFuLFRleHQ6VXIsQ2lyY2xlOllyLFNlY3RvcjpxcixSaW5nOktyLFBvbHlnb246UXIsUG9seWxpbmU6dHMsUmVjdDpycyxMaW5lOmxzLEJlemllckN1cnZlOmRzLEFyYzpmcyxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOnZzLENvbXBvdW5kUGF0aDpwcyxMaW5lYXJHcmFkaWVudDpncyxSYWRpYWxHcmFkaWVudDptcyxCb3VuZGluZ1JlY3Q6RGl9KSxTbD1bInRleHRTdHlsZSIsImNvbG9yIl0sTWw9e2dldFRleHRDb2xvcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmVjTW9kZWw7cmV0dXJuIHRoaXMuZ2V0U2hhbGxvdygiY29sb3IiKXx8KCF0JiZlP2UuZ2V0KFNsKTpudWxsKX0sZ2V0Rm9udDpmdW5jdGlvbigpe3JldHVybiB1bCh7Zm9udFN0eWxlOnRoaXMuZ2V0U2hhbGxvdygiZm9udFN0eWxlIiksZm9udFdlaWdodDp0aGlzLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKSxmb250U2l6ZTp0aGlzLmdldFNoYWxsb3coImZvbnRTaXplIiksZm9udEZhbWlseTp0aGlzLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKX0sdGhpcy5lY01vZGVsKX0sZ2V0VGV4dFJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGduKHQsdGhpcy5nZXRGb250KCksdGhpcy5nZXRTaGFsbG93KCJhbGlnbiIpLHRoaXMuZ2V0U2hhbGxvdygidmVydGljYWxBbGlnbiIpfHx0aGlzLmdldFNoYWxsb3coImJhc2VsaW5lIiksdGhpcy5nZXRTaGFsbG93KCJwYWRkaW5nIiksdGhpcy5nZXRTaGFsbG93KCJsaW5lSGVpZ2h0IiksdGhpcy5nZXRTaGFsbG93KCJyaWNoIiksdGhpcy5nZXRTaGFsbG93KCJ0cnVuY2F0ZVRleHQiKSl9fSxJbD1oYShbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsImJvcmRlckNvbG9yIl0sWyJsaW5lV2lkdGgiLCJib3JkZXJXaWR0aCJdLFsib3BhY2l0eSJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXSxbInRleHRQb3NpdGlvbiJdLFsidGV4dEFsaWduIl1dKSxUbD17Z2V0SXRlbVN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9SWwodGhpcyx0LGUpLG49dGhpcy5nZXRCb3JkZXJMaW5lRGFzaCgpO3JldHVybiBuJiYoaS5saW5lRGFzaD1uKSxpfSxnZXRCb3JkZXJMaW5lRGFzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJib3JkZXJUeXBlIik7cmV0dXJuInNvbGlkIj09PXR8fG51bGw9PXQ/bnVsbDoiZGFzaGVkIj09PXQ/WzUsNV06WzEsMV19fSxBbD1iLERsPWpvKCk7ZnVuY3Rpb24gQ2wodCxlLGkpe3RoaXMucGFyZW50TW9kZWw9ZSx0aGlzLmVjTW9kZWw9aSx0aGlzLm9wdGlvbj10fWZ1bmN0aW9uIExsKHQsZSxpKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoJiYoIWVbbl18fG51bGwhPSh0PXQmJiJvYmplY3QiPT10eXBlb2YgdD90W2Vbbl1dOm51bGwpKTtuKyspO3JldHVybiBudWxsPT10JiZpJiYodD1pLmdldChlKSksdH1mdW5jdGlvbiBrbCh0LGUpe3ZhciBpPURsKHQpLmdldFBhcmVudDtyZXR1cm4gaT9pLmNhbGwodCxlKTp0LnBhcmVudE1vZGVsfUNsLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q2wsaW5pdDpudWxsLG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe20odGhpcy5vcHRpb24sdCwhMCl9LGdldDpmdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uOkxsKHRoaXMub3B0aW9uLHRoaXMucGFyc2VQYXRoKHQpLCFlJiZrbCh0aGlzLHQpKX0sZ2V0U2hhbGxvdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49bnVsbD09aT9pOmlbdF0sbz0hZSYma2wodGhpcyx0KTtyZXR1cm4gbnVsbD09biYmbyYmKG49by5nZXRTaGFsbG93KHQpKSxufSxnZXRNb2RlbDpmdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiBuZXcgQ2wobnVsbD09dD90aGlzLm9wdGlvbjpMbCh0aGlzLm9wdGlvbix0PXRoaXMucGFyc2VQYXRoKHQpKSxlPWV8fChpPWtsKHRoaXMsdCkpJiZpLmdldE1vZGVsKHQpLHRoaXMuZWNNb2RlbCl9LGlzRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5vcHRpb259LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihrKHRoaXMub3B0aW9uKSl9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKHQpe30scGFyc2VQYXRoOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiLiIpKSx0fSxjdXN0b21pemVHZXRQYXJlbnQ6ZnVuY3Rpb24odCl7RGwodGhpcykuZ2V0UGFyZW50PXR9LGlzQW5pbWF0aW9uRW5hYmxlZDpmdW5jdGlvbigpe2lmKCF2Lm5vZGUpe2lmKG51bGwhPXRoaXMub3B0aW9uLmFuaW1hdGlvbilyZXR1cm4hIXRoaXMub3B0aW9uLmFuaW1hdGlvbjtpZih0aGlzLnBhcmVudE1vZGVsKXJldHVybiB0aGlzLnBhcmVudE1vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpfX19LG9hKENsKSxyYShDbCksQWwoQ2wsZGEpLEFsKENsLHBhKSxBbChDbCxNbCksQWwoQ2wsVGwpO3ZhciBQbD0wO2Z1bmN0aW9uIE5sKHQpe3JldHVyblt0fHwiIixQbCsrLE1hdGgucmFuZG9tKCkudG9GaXhlZCg1KV0uam9pbigiXyIpfXZhciBPbD0xZS00O2Z1bmN0aW9uIFJsKHQsZSxpLG4pe3ZhciBvPWVbMV0tZVswXSxhPWlbMV0taVswXTtpZigwPT1vKXJldHVybiAwPT1hP2lbMF06KGlbMF0raVsxXSkvMjtpZihuKWlmKDA8byl7aWYodDw9ZVswXSlyZXR1cm4gaVswXTtpZih0Pj1lWzFdKXJldHVybiBpWzFdfWVsc2V7aWYodD49ZVswXSlyZXR1cm4gaVswXTtpZih0PD1lWzFdKXJldHVybiBpWzFdfWVsc2V7aWYodD09PWVbMF0pcmV0dXJuIGlbMF07aWYodD09PWVbMV0pcmV0dXJuIGlbMV19cmV0dXJuKHQtZVswXSkvbyphK2lbMF19ZnVuY3Rpb24gemwodCxlKXtzd2l0Y2godCl7Y2FzZSJjZW50ZXIiOmNhc2UibWlkZGxlIjp0PSI1MCUiO2JyZWFrO2Nhc2UibGVmdCI6Y2FzZSJ0b3AiOnQ9IjAlIjticmVhaztjYXNlInJpZ2h0IjpjYXNlImJvdHRvbSI6dD0iMTAwJSJ9cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P2Z1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0odCkubWF0Y2goLyUkLyk/cGFyc2VGbG9hdCh0KS8xMDAqZTpwYXJzZUZsb2F0KHQpOm51bGw9PXQ/TmFOOit0fWZ1bmN0aW9uIEVsKHQsZSxpKXtyZXR1cm4gbnVsbD09ZSYmKGU9MTApLGU9TWF0aC5taW4oTWF0aC5tYXgoMCxlKSwyMCksdD0oK3QpLnRvRml4ZWQoZSksaT90Oit0fWZ1bmN0aW9uIEJsKHQpe3JldHVybiB0LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSksdH1mdW5jdGlvbiBWbCh0KXtpZih0PSt0LGlzTmFOKHQpKXJldHVybiAwO2Zvcih2YXIgZT0xLGk9MDtNYXRoLnJvdW5kKHQqZSkvZSE9PXQ7KWUqPTEwLGkrKztyZXR1cm4gaX1mdW5jdGlvbiBHbCh0KXt2YXIgZT10LnRvU3RyaW5nKCksaT1lLmluZGV4T2YoImUiKTtpZigwPGkpe3ZhciBuPStlLnNsaWNlKGkrMSk7cmV0dXJuIG48MD8tbjowfXZhciBvPWUuaW5kZXhPZigiLiIpO3JldHVybiBvPDA/MDplLmxlbmd0aC0xLW99ZnVuY3Rpb24gRmwodCxlKXt2YXIgaT1NYXRoLmxvZyxuPU1hdGguTE4xMCxvPU1hdGguZmxvb3IoaSh0WzFdLXRbMF0pL24pLGE9TWF0aC5yb3VuZChpKE1hdGguYWJzKGVbMV0tZVswXSkpL24pLHI9TWF0aC5taW4oTWF0aC5tYXgoLW8rYSwwKSwyMCk7cmV0dXJuIGlzRmluaXRlKHIpP3I6MjB9ZnVuY3Rpb24gV2wodCxlLGkpe2lmKCF0W2VdKXJldHVybiAwO3ZhciBuPVModCxmdW5jdGlvbih0LGUpe3JldHVybiB0Kyhpc05hTihlKT8wOmUpfSwwKTtpZigwPT09bilyZXR1cm4gMDtmb3IodmFyIG89TWF0aC5wb3coMTAsaSksYT1PKHQsZnVuY3Rpb24odCl7cmV0dXJuKGlzTmFOKHQpPzA6dCkvbipvKjEwMH0pLHI9MTAwKm8scz1PKGEsZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IodCl9KSxsPVMocyxmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9LDApLHU9TyhhLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtc1tlXX0pO2w8cjspe2Zvcih2YXIgaD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksYz1udWxsLGQ9MCxmPXUubGVuZ3RoO2Q8ZjsrK2QpdVtkXT5oJiYoaD11W2RdLGM9ZCk7KytzW2NdLHVbY109MCwrK2x9cmV0dXJuIHNbZV0vb312YXIgSGw9OTAwNzE5OTI1NDc0MDk5MTtmdW5jdGlvbiBabCh0KXt2YXIgZT0yKk1hdGguUEk7cmV0dXJuKHQlZStlKSVlfWZ1bmN0aW9uIFVsKHQpe3JldHVybi1PbDx0JiZ0PE9sfXZhciBYbD0vXig/OihcZHs0fSkoPzpbLVwvXShcZHsxLDJ9KSg/OlstXC9dKFxkezEsMn0pKD86W1QgXShcZHsxLDJ9KSg/OjooXGRcZCkoPzo6KFxkXGQpKD86Wy4sXShcZCspKT8pPyk/KFp8W1wrXC1dXGRcZDo/XGRcZCk/KT8pPyk/KT8kLztmdW5jdGlvbiBZbCh0KXtpZih0IGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gdDtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw9PXQ/bmV3IERhdGUoTmFOKTpuZXcgRGF0ZShNYXRoLnJvdW5kKHQpKTt2YXIgZT1YbC5leGVjKHQpO2lmKCFlKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKGVbOF0pe3ZhciBpPStlWzRdfHwwO3JldHVybiJaIiE9PWVbOF0udG9VcHBlckNhc2UoKSYmKGktPWVbOF0uc2xpY2UoMCwzKSksbmV3IERhdGUoRGF0ZS5VVEMoK2VbMV0sKyhlWzJdfHwxKS0xLCtlWzNdfHwxLGksKyhlWzVdfHwwKSwrZVs2XXx8MCwrZVs3XXx8MCkpfXJldHVybiBuZXcgRGF0ZSgrZVsxXSwrKGVbMl18fDEpLTEsK2VbM118fDEsK2VbNF18fDAsKyhlWzVdfHwwKSwrZVs2XXx8MCwrZVs3XXx8MCl9ZnVuY3Rpb24gamwodCl7cmV0dXJuIE1hdGgucG93KDEwLHFsKHQpKX1mdW5jdGlvbiBxbCh0KXtpZigwPT09dClyZXR1cm4gMDt2YXIgZT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCk7cmV0dXJuIDEwPD10L01hdGgucG93KDEwLGUpJiZlKyssZX1mdW5jdGlvbiBLbCh0LGUpe3ZhciBpPXFsKHQpLG49TWF0aC5wb3coMTAsaSksbz10L247cmV0dXJuIHQ9KGU/bzwxLjU/MTpvPDIuNT8yOm88ND8zOm88Nz81OjEwOm88MT8xOm88Mj8yOm88Mz8zOm88NT81OjEwKSpuLC0yMDw9aT8rdC50b0ZpeGVkKGk8MD8taTowKTp0fWZ1bmN0aW9uICRsKHQpe3Quc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbiB0KGUsaSxuKXtyZXR1cm4gZS5pbnRlcnZhbFtuXTxpLmludGVydmFsW25dfHxlLmludGVydmFsW25dPT09aS5pbnRlcnZhbFtuXSYmKGUuY2xvc2Vbbl0taS5jbG9zZVtuXT09KG4/LTE6MSl8fCFuJiZ0KGUsaSwxKSl9KHQsZSwwKT8tMToxfSk7Zm9yKHZhciBlPS0xLzAsaT0xLG49MDtuPHQubGVuZ3RoOyl7Zm9yKHZhciBvPXRbbl0uaW50ZXJ2YWwsYT10W25dLmNsb3NlLHI9MDtyPDI7cisrKW9bcl08PWUmJihvW3JdPWUsYVtyXT1yPzE6MS1pKSxlPW9bcl0saT1hW3JdO29bMF09PT1vWzFdJiZhWzBdKmFbMV0hPTE/dC5zcGxpY2UobiwxKTpuKyt9cmV0dXJuIHR9ZnVuY3Rpb24gSmwodCl7cmV0dXJuIDA8PXQtcGFyc2VGbG9hdCh0KX12YXIgUWw9KE9iamVjdC5mcmVlemV8fE9iamVjdCkoe2xpbmVhck1hcDpSbCxwYXJzZVBlcmNlbnQ6emwscm91bmQ6RWwsYXNjOkJsLGdldFByZWNpc2lvbjpWbCxnZXRQcmVjaXNpb25TYWZlOkdsLGdldFBpeGVsUHJlY2lzaW9uOkZsLGdldFBlcmNlbnRXaXRoUHJlY2lzaW9uOldsLE1BWF9TQUZFX0lOVEVHRVI6SGwscmVtUmFkaWFuOlpsLGlzUmFkaWFuQXJvdW5kWmVybzpVbCxwYXJzZURhdGU6WWwscXVhbnRpdHk6amwscXVhbnRpdHlFeHBvbmVudDpxbCxuaWNlOktsLHF1YW50aWxlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQubGVuZ3RoLTEpKmUrMSxuPU1hdGguZmxvb3IoaSksbz0rdFtuLTFdLGE9aS1uO3JldHVybiBhP28rYSoodFtuXS1vKTpvfSxyZWZvcm1JbnRlcnZhbHM6JGwsaXNOdW1lcmljOkpsfSk7ZnVuY3Rpb24gdHUodCl7cmV0dXJuIGlzTmFOKHQpPyItIjoodD0odCsiIikuc3BsaXQoIi4iKSlbMF0ucmVwbGFjZSgvKFxkezEsM30pKD89KD86XGR7M30pKyg/IVxkKSkvZywiJDEsIikrKDE8dC5sZW5ndGg/Ii4iK3RbMV06IiIpfWZ1bmN0aW9uIGV1KHQsZSl7cmV0dXJuIHQ9KHR8fCIiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZyxmdW5jdGlvbih0LGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KSxlJiZ0JiYodD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkpLHR9dmFyIGl1PVgsbnU9LyhbJjw+IiddKS9nLG91PXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsifTtmdW5jdGlvbiBhdSh0KXtyZXR1cm4gbnVsbD09dD8iIjoodCsiIikucmVwbGFjZShudSxmdW5jdGlvbih0LGUpe3JldHVybiBvdVtlXX0pfWZ1bmN0aW9uIHJ1KHQsZSl7cmV0dXJuInsiK3QrKG51bGw9PWU/IiI6ZSkrIn0ifXZhciBzdT1bImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsImciXTtmdW5jdGlvbiBsdSh0LGUsaSl7TChlKXx8KGU9W2VdKTt2YXIgbj1lLmxlbmd0aDtpZighbilyZXR1cm4iIjtmb3IodmFyIG89ZVswXS4kdmFyc3x8W10sYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcj1zdVthXTt0PXQucmVwbGFjZShydShyKSxydShyLDApKX1mb3IodmFyIHM9MDtzPG47cysrKWZvcih2YXIgbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1lW3NdW29bbF1dO3Q9dC5yZXBsYWNlKHJ1KHN1W2xdLHMpLGk/YXUodSk6dSl9cmV0dXJuIHR9ZnVuY3Rpb24gdXUoaSx0LG4pe3JldHVybiBSKHQsZnVuY3Rpb24odCxlKXtpPWkucmVwbGFjZSgieyIrZSsifSIsbj9hdSh0KTp0KX0pLGl9ZnVuY3Rpb24gaHUodCxlKXt2YXIgaT0odD16KHQpP3tjb2xvcjp0LGV4dHJhQ3NzVGV4dDplfTp0fHx7fSkuY29sb3Isbj10LnR5cGUsbz0oZT10LmV4dHJhQ3NzVGV4dCx0LnJlbmRlck1vZGV8fCJodG1sIiksYT10Lm1hcmtlcklkfHwiWCI7cmV0dXJuIGk/Imh0bWwiPT09bz8ic3ViSXRlbSI9PT1uPyc8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7bWFyZ2luLWxlZnQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O3dpZHRoOjRweDtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6JythdShpKSsiOyIrKGV8fCIiKSsnIj48L3NwYW4+JzonPHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo1cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjonK2F1KGkpKyI7IisoZXx8IiIpKyciPjwvc3Bhbj4nOntyZW5kZXJNb2RlOm8sY29udGVudDoie21hcmtlciIrYSsifH0gICIsc3R5bGU6e2NvbG9yOml9fToiIn1mdW5jdGlvbiBjdSh0LGUpe3JldHVybiIwMDAwIi5zdWJzdHIoMCxlLSh0Kz0iIikubGVuZ3RoKSt0fWZ1bmN0aW9uIGR1KHQsZSxpKXsid2VlayIhPT10JiYibW9udGgiIT09dCYmInF1YXJ0ZXIiIT09dCYmImhhbGYteWVhciIhPT10JiYieWVhciIhPT10fHwodD0iTU0tZGRcbnl5eXkiKTt2YXIgbj1ZbChlKSxvPWk/IlVUQyI6IiIsYT1uWyJnZXQiK28rIkZ1bGxZZWFyIl0oKSxyPW5bImdldCIrbysiTW9udGgiXSgpKzEscz1uWyJnZXQiK28rIkRhdGUiXSgpLGw9blsiZ2V0IitvKyJIb3VycyJdKCksdT1uWyJnZXQiK28rIk1pbnV0ZXMiXSgpLGg9blsiZ2V0IitvKyJTZWNvbmRzIl0oKSxjPW5bImdldCIrbysiTWlsbGlzZWNvbmRzIl0oKTtyZXR1cm4gdD10LnJlcGxhY2UoIk1NIixjdShyLDIpKS5yZXBsYWNlKCJNIixyKS5yZXBsYWNlKCJ5eXl5IixhKS5yZXBsYWNlKCJ5eSIsYSUxMDApLnJlcGxhY2UoImRkIixjdShzLDIpKS5yZXBsYWNlKCJkIixzKS5yZXBsYWNlKCJoaCIsY3UobCwyKSkucmVwbGFjZSgiaCIsbCkucmVwbGFjZSgibW0iLGN1KHUsMikpLnJlcGxhY2UoIm0iLHUpLnJlcGxhY2UoInNzIixjdShoLDIpKS5yZXBsYWNlKCJzIixoKS5yZXBsYWNlKCJTU1MiLGN1KGMsMykpfWZ1bmN0aW9uIGZ1KHQpe3JldHVybiB0P3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk6dH12YXIgcHU9eG47ZnVuY3Rpb24gZ3UodCxlKXtpZigiX2JsYW5rIj09PWV8fCJibGFuayI9PT1lKXt2YXIgaT13aW5kb3cub3BlbigpO2kub3BlbmVyPW51bGwsaS5sb2NhdGlvbj10fWVsc2Ugd2luZG93Lm9wZW4odCxlKX12YXIgbXU9KE9iamVjdC5mcmVlemV8fE9iamVjdCkoe2FkZENvbW1hczp0dSx0b0NhbWVsQ2FzZTpldSxub3JtYWxpemVDc3NBcnJheTppdSxlbmNvZGVIVE1MOmF1LGZvcm1hdFRwbDpsdSxmb3JtYXRUcGxTaW1wbGU6dXUsZ2V0VG9vbHRpcE1hcmtlcjpodSxmb3JtYXRUaW1lOmR1LGNhcGl0YWxGaXJzdDpmdSx0cnVuY2F0ZVRleHQ6cHUsZ2V0VGV4dEJvdW5kaW5nUmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gZ24odC50ZXh0LHQuZm9udCx0LnRleHRBbGlnbix0LnRleHRWZXJ0aWNhbEFsaWduLHQudGV4dFBhZGRpbmcsdC50ZXh0TGluZUhlaWdodCx0LnJpY2gsdC50cnVuY2F0ZSl9LGdldFRleHRSZWN0OmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7cmV0dXJuIGduKHQsZSxpLG4sbyxzLGEscil9LHdpbmRvd09wZW46Z3V9KSx2dT1SLHl1PVsibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwid2lkdGgiLCJoZWlnaHQiXSx4dT1bWyJ3aWR0aCIsImxlZnQiLCJyaWdodCJdLFsiaGVpZ2h0IiwidG9wIiwiYm90dG9tIl1dO2Z1bmN0aW9uIF91KGgsYyxkLGYscCl7dmFyIGc9MCxtPTA7bnVsbD09ZiYmKGY9MS8wKSxudWxsPT1wJiYocD0xLzApO3ZhciB2PTA7Yy5lYWNoQ2hpbGQoZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89dC5wb3NpdGlvbixhPXQuZ2V0Qm91bmRpbmdSZWN0KCkscj1jLmNoaWxkQXQoZSsxKSxzPXImJnIuZ2V0Qm91bmRpbmdSZWN0KCk7aWYoImhvcml6b250YWwiPT09aCl7dmFyIGw9YS53aWR0aCsocz8tcy54K2EueDowKTt2PWY8KGk9ZytsKXx8dC5uZXdsaW5lPyhnPTAsaT1sLG0rPXYrZCxhLmhlaWdodCk6TWF0aC5tYXgodixhLmhlaWdodCl9ZWxzZXt2YXIgdT1hLmhlaWdodCsocz8tcy55K2EueTowKTt2PXA8KG49bSt1KXx8dC5uZXdsaW5lPyhnKz12K2QsbT0wLG49dSxhLndpZHRoKTpNYXRoLm1heCh2LGEud2lkdGgpfXQubmV3bGluZXx8KG9bMF09ZyxvWzFdPW0sImhvcml6b250YWwiPT09aD9nPWkrZDptPW4rZCl9KX12YXIgd3U9X3U7VChfdSwidmVydGljYWwiKSxUKF91LCJob3Jpem9udGFsIik7ZnVuY3Rpb24gYnUodCxlLGkpe2k9aXUoaXx8MCk7dmFyIG49ZS53aWR0aCxvPWUuaGVpZ2h0LGE9emwodC5sZWZ0LG4pLHI9emwodC50b3Asbykscz16bCh0LnJpZ2h0LG4pLGw9emwodC5ib3R0b20sbyksdT16bCh0LndpZHRoLG4pLGg9emwodC5oZWlnaHQsbyksYz1pWzJdK2lbMF0sZD1pWzFdK2lbM10sZj10LmFzcGVjdDtzd2l0Y2goaXNOYU4odSkmJih1PW4tcy1kLWEpLGlzTmFOKGgpJiYoaD1vLWwtYy1yKSxudWxsIT1mJiYoaXNOYU4odSkmJmlzTmFOKGgpJiYobi9vPGY/dT0uOCpuOmg9LjgqbyksaXNOYU4odSkmJih1PWYqaCksaXNOYU4oaCkmJihoPXUvZikpLGlzTmFOKGEpJiYoYT1uLXMtdS1kKSxpc05hTihyKSYmKHI9by1sLWgtYyksdC5sZWZ0fHx0LnJpZ2h0KXtjYXNlImNlbnRlciI6YT1uLzItdS8yLWlbM107YnJlYWs7Y2FzZSJyaWdodCI6YT1uLXUtZH1zd2l0Y2godC50b3B8fHQuYm90dG9tKXtjYXNlIm1pZGRsZSI6Y2FzZSJjZW50ZXIiOnI9by8yLWgvMi1pWzBdO2JyZWFrO2Nhc2UiYm90dG9tIjpyPW8taC1jfWE9YXx8MCxyPXJ8fDAsaXNOYU4odSkmJih1PW4tZC1hLShzfHwwKSksaXNOYU4oaCkmJihoPW8tYy1yLShsfHwwKSk7dmFyIHA9bmV3IERpKGEraVszXSxyK2lbMF0sdSxoKTtyZXR1cm4gcC5tYXJnaW49aSxwfWZ1bmN0aW9uIFN1KHQsZSxpLG4sbyl7dmFyIGE9IW98fCFvLmh2fHxvLmh2WzBdLHI9IW98fCFvLmh2fHxvLmh2WzFdLHM9byYmby5ib3VuZGluZ01vZGV8fCJhbGwiO2lmKGF8fHIpe3ZhciBsO2lmKCJyYXciPT09cylsPSJncm91cCI9PT10LnR5cGU/bmV3IERpKDAsMCwrZS53aWR0aHx8MCwrZS5oZWlnaHR8fDApOnQuZ2V0Qm91bmRpbmdSZWN0KCk7ZWxzZSBpZihsPXQuZ2V0Qm91bmRpbmdSZWN0KCksdC5uZWVkTG9jYWxUcmFuc2Zvcm0oKSl7dmFyIHU9dC5nZXRMb2NhbFRyYW5zZm9ybSgpOyhsPWwuY2xvbmUoKSkuYXBwbHlUcmFuc2Zvcm0odSl9ZT1idShEKHt3aWR0aDpsLndpZHRoLGhlaWdodDpsLmhlaWdodH0sZSksaSxuKTt2YXIgaD10LnBvc2l0aW9uLGM9YT9lLngtbC54OjAsZD1yP2UueS1sLnk6MDt0LmF0dHIoInBvc2l0aW9uIiwicmF3Ij09PXM/W2MsZF06W2hbMF0rYyxoWzFdK2RdKX19ZnVuY3Rpb24gTXUobCx1LHQpe0UodCl8fCh0PXt9KTt2YXIgaD10Lmlnbm9yZVNpemU7TChoKXx8KGg9W2gsaF0pO3ZhciBlPW4oeHVbMF0sMCksaT1uKHh1WzFdLDEpO2Z1bmN0aW9uIG4odCxlKXt2YXIgaT17fSxuPTAsbz17fSxhPTA7aWYodnUodCxmdW5jdGlvbih0KXtvW3RdPWxbdF19KSx2dSh0LGZ1bmN0aW9uKHQpe2ModSx0KSYmKGlbdF09b1t0XT11W3RdKSxkKGksdCkmJm4rKyxkKG8sdCkmJmErK30pLGhbZV0pcmV0dXJuIGQodSx0WzFdKT9vW3RbMl1dPW51bGw6ZCh1LHRbMl0pJiYob1t0WzFdXT1udWxsKSxvO2lmKDIhPT1hJiZuKXtpZigyPD1uKXJldHVybiBpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgcz10W3JdO2lmKCFjKGkscykmJmMobCxzKSl7aVtzXT1sW3NdO2JyZWFrfX1yZXR1cm4gaX1yZXR1cm4gb31mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiBudWxsIT10W2VdJiYiYXV0byIhPT10W2VdfWZ1bmN0aW9uIG8odCxlLGkpe3Z1KHQsZnVuY3Rpb24odCl7ZVt0XT1pW3RdfSl9byh4dVswXSxsLGUpLG8oeHVbMV0sbCxpKX1mdW5jdGlvbiBJdSh0KXtyZXR1cm4gVHUoe30sdCl9ZnVuY3Rpb24gVHUoZSxpKXtyZXR1cm4gaSYmZSYmdnUoeXUsZnVuY3Rpb24odCl7aS5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09aVt0XSl9KSxlfXZhciBBdSxEdSxDdSxMdT1qbygpLGt1PUNsLmV4dGVuZCh7dHlwZToiY29tcG9uZW50IixpZDoiIixuYW1lOiIiLG1haW5UeXBlOiIiLHN1YlR5cGU6IiIsY29tcG9uZW50SW5kZXg6MCxkZWZhdWx0T3B0aW9uOm51bGwsZWNNb2RlbDpudWxsLGRlcGVuZGVudE1vZGVsczpbXSx1aWQ6bnVsbCxsYXlvdXRNb2RlOm51bGwsJGNvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxpLG4pe0NsLmNhbGwodGhpcyx0LGUsaSxuKSx0aGlzLnVpZD1ObCgiZWNfY3B0X21vZGVsIil9LGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpfSxtZXJnZURlZmF1bHRBbmRUaGVtZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubGF5b3V0TW9kZSxuPWk/SXUodCk6e307bSh0LGUuZ2V0VGhlbWUoKS5nZXQodGhpcy5tYWluVHlwZSkpLG0odCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksaSYmTXUodCxuLGkpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0LGUpe20odGhpcy5vcHRpb24sdCwhMCk7dmFyIGk9dGhpcy5sYXlvdXRNb2RlO2kmJk11KHRoaXMub3B0aW9uLHQsaSl9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24odCxlKXt9LGdldERlZmF1bHRPcHRpb246ZnVuY3Rpb24oKXt2YXIgdD1MdSh0aGlzKTtpZighdC5kZWZhdWx0T3B0aW9uKXtmb3IodmFyIGU9W10saT10aGlzLmNvbnN0cnVjdG9yO2k7KXt2YXIgbj1pLnByb3RvdHlwZS5kZWZhdWx0T3B0aW9uO24mJmUucHVzaChuKSxpPWkuc3VwZXJDbGFzc31mb3IodmFyIG89e30sYT1lLmxlbmd0aC0xOzA8PWE7YS0tKW89bShvLGVbYV0sITApO3QuZGVmYXVsdE9wdGlvbj1vfXJldHVybiB0LmRlZmF1bHRPcHRpb259LGdldFJlZmVycmluZ0NvbXBvbmVudHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWNNb2RlbC5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOnQsaW5kZXg6dGhpcy5nZXQodCsiSW5kZXgiLCEwKSxpZDp0aGlzLmdldCh0KyJJZCIsITApfSl9fSk7ZnVuY3Rpb24gUHUodCxlKXtyZXR1cm4gdFtlXXx8KHRbZV09e3ByZWRlY2Vzc29yOltdLHN1Y2Nlc3NvcjpbXX0pLHRbZV19dWEoa3Use3JlZ2lzdGVyV2hlbkV4dGVuZDohMH0pLER1PXt9LChBdT1rdSkucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyPWZ1bmN0aW9uKHQsZSl7dD1uYSh0KSxEdVt0Lm1haW5dPWV9LEF1LmRldGVybWluZVN1YlR5cGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnR5cGU7aWYoIWkpe3ZhciBuPW5hKHQpLm1haW47QXUuaGFzU3ViVHlwZXModCkmJkR1W25dJiYoaT1EdVtuXShlKSl9cmV0dXJuIGl9LEN1PWZ1bmN0aW9uKHQpe3ZhciBlPVtdO1Ioa3UuZ2V0Q2xhc3Nlc0J5TWFpblR5cGUodCksZnVuY3Rpb24odCl7ZT1lLmNvbmNhdCh0LnByb3RvdHlwZS5kZXBlbmRlbmNpZXN8fFtdKX0pLGU9TyhlLGZ1bmN0aW9uKHQpe3JldHVybiBuYSh0KS5tYWlufSksImRhdGFzZXQiIT09dCYmXyhlLCJkYXRhc2V0Iik8PTAmJmUudW5zaGlmdCgiZGF0YXNldCIpO3JldHVybiBlfSxrdS50b3BvbG9naWNhbFRyYXZlbD1mdW5jdGlvbih0LGUsaSxuKXtpZih0Lmxlbmd0aCl7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIG89e30sYT1bXTtyZXR1cm4gUihlLGZ1bmN0aW9uKGkpe3ZhciBuPVB1KG8saSksdD1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiBSKHQsZnVuY3Rpb24odCl7MDw9XyhlLHQpJiZpLnB1c2godCl9KSxpfShuLm9yaWdpbmFsRGVwcz1DdShpKSxlKTtuLmVudHJ5Q291bnQ9dC5sZW5ndGgsMD09PW4uZW50cnlDb3VudCYmYS5wdXNoKGkpLFIodCxmdW5jdGlvbih0KXtfKG4ucHJlZGVjZXNzb3IsdCk8MCYmbi5wcmVkZWNlc3Nvci5wdXNoKHQpO3ZhciBlPVB1KG8sdCk7XyhlLnN1Y2Nlc3Nvcix0KTwwJiZlLnN1Y2Nlc3Nvci5wdXNoKGkpfSl9KSx7Z3JhcGg6byxub0VudHJ5TGlzdDphfX0oZSksYT1vLmdyYXBoLHI9by5ub0VudHJ5TGlzdCxzPXt9O2ZvcihSKHQsZnVuY3Rpb24odCl7c1t0XT0hMH0pO3IubGVuZ3RoOyl7dmFyIGw9ci5wb3AoKSx1PWFbbF0saD0hIXNbbF07aCYmKGkuY2FsbChuLGwsdS5vcmlnaW5hbERlcHMuc2xpY2UoKSksZGVsZXRlIHNbbF0pLFIodS5zdWNjZXNzb3IsaD9kOmMpfVIocyxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQ2lyY2xlIGRlcGVuZGVuY3kgbWF5IGV4aXN0cyIpfSl9ZnVuY3Rpb24gYyh0KXthW3RdLmVudHJ5Q291bnQtLSwwPT09YVt0XS5lbnRyeUNvdW50JiZyLnB1c2godCl9ZnVuY3Rpb24gZCh0KXtzW3RdPSEwLGModCl9fSxiKGt1LHtnZXRCb3hMYXlvdXRQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm57bGVmdDp0aGlzLmdldCgibGVmdCIpLHRvcDp0aGlzLmdldCgidG9wIikscmlnaHQ6dGhpcy5nZXQoInJpZ2h0IiksYm90dG9tOnRoaXMuZ2V0KCJib3R0b20iKSx3aWR0aDp0aGlzLmdldCgid2lkdGgiKSxoZWlnaHQ6dGhpcy5nZXQoImhlaWdodCIpfX19KTt2YXIgTnU9IiI7InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJihOdT1uYXZpZ2F0b3IucGxhdGZvcm18fCIiKTt2YXIgT3U9e2NvbG9yOlsiI2MyMzUzMSIsIiMyZjQ1NTQiLCIjNjFhMGE4IiwiI2Q0ODI2NSIsIiM5MWM3YWUiLCIjNzQ5ZjgzIiwiI2NhODYyMiIsIiNiZGEyOWEiLCIjNmU3MDc0IiwiIzU0NjU3MCIsIiNjNGNjZDMiXSxncmFkaWVudENvbG9yOlsiI2Y2ZWZhNiIsIiNkODgyNzMiLCIjYmY0NDRjIl0sdGV4dFN0eWxlOntmb250RmFtaWx5Ok51Lm1hdGNoKC9eV2luLyk/Ik1pY3Jvc29mdCBZYUhlaSI6InNhbnMtc2VyaWYiLGZvbnRTaXplOjEyLGZvbnRTdHlsZToibm9ybWFsIixmb250V2VpZ2h0OiJub3JtYWwifSxibGVuZE1vZGU6bnVsbCxhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTozMDAsYW5pbWF0aW9uRWFzaW5nOiJleHBvbmVudGlhbE91dCIsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOiJjdWJpY091dCIsYW5pbWF0aW9uVGhyZXNob2xkOjJlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDozZTMscHJvZ3Jlc3NpdmU6NDAwLGhvdmVyTGF5ZXJUaHJlc2hvbGQ6M2UzLHVzZVVUQzohMX0sUnU9am8oKTt2YXIgenU9e2NsZWFyQ29sb3JQYWxldHRlOmZ1bmN0aW9uKCl7UnUodGhpcykuY29sb3JJZHg9MCxSdSh0aGlzKS5jb2xvck5hbWVNYXA9e319LGdldENvbG9yRnJvbVBhbGV0dGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVJ1KGU9ZXx8dGhpcyksbz1uLmNvbG9ySWR4fHwwLGE9bi5jb2xvck5hbWVNYXA9bi5jb2xvck5hbWVNYXB8fHt9O2lmKGEuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGFbdF07dmFyIHI9Vm8odGhpcy5nZXQoImNvbG9yIiwhMCkpLHM9dGhpcy5nZXQoImNvbG9yTGF5ZXIiLCEwKSxsPW51bGwhPWkmJnM/ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dC5sZW5ndGgsbj0wO248aTtuKyspaWYodFtuXS5sZW5ndGg+ZSlyZXR1cm4gdFtuXTtyZXR1cm4gdFtpLTFdfShzLGkpOnI7aWYoKGw9bHx8cikmJmwubGVuZ3RoKXt2YXIgdT1sW29dO3JldHVybiB0JiYoYVt0XT11KSxuLmNvbG9ySWR4PShvKzEpJWwubGVuZ3RoLHV9fX0sRXU9Im9yaWdpbmFsIixCdT0iYXJyYXlSb3dzIixWdT0ib2JqZWN0Um93cyIsR3U9ImtleWVkQ29sdW1ucyIsRnU9InVua25vd24iLFd1PSJ0eXBlZEFycmF5IixIdT0iY29sdW1uIixadT0icm93IjtmdW5jdGlvbiBVdSh0KXt0aGlzLmZyb21EYXRhc2V0PXQuZnJvbURhdGFzZXQsdGhpcy5kYXRhPXQuZGF0YXx8KHQuc291cmNlRm9ybWF0PT09R3U/e306W10pLHRoaXMuc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0fHxGdSx0aGlzLnNlcmllc0xheW91dEJ5PXQuc2VyaWVzTGF5b3V0Qnl8fEh1LHRoaXMuZGltZW5zaW9uc0RlZmluZT10LmRpbWVuc2lvbnNEZWZpbmUsdGhpcy5lbmNvZGVEZWZpbmU9dC5lbmNvZGVEZWZpbmUmJlEodC5lbmNvZGVEZWZpbmUpLHRoaXMuc3RhcnRJbmRleD10LnN0YXJ0SW5kZXh8fDAsdGhpcy5kaW1lbnNpb25zRGV0ZWN0Q291bnQ9dC5kaW1lbnNpb25zRGV0ZWN0Q291bnR9VXUuc2VyaWVzRGF0YVRvU291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVXUoe2RhdGE6dCxzb3VyY2VGb3JtYXQ6Vih0KT9XdTpFdSxmcm9tRGF0YXNldDohMX0pfSxyYShVdSk7dmFyIFh1PXtNdXN0OjEsTWlnaHQ6MixOb3Q6M30sWXU9am8oKTtmdW5jdGlvbiBqdSh0KXt2YXIgZT10Lm9wdGlvbixpPWUuZGF0YSxuPVYoaSk/V3U6RXUsbz0hMSxhPWUuc2VyaWVzTGF5b3V0Qnkscj1lLnNvdXJjZUhlYWRlcixzPWUuZGltZW5zaW9ucyxsPVF1KHQpO2lmKGwpe3ZhciB1PWwub3B0aW9uO2k9dS5zb3VyY2Usbj1ZdShsKS5zb3VyY2VGb3JtYXQsbz0hMCxhPWF8fHUuc2VyaWVzTGF5b3V0QnksbnVsbD09ciYmKHI9dS5zb3VyY2VIZWFkZXIpLHM9c3x8dS5kaW1lbnNpb25zfXZhciBoPWZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYoIXQpcmV0dXJue2RpbWVuc2lvbnNEZWZpbmU6cXUobyl9O3ZhciBhLHI7aWYoZT09PUJ1KSJhdXRvIj09PW58fG51bGw9PW4/S3UoZnVuY3Rpb24odCl7bnVsbCE9dCYmIi0iIT09dCYmKHoodCk/bnVsbD09ciYmKHI9MSk6cj0wKX0saSx0LDEwKTpyPW4/MTowLG98fDEhPT1yfHwobz1bXSxLdShmdW5jdGlvbih0LGUpe29bZV09bnVsbCE9dD90OiIifSxpLHQpKSxhPW8/by5sZW5ndGg6aT09PVp1P3QubGVuZ3RoOnRbMF0/dFswXS5sZW5ndGg6bnVsbDtlbHNlIGlmKGU9PT1WdSlvPW98fGZ1bmN0aW9uKHQpe3ZhciBlLGk9MDtmb3IoO2k8dC5sZW5ndGgmJiEoZT10W2krK10pOyk7aWYoZSl7dmFyIG49W107cmV0dXJuIFIoZSxmdW5jdGlvbih0LGUpe24ucHVzaChlKX0pLG59fSh0KTtlbHNlIGlmKGU9PT1HdSlvfHwobz1bXSxSKHQsZnVuY3Rpb24odCxlKXtvLnB1c2goZSl9KSk7ZWxzZSBpZihlPT09RXUpe3ZhciBzPVdvKHRbMF0pO2E9TChzKSYmcy5sZW5ndGh8fDF9cmV0dXJue3N0YXJ0SW5kZXg6cixkaW1lbnNpb25zRGVmaW5lOnF1KG8pLGRpbWVuc2lvbnNEZXRlY3RDb3VudDphfX0oaSxuLGEscixzKTtZdSh0KS5zb3VyY2U9bmV3IFV1KHtkYXRhOmksZnJvbURhdGFzZXQ6byxzZXJpZXNMYXlvdXRCeTphLHNvdXJjZUZvcm1hdDpuLGRpbWVuc2lvbnNEZWZpbmU6aC5kaW1lbnNpb25zRGVmaW5lLHN0YXJ0SW5kZXg6aC5zdGFydEluZGV4LGRpbWVuc2lvbnNEZXRlY3RDb3VudDpoLmRpbWVuc2lvbnNEZXRlY3RDb3VudCxlbmNvZGVEZWZpbmU6ZS5lbmNvZGV9KX1mdW5jdGlvbiBxdSh0KXtpZih0KXt2YXIgbj1RKCk7cmV0dXJuIE8odCxmdW5jdGlvbih0LGUpe2lmKG51bGw9PSh0PVAoe30sRSh0KT90OntuYW1lOnR9KSkubmFtZSlyZXR1cm4gdDt0Lm5hbWUrPSIiLG51bGw9PXQuZGlzcGxheU5hbWUmJih0LmRpc3BsYXlOYW1lPXQubmFtZSk7dmFyIGk9bi5nZXQodC5uYW1lKTtyZXR1cm4gaT90Lm5hbWUrPSItIitpLmNvdW50Kys6bi5zZXQodC5uYW1lLHtjb3VudDoxfSksdH0pfX1mdW5jdGlvbiBLdSh0LGUsaSxuKXtpZihudWxsPT1uJiYobj0xLzApLGU9PT1adSlmb3IodmFyIG89MDtvPGkubGVuZ3RoJiZvPG47bysrKXQoaVtvXT9pW29dWzBdOm51bGwsbyk7ZWxzZXt2YXIgYT1pWzBdfHxbXTtmb3Iobz0wO288YS5sZW5ndGgmJm88bjtvKyspdChhW29dLG8pfX1mdW5jdGlvbiAkdShpLHQsZSl7dmFyIGE9e30sbj1RdSh0KTtpZighbnx8IWkpcmV0dXJuIGE7dmFyIHIsbyxzPVtdLGw9W10sdT10LmVjTW9kZWwsaD1ZdSh1KS5kYXRhc2V0TWFwLGM9bi51aWQrIl8iK2Uuc2VyaWVzTGF5b3V0Qnk7UihpPWkuc2xpY2UoKSxmdW5jdGlvbih0LGUpe0UodCl8fChpW2VdPXtuYW1lOnR9KSwib3JkaW5hbCI9PT10LnR5cGUmJm51bGw9PXImJihvPXAoaVtyPWVdKSksYVt0Lm5hbWVdPVtdfSk7dmFyIGQ9aC5nZXQoYyl8fGguc2V0KGMse2NhdGVnb3J5V2F5RGltOm8sdmFsdWVXYXlEaW06MH0pO2Z1bmN0aW9uIGYodCxlLGkpe2Zvcih2YXIgbj0wO248aTtuKyspdC5wdXNoKGUrbil9ZnVuY3Rpb24gcCh0KXt2YXIgZT10LmRpbXNEZWY7cmV0dXJuIGU/ZS5sZW5ndGg6MX1yZXR1cm4gUihpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5uYW1lLG49cCh0KTtpZihudWxsPT1yKXt2YXIgbz1kLnZhbHVlV2F5RGltO2YoYVtpXSxvLG4pLGYobCxvLG4pLGQudmFsdWVXYXlEaW0rPW59ZWxzZSBpZihyPT09ZSlmKGFbaV0sMCxuKSxmKHMsMCxuKTtlbHNle289ZC5jYXRlZ29yeVdheURpbTtmKGFbaV0sbyxuKSxmKGwsbyxuKSxkLmNhdGVnb3J5V2F5RGltKz1ufX0pLHMubGVuZ3RoJiYoYS5pdGVtTmFtZT1zKSxsLmxlbmd0aCYmKGEuc2VyaWVzTmFtZT1sKSxhfWZ1bmN0aW9uIEp1KHQsbCx1KXt2YXIgZT17fTtpZighUXUodCkpcmV0dXJuIGU7dmFyIGgsYz1sLnNvdXJjZUZvcm1hdCxkPWwuZGltZW5zaW9uc0RlZmluZTtjIT09VnUmJmMhPT1HdXx8UihkLGZ1bmN0aW9uKHQsZSl7Im5hbWUiPT09KEUodCk/dC5uYW1lOnQpJiYoaD1lKX0pO3ZhciBpPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGU9e30saT1bXSxuPTAsbz1NYXRoLm1pbig1LHUpO248bztuKyspe3ZhciBhPXRoKGwuZGF0YSxjLGwuc2VyaWVzTGF5b3V0QnksZCxsLnN0YXJ0SW5kZXgsbik7aS5wdXNoKGEpO3ZhciByPWE9PT1YdS5Ob3Q7aWYociYmbnVsbD09dC52JiZuIT09aCYmKHQudj1uKSxudWxsIT10Lm4mJnQubiE9PXQudiYmKHJ8fGlbdC5uXSE9PVh1Lk5vdCl8fCh0Lm49bikscyh0KSYmaVt0Lm5dIT09WHUuTm90KXJldHVybiB0O3J8fChhPT09WHUuTWlnaHQmJm51bGw9PWUudiYmbiE9PWgmJihlLnY9biksbnVsbCE9ZS5uJiZlLm4hPT1lLnZ8fChlLm49bikpfWZ1bmN0aW9uIHModCl7cmV0dXJuIG51bGwhPXQudiYmbnVsbCE9dC5ufXJldHVybiBzKHQpP3Q6cyhlKT9lOm51bGx9KCk7aWYoaSl7ZS52YWx1ZT1pLnY7dmFyIG49bnVsbCE9aD9oOmkubjtlLml0ZW1OYW1lPVtuXSxlLnNlcmllc05hbWU9W25dfXJldHVybiBlfWZ1bmN0aW9uIFF1KHQpe3ZhciBlPXQub3B0aW9uO2lmKCFlLmRhdGEpcmV0dXJuIHQuZWNNb2RlbC5nZXRDb21wb25lbnQoImRhdGFzZXQiLGUuZGF0YXNldEluZGV4fHwwKX1mdW5jdGlvbiB0aCh0LGUsaSxuLG8sYSl7dmFyIHIscyxsO2lmKFYodCkpcmV0dXJuIFh1Lk5vdDtpZihuKXt2YXIgdT1uW2FdO0UodSk/KHM9dS5uYW1lLGw9dS50eXBlKTp6KHUpJiYocz11KX1pZihudWxsIT1sKXJldHVybiJvcmRpbmFsIj09PWw/WHUuTXVzdDpYdS5Ob3Q7aWYoZT09PUJ1KWlmKGk9PT1adSl7Zm9yKHZhciBoPXRbYV0sYz0wO2M8KGh8fFtdKS5sZW5ndGgmJmM8NTtjKyspaWYobnVsbCE9KHI9ZyhoW28rY10pKSlyZXR1cm4gcn1lbHNlIGZvcihjPTA7Yzx0Lmxlbmd0aCYmYzw1O2MrKyl7dmFyIGQ9dFtvK2NdO2lmKGQmJm51bGwhPShyPWcoZFthXSkpKXJldHVybiByfWVsc2UgaWYoZT09PVZ1KXtpZighcylyZXR1cm4gWHUuTm90O2ZvcihjPTA7Yzx0Lmxlbmd0aCYmYzw1O2MrKyl7aWYoKGY9dFtjXSkmJm51bGwhPShyPWcoZltzXSkpKXJldHVybiByfX1lbHNlIGlmKGU9PT1HdSl7aWYoIXMpcmV0dXJuIFh1Lk5vdDtpZighKGg9dFtzXSl8fFYoaCkpcmV0dXJuIFh1Lk5vdDtmb3IoYz0wO2M8aC5sZW5ndGgmJmM8NTtjKyspaWYobnVsbCE9KHI9ZyhoW2NdKSkpcmV0dXJuIHJ9ZWxzZSBpZihlPT09RXUpZm9yKGM9MDtjPHQubGVuZ3RoJiZjPDU7YysrKXt2YXIgZixwPVdvKGY9dFtjXSk7aWYoIUwocCkpcmV0dXJuIFh1Lk5vdDtpZihudWxsIT0ocj1nKHBbYV0pKSlyZXR1cm4gcn1mdW5jdGlvbiBnKHQpe3ZhciBlPXoodCk7cmV0dXJuIG51bGwhPXQmJmlzRmluaXRlKHQpJiYiIiE9PXQ/ZT9YdS5NaWdodDpYdS5Ob3Q6ZSYmIi0iIT09dD9YdS5NdXN0OnZvaWQgMH1yZXR1cm4gWHUuTm90fXZhciBlaD0iXDBfZWNfaW5uZXIiLGloPUNsLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUsaSxuKXtpPWl8fHt9LHRoaXMub3B0aW9uPW51bGwsdGhpcy5fdGhlbWU9bmV3IENsKGkpLHRoaXMuX29wdGlvbk1hbmFnZXI9bn0sc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7WSghKGVoIGluIHQpLCJwbGVhc2UgdXNlIGNoYXJ0LmdldE9wdGlvbigpIiksdGhpcy5fb3B0aW9uTWFuYWdlci5zZXRPcHRpb24odCxlKSx0aGlzLnJlc2V0T3B0aW9uKG51bGwpfSxyZXNldE9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT0hMSxpPXRoaXMuX29wdGlvbk1hbmFnZXI7aWYoIXR8fCJyZWNyZWF0ZSI9PT10KXt2YXIgbj1pLm1vdW50T3B0aW9uKCJyZWNyZWF0ZSI9PT10KTt0aGlzLm9wdGlvbiYmInJlY3JlYXRlIiE9PXQ/KHRoaXMucmVzdG9yZURhdGEoKSx0aGlzLm1lcmdlT3B0aW9uKG4pKTpmdW5jdGlvbih0KXt0PXQsdGhpcy5vcHRpb249e30sdGhpcy5vcHRpb25bZWhdPTEsdGhpcy5fY29tcG9uZW50c01hcD1RKHtzZXJpZXM6W119KSx0aGlzLl9zZXJpZXNJbmRpY2VzLHRoaXMuX3Nlcmllc0luZGljZXNNYXAsZnVuY3Rpb24oaSx0KXt2YXIgbj1pLmNvbG9yJiYhaS5jb2xvckxheWVyO1IodCxmdW5jdGlvbih0LGUpeyJjb2xvckxheWVyIj09PWUmJm58fGt1Lmhhc0NsYXNzKGUpfHwoIm9iamVjdCI9PXR5cGVvZiB0P2lbZV09aVtlXT9tKGlbZV0sdCwhMSk6ayh0KTpudWxsPT1pW2VdJiYoaVtlXT10KSl9KX0odCx0aGlzLl90aGVtZS5vcHRpb24pLG0odCxPdSwhMSksdGhpcy5tZXJnZU9wdGlvbih0KX0uY2FsbCh0aGlzLG4pLGU9ITB9aWYoInRpbWVsaW5lIiE9PXQmJiJtZWRpYSIhPT10fHx0aGlzLnJlc3RvcmVEYXRhKCksIXR8fCJyZWNyZWF0ZSI9PT10fHwidGltZWxpbmUiPT09dCl7dmFyIG89aS5nZXRUaW1lbGluZU9wdGlvbih0aGlzKTtvJiYodGhpcy5tZXJnZU9wdGlvbihvKSxlPSEwKX1pZighdHx8InJlY3JlYXRlIj09PXR8fCJtZWRpYSI9PT10KXt2YXIgYT1pLmdldE1lZGlhT3B0aW9uKHRoaXMsdGhpcy5fYXBpKTthLmxlbmd0aCYmUihhLGZ1bmN0aW9uKHQpe3RoaXMubWVyZ2VPcHRpb24odCxlPSEwKX0sdGhpcyl9cmV0dXJuIGV9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKG4pe3ZhciBsPXRoaXMub3B0aW9uLHU9dGhpcy5fY29tcG9uZW50c01hcCxpPVtdOyFmdW5jdGlvbih0KXtZdSh0KS5kYXRhc2V0TWFwPVEoKX0odGhpcyksUihuLGZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmKGt1Lmhhc0NsYXNzKGUpP2UmJmkucHVzaChlKTpsW2VdPW51bGw9PWxbZV0/ayh0KTptKGxbZV0sdCwhMCkpfSksa3UudG9wb2xvZ2ljYWxUcmF2ZWwoaSxrdS5nZXRBbGxDbGFzc01haW5UeXBlcygpLGZ1bmN0aW9uKHIsdCl7dmFyIGU9Vm8obltyXSksaT1Ibyh1LmdldChyKSxlKTtabyhpKSxSKGksZnVuY3Rpb24odCxlKXt2YXIgaT10Lm9wdGlvbjtFKGkpJiYodC5rZXlJbmZvLm1haW5UeXBlPXIsdC5rZXlJbmZvLnN1YlR5cGU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlLnR5cGU/ZS50eXBlOmk/aS5zdWJUeXBlOmt1LmRldGVybWluZVN1YlR5cGUodCxlKX0ocixpLHQuZXhpc3QpKX0pO3ZhciBzPWZ1bmN0aW9uKGUsdCl7TCh0KXx8KHQ9dD9bdF06W10pO3ZhciBpPXt9O3JldHVybiBSKHQsZnVuY3Rpb24odCl7aVt0XT0oZS5nZXQodCl8fFtdKS5zbGljZSgpfSksaX0odSx0KTtsW3JdPVtdLHUuc2V0KHIsW10pLFIoaSxmdW5jdGlvbih0LGUpe3ZhciBpPXQuZXhpc3Qsbj10Lm9wdGlvbjtpZihZKEUobil8fGksIkVtcHR5IGNvbXBvbmVudCBkZWZpbml0aW9uIiksbil7dmFyIG89a3UuZ2V0Q2xhc3Mocix0LmtleUluZm8uc3ViVHlwZSwhMCk7aWYoaSYmaS5jb25zdHJ1Y3Rvcj09PW8paS5uYW1lPXQua2V5SW5mby5uYW1lLGkubWVyZ2VPcHRpb24obix0aGlzKSxpLm9wdGlvblVwZGF0ZWQobiwhMSk7ZWxzZXt2YXIgYT1QKHtkZXBlbmRlbnRNb2RlbHM6cyxjb21wb25lbnRJbmRleDplfSx0LmtleUluZm8pO1AoaT1uZXcgbyhuLHRoaXMsdGhpcyxhKSxhKSxpLmluaXQobix0aGlzLHRoaXMsYSksaS5vcHRpb25VcGRhdGVkKG51bGwsITApfX1lbHNlIGkubWVyZ2VPcHRpb24oe30sdGhpcyksaS5vcHRpb25VcGRhdGVkKHt9LCExKTt1LmdldChyKVtlXT1pLGxbcl1bZV09aS5vcHRpb259LHRoaXMpLCJzZXJpZXMiPT09ciYmbmgodGhpcyx1LmdldCgic2VyaWVzIikpfSx0aGlzKSx0aGlzLl9zZXJpZXNJbmRpY2VzTWFwPVEodGhpcy5fc2VyaWVzSW5kaWNlcz10aGlzLl9zZXJpZXNJbmRpY2VzfHxbXSl9LGdldE9wdGlvbjpmdW5jdGlvbigpe3ZhciBuPWsodGhpcy5vcHRpb24pO3JldHVybiBSKG4sZnVuY3Rpb24odCxlKXtpZihrdS5oYXNDbGFzcyhlKSl7Zm9yKHZhciBpPSh0PVZvKHQpKS5sZW5ndGgtMTswPD1pO2ktLSlYbyh0W2ldKSYmdC5zcGxpY2UoaSwxKTtuW2VdPXR9fSksZGVsZXRlIG5bZWhdLG59LGdldFRoZW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW1lfSxnZXRDb21wb25lbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jb21wb25lbnRzTWFwLmdldCh0KTtpZihpKXJldHVybiBpW2V8fDBdfSxxdWVyeUNvbXBvbmVudHM6ZnVuY3Rpb24odCl7dmFyIGU9dC5tYWluVHlwZTtpZighZSlyZXR1cm5bXTt2YXIgaSxuPXQuaW5kZXgsbz10LmlkLGE9dC5uYW1lLHI9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoZSk7aWYoIXJ8fCFyLmxlbmd0aClyZXR1cm5bXTtpZihudWxsIT1uKUwobil8fChuPVtuXSksaT1NKE8obixmdW5jdGlvbih0KXtyZXR1cm4gclt0XX0pLGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pO2Vsc2UgaWYobnVsbCE9byl7dmFyIHM9TChvKTtpPU0ocixmdW5jdGlvbih0KXtyZXR1cm4gcyYmMDw9XyhvLHQuaWQpfHwhcyYmdC5pZD09PW99KX1lbHNlIGlmKG51bGwhPWEpe3ZhciBsPUwoYSk7aT1NKHIsZnVuY3Rpb24odCl7cmV0dXJuIGwmJjA8PV8oYSx0Lm5hbWUpfHwhbCYmdC5uYW1lPT09YX0pfWVsc2UgaT1yLnNsaWNlKCk7cmV0dXJuIG9oKGksdCl9LGZpbmRDb21wb25lbnRzOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvLGEscj10LnF1ZXJ5LHM9dC5tYWluVHlwZSxsPShpPXMrIkluZGV4IixuPXMrIklkIixvPXMrIk5hbWUiLCEoZT1yKXx8bnVsbD09ZVtpXSYmbnVsbD09ZVtuXSYmbnVsbD09ZVtvXT9udWxsOnttYWluVHlwZTpzLGluZGV4OmVbaV0saWQ6ZVtuXSxuYW1lOmVbb119KSx1PWw/dGhpcy5xdWVyeUNvbXBvbmVudHMobCk6dGhpcy5fY29tcG9uZW50c01hcC5nZXQocyk7cmV0dXJuIGE9b2godSx0KSx0LmZpbHRlcj9NKGEsdC5maWx0ZXIpOmF9LGVhY2hDb21wb25lbnQ6ZnVuY3Rpb24odCxuLG8pe3ZhciBlPXRoaXMuX2NvbXBvbmVudHNNYXA7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpbz1uLG49dCxlLmVhY2goZnVuY3Rpb24odCxpKXtSKHQsZnVuY3Rpb24odCxlKXtuLmNhbGwobyxpLHQsZSl9KX0pO2Vsc2UgaWYoeih0KSlSKGUuZ2V0KHQpLG4sbyk7ZWxzZSBpZihFKHQpKXtSKHRoaXMuZmluZENvbXBvbmVudHModCksbixvKX19LGdldFNlcmllc0J5TmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gTSh0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIiksZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KX0sZ2V0U2VyaWVzQnlJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW3RdfSxnZXRTZXJpZXNCeVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIE0odGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLGZ1bmN0aW9uKHQpe3JldHVybiB0LnN1YlR5cGU9PT1lfSl9LGdldFNlcmllczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIikuc2xpY2UoKX0sZ2V0U2VyaWVzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLmxlbmd0aH0sZWFjaFNlcmllczpmdW5jdGlvbihpLG4pe1IodGhpcy5fc2VyaWVzSW5kaWNlcyxmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbdF07aS5jYWxsKG4sZSx0KX0sdGhpcyl9LGVhY2hSYXdTZXJpZXM6ZnVuY3Rpb24odCxlKXtSKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSx0LGUpfSxlYWNoU2VyaWVzQnlUeXBlOmZ1bmN0aW9uKGksbixvKXtSKHRoaXMuX3Nlcmllc0luZGljZXMsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW3RdO2Uuc3ViVHlwZT09PWkmJm4uY2FsbChvLGUsdCl9LHRoaXMpfSxlYWNoUmF3U2VyaWVzQnlUeXBlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gUih0aGlzLmdldFNlcmllc0J5VHlwZSh0KSxlLGkpfSxpc1Nlcmllc0ZpbHRlcmVkOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLl9zZXJpZXNJbmRpY2VzTWFwLmdldCh0LmNvbXBvbmVudEluZGV4KX0sZ2V0Q3VycmVudFNlcmllc0luZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fc2VyaWVzSW5kaWNlc3x8W10pLnNsaWNlKCl9LGZpbHRlclNlcmllczpmdW5jdGlvbih0LGUpe3ZhciBpPU0odGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLHQsZSk7bmgodGhpcyxpKX0scmVzdG9yZURhdGE6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcy5fY29tcG9uZW50c01hcDtuaCh0aGlzLG4uZ2V0KCJzZXJpZXMiKSk7dmFyIG89W107bi5lYWNoKGZ1bmN0aW9uKHQsZSl7by5wdXNoKGUpfSksa3UudG9wb2xvZ2ljYWxUcmF2ZWwobyxrdS5nZXRBbGxDbGFzc01haW5UeXBlcygpLGZ1bmN0aW9uKGUsdCl7UihuLmdldChlKSxmdW5jdGlvbih0KXsic2VyaWVzIj09PWUmJmZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIGk9ZS5zZWlyZXNJbmRleCxuPWUuc2VyaWVzSWQsbz1lLnNlcmllc05hbWU7cmV0dXJuIG51bGwhPWkmJnQuY29tcG9uZW50SW5kZXghPT1pfHxudWxsIT1uJiZ0LmlkIT09bnx8bnVsbCE9byYmdC5uYW1lIT09b319KHQsaSl8fHQucmVzdG9yZURhdGEoKX0pfSl9fSk7ZnVuY3Rpb24gbmgodCxlKXt0Ll9zZXJpZXNJbmRpY2VzTWFwPVEodC5fc2VyaWVzSW5kaWNlcz1PKGUsZnVuY3Rpb24odCl7cmV0dXJuIHQuY29tcG9uZW50SW5kZXh9KXx8W10pfWZ1bmN0aW9uIG9oKHQsZSl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkoInN1YlR5cGUiKT9NKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQuc3ViVHlwZT09PWUuc3ViVHlwZX0pOnR9YihpaCx6dSk7dmFyIGFoPVsiZ2V0RG9tIiwiZ2V0WnIiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImdldERldmljZVBpeGVsUmF0aW8iLCJkaXNwYXRjaEFjdGlvbiIsImlzRGlzcG9zZWQiLCJvbiIsIm9mZiIsImdldERhdGFVUkwiLCJnZXRDb25uZWN0ZWREYXRhVVJMIiwiZ2V0TW9kZWwiLCJnZXRPcHRpb24iLCJnZXRWaWV3T2ZDb21wb25lbnRNb2RlbCIsImdldFZpZXdPZlNlcmllc01vZGVsIl07ZnVuY3Rpb24gcmgoZSl7UihhaCxmdW5jdGlvbih0KXt0aGlzW3RdPUEoZVt0XSxlKX0sdGhpcyl9dmFyIHNoPXt9O2Z1bmN0aW9uIGxoKCl7dGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9W119bGgucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpsaCxjcmVhdGU6ZnVuY3Rpb24obixvKXt2YXIgYT1bXTtSKHNoLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jcmVhdGUobixvKTthPWEuY29uY2F0KGl8fFtdKX0pLHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zPWF9LHVwZGF0ZTpmdW5jdGlvbihlLGkpe1IodGhpcy5fY29vcmRpbmF0ZVN5c3RlbXMsZnVuY3Rpb24odCl7dC51cGRhdGUmJnQudXBkYXRlKGUsaSl9KX0sZ2V0Q29vcmRpbmF0ZVN5c3RlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZVN5c3RlbXMuc2xpY2UoKX19LGxoLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSl7c2hbdF09ZX0sbGguZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBzaFt0XX07dmFyIHVoPVIsaGg9ayxjaD1PLGRoPW0sZmg9L14obWlufG1heCk/KC4rKSQvO2Z1bmN0aW9uIHBoKHQpe3RoaXMuX2FwaT10LHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1bXSx0aGlzLl9tZWRpYUxpc3Q9W10sdGhpcy5fbWVkaWFEZWZhdWx0LHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sdGhpcy5fb3B0aW9uQmFja3VwLHRoaXMuX25ld0Jhc2VPcHRpb259ZnVuY3Rpb24gZ2godCxlLGkpe3ZhciBhPXt3aWR0aDplLGhlaWdodDppLGFzcGVjdHJhdGlvOmUvaX0scj0hMDtyZXR1cm4gUih0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5tYXRjaChmaCk7aWYoaSYmaVsxXSYmaVsyXSl7dmFyIG49aVsxXSxvPWlbMl0udG9Mb3dlckNhc2UoKTshZnVuY3Rpb24odCxlLGkpe3JldHVybiJtaW4iPT09aT9lPD10OiJtYXgiPT09aT90PD1lOnQ9PT1lfShhW29dLHQsbikmJihyPSExKX19KSxyfXBoLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cGgsc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dCYmUihWbyh0LnNlcmllcyksZnVuY3Rpb24odCl7dCYmdC5kYXRhJiZWKHQuZGF0YSkmJksodC5kYXRhKX0pLHQ9aGgodCk7dmFyIGk9dGhpcy5fb3B0aW9uQmFja3VwLG49ZnVuY3Rpb24odCxpLG4pe3ZhciBlLG8sYT1bXSxyPVtdLHM9dC50aW1lbGluZTt0LmJhc2VPcHRpb24mJihvPXQuYmFzZU9wdGlvbik7KHN8fHQub3B0aW9ucykmJihvPW98fHt9LGE9KHQub3B0aW9uc3x8W10pLnNsaWNlKCkpO2lmKHQubWVkaWEpe289b3x8e307dmFyIGw9dC5tZWRpYTt1aChsLGZ1bmN0aW9uKHQpe3QmJnQub3B0aW9uJiYodC5xdWVyeT9yLnB1c2godCk6ZT1lfHx0KX0pfW89b3x8dDtvLnRpbWVsaW5lfHwoby50aW1lbGluZT1zKTtyZXR1cm4gdWgoW29dLmNvbmNhdChhKS5jb25jYXQoTyhyLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9wdGlvbn0pKSxmdW5jdGlvbihlKXt1aChpLGZ1bmN0aW9uKHQpe3QoZSxuKX0pfSkse2Jhc2VPcHRpb246byx0aW1lbGluZU9wdGlvbnM6YSxtZWRpYURlZmF1bHQ6ZSxtZWRpYUxpc3Q6cn19LmNhbGwodGhpcyx0LGUsIWkpO3RoaXMuX25ld0Jhc2VPcHRpb249bi5iYXNlT3B0aW9uLGk/KGZ1bmN0aW9uKG8sdCl7dWgodD10fHx7fSxmdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe3ZhciBpPW9bZV07aWYoa3UuaGFzQ2xhc3MoZSkpe3Q9Vm8odCk7dmFyIG49SG8oaT1WbyhpKSx0KTtvW2VdPWNoKG4sZnVuY3Rpb24odCl7cmV0dXJuIHQub3B0aW9uJiZ0LmV4aXN0P2RoKHQuZXhpc3QsdC5vcHRpb24sITApOnQuZXhpc3R8fHQub3B0aW9ufSl9ZWxzZSBvW2VdPWRoKGksdCwhMCl9fSl9KGkuYmFzZU9wdGlvbixuLmJhc2VPcHRpb24pLG4udGltZWxpbmVPcHRpb25zLmxlbmd0aCYmKGkudGltZWxpbmVPcHRpb25zPW4udGltZWxpbmVPcHRpb25zKSxuLm1lZGlhTGlzdC5sZW5ndGgmJihpLm1lZGlhTGlzdD1uLm1lZGlhTGlzdCksbi5tZWRpYURlZmF1bHQmJihpLm1lZGlhRGVmYXVsdD1uLm1lZGlhRGVmYXVsdCkpOnRoaXMuX29wdGlvbkJhY2t1cD1ufSxtb3VudE9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRpb25CYWNrdXA7cmV0dXJuIHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1jaChlLnRpbWVsaW5lT3B0aW9ucyxoaCksdGhpcy5fbWVkaWFMaXN0PWNoKGUubWVkaWFMaXN0LGhoKSx0aGlzLl9tZWRpYURlZmF1bHQ9aGgoZS5tZWRpYURlZmF1bHQpLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10saGgodD9lLmJhc2VPcHRpb246dGhpcy5fbmV3QmFzZU9wdGlvbil9LGdldFRpbWVsaW5lT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fdGltZWxpbmVPcHRpb25zO2lmKGkubGVuZ3RoKXt2YXIgbj10LmdldENvbXBvbmVudCgidGltZWxpbmUiKTtuJiYoZT1oaChpW24uZ2V0Q3VycmVudEluZGV4KCldLCEwKSl9cmV0dXJuIGV9LGdldE1lZGlhT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FwaS5nZXRXaWR0aCgpLGk9dGhpcy5fYXBpLmdldEhlaWdodCgpLG49dGhpcy5fbWVkaWFMaXN0LG89dGhpcy5fbWVkaWFEZWZhdWx0LGE9W10scj1bXTtpZighbi5sZW5ndGgmJiFvKXJldHVybiByO2Zvcih2YXIgcz0wLGw9bi5sZW5ndGg7czxsO3MrKylnaChuW3NdLnF1ZXJ5LGUsaSkmJmEucHVzaChzKTtyZXR1cm4hYS5sZW5ndGgmJm8mJihhPVstMV0pLGEubGVuZ3RoJiYhZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5qb2luKCIsIik9PT1lLmpvaW4oIiwiKX0oYSx0aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzKSYmKHI9Y2goYSxmdW5jdGlvbih0KXtyZXR1cm4gaGgoLTE9PT10P28ub3B0aW9uOm5bdF0ub3B0aW9uKX0pKSx0aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzPWEscn19O3ZhciBtaD1SLHZoPUUseWg9WyJhcmVhU3R5bGUiLCJsaW5lU3R5bGUiLCJub2RlU3R5bGUiLCJsaW5rU3R5bGUiLCJjaG9yZFN0eWxlIiwibGFiZWwiLCJsYWJlbExpbmUiXTtmdW5jdGlvbiB4aCh0KXt2YXIgZT10JiZ0Lml0ZW1TdHlsZTtpZihlKWZvcih2YXIgaT0wLG49eWgubGVuZ3RoO2k8bjtpKyspe3ZhciBvPXloW2ldLGE9ZS5ub3JtYWwscj1lLmVtcGhhc2lzO2EmJmFbb10mJih0W29dPXRbb118fHt9LHRbb10ubm9ybWFsP20odFtvXS5ub3JtYWwsYVtvXSk6dFtvXS5ub3JtYWw9YVtvXSxhW29dPW51bGwpLHImJnJbb10mJih0W29dPXRbb118fHt9LHRbb10uZW1waGFzaXM/bSh0W29dLmVtcGhhc2lzLHJbb10pOnRbb10uZW1waGFzaXM9cltvXSxyW29dPW51bGwpfX1mdW5jdGlvbiBfaCh0LGUsaSl7aWYodCYmdFtlXSYmKHRbZV0ubm9ybWFsfHx0W2VdLmVtcGhhc2lzKSl7dmFyIG49dFtlXS5ub3JtYWwsbz10W2VdLmVtcGhhc2lzO24mJihpPyh0W2VdLm5vcm1hbD10W2VdLmVtcGhhc2lzPW51bGwsRCh0W2VdLG4pKTp0W2VdPW4pLG8mJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LHQuZW1waGFzaXNbZV09byl9fWZ1bmN0aW9uIHdoKHQpe19oKHQsIml0ZW1TdHlsZSIpLF9oKHQsImxpbmVTdHlsZSIpLF9oKHQsImFyZWFTdHlsZSIpLF9oKHQsImxhYmVsIiksX2godCwibGFiZWxMaW5lIiksX2godCwidXBwZXJMYWJlbCIpLF9oKHQsImVkZ2VMYWJlbCIpfWZ1bmN0aW9uIGJoKHQsZSl7dmFyIGk9dmgodCkmJnRbZV0sbj12aChpKSYmaS50ZXh0U3R5bGU7aWYobilmb3IodmFyIG89MCxhPUZvLmxlbmd0aDtvPGE7bysrKXtlPUZvW29dO24uaGFzT3duUHJvcGVydHkoZSkmJihpW2VdPW5bZV0pfX1mdW5jdGlvbiBTaCh0KXt0JiYod2godCksYmgodCwibGFiZWwiKSx0LmVtcGhhc2lzJiZiaCh0LmVtcGhhc2lzLCJsYWJlbCIpKX1mdW5jdGlvbiBNaCh0KXtyZXR1cm4gTCh0KT90OnQ/W3RdOltdfWZ1bmN0aW9uIEloKHQpe3JldHVybihMKHQpP3RbMF06dCl8fHt9fWZ1bmN0aW9uIFRoKGUsdCl7bWgoTWgoZS5zZXJpZXMpLGZ1bmN0aW9uKHQpe3ZoKHQpJiZmdW5jdGlvbih0KXtpZih2aCh0KSl7eGgodCksd2godCksYmgodCwibGFiZWwiKSxiaCh0LCJ1cHBlckxhYmVsIiksYmgodCwiZWRnZUxhYmVsIiksdC5lbXBoYXNpcyYmKGJoKHQuZW1waGFzaXMsImxhYmVsIiksYmgodC5lbXBoYXNpcywidXBwZXJMYWJlbCIpLGJoKHQuZW1waGFzaXMsImVkZ2VMYWJlbCIpKSwoaT10Lm1hcmtQb2ludCkmJih4aChpKSxTaChpKSksKG49dC5tYXJrTGluZSkmJih4aChuKSxTaChuKSk7dmFyIGU9dC5tYXJrQXJlYTtlJiZTaChlKTt2YXIgaSxuLG89dC5kYXRhO2lmKCJncmFwaCI9PT10LnR5cGUpe289b3x8dC5ub2Rlczt2YXIgYT10LmxpbmtzfHx0LmVkZ2VzO2lmKGEmJiFWKGEpKWZvcih2YXIgcj0wO3I8YS5sZW5ndGg7cisrKVNoKGFbcl0pO1IodC5jYXRlZ29yaWVzLGZ1bmN0aW9uKHQpe3doKHQpfSl9aWYobyYmIVYobykpZm9yKHI9MDtyPG8ubGVuZ3RoO3IrKylTaChvW3JdKTtpZigoaT10Lm1hcmtQb2ludCkmJmkuZGF0YSl7dmFyIHM9aS5kYXRhO2ZvcihyPTA7cjxzLmxlbmd0aDtyKyspU2goc1tyXSl9aWYoKG49dC5tYXJrTGluZSkmJm4uZGF0YSl7dmFyIGw9bi5kYXRhO2ZvcihyPTA7cjxsLmxlbmd0aDtyKyspTChsW3JdKT8oU2gobFtyXVswXSksU2gobFtyXVsxXSkpOlNoKGxbcl0pfSJnYXVnZSI9PT10LnR5cGU/KGJoKHQsImF4aXNMYWJlbCIpLGJoKHQsInRpdGxlIiksYmgodCwiZGV0YWlsIikpOiJ0cmVlbWFwIj09PXQudHlwZT8oX2godC5icmVhZGNydW1iLCJpdGVtU3R5bGUiKSxSKHQubGV2ZWxzLGZ1bmN0aW9uKHQpe3doKHQpfSkpOiJ0cmVlIj09PXQudHlwZSYmd2godC5sZWF2ZXMpfX0odCl9KTt2YXIgaT1bInhBeGlzIiwieUF4aXMiLCJyYWRpdXNBeGlzIiwiYW5nbGVBeGlzIiwic2luZ2xlQXhpcyIsInBhcmFsbGVsQXhpcyIsInJhZGFyIl07dCYmaS5wdXNoKCJ2YWx1ZUF4aXMiLCJjYXRlZ29yeUF4aXMiLCJsb2dBeGlzIiwidGltZUF4aXMiKSxtaChpLGZ1bmN0aW9uKHQpe21oKE1oKGVbdF0pLGZ1bmN0aW9uKHQpe3QmJihiaCh0LCJheGlzTGFiZWwiKSxiaCh0LmF4aXNQb2ludGVyLCJsYWJlbCIpKX0pfSksbWgoTWgoZS5wYXJhbGxlbCksZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXJhbGxlbEF4aXNEZWZhdWx0O2JoKGUsImF4aXNMYWJlbCIpLGJoKGUmJmUuYXhpc1BvaW50ZXIsImxhYmVsIil9KSxtaChNaChlLmNhbGVuZGFyKSxmdW5jdGlvbih0KXtfaCh0LCJpdGVtU3R5bGUiKSxiaCh0LCJkYXlMYWJlbCIpLGJoKHQsIm1vbnRoTGFiZWwiKSxiaCh0LCJ5ZWFyTGFiZWwiKX0pLG1oKE1oKGUucmFkYXIpLGZ1bmN0aW9uKHQpe2JoKHQsIm5hbWUiKX0pLG1oKE1oKGUuZ2VvKSxmdW5jdGlvbih0KXt2aCh0KSYmKFNoKHQpLG1oKE1oKHQucmVnaW9ucyksZnVuY3Rpb24odCl7U2godCl9KSl9KSxtaChNaChlLnRpbWVsaW5lKSxmdW5jdGlvbih0KXtTaCh0KSxfaCh0LCJsYWJlbCIpLF9oKHQsIml0ZW1TdHlsZSIpLF9oKHQsImNvbnRyb2xTdHlsZSIsITApO3ZhciBlPXQuZGF0YTtMKGUpJiZSKGUsZnVuY3Rpb24odCl7RSh0KSYmKF9oKHQsImxhYmVsIiksX2godCwiaXRlbVN0eWxlIikpfSl9KSxtaChNaChlLnRvb2xib3gpLGZ1bmN0aW9uKHQpe19oKHQsImljb25TdHlsZSIpLG1oKHQuZmVhdHVyZSxmdW5jdGlvbih0KXtfaCh0LCJpY29uU3R5bGUiKX0pfSksYmgoSWgoZS5heGlzUG9pbnRlciksImxhYmVsIiksYmgoSWgoZS50b29sdGlwKS5heGlzUG9pbnRlciwibGFiZWwiKX1mdW5jdGlvbiBBaChlKXtSKERoLGZ1bmN0aW9uKHQpe3RbMF1pbiBlJiYhKHRbMV1pbiBlKSYmKGVbdFsxXV09ZVt0WzBdXSl9KX12YXIgRGg9W1sieCIsImxlZnQiXSxbInkiLCJ0b3AiXSxbIngyIiwicmlnaHQiXSxbInkyIiwiYm90dG9tIl1dLENoPVsiZ3JpZCIsImdlbyIsInBhcmFsbGVsIiwibGVnZW5kIiwidG9vbGJveCIsInRpdGxlIiwidmlzdWFsTWFwIiwiZGF0YVpvb20iLCJ0aW1lbGluZSJdLExoPWZ1bmN0aW9uKGksdCl7VGgoaSx0KSxpLnNlcmllcz1WbyhpLnNlcmllcyksUihpLnNlcmllcyxmdW5jdGlvbih0KXtpZihFKHQpKXt2YXIgZT10LnR5cGU7aWYoImxpbmUiPT09ZSludWxsIT10LmNsaXBPdmVyZmxvdyYmKHQuY2xpcD10LmNsaXBPdmVyZmxvdyk7ZWxzZSBpZigicGllIj09PWV8fCJnYXVnZSI9PT1lKW51bGwhPXQuY2xvY2tXaXNlJiYodC5jbG9ja3dpc2U9dC5jbG9ja1dpc2UpO2Vsc2UgaWYoImdhdWdlIj09PWUpe3ZhciBpPWZ1bmN0aW9uKHQsZSl7ZT1lLnNwbGl0KCIsIik7Zm9yKHZhciBpPXQsbj0wO248ZS5sZW5ndGgmJm51bGwhPShpPWkmJmlbZVtuXV0pO24rKyk7cmV0dXJuIGl9KHQsInBvaW50ZXIuY29sb3IiKTtudWxsIT1pJiZmdW5jdGlvbih0LGUsaSxuKXtlPWUuc3BsaXQoIiwiKTtmb3IodmFyIG8sYT10LHI9MDtyPGUubGVuZ3RoLTE7cisrKW51bGw9PWFbbz1lW3JdXSYmKGFbb109e30pLGE9YVtvXTshbiYmbnVsbCE9YVtlW3JdXXx8KGFbZVtyXV09aSl9KHQsIml0ZW1TdHlsZS5jb2xvciIsaSl9QWgodCl9fSksaS5kYXRhUmFuZ2UmJihpLnZpc3VhbE1hcD1pLmRhdGFSYW5nZSksUihDaCxmdW5jdGlvbih0KXt2YXIgZT1pW3RdO2UmJihMKGUpfHwoZT1bZV0pLFIoZSxmdW5jdGlvbih0KXtBaCh0KX0pKX0pfTtmdW5jdGlvbiBraChtKXtSKG0sZnVuY3Rpb24oaCxjKXt2YXIgZD1bXSxmPVtOYU4sTmFOXSx0PVtoLnN0YWNrUmVzdWx0RGltZW5zaW9uLGguc3RhY2tlZE92ZXJEaW1lbnNpb25dLHA9aC5kYXRhLGc9aC5pc1N0YWNrZWRCeUluZGV4LGU9cC5tYXAodCxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxhPXAuZ2V0KGguc3RhY2tlZERpbWVuc2lvbixpKTtpZihpc05hTihhKSlyZXR1cm4gZjtnP289cC5nZXRSYXdJbmRleChpKTpuPXAuZ2V0KGguc3RhY2tlZEJ5RGltZW5zaW9uLGkpO2Zvcih2YXIgcj1OYU4scz1jLTE7MDw9cztzLS0pe3ZhciBsPW1bc107aWYoZ3x8KG89bC5kYXRhLnJhd0luZGV4T2YobC5zdGFja2VkQnlEaW1lbnNpb24sbikpLDA8PW8pe3ZhciB1PWwuZGF0YS5nZXRCeVJhd0luZGV4KGwuc3RhY2tSZXN1bHREaW1lbnNpb24sbyk7aWYoMDw9YSYmMDx1fHxhPD0wJiZ1PDApe2ErPXUscj11O2JyZWFrfX19cmV0dXJuIGRbMF09YSxkWzFdPXIsZH0pO3AuaG9zdE1vZGVsLnNldERhdGEoZSksaC5kYXRhPWV9KX1mdW5jdGlvbiBQaCh0LGUpe1V1LmlzSW5zdGFuY2UodCl8fCh0PVV1LnNlcmllc0RhdGFUb1NvdXJjZSh0KSksdGhpcy5fc291cmNlPXQ7dmFyIGk9dGhpcy5fZGF0YT10LmRhdGEsbj10LnNvdXJjZUZvcm1hdDtuPT09V3UmJih0aGlzLl9vZmZzZXQ9MCx0aGlzLl9kaW1TaXplPWUsdGhpcy5fZGF0YT1pKSxQKHRoaXMsT2hbbj09PUJ1P24rIl8iK3Quc2VyaWVzTGF5b3V0Qnk6bl0pfXZhciBOaD1QaC5wcm90b3R5cGU7TmgucHVyZT0hMTt2YXIgT2g9e2FycmF5Um93c19jb2x1bW46e3B1cmU6TmgucGVyc2lzdGVudD0hMCxjb3VudDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCgwLHRoaXMuX2RhdGEubGVuZ3RoLXRoaXMuX3NvdXJjZS5zdGFydEluZGV4KX0sZ2V0SXRlbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVt0K3RoaXMuX3NvdXJjZS5zdGFydEluZGV4XX0sYXBwZW5kRGF0YTpFaH0sYXJyYXlSb3dzX3Jvdzp7cHVyZTohMCxjb3VudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGFbMF07cmV0dXJuIHQ/TWF0aC5tYXgoMCx0Lmxlbmd0aC10aGlzLl9zb3VyY2Uuc3RhcnRJbmRleCk6MH0sZ2V0SXRlbTpmdW5jdGlvbih0KXt0Kz10aGlzLl9zb3VyY2Uuc3RhcnRJbmRleDtmb3IodmFyIGU9W10saT10aGlzLl9kYXRhLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTtlLnB1c2gobz9vW3RdOm51bGwpfXJldHVybiBlfSxhcHBlbmREYXRhOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdEbyBub3Qgc3VwcG9ydCBhcHBlbmREYXRhIHdoZW4gc2V0IHNlcmllc0xheW91dEJ5OiAicm93Ii4nKX19LG9iamVjdFJvd3M6e3B1cmU6ITAsY291bnQ6UmgsZ2V0SXRlbTp6aCxhcHBlbmREYXRhOkVofSxrZXllZENvbHVtbnM6e3B1cmU6ITAsY291bnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zb3VyY2UuZGltZW5zaW9uc0RlZmluZVswXS5uYW1lLGU9dGhpcy5fZGF0YVt0XTtyZXR1cm4gZT9lLmxlbmd0aDowfSxnZXRJdGVtOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPXRoaXMuX3NvdXJjZS5kaW1lbnNpb25zRGVmaW5lLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89dGhpcy5fZGF0YVtpW25dLm5hbWVdO2UucHVzaChvP29bdF06bnVsbCl9cmV0dXJuIGV9LGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dmFyIG89dGhpcy5fZGF0YTtSKHQsZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9b1tlXXx8KG9bZV09W10pLG49MDtuPCh0fHxbXSkubGVuZ3RoO24rKylpLnB1c2godFtuXSl9KX19LG9yaWdpbmFsOntjb3VudDpSaCxnZXRJdGVtOnpoLGFwcGVuZERhdGE6RWh9LHR5cGVkQXJyYXk6e3BlcnNpc3RlbnQ6IShOaC5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSkscHVyZTohMCxjb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhP3RoaXMuX2RhdGEubGVuZ3RoL3RoaXMuX2RpbVNpemU6MH0sZ2V0SXRlbTpmdW5jdGlvbih0LGUpe3QtPXRoaXMuX29mZnNldCxlPWV8fFtdO2Zvcih2YXIgaT10aGlzLl9kaW1TaXplKnQsbj0wO248dGhpcy5fZGltU2l6ZTtuKyspZVtuXT10aGlzLl9kYXRhW2krbl07cmV0dXJuIGV9LGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSxjbGVhbjpmdW5jdGlvbigpe3RoaXMuX29mZnNldCs9dGhpcy5jb3VudCgpLHRoaXMuX2RhdGE9bnVsbH19fTtmdW5jdGlvbiBSaCgpe3JldHVybiB0aGlzLl9kYXRhLmxlbmd0aH1mdW5jdGlvbiB6aCh0KXtyZXR1cm4gdGhpcy5fZGF0YVt0XX1mdW5jdGlvbiBFaCh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl9kYXRhLnB1c2godFtlXSl9dmFyIEJoPXthcnJheVJvd3M6Vmgsb2JqZWN0Um93czpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gbnVsbCE9aT90W25dOnR9LGtleWVkQ29sdW1uczpWaCxvcmlnaW5hbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1Xbyh0KTtyZXR1cm4gbnVsbCE9aSYmbyBpbnN0YW5jZW9mIEFycmF5P29baV06b30sdHlwZWRBcnJheTpWaH07ZnVuY3Rpb24gVmgodCxlLGksbil7cmV0dXJuIG51bGwhPWk/dFtpXTp0fXZhciBHaD17YXJyYXlSb3dzOkZoLG9iamVjdFJvd3M6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIFdoKHRbZV0sdGhpcy5fZGltZW5zaW9uSW5mb3NbZV0pfSxrZXllZENvbHVtbnM6Rmgsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dCYmKG51bGw9PXQudmFsdWU/dDp0LnZhbHVlKTtyZXR1cm4hdGhpcy5fcmF3RGF0YS5wdXJlJiZmdW5jdGlvbih0KXtyZXR1cm4gem8odCkmJiEodCBpbnN0YW5jZW9mIEFycmF5KX0odCkmJih0aGlzLmhhc0l0ZW1PcHRpb249ITApLFdoKG8gaW5zdGFuY2VvZiBBcnJheT9vW25dOm8sdGhpcy5fZGltZW5zaW9uSW5mb3NbZV0pfSx0eXBlZEFycmF5OmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0W25dfX07ZnVuY3Rpb24gRmgodCxlLGksbil7cmV0dXJuIFdoKHRbbl0sdGhpcy5fZGltZW5zaW9uSW5mb3NbZV0pfWZ1bmN0aW9uIFdoKHQsZSl7dmFyIGk9ZSYmZS50eXBlO2lmKCJvcmRpbmFsIiE9PWkpcmV0dXJuInRpbWUiPT09aSYmIm51bWJlciIhPXR5cGVvZiB0JiZudWxsIT10JiYiLSIhPT10JiYodD0rWWwodCkpLG51bGw9PXR8fCIiPT09dD9OYU46K3Q7dmFyIG49ZSYmZS5vcmRpbmFsTWV0YTtyZXR1cm4gbj9uLnBhcnNlQW5kQ29sbGVjdCh0KTp0fWZ1bmN0aW9uIEhoKHQsZSxpKXtpZih0KXt2YXIgbj10LmdldFJhd0RhdGFJdGVtKGUpO2lmKG51bGwhPW4pe3ZhciBvLGEscj10LmdldFByb3ZpZGVyKCkuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0LHM9dC5nZXREaW1lbnNpb25JbmZvKGkpO3JldHVybiBzJiYobz1zLm5hbWUsYT1zLmluZGV4KSxCaFtyXShuLGUsYSxvKX19fWZ1bmN0aW9uIFpoKHQsZSxpKXtpZih0KXt2YXIgbj10LmdldFByb3ZpZGVyKCkuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0O2lmKG49PT1FdXx8bj09PVZ1KXt2YXIgbz10LmdldFJhd0RhdGFJdGVtKGUpO3JldHVybiBuIT09RXV8fEUobyl8fChvPW51bGwpLG8/b1tpXTp2b2lkIDB9fX12YXIgVWg9L1x7QCguKz8pXH0vZyxYaD17Z2V0RGF0YVBhcmFtczpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0RGF0YShlKSxuPXRoaXMuZ2V0UmF3VmFsdWUodCxlKSxvPWkuZ2V0UmF3SW5kZXgodCksYT1pLmdldE5hbWUodCkscj1pLmdldFJhd0RhdGFJdGVtKHQpLHM9aS5nZXRJdGVtVmlzdWFsKHQsImNvbG9yIiksbD1pLmdldEl0ZW1WaXN1YWwodCwiYm9yZGVyQ29sb3IiKSx1PXRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxoPVFvKHUmJnUuZ2V0KCJyZW5kZXJNb2RlIikpLGM9dGhpcy5tYWluVHlwZSxkPSJzZXJpZXMiPT09YyxmPWkudXNlck91dHB1dDtyZXR1cm57Y29tcG9uZW50VHlwZTpjLGNvbXBvbmVudFN1YlR5cGU6dGhpcy5zdWJUeXBlLGNvbXBvbmVudEluZGV4OnRoaXMuY29tcG9uZW50SW5kZXgsc2VyaWVzVHlwZTpkP3RoaXMuc3ViVHlwZTpudWxsLHNlcmllc0luZGV4OnRoaXMuc2VyaWVzSW5kZXgsc2VyaWVzSWQ6ZD90aGlzLmlkOm51bGwsc2VyaWVzTmFtZTpkP3RoaXMubmFtZTpudWxsLG5hbWU6YSxkYXRhSW5kZXg6byxkYXRhOnIsZGF0YVR5cGU6ZSx2YWx1ZTpuLGNvbG9yOnMsYm9yZGVyQ29sb3I6bCxkaW1lbnNpb25OYW1lczpmP2YuZGltZW5zaW9uTmFtZXM6bnVsbCxlbmNvZGU6Zj9mLmVuY29kZTpudWxsLG1hcmtlcjpodSh7Y29sb3I6cyxyZW5kZXJNb2RlOmh9KSwkdmFyczpbInNlcmllc05hbWUiLCJuYW1lIiwidmFsdWUiXX19LGdldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKG4sdCxlLGksbyl7dD10fHwibm9ybWFsIjt2YXIgYT10aGlzLmdldERhdGEoZSkscj1hLmdldEl0ZW1Nb2RlbChuKSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyhuLGUpO251bGwhPWkmJnMudmFsdWUgaW5zdGFuY2VvZiBBcnJheSYmKHMudmFsdWU9cy52YWx1ZVtpXSk7dmFyIGw9ci5nZXQoIm5vcm1hbCI9PT10P1tvfHwibGFiZWwiLCJmb3JtYXR0ZXIiXTpbdCxvfHwibGFiZWwiLCJmb3JtYXR0ZXIiXSk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGw/KHMuc3RhdHVzPXQscy5kaW1lbnNpb25JbmRleD1pLGwocykpOiJzdHJpbmciPT10eXBlb2YgbD9sdShsLHMpLnJlcGxhY2UoVWgsZnVuY3Rpb24odCxlKXt2YXIgaT1lLmxlbmd0aDtyZXR1cm4iWyI9PT1lLmNoYXJBdCgwKSYmIl0iPT09ZS5jaGFyQXQoaS0xKSYmKGU9K2Uuc2xpY2UoMSxpLTEpKSxIaChhLG4sZSl9KTp2b2lkIDB9LGdldFJhd1ZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhoKHRoaXMuZ2V0RGF0YShlKSx0KX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbigpe319O2Z1bmN0aW9uIFloKHQpe3JldHVybiBuZXcgamgodCl9ZnVuY3Rpb24gamgodCl7dD10fHx7fSx0aGlzLl9yZXNldD10LnJlc2V0LHRoaXMuX3BsYW49dC5wbGFuLHRoaXMuX2NvdW50PXQuY291bnQsdGhpcy5fb25EaXJ0eT10Lm9uRGlydHksdGhpcy5fZGlydHk9ITAsdGhpcy5jb250ZXh0fXZhciBxaD1qaC5wcm90b3R5cGU7cWgucGVyZm9ybT1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX3Vwc3RyZWFtLG49dCYmdC5za2lwO2lmKHRoaXMuX2RpcnR5JiZpKXt2YXIgbz10aGlzLmNvbnRleHQ7by5kYXRhPW8ub3V0cHV0RGF0YT1pLmNvbnRleHQub3V0cHV0RGF0YX10aGlzLl9fcGlwZWxpbmUmJih0aGlzLl9fcGlwZWxpbmUuY3VycmVudFRhc2s9dGhpcyksdGhpcy5fcGxhbiYmIW4mJihlPXRoaXMuX3BsYW4odGhpcy5jb250ZXh0KSk7dmFyIGEscj1oKHRoaXMuX21vZEJ5KSxzPXRoaXMuX21vZERhdGFDb3VudHx8MCxsPWgodCYmdC5tb2RCeSksdT10JiZ0Lm1vZERhdGFDb3VudHx8MDtmdW5jdGlvbiBoKHQpe3JldHVybiAxPD10fHwodD0xKSx0fXI9PT1sJiZzPT09dXx8KGU9InJlc2V0IiksIXRoaXMuX2RpcnR5JiYicmVzZXQiIT09ZXx8KHRoaXMuX2RpcnR5PSExLGE9ZnVuY3Rpb24odCxlKXt2YXIgaSxuO3QuX2R1ZUluZGV4PXQuX291dHB1dER1ZUVuZD10Ll9kdWVFbmQ9MCx0Ll9zZXR0ZWRPdXRwdXRFbmQ9bnVsbCwhZSYmdC5fcmVzZXQmJigoaT10Ll9yZXNldCh0LmNvbnRleHQpKSYmaS5wcm9ncmVzcyYmKG49aS5mb3JjZUZpcnN0UHJvZ3Jlc3MsaT1pLnByb2dyZXNzKSxMKGkpJiYhaS5sZW5ndGgmJihpPW51bGwpKTt0Ll9wcm9ncmVzcz1pLHQuX21vZEJ5PXQuX21vZERhdGFDb3VudD1udWxsO3ZhciBvPXQuX2Rvd25zdHJlYW07cmV0dXJuIG8mJm8uZGlydHkoKSxufSh0aGlzLG4pKSx0aGlzLl9tb2RCeT1sLHRoaXMuX21vZERhdGFDb3VudD11O3ZhciBjPXQmJnQuc3RlcDtpZih0aGlzLl9kdWVFbmQ9aT9pLl9vdXRwdXREdWVFbmQ6dGhpcy5fY291bnQ/dGhpcy5fY291bnQodGhpcy5jb250ZXh0KToxLzAsdGhpcy5fcHJvZ3Jlc3Mpe3ZhciBkPXRoaXMuX2R1ZUluZGV4LGY9TWF0aC5taW4obnVsbCE9Yz90aGlzLl9kdWVJbmRleCtjOjEvMCx0aGlzLl9kdWVFbmQpO2lmKCFuJiYoYXx8ZDxmKSl7dmFyIHA9dGhpcy5fcHJvZ3Jlc3M7aWYoTChwKSlmb3IodmFyIGc9MDtnPHAubGVuZ3RoO2crKylhYyh0aGlzLHBbZ10sZCxmLGwsdSk7ZWxzZSBhYyh0aGlzLHAsZCxmLGwsdSl9dGhpcy5fZHVlSW5kZXg9Zjt2YXIgbT1udWxsIT10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ/dGhpcy5fc2V0dGVkT3V0cHV0RW5kOmY7dGhpcy5fb3V0cHV0RHVlRW5kPW19ZWxzZSB0aGlzLl9kdWVJbmRleD10aGlzLl9vdXRwdXREdWVFbmQ9bnVsbCE9dGhpcy5fc2V0dGVkT3V0cHV0RW5kP3RoaXMuX3NldHRlZE91dHB1dEVuZDp0aGlzLl9kdWVFbmQ7cmV0dXJuIHRoaXMudW5maW5pc2hlZCgpfTt2YXIgS2gsJGgsSmgsUWgsdGMsZWMsaWM9ZWM9e3Jlc2V0OmZ1bmN0aW9uKHQsZSxpLG4peyRoPXQsS2g9ZSxKaD1pLFFoPW4sdGM9TWF0aC5jZWlsKFFoL0poKSxlYy5uZXh0PTE8SmgmJjA8UWg/b2M6bmN9fTtmdW5jdGlvbiBuYygpe3JldHVybiAkaDxLaD8kaCsrOm51bGx9ZnVuY3Rpb24gb2MoKXt2YXIgdD0kaCV0YypKaCtNYXRoLmNlaWwoJGgvdGMpLGU9S2g8PSRoP251bGw6dDxRaD90OiRoO3JldHVybiAkaCsrLGV9ZnVuY3Rpb24gYWModCxlLGksbixvLGEpe2ljLnJlc2V0KGksbixvLGEpLHQuX2NhbGxpbmdQcm9ncmVzcz1lLHQuX2NhbGxpbmdQcm9ncmVzcyh7c3RhcnQ6aSxlbmQ6bixjb3VudDpuLWksbmV4dDppYy5uZXh0fSx0LmNvbnRleHQpfXFoLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fb25EaXJ0eSYmdGhpcy5fb25EaXJ0eSh0aGlzLmNvbnRleHQpfSxxaC51bmZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2dyZXNzJiZ0aGlzLl9kdWVJbmRleDx0aGlzLl9kdWVFbmR9LHFoLnBpcGU9ZnVuY3Rpb24odCl7dGhpcy5fZG93bnN0cmVhbT09PXQmJiF0aGlzLl9kaXJ0eXx8KCh0aGlzLl9kb3duc3RyZWFtPXQpLl91cHN0cmVhbT10aGlzLHQuZGlydHkoKSl9LHFoLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlZHx8KHRoaXMuX3Vwc3RyZWFtJiYodGhpcy5fdXBzdHJlYW0uX2Rvd25zdHJlYW09bnVsbCksdGhpcy5fZG93bnN0cmVhbSYmKHRoaXMuX2Rvd25zdHJlYW0uX3Vwc3RyZWFtPW51bGwpLHRoaXMuX2RpcnR5PSExLHRoaXMuX2Rpc3Bvc2VkPSEwKX0scWguZ2V0VXBzdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBzdHJlYW19LHFoLmdldERvd25zdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG93bnN0cmVhbX0scWguc2V0T3V0cHV0RW5kPWZ1bmN0aW9uKHQpe3RoaXMuX291dHB1dER1ZUVuZD10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ9dH07dmFyIHJjPWpvKCksc2M9a3UuZXh0ZW5kKHt0eXBlOiJzZXJpZXMuX19iYXNlX18iLHNlcmllc0luZGV4OjAsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGRlZmF1bHRPcHRpb246bnVsbCxsZWdlbmRWaXN1YWxQcm92aWRlcjpudWxsLHZpc3VhbENvbG9yQWNjZXNzUGF0aDoiaXRlbVN0eWxlLmNvbG9yIix2aXN1YWxCb3JkZXJDb2xvckFjY2Vzc1BhdGg6Iml0ZW1TdHlsZS5ib3JkZXJDb2xvciIsbGF5b3V0TW9kZTpudWxsLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5zZXJpZXNJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LHRoaXMuZGF0YVRhc2s9WWgoe2NvdW50OnVjLHJlc2V0OmhjfSksdGhpcy5kYXRhVGFzay5jb250ZXh0PXttb2RlbDp0aGlzfSx0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksanUodGhpcyk7dmFyIG89dGhpcy5nZXRJbml0aWFsRGF0YSh0LGkpO2RjKG8sdGhpcyksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9byxyYyh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPW8sbGModGhpcyl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5sYXlvdXRNb2RlLG49aT9JdSh0KTp7fSxvPXRoaXMuc3ViVHlwZTtrdS5oYXNDbGFzcyhvKSYmKG8rPSJTZXJpZXMiKSxtKHQsZS5nZXRUaGVtZSgpLmdldCh0aGlzLnN1YlR5cGUpKSxtKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLEdvKHQsImxhYmVsIixbInNob3ciXSksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpLGkmJk11KHQsbixpKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXt0PW0odGhpcy5vcHRpb24sdCwhMCksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpO3ZhciBpPXRoaXMubGF5b3V0TW9kZTtpJiZNdSh0aGlzLm9wdGlvbix0LGkpLGp1KHRoaXMpO3ZhciBuPXRoaXMuZ2V0SW5pdGlhbERhdGEodCxlKTtkYyhuLHRoaXMpLHRoaXMuZGF0YVRhc2suZGlydHkoKSx0aGlzLmRhdGFUYXNrLmNvbnRleHQuZGF0YT1uLHJjKHRoaXMpLmRhdGFCZWZvcmVQcm9jZXNzZWQ9bixsYyh0aGlzKX0sZmlsbERhdGFUZXh0U3R5bGU6ZnVuY3Rpb24odCl7aWYodCYmIVYodCkpZm9yKHZhciBlPVsic2hvdyJdLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldJiZ0W2ldLmxhYmVsJiZHbyh0W2ldLCJsYWJlbCIsZSl9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKCl7fSxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3RoaXMuZ2V0UmF3RGF0YSgpLmFwcGVuZERhdGEodC5kYXRhKX0sZ2V0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT1wYyh0aGlzKTtpZihlKXt2YXIgaT1lLmNvbnRleHQuZGF0YTtyZXR1cm4gbnVsbD09dD9pOmkuZ2V0TGlua2VkRGF0YSh0KX1yZXR1cm4gcmModGhpcykuZGF0YX0sc2V0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT1wYyh0aGlzKTtpZihlKXt2YXIgaT1lLmNvbnRleHQ7aS5kYXRhIT09dCYmZS5tb2RpZnlPdXRwdXRFbmQmJmUuc2V0T3V0cHV0RW5kKHQuY291bnQoKSksaS5vdXRwdXREYXRhPXQsZSE9PXRoaXMuZGF0YVRhc2smJihpLmRhdGE9dCl9cmModGhpcykuZGF0YT10fSxnZXRTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIFl1KHQpLnNvdXJjZX0odGhpcyl9LGdldFJhd0RhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gcmModGhpcykuZGF0YUJlZm9yZVByb2Nlc3NlZH0sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvb3JkaW5hdGVTeXN0ZW07cmV0dXJuIHQmJnQuZ2V0QmFzZUF4aXMmJnQuZ2V0QmFzZUF4aXMoKX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbihvLGgsdCxjKXt2YXIgZD10aGlzLGU9Imh0bWwiPT09KGM9Y3x8Imh0bWwiKT8iPGJyLz4iOiJcbiIsZj0icmljaFRleHQiPT09YyxwPXt9LGc9MDtmdW5jdGlvbiBpKHQpe3JldHVybntyZW5kZXJNb2RlOmMsY29udGVudDphdSh0dSh0KSksc3R5bGU6cH19dmFyIG09dGhpcy5nZXREYXRhKCksYT1tLm1hcERpbWVuc2lvbigiZGVmYXVsdGVkVG9vbHRpcCIsITApLG49YS5sZW5ndGgscj10aGlzLmdldFJhd1ZhbHVlKG8pLHM9TChyKSx2PW0uZ2V0SXRlbVZpc3VhbChvLCJjb2xvciIpO0UodikmJnYuY29sb3JTdG9wcyYmKHY9KHYuY29sb3JTdG9wc1swXXx8e30pLmNvbG9yKSx2PXZ8fCJ0cmFuc3BhcmVudCI7dmFyIGw9KDE8bnx8cyYmIW4/ZnVuY3Rpb24odCl7dmFyIGw9Uyh0LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1tLmdldERpbWVuc2lvbkluZm8oaSk7cmV0dXJuIHR8KG4mJiExIT09bi50b29sdGlwJiZudWxsIT1uLmRpc3BsYXlOYW1lKX0sMCksdT1bXTtmdW5jdGlvbiBlKHQsZSl7dmFyIGk9bS5nZXREaW1lbnNpb25JbmZvKGUpO2lmKGkmJiExIT09aS5vdGhlckRpbXMudG9vbHRpcCl7dmFyIG49aS50eXBlLG89InN1YiIrZC5zZXJpZXNJbmRleCsiYXQiK2csYT1odSh7Y29sb3I6dix0eXBlOiJzdWJJdGVtIixyZW5kZXJNb2RlOmMsbWFya2VySWQ6b30pLHI9InN0cmluZyI9PXR5cGVvZiBhP2E6YS5jb250ZW50LHM9KGw/cithdShpLmRpc3BsYXlOYW1lfHwiLSIpKyI6ICI6IiIpK2F1KCJvcmRpbmFsIj09PW4/dCsiIjoidGltZSI9PT1uP2g/IiI6ZHUoInl5eXkvTU0vZGQgaGg6bW06c3MiLHQpOnR1KHQpKTtzJiZ1LnB1c2gocyksZiYmKHBbb109diwrK2cpfX1hLmxlbmd0aD9SKGEsZnVuY3Rpb24odCl7ZShIaChtLG8sdCksdCl9KTpSKHQsZSk7dmFyIGk9bD9mPyJcbiI6Ijxici8+IjoiIixuPWkrdS5qb2luKGl8fCIsICIpO3JldHVybntyZW5kZXJNb2RlOmMsY29udGVudDpuLHN0eWxlOnB9fShyKTppKG4/SGgobSxvLGFbMF0pOnM/clswXTpyKSkuY29udGVudCx1PWQuc2VyaWVzSW5kZXgrImF0IitnLHk9aHUoe2NvbG9yOnYsdHlwZToiaXRlbSIscmVuZGVyTW9kZTpjLG1hcmtlcklkOnV9KTtwW3VdPXYsKytnO3ZhciB4PW0uZ2V0TmFtZShvKSxfPXRoaXMubmFtZTtVbyh0aGlzKXx8KF89IiIpLF89Xz9hdShfKSsoaD8iOiAiOmUpOiIiO3ZhciB3PSJzdHJpbmciPT10eXBlb2YgeT95OnkuY29udGVudDtyZXR1cm57aHRtbDpoP3crXytsOl8rdysoeD9hdSh4KSsiOiAiK2w6bCksbWFya2VyczpwfX0saXNBbmltYXRpb25FbmFibGVkOmZ1bmN0aW9uKCl7aWYodi5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIik7cmV0dXJuIHQmJnRoaXMuZ2V0RGF0YSgpLmNvdW50KCk+dGhpcy5nZXRTaGFsbG93KCJhbmltYXRpb25UaHJlc2hvbGQiKSYmKHQ9ITEpLHR9LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7dGhpcy5kYXRhVGFzay5kaXJ0eSgpfSxnZXRDb2xvckZyb21QYWxldHRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmVjTW9kZWwsbz16dS5nZXRDb2xvckZyb21QYWxldHRlLmNhbGwodGhpcyx0LGUsaSk7cmV0dXJuIG89b3x8bi5nZXRDb2xvckZyb21QYWxldHRlKHQsZSxpKX0sY29vcmREaW1Ub0RhdGFEaW06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0UmF3RGF0YSgpLm1hcERpbWVuc2lvbih0LCEwKX0sZ2V0UHJvZ3Jlc3NpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInByb2dyZXNzaXZlIil9LGdldFByb2dyZXNzaXZlVGhyZXNob2xkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwcm9ncmVzc2l2ZVRocmVzaG9sZCIpfSxnZXRBeGlzVG9vbHRpcERhdGE6bnVsbCxnZXRUb29sdGlwUG9zaXRpb246bnVsbCxwaXBlVGFzazpudWxsLHByZXZlbnRJbmNyZW1lbnRhbDpudWxsLHBpcGVsaW5lQ29udGV4dDpudWxsfSk7ZnVuY3Rpb24gbGModCl7dmFyIGU9dC5uYW1lO1VvKHQpfHwodC5uYW1lPWZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0UmF3RGF0YSgpLGU9aS5tYXBEaW1lbnNpb24oInNlcmllc05hbWUiLCEwKSxuPVtdO3JldHVybiBSKGUsZnVuY3Rpb24odCl7dmFyIGU9aS5nZXREaW1lbnNpb25JbmZvKHQpO2UuZGlzcGxheU5hbWUmJm4ucHVzaChlLmRpc3BsYXlOYW1lKX0pLG4uam9pbigiICIpfSh0KXx8ZSl9ZnVuY3Rpb24gdWModCl7cmV0dXJuIHQubW9kZWwuZ2V0UmF3RGF0YSgpLmNvdW50KCl9ZnVuY3Rpb24gaGModCl7dmFyIGU9dC5tb2RlbDtyZXR1cm4gZS5zZXREYXRhKGUuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdygpKSxjY31mdW5jdGlvbiBjYyh0LGUpe2Uub3V0cHV0RGF0YSYmdC5lbmQ+ZS5vdXRwdXREYXRhLmNvdW50KCkmJmUubW9kZWwuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdyhlLm91dHB1dERhdGEpfWZ1bmN0aW9uIGRjKGUsaSl7UihlLkNIQU5HQUJMRV9NRVRIT0RTLGZ1bmN0aW9uKHQpe2Uud3JhcE1ldGhvZCh0LFQoZmMsaSkpfSl9ZnVuY3Rpb24gZmModCl7dmFyIGU9cGModCk7ZSYmZS5zZXRPdXRwdXRFbmQodGhpcy5jb3VudCgpKX1mdW5jdGlvbiBwYyh0KXt2YXIgZT0odC5lY01vZGVsfHx7fSkuc2NoZWR1bGVyLGk9ZSYmZS5nZXRQaXBlbGluZSh0LnVpZCk7aWYoaSl7dmFyIG49aS5jdXJyZW50VGFzaztpZihuKXt2YXIgbz1uLmFnZW50U3R1Yk1hcDtvJiYobj1vLmdldCh0LnVpZCkpfXJldHVybiBufX1iKHNjLFhoKSxiKHNjLHp1KTt2YXIgZ2M9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwPW5ldyBDaSx0aGlzLnVpZD1ObCgidmlld0NvbXBvbmVudCIpfTtnYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdjLGluaXQ6ZnVuY3Rpb24odCxlKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9LGZpbHRlckZvckV4cG9zZWRFdmVudDpudWxsfTt2YXIgbWM9Z2MucHJvdG90eXBlO21jLnVwZGF0ZVZpZXc9bWMudXBkYXRlTGF5b3V0PW1jLnVwZGF0ZVZpc3VhbD1mdW5jdGlvbih0LGUsaSxuKXt9LG9hKGdjKSx1YShnYyx7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSk7ZnVuY3Rpb24gdmMoKXt2YXIgcz1qbygpO3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT1zKHQpLGk9dC5waXBlbGluZUNvbnRleHQsbj1lLmxhcmdlLG89ZS5wcm9ncmVzc2l2ZVJlbmRlcixhPWUubGFyZ2U9aSYmaS5sYXJnZSxyPWUucHJvZ3Jlc3NpdmVSZW5kZXI9aSYmaS5wcm9ncmVzc2l2ZVJlbmRlcjtyZXR1cm4hIShuXmF8fG9ecikmJiJyZXNldCJ9fXZhciB5Yz1qbygpLHhjPXZjKCk7ZnVuY3Rpb24gX2MoKXt0aGlzLmdyb3VwPW5ldyBDaSx0aGlzLnVpZD1ObCgidmlld0NoYXJ0IiksdGhpcy5yZW5kZXJUYXNrPVloKHtwbGFuOk1jLHJlc2V0OkljfSksdGhpcy5yZW5kZXJUYXNrLmNvbnRleHQ9e3ZpZXc6dGhpc319dmFyIHdjPV9jLnByb3RvdHlwZT17dHlwZToiY2hhcnQiLGluaXQ6ZnVuY3Rpb24odCxlKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt9LGhpZ2hsaWdodDpmdW5jdGlvbih0LGUsaSxuKXtTYyh0LmdldERhdGEoKSxuLCJlbXBoYXNpcyIpfSxkb3ducGxheTpmdW5jdGlvbih0LGUsaSxuKXtTYyh0LmdldERhdGEoKSxuLCJub3JtYWwiKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe30saW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOm51bGwsaW5jcmVtZW50YWxSZW5kZXI6bnVsbCx1cGRhdGVUcmFuc2Zvcm06bnVsbCxmaWx0ZXJGb3JFeHBvc2VkRXZlbnQ6bnVsbH07ZnVuY3Rpb24gYmModCxlLGkpe2lmKHQmJih0LnRyaWdnZXIoZSxpKSx0LmlzR3JvdXAmJiFRcyh0KSkpZm9yKHZhciBuPTAsbz10LmNoaWxkQ291bnQoKTtuPG87bisrKWJjKHQuY2hpbGRBdChuKSxlLGkpfWZ1bmN0aW9uIFNjKGUsdCxpKXt2YXIgbj1ZbyhlLHQpLG89dCYmbnVsbCE9dC5oaWdobGlnaHRLZXk/dGwodC5oaWdobGlnaHRLZXkpOm51bGw7bnVsbCE9bj9SKFZvKG4pLGZ1bmN0aW9uKHQpe2JjKGUuZ2V0SXRlbUdyYXBoaWNFbCh0KSxpLG8pfSk6ZS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXtiYyh0LGksbyl9KX1mdW5jdGlvbiBNYyh0KXtyZXR1cm4geGModC5tb2RlbCl9ZnVuY3Rpb24gSWModCl7dmFyIGU9dC5tb2RlbCxpPXQuZWNNb2RlbCxuPXQuYXBpLG89dC5wYXlsb2FkLGE9ZS5waXBlbGluZUNvbnRleHQucHJvZ3Jlc3NpdmVSZW5kZXIscj10LnZpZXcscz1vJiZ5YyhvKS51cGRhdGVNZXRob2QsbD1hPyJpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXIiOnMmJnJbc10/czoicmVuZGVyIjtyZXR1cm4icmVuZGVyIiE9PWwmJnJbbF0oZSxpLG4sbyksVGNbbF19d2MudXBkYXRlVmlldz13Yy51cGRhdGVMYXlvdXQ9d2MudXBkYXRlVmlzdWFsPWZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMucmVuZGVyKHQsZSxpLG4pfSxvYShfYyksdWEoX2Mse3JlZ2lzdGVyV2hlbkV4dGVuZDohMH0pLF9jLm1hcmtVcGRhdGVNZXRob2Q9ZnVuY3Rpb24odCxlKXt5Yyh0KS51cGRhdGVNZXRob2Q9ZX07dmFyIFRjPXtpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6e3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LmluY3JlbWVudGFsUmVuZGVyKHQsZS5tb2RlbCxlLmVjTW9kZWwsZS5hcGksZS5wYXlsb2FkKX19LHJlbmRlcjp7Zm9yY2VGaXJzdFByb2dyZXNzOiEwLHByb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LnJlbmRlcihlLm1vZGVsLGUuZWNNb2RlbCxlLmFwaSxlLnBheWxvYWQpfX19LEFjPSJcMF9fdGhyb3R0bGVPcmlnaW5NZXRob2QiLERjPSJcMF9fdGhyb3R0bGVSYXRlIixDYz0iXDBfX3Rocm90dGxlVHlwZSI7ZnVuY3Rpb24gTGModCxpLG4pe3ZhciBvLGEscixzLGwsdT0wLGg9MCxjPW51bGw7ZnVuY3Rpb24gZCgpe2g9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1udWxsLHQuYXBwbHkocixzfHxbXSl9aT1pfHwwO2Z1bmN0aW9uIGUoKXtvPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHI9dGhpcyxzPWFyZ3VtZW50czt2YXIgdD1sfHxpLGU9bHx8bjtsPW51bGwsYT1vLShlP3U6aCktdCxjbGVhclRpbWVvdXQoYyksZT9jPXNldFRpbWVvdXQoZCx0KTowPD1hP2QoKTpjPXNldFRpbWVvdXQoZCwtYSksdT1vfXJldHVybiBlLmNsZWFyPWZ1bmN0aW9uKCl7YyYmKGNsZWFyVGltZW91dChjKSxjPW51bGwpfSxlLmRlYm91bmNlTmV4dENhbGw9ZnVuY3Rpb24odCl7bD10fSxlfWZ1bmN0aW9uIGtjKHQsZSxpLG4pe3ZhciBvPXRbZV07aWYobyl7dmFyIGE9b1tBY118fG8scj1vW0NjXTtpZihvW0RjXSE9PWl8fHIhPT1uKXtpZihudWxsPT1pfHwhbilyZXR1cm4gdFtlXT1hOyhvPXRbZV09TGMoYSxpLCJkZWJvdW5jZSI9PT1uKSlbQWNdPWEsb1tDY109bixvW0RjXT1pfXJldHVybiBvfX1mdW5jdGlvbiBQYyh0LGUpe3ZhciBpPXRbZV07aSYmaVtBY10mJih0W2VdPWlbQWNdKX12YXIgTmM9e2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmdldERhdGEoKSxhPShlLnZpc3VhbENvbG9yQWNjZXNzUGF0aHx8Iml0ZW1TdHlsZS5jb2xvciIpLnNwbGl0KCIuIiksbj1lLmdldChhKSxvPSFDKG4pfHxuIGluc3RhbmNlb2YgY3M/bnVsbDpuO24mJiFvfHwobj1lLmdldENvbG9yRnJvbVBhbGV0dGUoZS5uYW1lLG51bGwsdC5nZXRTZXJpZXNDb3VudCgpKSksaS5zZXRWaXN1YWwoImNvbG9yIixuKTt2YXIgcj0oZS52aXN1YWxCb3JkZXJDb2xvckFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUuYm9yZGVyQ29sb3IiKS5zcGxpdCgiLiIpLHM9ZS5nZXQocik7aWYoaS5zZXRWaXN1YWwoImJvcmRlckNvbG9yIixzKSwhdC5pc1Nlcmllc0ZpbHRlcmVkKGUpKXtvJiZpLmVhY2goZnVuY3Rpb24odCl7aS5zZXRJdGVtVmlzdWFsKHQsImNvbG9yIixvKGUuZ2V0RGF0YVBhcmFtcyh0KSkpfSk7cmV0dXJue2RhdGFFYWNoOmkuaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLG49aS5nZXQoYSwhMCksbz1pLmdldChyLCEwKTtudWxsIT1uJiZ0LnNldEl0ZW1WaXN1YWwoZSwiY29sb3IiLG4pLG51bGwhPW8mJnQuc2V0SXRlbVZpc3VhbChlLCJib3JkZXJDb2xvciIsbyl9Om51bGx9fX19LE9jPXtsZWdlbmQ6e3NlbGVjdG9yOnthbGw6IkFsbCIsaW52ZXJzZToiSW52In19LHRvb2xib3g6e2JydXNoOnt0aXRsZTp7cmVjdDoiQm94IFNlbGVjdCIscG9seWdvbjoiTGFzc28gU2VsZWN0IixsaW5lWDoiSG9yaXpvbnRhbGx5IFNlbGVjdCIsbGluZVk6IlZlcnRpY2FsbHkgU2VsZWN0IixrZWVwOiJLZWVwIFNlbGVjdGlvbnMiLGNsZWFyOiJDbGVhciBTZWxlY3Rpb25zIn19LGRhdGFWaWV3Ont0aXRsZToiRGF0YSBWaWV3IixsYW5nOlsiRGF0YSBWaWV3IiwiQ2xvc2UiLCJSZWZyZXNoIl19LGRhdGFab29tOnt0aXRsZTp7em9vbToiWm9vbSIsYmFjazoiWm9vbSBSZXNldCJ9fSxtYWdpY1R5cGU6e3RpdGxlOntsaW5lOiJTd2l0Y2ggdG8gTGluZSBDaGFydCIsYmFyOiJTd2l0Y2ggdG8gQmFyIENoYXJ0IixzdGFjazoiU3RhY2siLHRpbGVkOiJUaWxlIn19LHJlc3RvcmU6e3RpdGxlOiJSZXN0b3JlIn0sc2F2ZUFzSW1hZ2U6e3RpdGxlOiJTYXZlIGFzIEltYWdlIixsYW5nOlsiUmlnaHQgQ2xpY2sgdG8gU2F2ZSBJbWFnZSJdfX0sc2VyaWVzOnt0eXBlTmFtZXM6e3BpZToiUGllIGNoYXJ0IixiYXI6IkJhciBjaGFydCIsbGluZToiTGluZSBjaGFydCIsc2NhdHRlcjoiU2NhdHRlciBwbG90IixlZmZlY3RTY2F0dGVyOiJSaXBwbGUgc2NhdHRlciBwbG90IixyYWRhcjoiUmFkYXIgY2hhcnQiLHRyZWU6IlRyZWUiLHRyZWVtYXA6IlRyZWVtYXAiLGJveHBsb3Q6IkJveHBsb3QiLGNhbmRsZXN0aWNrOiJDYW5kbGVzdGljayIsazoiSyBsaW5lIGNoYXJ0IixoZWF0bWFwOiJIZWF0IG1hcCIsbWFwOiJNYXAiLHBhcmFsbGVsOiJQYXJhbGxlbCBjb29yZGluYXRlIG1hcCIsbGluZXM6IkxpbmUgZ3JhcGgiLGdyYXBoOiJSZWxhdGlvbnNoaXAgZ3JhcGgiLHNhbmtleToiU2Fua2V5IGRpYWdyYW0iLGZ1bm5lbDoiRnVubmVsIGNoYXJ0IixnYXVnZToiR3VhZ2UiLHBpY3RvcmlhbEJhcjoiUGljdG9yaWFsIGJhciIsdGhlbWVSaXZlcjoiVGhlbWUgUml2ZXIgTWFwIixzdW5idXJzdDoiU3VuYnVyc3QifX0sYXJpYTp7Z2VuZXJhbDp7d2l0aFRpdGxlOidUaGlzIGlzIGEgY2hhcnQgYWJvdXQgInt0aXRsZX0iJyx3aXRob3V0VGl0bGU6IlRoaXMgaXMgYSBjaGFydCJ9LHNlcmllczp7c2luZ2xlOntwcmVmaXg6IiIsd2l0aE5hbWU6IiB3aXRoIHR5cGUge3Nlcmllc1R5cGV9IG5hbWVkIHtzZXJpZXNOYW1lfS4iLHdpdGhvdXROYW1lOiIgd2l0aCB0eXBlIHtzZXJpZXNUeXBlfS4ifSxtdWx0aXBsZTp7cHJlZml4OiIuIEl0IGNvbnNpc3RzIG9mIHtzZXJpZXNDb3VudH0gc2VyaWVzIGNvdW50LiIsd2l0aE5hbWU6IiBUaGUge3Nlcmllc0lkfSBzZXJpZXMgaXMgYSB7c2VyaWVzVHlwZX0gcmVwcmVzZW50aW5nIHtzZXJpZXNOYW1lfS4iLHdpdGhvdXROYW1lOiIgVGhlIHtzZXJpZXNJZH0gc2VyaWVzIGlzIGEge3Nlcmllc1R5cGV9LiIsc2VwYXJhdG9yOnttaWRkbGU6IiIsZW5kOiIifX19LGRhdGE6e2FsbERhdGE6IlRoZSBkYXRhIGlzIGFzIGZvbGxvd3M6ICIscGFydGlhbERhdGE6IlRoZSBmaXJzdCB7ZGlzcGxheUNudH0gaXRlbXMgYXJlOiAiLHdpdGhOYW1lOiJ0aGUgZGF0YSBmb3Ige25hbWV9IGlzIHt2YWx1ZX0iLHdpdGhvdXROYW1lOiJ7dmFsdWV9IixzZXBhcmF0b3I6e21pZGRsZToiLCIsZW5kOiIuIn19fX0sUmM9ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmdldE1vZGVsKCJhcmlhIik7aWYoYS5nZXQoInNob3ciKSlpZihhLmdldCgiZGVzY3JpcHRpb24iKSl0LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYS5nZXQoImRlc2NyaXB0aW9uIikpO2Vsc2V7dmFyIGg9MDtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCxlKXsrK2h9LHRoaXMpO3ZhciBpLGM9YS5nZXQoImRhdGEubWF4Q291bnQiKXx8MTAsbj1hLmdldCgic2VyaWVzLm1heENvdW50Iil8fDEwLGQ9TWF0aC5taW4oaCxuKTtpZighKGg8MSkpe3ZhciBvPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRNb2RlbCgidGl0bGUiKS5vcHRpb247dCYmdC5sZW5ndGgmJih0PXRbMF0pO3JldHVybiB0JiZ0LnRleHR9KCk7aT1vP3AoZygiZ2VuZXJhbC53aXRoVGl0bGUiKSx7dGl0bGU6b30pOmcoImdlbmVyYWwud2l0aG91dFRpdGxlIik7dmFyIGY9W107aSs9cChnKDE8aD8ic2VyaWVzLm11bHRpcGxlLnByZWZpeCI6InNlcmllcy5zaW5nbGUucHJlZml4Iikse3Nlcmllc0NvdW50Omh9KSxlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCxlKXtpZihlPGQpe3ZhciBpLG49dC5nZXQoIm5hbWUiKSxvPSJzZXJpZXMuIisoMTxoPyJtdWx0aXBsZSI6InNpbmdsZSIpKyIuIjtpPXAoaT1nKG4/bysid2l0aE5hbWUiOm8rIndpdGhvdXROYW1lIikse3Nlcmllc0lkOnQuc2VyaWVzSW5kZXgsc2VyaWVzTmFtZTp0LmdldCgibmFtZSIpLHNlcmllc1R5cGU6ZnVuY3Rpb24odCl7cmV0dXJuIE9jLnNlcmllcy50eXBlTmFtZXNbdF18fCLoh6rlrprkuYnlm74ifSh0LnN1YlR5cGUpfSk7dmFyIGE9dC5nZXREYXRhKCk7KHdpbmRvdy5kYXRhPWEpLmNvdW50KCk+Yz9pKz1wKGcoImRhdGEucGFydGlhbERhdGEiKSx7ZGlzcGxheUNudDpjfSk6aSs9ZygiZGF0YS5hbGxEYXRhIik7Zm9yKHZhciByPVtdLHM9MDtzPGEuY291bnQoKTtzKyspaWYoczxjKXt2YXIgbD1hLmdldE5hbWUocyksdT1IaChhLHMpO3IucHVzaChwKGcobD8iZGF0YS53aXRoTmFtZSI6ImRhdGEud2l0aG91dE5hbWUiKSx7bmFtZTpsLHZhbHVlOnV9KSl9aSs9ci5qb2luKGcoImRhdGEuc2VwYXJhdG9yLm1pZGRsZSIpKStnKCJkYXRhLnNlcGFyYXRvci5lbmQiKSxmLnB1c2goaSl9fSksaSs9Zi5qb2luKGcoInNlcmllcy5tdWx0aXBsZS5zZXBhcmF0b3IubWlkZGxlIikpK2coInNlcmllcy5tdWx0aXBsZS5zZXBhcmF0b3IuZW5kIiksdC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGkpfX1mdW5jdGlvbiBwKHQsZSl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBpPXQ7cmV0dXJuIFIoZSxmdW5jdGlvbih0LGUpe2k9aS5yZXBsYWNlKG5ldyBSZWdFeHAoIlxce1xccyoiK2UrIlxccypcXH0iLCJnIiksdCl9KSxpfWZ1bmN0aW9uIGcodCl7dmFyIGU9YS5nZXQodCk7aWYobnVsbCE9ZSlyZXR1cm4gZTtmb3IodmFyIGk9dC5zcGxpdCgiLiIpLG49T2MuYXJpYSxvPTA7bzxpLmxlbmd0aDsrK28pbj1uW2lbb11dO3JldHVybiBufX0semM9TWF0aC5QSTtmdW5jdGlvbiBFYyh0LGUsaSxuKXt0aGlzLmVjSW5zdGFuY2U9dCx0aGlzLmFwaT1lLHRoaXMudW5maW5pc2hlZDtpPXRoaXMuX2RhdGFQcm9jZXNzb3JIYW5kbGVycz1pLnNsaWNlKCksbj10aGlzLl92aXN1YWxIYW5kbGVycz1uLnNsaWNlKCk7dGhpcy5fYWxsSGFuZGxlcnM9aS5jb25jYXQobiksdGhpcy5fc3RhZ2VUYXNrTWFwPVEoKX12YXIgQmM9RWMucHJvdG90eXBlO2Z1bmN0aW9uIFZjKGwsdCx1LGgsYyl7dmFyIGQ7ZnVuY3Rpb24gZih0LGUpe3JldHVybiB0LnNldERpcnR5JiYoIXQuZGlydHlNYXB8fHQuZGlydHlNYXAuZ2V0KGUuX19waXBlbGluZS5pZCkpfWM9Y3x8e30sUih0LGZ1bmN0aW9uKG4sdCl7aWYoIWMudmlzdWFsVHlwZXx8Yy52aXN1YWxUeXBlPT09bi52aXN1YWxUeXBlKXt2YXIgZT1sLl9zdGFnZVRhc2tNYXAuZ2V0KG4udWlkKSxpPWUuc2VyaWVzVGFza01hcCxvPWUub3ZlcmFsbFRhc2s7aWYobyl7dmFyIGEscj1vLmFnZW50U3R1Yk1hcDtyLmVhY2goZnVuY3Rpb24odCl7ZihjLHQpJiYodC5kaXJ0eSgpLGE9ITApfSksYSYmby5kaXJ0eSgpLEdjKG8saCk7dmFyIHM9bC5nZXRQZXJmb3JtQXJncyhvLGMuYmxvY2spO3IuZWFjaChmdW5jdGlvbih0KXt0LnBlcmZvcm0ocyl9KSxkfD1vLnBlcmZvcm0ocyl9ZWxzZSBpJiZpLmVhY2goZnVuY3Rpb24odCxlKXtmKGMsdCkmJnQuZGlydHkoKTt2YXIgaT1sLmdldFBlcmZvcm1BcmdzKHQsYy5ibG9jayk7aS5za2lwPSFuLnBlcmZvcm1SYXdTZXJpZXMmJnUuaXNTZXJpZXNGaWx0ZXJlZCh0LmNvbnRleHQubW9kZWwpLEdjKHQsaCksZHw9dC5wZXJmb3JtKGkpfSl9fSksbC51bmZpbmlzaGVkfD1kfUJjLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKHQsZSl7dC5yZXN0b3JlRGF0YShlKSx0aGlzLl9zdGFnZVRhc2tNYXAuZWFjaChmdW5jdGlvbih0KXt2YXIgZT10Lm92ZXJhbGxUYXNrO2UmJmUuZGlydHkoKX0pfSxCYy5nZXRQZXJmb3JtQXJncz1mdW5jdGlvbih0LGUpe2lmKHQuX19waXBlbGluZSl7dmFyIGk9dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KHQuX19waXBlbGluZS5pZCksbj1pLmNvbnRleHQsbz0hZSYmaS5wcm9ncmVzc2l2ZUVuYWJsZWQmJighbnx8bi5wcm9ncmVzc2l2ZVJlbmRlcikmJnQuX19pZHhJblBpcGVsaW5lPmkuYmxvY2tJbmRleD9pLnN0ZXA6bnVsbCxhPW4mJm4ubW9kRGF0YUNvdW50O3JldHVybntzdGVwOm8sbW9kQnk6bnVsbCE9YT9NYXRoLmNlaWwoYS9vKTpudWxsLG1vZERhdGFDb3VudDphfX19LEJjLmdldFBpcGVsaW5lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waXBlbGluZU1hcC5nZXQodCl9LEJjLnVwZGF0ZVN0cmVhbU1vZGVzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KHQudWlkKSxuPXQuZ2V0RGF0YSgpLmNvdW50KCksbz1pLnByb2dyZXNzaXZlRW5hYmxlZCYmZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXImJm4+PWkudGhyZXNob2xkLGE9dC5nZXQoImxhcmdlIikmJm4+PXQuZ2V0KCJsYXJnZVRocmVzaG9sZCIpLHI9Im1vZCI9PT10LmdldCgicHJvZ3Jlc3NpdmVDaHVua01vZGUiKT9uOm51bGw7dC5waXBlbGluZUNvbnRleHQ9aS5jb250ZXh0PXtwcm9ncmVzc2l2ZVJlbmRlcjpvLG1vZERhdGFDb3VudDpyLGxhcmdlOmF9fSxCYy5yZXN0b3JlUGlwZWxpbmVzPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMsbz1uLl9waXBlbGluZU1hcD1RKCk7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UHJvZ3Jlc3NpdmUoKSxpPXQudWlkO28uc2V0KGkse2lkOmksaGVhZDpudWxsLHRhaWw6bnVsbCx0aHJlc2hvbGQ6dC5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZCgpLHByb2dyZXNzaXZlRW5hYmxlZDplJiYhKHQucHJldmVudEluY3JlbWVudGFsJiZ0LnByZXZlbnRJbmNyZW1lbnRhbCgpKSxibG9ja0luZGV4Oi0xLHN0ZXA6TWF0aC5yb3VuZChlfHw3MDApLGNvdW50OjB9KSxLYyhuLHQsdC5kYXRhVGFzayl9KX0sQmMucHJlcGFyZVN0YWdlVGFza3M9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLl9zdGFnZVRhc2tNYXAsbj10aGlzLmVjSW5zdGFuY2UuZ2V0TW9kZWwoKSxvPXRoaXMuYXBpO1IodGhpcy5fYWxsSGFuZGxlcnMsZnVuY3Rpb24odCl7dmFyIGU9aS5nZXQodC51aWQpfHxpLnNldCh0LnVpZCxbXSk7dC5yZXNldCYmZnVuY3Rpb24obixvLHQsYSxyKXt2YXIgcz10LnNlcmllc1Rhc2tNYXB8fCh0LnNlcmllc1Rhc2tNYXA9USgpKSxlPW8uc2VyaWVzVHlwZSxpPW8uZ2V0VGFyZ2V0U2VyaWVzO28uY3JlYXRlT25BbGxTZXJpZXM/YS5lYWNoUmF3U2VyaWVzKGwpOmU/YS5lYWNoUmF3U2VyaWVzQnlUeXBlKGUsbCk6aSYmaShhLHIpLmVhY2gobCk7ZnVuY3Rpb24gbCh0KXt2YXIgZT10LnVpZCxpPXMuZ2V0KGUpfHxzLnNldChlLFloKHtwbGFuOlVjLHJlc2V0OlhjLGNvdW50OnFjfSkpO2kuY29udGV4dD17bW9kZWw6dCxlY01vZGVsOmEsYXBpOnIsdXNlQ2xlYXJWaXN1YWw6by5pc1Zpc3VhbCYmIW8uaXNMYXlvdXQscGxhbjpvLnBsYW4scmVzZXQ6by5yZXNldCxzY2hlZHVsZXI6bn0sS2Mobix0LGkpfXZhciB1PW4uX3BpcGVsaW5lTWFwO3MuZWFjaChmdW5jdGlvbih0LGUpe3UuZ2V0KGUpfHwodC5kaXNwb3NlKCkscy5yZW1vdmVLZXkoZSkpfSl9KHRoaXMsdCxlLG4sbyksdC5vdmVyYWxsUmVzZXQmJmZ1bmN0aW9uKG4sdCxlLGksbyl7dmFyIGE9ZS5vdmVyYWxsVGFzaz1lLm92ZXJhbGxUYXNrfHxZaCh7cmVzZXQ6RmN9KTthLmNvbnRleHQ9e2VjTW9kZWw6aSxhcGk6byxvdmVyYWxsUmVzZXQ6dC5vdmVyYWxsUmVzZXQsc2NoZWR1bGVyOm59O3ZhciByPWEuYWdlbnRTdHViTWFwPWEuYWdlbnRTdHViTWFwfHxRKCkscz10LnNlcmllc1R5cGUsbD10LmdldFRhcmdldFNlcmllcyx1PSEwLGg9dC5tb2RpZnlPdXRwdXRFbmQ7cz9pLmVhY2hSYXdTZXJpZXNCeVR5cGUocyxjKTpsP2woaSxvKS5lYWNoKGMpOih1PSExLFIoaS5nZXRTZXJpZXMoKSxjKSk7ZnVuY3Rpb24gYyh0KXt2YXIgZT10LnVpZCxpPXIuZ2V0KGUpO2l8fChpPXIuc2V0KGUsWWgoe3Jlc2V0OldjLG9uRGlydHk6WmN9KSksYS5kaXJ0eSgpKSxpLmNvbnRleHQ9e21vZGVsOnQsb3ZlcmFsbFByb2dyZXNzOnUsbW9kaWZ5T3V0cHV0RW5kOmh9LGkuYWdlbnQ9YSxpLl9fYmxvY2s9dSxLYyhuLHQsaSl9dmFyIGQ9bi5fcGlwZWxpbmVNYXA7ci5lYWNoKGZ1bmN0aW9uKHQsZSl7ZC5nZXQoZSl8fCh0LmRpc3Bvc2UoKSxhLmRpcnR5KCksci5yZW1vdmVLZXkoZSkpfSl9KHRoaXMsdCxlLG4sbyl9LHRoaXMpfSxCYy5wcmVwYXJlVmlldz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LnJlbmRlclRhc2ssYT1vLmNvbnRleHQ7YS5tb2RlbD1lLGEuZWNNb2RlbD1pLGEuYXBpPW4sby5fX2Jsb2NrPSF0LmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcixLYyh0aGlzLGUsbyl9LEJjLnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3M9ZnVuY3Rpb24odCxlKXtWYyh0aGlzLHRoaXMuX2RhdGFQcm9jZXNzb3JIYW5kbGVycyx0LGUse2Jsb2NrOiEwfSl9LEJjLnBlcmZvcm1WaXN1YWxUYXNrcz1mdW5jdGlvbih0LGUsaSl7VmModGhpcyx0aGlzLl92aXN1YWxIYW5kbGVycyx0LGUsaSl9LEJjLnBlcmZvcm1TZXJpZXNUYXNrcz1mdW5jdGlvbih0KXt2YXIgZTt0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7ZXw9dC5kYXRhVGFzay5wZXJmb3JtKCl9KSx0aGlzLnVuZmluaXNoZWR8PWV9LEJjLnBsYW49ZnVuY3Rpb24oKXt0aGlzLl9waXBlbGluZU1hcC5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQudGFpbDtkb3tpZihlLl9fYmxvY2spe3QuYmxvY2tJbmRleD1lLl9faWR4SW5QaXBlbGluZTticmVha31lPWUuZ2V0VXBzdHJlYW0oKX13aGlsZShlKX0pfTt2YXIgR2M9QmMudXBkYXRlUGF5bG9hZD1mdW5jdGlvbih0LGUpeyJyZW1haW4iIT09ZSYmKHQuY29udGV4dC5wYXlsb2FkPWUpfTtmdW5jdGlvbiBGYyh0KXt0Lm92ZXJhbGxSZXNldCh0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKX1mdW5jdGlvbiBXYyh0LGUpe3JldHVybiB0Lm92ZXJhbGxQcm9ncmVzcyYmSGN9ZnVuY3Rpb24gSGMoKXt0aGlzLmFnZW50LmRpcnR5KCksdGhpcy5nZXREb3duc3RyZWFtKCkuZGlydHkoKX1mdW5jdGlvbiBaYygpe3RoaXMuYWdlbnQmJnRoaXMuYWdlbnQuZGlydHkoKX1mdW5jdGlvbiBVYyh0KXtyZXR1cm4gdC5wbGFuJiZ0LnBsYW4odC5tb2RlbCx0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKX1mdW5jdGlvbiBYYyh0KXt0LnVzZUNsZWFyVmlzdWFsJiZ0LmRhdGEuY2xlYXJBbGxWaXN1YWwoKTt2YXIgZT10LnJlc2V0RGVmaW5lcz1Wbyh0LnJlc2V0KHQubW9kZWwsdC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCkpO3JldHVybiAxPGUubGVuZ3RoP08oZSxmdW5jdGlvbih0LGUpe3JldHVybiBqYyhlKX0pOlljfXZhciBZYz1qYygwKTtmdW5jdGlvbiBqYyhhKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT1lLmRhdGEsbj1lLnJlc2V0RGVmaW5lc1thXTtpZihuJiZuLmRhdGFFYWNoKWZvcih2YXIgbz10LnN0YXJ0O288dC5lbmQ7bysrKW4uZGF0YUVhY2goaSxvKTtlbHNlIG4mJm4ucHJvZ3Jlc3MmJm4ucHJvZ3Jlc3ModCxpKX19ZnVuY3Rpb24gcWModCl7cmV0dXJuIHQuZGF0YS5jb3VudCgpfWZ1bmN0aW9uIEtjKHQsZSxpKXt2YXIgbj1lLnVpZCxvPXQuX3BpcGVsaW5lTWFwLmdldChuKTtvLmhlYWR8fChvLmhlYWQ9aSksby50YWlsJiZvLnRhaWwucGlwZShpKSwoby50YWlsPWkpLl9faWR4SW5QaXBlbGluZT1vLmNvdW50KyssaS5fX3BpcGVsaW5lPW99RWMud3JhcFN0YWdlSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiBDKHQpJiYodD17b3ZlcmFsbFJlc2V0OnQsc2VyaWVzVHlwZTpmdW5jdGlvbih0KXskYz1udWxsO3RyeXt0KEpjLFFjKX1jYXRjaCh0KXt9cmV0dXJuICRjfSh0KX0pLHQudWlkPU5sKCJzdGFnZUhhbmRsZXIiKSxlJiYodC52aXN1YWxUeXBlPWUpLHR9O3ZhciAkYyxKYz17fSxRYz17fTtmdW5jdGlvbiB0ZCh0LGUpe2Zvcih2YXIgaSBpbiBlLnByb3RvdHlwZSl0W2ldPWV0fXRkKEpjLGloKSx0ZChRYyxyaCksSmMuZWFjaFNlcmllc0J5VHlwZT1KYy5lYWNoUmF3U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQpeyRjPXR9LEpjLmVhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7InNlcmllcyI9PT10Lm1haW5UeXBlJiZ0LnN1YlR5cGUmJigkYz10LnN1YlR5cGUpfTtmdW5jdGlvbiBlZCgpe3JldHVybntheGlzTGluZTp7bGluZVN0eWxlOntjb2xvcjpvZH19LGF4aXNUaWNrOntsaW5lU3R5bGU6e2NvbG9yOm9kfX0sYXhpc0xhYmVsOnt0ZXh0U3R5bGU6e2NvbG9yOm9kfX0sc3BsaXRMaW5lOntsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCIsY29sb3I6IiNhYWEifX0sc3BsaXRBcmVhOnthcmVhU3R5bGU6e2NvbG9yOm9kfX19fXZhciBpZD1bIiMzN0EyREEiLCIjMzJDNUU5IiwiIzY3RTBFMyIsIiM5RkU2QjgiLCIjRkZEQjVDIiwiI2ZmOWY3ZiIsIiNmYjcyOTMiLCIjRTA2MkFFIiwiI0U2OTBEMSIsIiNlN2JjZjMiLCIjOWQ5NmY1IiwiIzgzNzhFQSIsIiM5NkJGRkYiXSxuZD17Y29sb3I6aWQsY29sb3JMYXllcjpbWyIjMzdBMkRBIiwiI2ZmZDg1YyIsIiNmZDdiNWYiXSxbIiMzN0EyREEiLCIjNjdFMEUzIiwiI0ZGREI1QyIsIiNmZjlmN2YiLCIjRTA2MkFFIiwiIzlkOTZmNSJdLFsiIzM3QTJEQSIsIiMzMkM1RTkiLCIjOUZFNkI4IiwiI0ZGREI1QyIsIiNmZjlmN2YiLCIjZmI3MjkzIiwiI2U3YmNmMyIsIiM4Mzc4RUEiLCIjOTZCRkZGIl0saWRdfSxvZD0iI2VlZSIsYWQ9WyIjZGQ2YjY2IiwiIzc1OWFhMCIsIiNlNjlkODciLCIjOGRjMWE5IiwiI2VhN2U1MyIsIiNlZWRkNzgiLCIjNzNhMzczIiwiIzczYjliYyIsIiM3Mjg5YWIiLCIjOTFjYThjIiwiI2Y0OWY0MiJdLHJkPXtjb2xvcjphZCxiYWNrZ3JvdW5kQ29sb3I6IiMzMzMiLHRvb2x0aXA6e2F4aXNQb2ludGVyOntsaW5lU3R5bGU6e2NvbG9yOm9kfSxjcm9zc1N0eWxlOntjb2xvcjpvZH0sbGFiZWw6e2NvbG9yOiIjMDAwIn19fSxsZWdlbmQ6e3RleHRTdHlsZTp7Y29sb3I6b2R9fSx0ZXh0U3R5bGU6e2NvbG9yOm9kfSx0aXRsZTp7dGV4dFN0eWxlOntjb2xvcjpvZH19LHRvb2xib3g6e2ljb25TdHlsZTp7bm9ybWFsOntib3JkZXJDb2xvcjpvZH19fSxkYXRhWm9vbTp7dGV4dFN0eWxlOntjb2xvcjpvZH19LHZpc3VhbE1hcDp7dGV4dFN0eWxlOntjb2xvcjpvZH19LHRpbWVsaW5lOntsaW5lU3R5bGU6e2NvbG9yOm9kfSxpdGVtU3R5bGU6e25vcm1hbDp7Y29sb3I6YWRbMV19fSxsYWJlbDp7bm9ybWFsOnt0ZXh0U3R5bGU6e2NvbG9yOm9kfX19LGNvbnRyb2xTdHlsZTp7bm9ybWFsOntjb2xvcjpvZCxib3JkZXJDb2xvcjpvZH19fSx0aW1lQXhpczplZCgpLGxvZ0F4aXM6ZWQoKSx2YWx1ZUF4aXM6ZWQoKSxjYXRlZ29yeUF4aXM6ZWQoKSxsaW5lOntzeW1ib2w6ImNpcmNsZSJ9LGdyYXBoOntjb2xvcjphZH0sZ2F1Z2U6e3RpdGxlOnt0ZXh0U3R5bGU6e2NvbG9yOm9kfX19LGNhbmRsZXN0aWNrOntpdGVtU3R5bGU6e25vcm1hbDp7Y29sb3I6IiNGRDEwNTAiLGNvbG9yMDoiIzBDRjQ5QiIsYm9yZGVyQ29sb3I6IiNGRDEwNTAiLGJvcmRlckNvbG9yMDoiIzBDRjQ5QiJ9fX19O3JkLmNhdGVnb3J5QXhpcy5zcGxpdExpbmUuc2hvdz0hMSxrdS5leHRlbmQoe3R5cGU6ImRhdGFzZXQiLGRlZmF1bHRPcHRpb246e3Nlcmllc0xheW91dEJ5Okh1LHNvdXJjZUhlYWRlcjpudWxsLGRpbWVuc2lvbnM6bnVsbCxzb3VyY2U6bnVsbH0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpeyFmdW5jdGlvbih0KXt2YXIgZT10Lm9wdGlvbi5zb3VyY2UsaT1GdTtpZihWKGUpKWk9V3U7ZWxzZSBpZihMKGUpKXswPT09ZS5sZW5ndGgmJihpPUJ1KTtmb3IodmFyIG49MCxvPWUubGVuZ3RoO248bztuKyspe3ZhciBhPWVbbl07aWYobnVsbCE9YSl7aWYoTChhKSl7aT1CdTticmVha31pZihFKGEpKXtpPVZ1O2JyZWFrfX19fWVsc2UgaWYoRShlKSl7Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSYmTihlW3JdKSl7aT1HdTticmVha319ZWxzZSBpZihudWxsIT1lKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBkYXRhIik7WXUodCkuc291cmNlRm9ybWF0PWl9KHRoaXMpfX0pLGdjLmV4dGVuZCh7dHlwZToiZGF0YXNldCJ9KTt2YXIgc2Q9QXIuZXh0ZW5kKHt0eXBlOiJlbGxpcHNlIixzaGFwZTp7Y3g6MCxjeTowLHJ4OjAscnk6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5jeCxuPWUuY3ksbz1lLnJ4LGE9ZS5yeSxyPS41NTIyODQ4Km8scz0uNTUyMjg0OCphO3QubW92ZVRvKGktbyxuKSx0LmJlemllckN1cnZlVG8oaS1vLG4tcyxpLXIsbi1hLGksbi1hKSx0LmJlemllckN1cnZlVG8oaStyLG4tYSxpK28sbi1zLGkrbyxuKSx0LmJlemllckN1cnZlVG8oaStvLG4rcyxpK3IsbithLGksbithKSx0LmJlemllckN1cnZlVG8oaS1yLG4rYSxpLW8sbitzLGktbyxuKSx0LmNsb3NlUGF0aCgpfX0pLGxkPS9bXHMsXSsvO2Z1bmN0aW9uIHVkKHQpe3oodCkmJih0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC94bWwiKSk7Zm9yKDk9PT10Lm5vZGVUeXBlJiYodD10LmZpcnN0Q2hpbGQpOyJzdmciIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHwxIT09dC5ub2RlVHlwZTspdD10Lm5leHRTaWJsaW5nO3JldHVybiB0fWZ1bmN0aW9uIGhkKCl7dGhpcy5fZGVmcz17fSx0aGlzLl9yb290PW51bGwsdGhpcy5faXNEZWZpbmU9ITEsdGhpcy5faXNUZXh0PSExfWhkLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIGk9dWQodCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHN2ZyIpO3ZhciBuPW5ldyBDaTt0aGlzLl9yb290PW47dmFyIG89aS5nZXRBdHRyaWJ1dGUoInZpZXdCb3giKXx8IiIsYT1wYXJzZUZsb2F0KGkuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpfHxlLndpZHRoKSxyPXBhcnNlRmxvYXQoaS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfHxlLmhlaWdodCk7aXNOYU4oYSkmJihhPW51bGwpLGlzTmFOKHIpJiYocj1udWxsKSxtZChpLG4sbnVsbCwhMCk7Zm9yKHZhciBzLGwsdT1pLmZpcnN0Q2hpbGQ7dTspdGhpcy5fcGFyc2VOb2RlKHUsbiksdT11Lm5leHRTaWJsaW5nO2lmKG8pe3ZhciBoPWoobykuc3BsaXQobGQpOzQ8PWgubGVuZ3RoJiYocz17eDpwYXJzZUZsb2F0KGhbMF18fDApLHk6cGFyc2VGbG9hdChoWzFdfHwwKSx3aWR0aDpwYXJzZUZsb2F0KGhbMl0pLGhlaWdodDpwYXJzZUZsb2F0KGhbM10pfSl9aWYocyYmbnVsbCE9YSYmbnVsbCE9ciYmKGw9d2QocyxhLHIpLCFlLmlnbm9yZVZpZXdCb3gpKXt2YXIgYz1uOyhuPW5ldyBDaSkuYWRkKGMpLGMuc2NhbGU9bC5zY2FsZS5zbGljZSgpLGMucG9zaXRpb249bC5wb3NpdGlvbi5zbGljZSgpfXJldHVybiBlLmlnbm9yZVJvb3RDbGlwfHxudWxsPT1hfHxudWxsPT1yfHxuLnNldENsaXBQYXRoKG5ldyBycyh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6YSxoZWlnaHQ6cn19KSkse3Jvb3Q6bix3aWR0aDphLGhlaWdodDpyLHZpZXdCb3hSZWN0OnMsdmlld0JveFRyYW5zZm9ybTpsfX0saGQucHJvdG90eXBlLl9wYXJzZU5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKCJkZWZzIj09PW8/dGhpcy5faXNEZWZpbmU9ITA6InRleHQiPT09byYmKHRoaXMuX2lzVGV4dD0hMCksdGhpcy5faXNEZWZpbmUpe2lmKG49ZGRbb10pe3ZhciBhPW4uY2FsbCh0aGlzLHQpLHI9dC5nZXRBdHRyaWJ1dGUoImlkIik7ciYmKHRoaXMuX2RlZnNbcl09YSl9fWVsc2Uobj1jZFtvXSkmJihpPW4uY2FsbCh0aGlzLHQsZSksZS5hZGQoaSkpO2Zvcih2YXIgcz10LmZpcnN0Q2hpbGQ7czspMT09PXMubm9kZVR5cGUmJnRoaXMuX3BhcnNlTm9kZShzLGkpLDM9PT1zLm5vZGVUeXBlJiZ0aGlzLl9pc1RleHQmJnRoaXMuX3BhcnNlVGV4dChzLGkpLHM9cy5uZXh0U2libGluZzsiZGVmcyI9PT1vP3RoaXMuX2lzRGVmaW5lPSExOiJ0ZXh0Ij09PW8mJih0aGlzLl9pc1RleHQ9ITEpfSxoZC5wcm90b3R5cGUuX3BhcnNlVGV4dD1mdW5jdGlvbih0LGUpe2lmKDE9PT10Lm5vZGVUeXBlKXt2YXIgaT10LmdldEF0dHJpYnV0ZSgiZHgiKXx8MCxuPXQuZ2V0QXR0cmlidXRlKCJkeSIpfHwwO3RoaXMuX3RleHRYKz1wYXJzZUZsb2F0KGkpLHRoaXMuX3RleHRZKz1wYXJzZUZsb2F0KG4pfXZhciBvPW5ldyBVcih7c3R5bGU6e3RleHQ6dC50ZXh0Q29udGVudCx0cmFuc2Zvcm1UZXh0OiEwfSxwb3NpdGlvbjpbdGhpcy5fdGV4dFh8fDAsdGhpcy5fdGV4dFl8fDBdfSk7ZmQoZSxvKSxtZCh0LG8sdGhpcy5fZGVmcyk7dmFyIGE9by5zdHlsZS5mb250U2l6ZTthJiZhPDkmJihvLnN0eWxlLmZvbnRTaXplPTksby5zY2FsZT1vLnNjYWxlfHxbMSwxXSxvLnNjYWxlWzBdKj1hLzksby5zY2FsZVsxXSo9YS85KTt2YXIgcj1vLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiB0aGlzLl90ZXh0WCs9ci53aWR0aCxlLmFkZChvKSxvfTt2YXIgY2Q9e2c6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgQ2k7cmV0dXJuIGZkKGUsaSksbWQodCxpLHRoaXMuX2RlZnMpLGl9LHJlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcnM7cmV0dXJuIGZkKGUsaSksbWQodCxpLHRoaXMuX2RlZnMpLGkuc2V0U2hhcGUoe3g6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieCIpfHwwKSx5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoInkiKXx8MCksd2lkdGg6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgid2lkdGgiKXx8MCksaGVpZ2h0OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfHwwKX0pLGl9LGNpcmNsZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBZcjtyZXR1cm4gZmQoZSxpKSxtZCh0LGksdGhpcy5fZGVmcyksaS5zZXRTaGFwZSh7Y3g6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgiY3giKXx8MCksY3k6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgiY3kiKXx8MCkscjpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyIil8fDApfSksaX0sbGluZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBscztyZXR1cm4gZmQoZSxpKSxtZCh0LGksdGhpcy5fZGVmcyksaS5zZXRTaGFwZSh7eDE6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieDEiKXx8MCkseTE6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieTEiKXx8MCkseDI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieDIiKXx8MCkseTI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieTIiKXx8MCl9KSxpfSxlbGxpcHNlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHNkO3JldHVybiBmZChlLGkpLG1kKHQsaSx0aGlzLl9kZWZzKSxpLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwwKSxjeTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeSIpfHwwKSxyeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyeCIpfHwwKSxyeTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyeSIpfHwwKX0pLGl9LHBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEF0dHJpYnV0ZSgicG9pbnRzIik7aT1pJiZwZChpKTt2YXIgbj1uZXcgUXIoe3NoYXBlOntwb2ludHM6aXx8W119fSk7cmV0dXJuIGZkKGUsbiksbWQodCxuLHRoaXMuX2RlZnMpLG59LHBvbHlsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IEFyO2ZkKGUsaSksbWQodCxpLHRoaXMuX2RlZnMpO3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJwb2ludHMiKTtyZXR1cm4gbj1uJiZwZChuKSxuZXcgdHMoe3NoYXBlOntwb2ludHM6bnx8W119fSl9LGltYWdlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IFFuO3JldHVybiBmZChlLGkpLG1kKHQsaSx0aGlzLl9kZWZzKSxpLnNldFN0eWxlKHtpbWFnZTp0LmdldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIpLHg6dC5nZXRBdHRyaWJ1dGUoIngiKSx5OnQuZ2V0QXR0cmlidXRlKCJ5Iiksd2lkdGg6dC5nZXRBdHRyaWJ1dGUoIndpZHRoIiksaGVpZ2h0OnQuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKX0pLGl9LHRleHQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEF0dHJpYnV0ZSgieCIpfHwwLG49dC5nZXRBdHRyaWJ1dGUoInkiKXx8MCxvPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwwLGE9dC5nZXRBdHRyaWJ1dGUoImR5Iil8fDA7dGhpcy5fdGV4dFg9cGFyc2VGbG9hdChpKStwYXJzZUZsb2F0KG8pLHRoaXMuX3RleHRZPXBhcnNlRmxvYXQobikrcGFyc2VGbG9hdChhKTt2YXIgcj1uZXcgQ2k7cmV0dXJuIGZkKGUsciksbWQodCxyLHRoaXMuX2RlZnMpLHJ9LHRzcGFuOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRBdHRyaWJ1dGUoIngiKSxuPXQuZ2V0QXR0cmlidXRlKCJ5Iik7bnVsbCE9aSYmKHRoaXMuX3RleHRYPXBhcnNlRmxvYXQoaSkpLG51bGwhPW4mJih0aGlzLl90ZXh0WT1wYXJzZUZsb2F0KG4pKTt2YXIgbz10LmdldEF0dHJpYnV0ZSgiZHgiKXx8MCxhPXQuZ2V0QXR0cmlidXRlKCJkeSIpfHwwLHI9bmV3IENpO3JldHVybiBmZChlLHIpLG1kKHQscix0aGlzLl9kZWZzKSx0aGlzLl90ZXh0WCs9byx0aGlzLl90ZXh0WSs9YSxyfSxwYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9WnIodC5nZXRBdHRyaWJ1dGUoImQiKXx8IiIpO3JldHVybiBmZChlLGkpLG1kKHQsaSx0aGlzLl9kZWZzKSxpfX0sZGQ9e2xpbmVhcmdyYWRpZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ4MSIpfHwwLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ5MSIpfHwwLDEwKSxuPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ4MiIpfHwxMCwxMCksbz1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgieTIiKXx8MCwxMCksYT1uZXcgZ3MoZSxpLG4sbyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5maXJzdENoaWxkO2Zvcig7aTspe2lmKDE9PT1pLm5vZGVUeXBlKXt2YXIgbj1pLmdldEF0dHJpYnV0ZSgib2Zmc2V0Iik7bj0wPG4uaW5kZXhPZigiJSIpP3BhcnNlSW50KG4sMTApLzEwMDpuP3BhcnNlRmxvYXQobik6MDt2YXIgbz1pLmdldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIpfHwiIzAwMDAwMCI7ZS5hZGRDb2xvclN0b3AobixvKX1pPWkubmV4dFNpYmxpbmd9fSh0LGEpLGF9LHJhZGlhbGdyYWRpZW50OmZ1bmN0aW9uKHQpe319O2Z1bmN0aW9uIGZkKHQsZSl7dCYmdC5fX2luaGVyaXRlZFN0eWxlJiYoZS5fX2luaGVyaXRlZFN0eWxlfHwoZS5fX2luaGVyaXRlZFN0eWxlPXt9KSxEKGUuX19pbmhlcml0ZWRTdHlsZSx0Ll9faW5oZXJpdGVkU3R5bGUpKX1mdW5jdGlvbiBwZCh0KXtmb3IodmFyIGU9aih0KS5zcGxpdChsZCksaT1bXSxuPTA7bjxlLmxlbmd0aDtuKz0yKXt2YXIgbz1wYXJzZUZsb2F0KGVbbl0pLGE9cGFyc2VGbG9hdChlW24rMV0pO2kucHVzaChbbyxhXSl9cmV0dXJuIGl9dmFyIGdkPXtmaWxsOiJmaWxsIixzdHJva2U6InN0cm9rZSIsInN0cm9rZS13aWR0aCI6ImxpbmVXaWR0aCIsb3BhY2l0eToib3BhY2l0eSIsImZpbGwtb3BhY2l0eSI6ImZpbGxPcGFjaXR5Iiwic3Ryb2tlLW9wYWNpdHkiOiJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlLWRhc2hhcnJheSI6ImxpbmVEYXNoIiwic3Ryb2tlLWRhc2hvZmZzZXQiOiJsaW5lRGFzaE9mZnNldCIsInN0cm9rZS1saW5lY2FwIjoibGluZUNhcCIsInN0cm9rZS1saW5lam9pbiI6ImxpbmVKb2luIiwic3Ryb2tlLW1pdGVybGltaXQiOiJtaXRlckxpbWl0IiwiZm9udC1mYW1pbHkiOiJmb250RmFtaWx5IiwiZm9udC1zaXplIjoiZm9udFNpemUiLCJmb250LXN0eWxlIjoiZm9udFN0eWxlIiwiZm9udC13ZWlnaHQiOiJmb250V2VpZ2h0IiwidGV4dC1hbGlnbiI6InRleHRBbGlnbiIsImFsaWdubWVudC1iYXNlbGluZSI6InRleHRCYXNlbGluZSJ9O2Z1bmN0aW9uIG1kKHQsZSxpLG4pe3ZhciBvPWUuX19pbmhlcml0ZWRTdHlsZXx8e30sYT0idGV4dCI9PT1lLnR5cGU7aWYoMT09PXQubm9kZVR5cGUmJihmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKTtpZihpKXtpPWkucmVwbGFjZSgvLC9nLCIgIik7dmFyIG49bnVsbCxvPVtdO2kucmVwbGFjZSh4ZCxmdW5jdGlvbih0LGUsaSl7by5wdXNoKGUsaSl9KTtmb3IodmFyIGE9by5sZW5ndGgtMTswPGE7YS09Mil7dmFyIHI9b1thXSxzPW9bYS0xXTtzd2l0Y2gobj1ufHxhZSgpLHMpe2Nhc2UidHJhbnNsYXRlIjpyPWoocikuc3BsaXQobGQpLHVlKG4sbixbcGFyc2VGbG9hdChyWzBdKSxwYXJzZUZsb2F0KHJbMV18fDApXSk7YnJlYWs7Y2FzZSJzY2FsZSI6cj1qKHIpLnNwbGl0KGxkKSxjZShuLG4sW3BhcnNlRmxvYXQoclswXSkscGFyc2VGbG9hdChyWzFdfHxyWzBdKV0pO2JyZWFrO2Nhc2Uicm90YXRlIjpyPWoocikuc3BsaXQobGQpLGhlKG4sbixwYXJzZUZsb2F0KHJbMF0pKTticmVhaztjYXNlInNrZXciOnI9aihyKS5zcGxpdChsZCksY29uc29sZS53YXJuKCJTa2V3IHRyYW5zZm9ybSBpcyBub3Qgc3VwcG9ydGVkIHlldCIpO2JyZWFrO2Nhc2UibWF0cml4IjpyPWoocikuc3BsaXQobGQpO25bMF09cGFyc2VGbG9hdChyWzBdKSxuWzFdPXBhcnNlRmxvYXQoclsxXSksblsyXT1wYXJzZUZsb2F0KHJbMl0pLG5bM109cGFyc2VGbG9hdChyWzNdKSxuWzRdPXBhcnNlRmxvYXQocls0XSksbls1XT1wYXJzZUZsb2F0KHJbNV0pfX1lLnNldExvY2FsVHJhbnNmb3JtKG4pfX0odCxlKSxQKG8sZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRBdHRyaWJ1dGUoInN0eWxlIiksaT17fTtpZighZSlyZXR1cm4gaTt2YXIgbixvPXt9O19kLmxhc3RJbmRleD0wO2Zvcig7bnVsbCE9KG49X2QuZXhlYyhlKSk7KW9bblsxXV09blsyXTtmb3IodmFyIGEgaW4gZ2QpZ2QuaGFzT3duUHJvcGVydHkoYSkmJm51bGwhPW9bYV0mJihpW2dkW2FdXT1vW2FdKTtyZXR1cm4gaX0odCkpLCFuKSlmb3IodmFyIHIgaW4gZ2QpaWYoZ2QuaGFzT3duUHJvcGVydHkocikpe3ZhciBzPXQuZ2V0QXR0cmlidXRlKHIpO251bGwhPXMmJihvW2dkW3JdXT1zKX12YXIgbD1hPyJ0ZXh0RmlsbCI6ImZpbGwiLHU9YT8idGV4dFN0cm9rZSI6InN0cm9rZSI7ZS5zdHlsZT1lLnN0eWxlfHxuZXcgVWk7dmFyIGg9ZS5zdHlsZTtudWxsIT1vLmZpbGwmJmguc2V0KGwseWQoby5maWxsLGkpKSxudWxsIT1vLnN0cm9rZSYmaC5zZXQodSx5ZChvLnN0cm9rZSxpKSksUihbImxpbmVXaWR0aCIsIm9wYWNpdHkiLCJmaWxsT3BhY2l0eSIsInN0cm9rZU9wYWNpdHkiLCJtaXRlckxpbWl0IiwiZm9udFNpemUiXSxmdW5jdGlvbih0KXt2YXIgZT0ibGluZVdpZHRoIj09PXQmJmE/InRleHRTdHJva2VXaWR0aCI6dDtudWxsIT1vW3RdJiZoLnNldChlLHBhcnNlRmxvYXQob1t0XSkpfSksby50ZXh0QmFzZWxpbmUmJiJhdXRvIiE9PW8udGV4dEJhc2VsaW5lfHwoby50ZXh0QmFzZWxpbmU9ImFscGhhYmV0aWMiKSwiYWxwaGFiZXRpYyI9PT1vLnRleHRCYXNlbGluZSYmKG8udGV4dEJhc2VsaW5lPSJib3R0b20iKSwic3RhcnQiPT09by50ZXh0QWxpZ24mJihvLnRleHRBbGlnbj0ibGVmdCIpLCJlbmQiPT09by50ZXh0QWxpZ24mJihvLnRleHRBbGlnbj0icmlnaHQiKSxSKFsibGluZURhc2hPZmZzZXQiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSJdLGZ1bmN0aW9uKHQpe251bGwhPW9bdF0mJmguc2V0KHQsb1t0XSl9KSxvLmxpbmVEYXNoJiYoZS5zdHlsZS5saW5lRGFzaD1qKG8ubGluZURhc2gpLnNwbGl0KGxkKSksaFt1XSYmIm5vbmUiIT09aFt1XSYmKGVbdV09ITApLGUuX19pbmhlcml0ZWRTdHlsZT1vfXZhciB2ZD0vdXJsXChccyojKC4qPylcKS87ZnVuY3Rpb24geWQodCxlKXt2YXIgaT1lJiZ0JiZ0Lm1hdGNoKHZkKTtyZXR1cm4gaT9lW2ooaVsxXSldOnR9dmFyIHhkPS8odHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3WHxza2V3WXxtYXRyaXgpXCgoW1wtXHMwLTlcLmUsXSopXCkvZzt2YXIgX2Q9LyhbXlxzOjtdKylccyo6XHMqKFteOjtdKykvZztmdW5jdGlvbiB3ZCh0LGUsaSl7dmFyIG49ZS90LndpZHRoLG89aS90LmhlaWdodCxhPU1hdGgubWluKG4sbyk7cmV0dXJue3NjYWxlOlthLGFdLHBvc2l0aW9uOlstKHQueCt0LndpZHRoLzIpKmErZS8yLC0odC55K3QuaGVpZ2h0LzIpKmEraS8yXX19dmFyIGJkPVEoKSxTZD17cmVnaXN0ZXJNYXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBuO3JldHVybiBSKG49TChlKT9lOmUuc3ZnP1t7dHlwZToic3ZnIixzb3VyY2U6ZS5zdmcsc3BlY2lhbEFyZWFzOmUuc3BlY2lhbEFyZWFzfV06KGUuZ2VvSnNvbiYmIWUuZmVhdHVyZXMmJihpPWUuc3BlY2lhbEFyZWFzLGU9ZS5nZW9Kc29uKSxbe3R5cGU6Imdlb0pTT04iLHNvdXJjZTplLHNwZWNpYWxBcmVhczppfV0pLGZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTsiZ2VvSnNvbiI9PT1lJiYoZT10LnR5cGU9Imdlb0pTT04iKSwoMCxNZFtlXSkodCl9KSxiZC5zZXQodCxuKX0scmV0cmlldmVNYXA6ZnVuY3Rpb24odCl7cmV0dXJuIGJkLmdldCh0KX19LE1kPXtnZW9KU09OOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc291cmNlO3QuZ2VvSlNPTj16KGUpPyJ1bmRlZmluZWQiIT10eXBlb2YgSlNPTiYmSlNPTi5wYXJzZT9KU09OLnBhcnNlKGUpOm5ldyBGdW5jdGlvbigicmV0dXJuICgiK2UrIik7IikoKTplfSxzdmc6ZnVuY3Rpb24odCl7dC5zdmdYTUw9dWQodC5zb3VyY2UpfX0sSWQ9WSxUZD1SLEFkPUMsRGQ9RSxDZD1rdS5wYXJzZUNsYXNzVHlwZSxMZD17UFJPQ0VTU09SOntGSUxURVI6MWUzLFNFUklFU19GSUxURVI6ODAwLFNUQVRJU1RJQzo1ZTN9LFZJU1VBTDp7TEFZT1VUOjFlMyxQUk9HUkVTU0lWRV9MQVlPVVQ6MTEwMCxHTE9CQUw6MmUzLENIQVJUOjNlMyxQT1NUX0NIQVJUX0xBWU9VVDozNTAwLENPTVBPTkVOVDo0ZTMsQlJVU0g6NWUzfX0sa2Q9Il9fZmxhZ0luTWFpblByb2Nlc3MiLFBkPSJfX29wdGlvblVwZGF0ZWQiLE5kPS9eW2EtekEtWjAtOV9dKyQvO2Z1bmN0aW9uIE9kKG4sbyl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXshbyYmdGhpcy5fZGlzcG9zZWR8fCh0PXQmJnQudG9Mb3dlckNhc2UoKSxDdC5wcm90b3R5cGVbbl0uY2FsbCh0aGlzLHQsZSxpKSl9fWZ1bmN0aW9uIFJkKCl7Q3QuY2FsbCh0aGlzKX1mdW5jdGlvbiB6ZCh0LGUsaSl7aT1pfHx7fSwic3RyaW5nIj09dHlwZW9mIGUmJihlPXNmW2VdKSx0aGlzLmlkLHRoaXMuZ3JvdXAsdGhpcy5fZG9tPXQ7dmFyIG49dGhpcy5fenI9a28odCx7cmVuZGVyZXI6aS5yZW5kZXJlcnx8ImNhbnZhcyIsZGV2aWNlUGl4ZWxSYXRpbzppLmRldmljZVBpeGVsUmF0aW8sd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9KTt0aGlzLl90aHJvdHRsZWRackZsdXNoPUxjKEEobi5mbHVzaCxuKSwxNyksKGU9ayhlKSkmJkxoKGUsITApLHRoaXMuX3RoZW1lPWUsdGhpcy5fY2hhcnRzVmlld3M9W10sdGhpcy5fY2hhcnRzTWFwPXt9LHRoaXMuX2NvbXBvbmVudHNWaWV3cz1bXSx0aGlzLl9jb21wb25lbnRzTWFwPXt9LHRoaXMuX2Nvb3JkU3lzTWdyPW5ldyBsaDt2YXIgbz10aGlzLl9hcGk9ZnVuY3Rpb24oaSl7dmFyIHQ9aS5fY29vcmRTeXNNZ3I7cmV0dXJuIFAobmV3IHJoKGkpLHtnZXRDb29yZGluYXRlU3lzdGVtczpBKHQuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMsdCksZ2V0Q29tcG9uZW50QnlFbGVtZW50OmZ1bmN0aW9uKHQpe2Zvcig7dDspe3ZhciBlPXQuX19lY0NvbXBvbmVudEluZm87aWYobnVsbCE9ZSlyZXR1cm4gaS5fbW9kZWwuZ2V0Q29tcG9uZW50KGUubWFpblR5cGUsZS5pbmRleCk7dD10LnBhcmVudH19fSl9KHRoaXMpO2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4gdC5fX3ByaW8tZS5fX3ByaW99RWkocmYsYSksRWkobmYsYSksdGhpcy5fc2NoZWR1bGVyPW5ldyBFYyh0aGlzLG8sbmYscmYpLEN0LmNhbGwodGhpcyx0aGlzLl9lY0V2ZW50UHJvY2Vzc29yPW5ldyBRZCksdGhpcy5fbWVzc2FnZUNlbnRlcj1uZXcgUmQsdGhpcy5faW5pdEV2ZW50cygpLHRoaXMucmVzaXplPUEodGhpcy5yZXNpemUsdGhpcyksdGhpcy5fcGVuZGluZ0FjdGlvbnM9W10sbi5hbmltYXRpb24ub24oImZyYW1lIix0aGlzLl9vbmZyYW1lLHRoaXMpLGZ1bmN0aW9uKHQsZSl7dC5vbigicmVuZGVyZWQiLGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKCJyZW5kZXJlZCIpLCF0LmFuaW1hdGlvbi5pc0ZpbmlzaGVkKCl8fGVbUGRdfHxlLl9zY2hlZHVsZXIudW5maW5pc2hlZHx8ZS5fcGVuZGluZ0FjdGlvbnMubGVuZ3RofHxlLnRyaWdnZXIoImZpbmlzaGVkIil9KX0obix0aGlzKSxLKHRoaXMpfVJkLnByb3RvdHlwZS5vbj1PZCgib24iLCEwKSxSZC5wcm90b3R5cGUub2ZmPU9kKCJvZmYiLCEwKSxSZC5wcm90b3R5cGUub25lPU9kKCJvbmUiLCEwKSxiKFJkLEN0KTt2YXIgRWQ9emQucHJvdG90eXBlO2Z1bmN0aW9uIEJkKHQsZSxpKXtpZighdGhpcy5fZGlzcG9zZWQpe3ZhciBuLG89dGhpcy5fbW9kZWwsYT10aGlzLl9jb29yZFN5c01nci5nZXRDb29yZGluYXRlU3lzdGVtcygpO2U9S28obyxlKTtmb3IodmFyIHI9MDtyPGEubGVuZ3RoO3IrKyl7dmFyIHM9YVtyXTtpZihzW3RdJiZudWxsIT0obj1zW3RdKG8sZSxpKSkpcmV0dXJuIG59fX1FZC5fb25mcmFtZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dmFyIHQ9dGhpcy5fc2NoZWR1bGVyO2lmKHRoaXNbUGRdKXt2YXIgZT10aGlzW1BkXS5zaWxlbnQ7dGhpc1trZF09ITAsR2QodGhpcyksVmQudXBkYXRlLmNhbGwodGhpcyksdGhpc1trZF09ITEsdGhpc1tQZF09ITEsWmQuY2FsbCh0aGlzLGUpLFVkLmNhbGwodGhpcyxlKX1lbHNlIGlmKHQudW5maW5pc2hlZCl7dmFyIGk9MSxuPXRoaXMuX21vZGVsLG89dGhpcy5fYXBpO3QudW5maW5pc2hlZD0hMTtkb3t2YXIgYT0rbmV3IERhdGU7dC5wZXJmb3JtU2VyaWVzVGFza3MobiksdC5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzKG4pLFdkKHRoaXMsbiksdC5wZXJmb3JtVmlzdWFsVGFza3MobikscWQodGhpcyx0aGlzLl9tb2RlbCxvLCJyZW1haW4iKSxpLT0rbmV3IERhdGUtYX13aGlsZSgwPGkmJnQudW5maW5pc2hlZCk7dC51bmZpbmlzaGVkfHx0aGlzLl96ci5mbHVzaCgpfX19LEVkLmdldERvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb219LEVkLmdldFpyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyfSxFZC5zZXRPcHRpb249ZnVuY3Rpb24odCxlLGkpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dmFyIG47aWYoRGQoZSkmJihpPWUubGF6eVVwZGF0ZSxuPWUuc2lsZW50LGU9ZS5ub3RNZXJnZSksdGhpc1trZF09ITAsIXRoaXMuX21vZGVsfHxlKXt2YXIgbz1uZXcgcGgodGhpcy5fYXBpKSxhPXRoaXMuX3RoZW1lLHI9dGhpcy5fbW9kZWw9bmV3IGloO3Iuc2NoZWR1bGVyPXRoaXMuX3NjaGVkdWxlcixyLmluaXQobnVsbCxudWxsLGEsbyl9dGhpcy5fbW9kZWwuc2V0T3B0aW9uKHQsb2YpLGk/KHRoaXNbUGRdPXtzaWxlbnQ6bn0sdGhpc1trZF09ITEpOihHZCh0aGlzKSxWZC51cGRhdGUuY2FsbCh0aGlzKSx0aGlzLl96ci5mbHVzaCgpLHRoaXNbUGRdPSExLHRoaXNba2RdPSExLFpkLmNhbGwodGhpcyxuKSxVZC5jYWxsKHRoaXMsbikpfX0sRWQuc2V0VGhlbWU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJFQ2hhcnRzI3NldFRoZW1lKCkgaXMgREVQUkVDQVRFRCBpbiBFQ2hhcnRzIDMuMCIpfSxFZC5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sRWQuZ2V0T3B0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsJiZ0aGlzLl9tb2RlbC5nZXRPcHRpb24oKX0sRWQuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIuZ2V0V2lkdGgoKX0sRWQuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLmdldEhlaWdodCgpfSxFZC5nZXREZXZpY2VQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLnBhaW50ZXIuZHByfHx3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MX0sRWQuZ2V0UmVuZGVyZWRDYW52YXM9ZnVuY3Rpb24odCl7aWYodi5jYW52YXNTdXBwb3J0ZWQpcmV0dXJuKHQ9dHx8e30pLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvfHwxLHQuYmFja2dyb3VuZENvbG9yPXQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9tb2RlbC5nZXQoImJhY2tncm91bmRDb2xvciIpLHRoaXMuX3pyLnBhaW50ZXIuZ2V0UmVuZGVyZWRDYW52YXModCl9LEVkLmdldFN2Z0RhdGFVUkw9ZnVuY3Rpb24oKXtpZih2LnN2Z1N1cHBvcnRlZCl7dmFyIHQ9dGhpcy5fenI7cmV0dXJuIFIodC5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksZnVuY3Rpb24odCl7dC5zdG9wQW5pbWF0aW9uKCEwKX0pLHQucGFpbnRlci50b0RhdGFVUkwoKX19LEVkLmdldERhdGFVUkw9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Rpc3Bvc2VkKXt2YXIgZT0odD10fHx7fSkuZXhjbHVkZUNvbXBvbmVudHMsaT10aGlzLl9tb2RlbCxuPVtdLG89dGhpcztUZChlLGZ1bmN0aW9uKHQpe2kuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6dH0sZnVuY3Rpb24odCl7dmFyIGU9by5fY29tcG9uZW50c01hcFt0Ll9fdmlld0lkXTtlLmdyb3VwLmlnbm9yZXx8KG4ucHVzaChlKSxlLmdyb3VwLmlnbm9yZT0hMCl9KX0pO3ZhciBhPSJzdmciPT09dGhpcy5fenIucGFpbnRlci5nZXRUeXBlKCk/dGhpcy5nZXRTdmdEYXRhVVJMKCk6dGhpcy5nZXRSZW5kZXJlZENhbnZhcyh0KS50b0RhdGFVUkwoImltYWdlLyIrKHQmJnQudHlwZXx8InBuZyIpKTtyZXR1cm4gVGQobixmdW5jdGlvbih0KXt0Lmdyb3VwLmlnbm9yZT0hMX0pLGF9fSxFZC5nZXRDb25uZWN0ZWREYXRhVVJMPWZ1bmN0aW9uKG8pe2lmKCF0aGlzLl9kaXNwb3NlZCYmdi5jYW52YXNTdXBwb3J0ZWQpe3ZhciBhPSJzdmciPT09by50eXBlLHI9dGhpcy5ncm91cCxzPU1hdGgubWluLGw9TWF0aC5tYXg7aWYoaGZbcl0pe3ZhciB1PTEvMCxoPTEvMCxjPS0xLzAsZD0tMS8wLGY9W10saT1vJiZvLnBpeGVsUmF0aW98fDE7Uih1ZixmdW5jdGlvbih0LGUpe2lmKHQuZ3JvdXA9PT1yKXt2YXIgaT1hP3QuZ2V0WnIoKS5wYWludGVyLmdldFN2Z0RvbSgpLmlubmVySFRNTDp0LmdldFJlbmRlcmVkQ2FudmFzKGsobykpLG49dC5nZXREb20oKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt1PXMobi5sZWZ0LHUpLGg9cyhuLnRvcCxoKSxjPWwobi5yaWdodCxjKSxkPWwobi5ib3R0b20sZCksZi5wdXNoKHtkb206aSxsZWZ0Om4ubGVmdCx0b3A6bi50b3B9KX19KTt2YXIgdD0oYyo9aSktKHUqPWkpLGU9KGQqPWkpLShoKj1pKSxuPXkoKSxwPWtvKG4se3JlbmRlcmVyOmE/InN2ZyI6ImNhbnZhcyJ9KTtpZihwLnJlc2l6ZSh7d2lkdGg6dCxoZWlnaHQ6ZX0pLGEpe3ZhciBnPSIiO3JldHVybiBUZChmLGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVmdC11LGk9dC50b3AtaDtnKz0nPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoJytlKyIsIitpKycpIj4nK3QuZG9tKyI8L2c+In0pLHAucGFpbnRlci5nZXRTdmdSb290KCkuaW5uZXJIVE1MPWcsby5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3ImJnAucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3Ioby5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3IpLHAucmVmcmVzaEltbWVkaWF0ZWx5KCkscC5wYWludGVyLnRvRGF0YVVSTCgpfXJldHVybiBvLmNvbm5lY3RlZEJhY2tncm91bmRDb2xvciYmcC5hZGQobmV3IHJzKHtzaGFwZTp7eDowLHk6MCx3aWR0aDp0LGhlaWdodDplfSxzdHlsZTp7ZmlsbDpvLmNvbm5lY3RlZEJhY2tncm91bmRDb2xvcn19KSksVGQoZixmdW5jdGlvbih0KXt2YXIgZT1uZXcgUW4oe3N0eWxlOnt4OnQubGVmdCppLXUseTp0LnRvcCppLWgsaW1hZ2U6dC5kb219fSk7cC5hZGQoZSl9KSxwLnJlZnJlc2hJbW1lZGlhdGVseSgpLG4udG9EYXRhVVJMKCJpbWFnZS8iKyhvJiZvLnR5cGV8fCJwbmciKSl9cmV0dXJuIHRoaXMuZ2V0RGF0YVVSTChvKX19LEVkLmNvbnZlcnRUb1BpeGVsPVQoQmQsImNvbnZlcnRUb1BpeGVsIiksRWQuY29udmVydEZyb21QaXhlbD1UKEJkLCJjb252ZXJ0RnJvbVBpeGVsIiksRWQuY29udGFpblBpeGVsPWZ1bmN0aW9uKHQsbyl7dmFyIGE7aWYoIXRoaXMuX2Rpc3Bvc2VkKXJldHVybiBSKHQ9S28odGhpcy5fbW9kZWwsdCksZnVuY3Rpb24odCxuKXswPD1uLmluZGV4T2YoIk1vZGVscyIpJiZSKHQsZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKGUmJmUuY29udGFpblBvaW50KWF8PSEhZS5jb250YWluUG9pbnQobyk7ZWxzZSBpZigic2VyaWVzTW9kZWxzIj09PW4pe3ZhciBpPXRoaXMuX2NoYXJ0c01hcFt0Ll9fdmlld0lkXTtpJiZpLmNvbnRhaW5Qb2ludCYmKGF8PWkuY29udGFpblBvaW50KG8sdCkpfX0sdGhpcyl9LHRoaXMpLCEhYX0sRWQuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQ9S28odGhpcy5fbW9kZWwsdCx7ZGVmYXVsdE1haW5UeXBlOiJzZXJpZXMifSkpLnNlcmllc01vZGVsLmdldERhdGEoKSxuPXQuaGFzT3duUHJvcGVydHkoImRhdGFJbmRleEluc2lkZSIpP3QuZGF0YUluZGV4SW5zaWRlOnQuaGFzT3duUHJvcGVydHkoImRhdGFJbmRleCIpP2kuaW5kZXhPZlJhd0luZGV4KHQuZGF0YUluZGV4KTpudWxsO3JldHVybiBudWxsIT1uP2kuZ2V0SXRlbVZpc3VhbChuLGUpOmkuZ2V0VmlzdWFsKGUpfSxFZC5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcFt0Ll9fdmlld0lkXX0sRWQuZ2V0Vmlld09mU2VyaWVzTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoYXJ0c01hcFt0Ll9fdmlld0lkXX07dmFyIFZkPXtwcmVwYXJlQW5kVXBkYXRlOmZ1bmN0aW9uKHQpe0dkKHRoaXMpLFZkLnVwZGF0ZS5jYWxsKHRoaXMsdCl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbCxpPXRoaXMuX2FwaSxuPXRoaXMuX3pyLG89dGhpcy5fY29vcmRTeXNNZ3IsYT10aGlzLl9zY2hlZHVsZXI7aWYoZSl7YS5yZXN0b3JlRGF0YShlLHQpLGEucGVyZm9ybVNlcmllc1Rhc2tzKGUpLG8uY3JlYXRlKGUsaSksYS5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzKGUsdCksV2QodGhpcyxlKSxvLnVwZGF0ZShlLGkpLFlkKGUpLGEucGVyZm9ybVZpc3VhbFRhc2tzKGUsdCksamQodGhpcyxlLGksdCk7dmFyIHI9ZS5nZXQoImJhY2tncm91bmRDb2xvciIpfHwidHJhbnNwYXJlbnQiO2lmKHYuY2FudmFzU3VwcG9ydGVkKW4uc2V0QmFja2dyb3VuZENvbG9yKHIpO2Vsc2V7dmFyIHM9RmUocik7cj0kZShzLCJyZ2IiKSwwPT09c1szXSYmKHI9InRyYW5zcGFyZW50Iil9S2QoZSxpKX19LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbihvKXt2YXIgYT10aGlzLl9tb2RlbCxyPXRoaXMscz10aGlzLl9hcGk7aWYoYSl7dmFyIGw9W107YS5lYWNoQ29tcG9uZW50KGZ1bmN0aW9uKHQsZSl7dmFyIGk9ci5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChlKTtpZihpJiZpLl9fYWxpdmUpaWYoaS51cGRhdGVUcmFuc2Zvcm0pe3ZhciBuPWkudXBkYXRlVHJhbnNmb3JtKGUsYSxzLG8pO24mJm4udXBkYXRlJiZsLnB1c2goaSl9ZWxzZSBsLnB1c2goaSl9KTt2YXIgbj1RKCk7YS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXIuX2NoYXJ0c01hcFt0Ll9fdmlld0lkXTtpZihlLnVwZGF0ZVRyYW5zZm9ybSl7dmFyIGk9ZS51cGRhdGVUcmFuc2Zvcm0odCxhLHMsbyk7aSYmaS51cGRhdGUmJm4uc2V0KHQudWlkLDEpfWVsc2Ugbi5zZXQodC51aWQsMSl9KSxZZChhKSx0aGlzLl9zY2hlZHVsZXIucGVyZm9ybVZpc3VhbFRhc2tzKGEsbyx7c2V0RGlydHk6ITAsZGlydHlNYXA6bn0pLHFkKHIsYSxzLG8sbiksS2QoYSx0aGlzLl9hcGkpfX0sdXBkYXRlVmlldzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbDtlJiYoX2MubWFya1VwZGF0ZU1ldGhvZCh0LCJ1cGRhdGVWaWV3IiksWWQoZSksdGhpcy5fc2NoZWR1bGVyLnBlcmZvcm1WaXN1YWxUYXNrcyhlLHQse3NldERpcnR5OiEwfSksamQodGhpcyx0aGlzLl9tb2RlbCx0aGlzLl9hcGksdCksS2QoZSx0aGlzLl9hcGkpKX0sdXBkYXRlVmlzdWFsOmZ1bmN0aW9uKHQpe1ZkLnVwZGF0ZS5jYWxsKHRoaXMsdCl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0KXtWZC51cGRhdGUuY2FsbCh0aGlzLHQpfX07ZnVuY3Rpb24gR2QodCl7dmFyIGU9dC5fbW9kZWwsaT10Ll9zY2hlZHVsZXI7aS5yZXN0b3JlUGlwZWxpbmVzKGUpLGkucHJlcGFyZVN0YWdlVGFza3MoKSxYZCh0LCJjb21wb25lbnQiLGUsaSksWGQodCwiY2hhcnQiLGUsaSksaS5wbGFuKCl9ZnVuY3Rpb24gRmQoZSxpLG4sbyx0KXt2YXIgYT1lLl9tb2RlbDtpZihvKXt2YXIgcj17fTtyW28rIklkIl09bltvKyJJZCJdLHJbbysiSW5kZXgiXT1uW28rIkluZGV4Il0scltvKyJOYW1lIl09bltvKyJOYW1lIl07dmFyIHM9e21haW5UeXBlOm8scXVlcnk6cn07dCYmKHMuc3ViVHlwZT10KTt2YXIgbD1uLmV4Y2x1ZGVTZXJpZXNJZDtudWxsIT1sJiYobD1RKFZvKGwpKSksYSYmYS5lYWNoQ29tcG9uZW50KHMsZnVuY3Rpb24odCl7bCYmbnVsbCE9bC5nZXQodC5pZCl8fHUoZVsic2VyaWVzIj09PW8/Il9jaGFydHNNYXAiOiJfY29tcG9uZW50c01hcCJdW3QuX192aWV3SWRdKX0sZSl9ZWxzZSBUZChlLl9jb21wb25lbnRzVmlld3MuY29uY2F0KGUuX2NoYXJ0c1ZpZXdzKSx1KTtmdW5jdGlvbiB1KHQpe3QmJnQuX19hbGl2ZSYmdFtpXSYmdFtpXSh0Ll9fbW9kZWwsYSxlLl9hcGksbil9fWZ1bmN0aW9uIFdkKHQsZSl7dmFyIGk9dC5fY2hhcnRzTWFwLG49dC5fc2NoZWR1bGVyO2UuZWFjaFNlcmllcyhmdW5jdGlvbih0KXtuLnVwZGF0ZVN0cmVhbU1vZGVzKHQsaVt0Ll9fdmlld0lkXSl9KX1mdW5jdGlvbiBIZChlLHQpe3ZhciBpPWUudHlwZSxuPWUuZXNjYXBlQ29ubmVjdCxvPXRmW2ldLGE9by5hY3Rpb25JbmZvLHI9KGEudXBkYXRlfHwidXBkYXRlIikuc3BsaXQoIjoiKSxzPXIucG9wKCk7cj1udWxsIT1yWzBdJiZDZChyWzBdKSx0aGlzW2tkXT0hMDt2YXIgbD1bZV0sdT0hMTtlLmJhdGNoJiYodT0hMCxsPU8oZS5iYXRjaCxmdW5jdGlvbih0KXtyZXR1cm4odD1EKFAoe30sdCksZSkpLmJhdGNoPW51bGwsdH0pKTt2YXIgaCxjPVtdLGQ9ImhpZ2hsaWdodCI9PT1pfHwiZG93bnBsYXkiPT09aTtUZChsLGZ1bmN0aW9uKHQpeyhoPShoPW8uYWN0aW9uKHQsdGhpcy5fbW9kZWwsdGhpcy5fYXBpKSl8fFAoe30sdCkpLnR5cGU9YS5ldmVudHx8aC50eXBlLGMucHVzaChoKSxkP0ZkKHRoaXMscyx0LCJzZXJpZXMiKTpyJiZGZCh0aGlzLHMsdCxyLm1haW4sci5zdWIpfSx0aGlzKSwibm9uZSI9PT1zfHxkfHxyfHwodGhpc1tQZF0/KEdkKHRoaXMpLFZkLnVwZGF0ZS5jYWxsKHRoaXMsZSksdGhpc1tQZF09ITEpOlZkW3NdLmNhbGwodGhpcyxlKSksaD11P3t0eXBlOmEuZXZlbnR8fGksZXNjYXBlQ29ubmVjdDpuLGJhdGNoOmN9OmNbMF0sdGhpc1trZF09ITEsdHx8dGhpcy5fbWVzc2FnZUNlbnRlci50cmlnZ2VyKGgudHlwZSxoKX1mdW5jdGlvbiBaZCh0KXtmb3IodmFyIGU9dGhpcy5fcGVuZGluZ0FjdGlvbnM7ZS5sZW5ndGg7KXt2YXIgaT1lLnNoaWZ0KCk7SGQuY2FsbCh0aGlzLGksdCl9fWZ1bmN0aW9uIFVkKHQpe3R8fHRoaXMudHJpZ2dlcigidXBkYXRlZCIpfWZ1bmN0aW9uIFhkKHQsZSxvLGEpe2Zvcih2YXIgcj0iY29tcG9uZW50Ij09PWUscz1yP3QuX2NvbXBvbmVudHNWaWV3czp0Ll9jaGFydHNWaWV3cyxsPXI/dC5fY29tcG9uZW50c01hcDp0Ll9jaGFydHNNYXAsdT10Ll96cixoPXQuX2FwaSxpPTA7aTxzLmxlbmd0aDtpKyspc1tpXS5fX2FsaXZlPSExO2Z1bmN0aW9uIG4odCl7dmFyIGU9Il9lY18iK3QuaWQrIl8iK3QudHlwZSxpPWxbZV07aWYoIWkpe3ZhciBuPUNkKHQudHlwZSk7KGk9bmV3KHI/Z2MuZ2V0Q2xhc3Mobi5tYWluLG4uc3ViKTpfYy5nZXRDbGFzcyhuLnN1YikpKS5pbml0KG8saCksbFtlXT1pLHMucHVzaChpKSx1LmFkZChpLmdyb3VwKX10Ll9fdmlld0lkPWkuX19pZD1lLGkuX19hbGl2ZT0hMCxpLl9fbW9kZWw9dCxpLmdyb3VwLl9fZWNDb21wb25lbnRJbmZvPXttYWluVHlwZTp0Lm1haW5UeXBlLGluZGV4OnQuY29tcG9uZW50SW5kZXh9LHJ8fGEucHJlcGFyZVZpZXcoaSx0LG8saCl9cj9vLmVhY2hDb21wb25lbnQoZnVuY3Rpb24odCxlKXsic2VyaWVzIiE9PXQmJm4oZSl9KTpvLmVhY2hTZXJpZXMobik7Zm9yKGk9MDtpPHMubGVuZ3RoOyl7dmFyIGM9c1tpXTtjLl9fYWxpdmU/aSsrOihyfHxjLnJlbmRlclRhc2suZGlzcG9zZSgpLHUucmVtb3ZlKGMuZ3JvdXApLGMuZGlzcG9zZShvLGgpLHMuc3BsaWNlKGksMSksZGVsZXRlIGxbYy5fX2lkXSxjLl9faWQ9Yy5ncm91cC5fX2VjQ29tcG9uZW50SW5mbz1udWxsKX19ZnVuY3Rpb24gWWQodCl7dC5jbGVhckNvbG9yUGFsZXR0ZSgpLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt0LmNsZWFyQ29sb3JQYWxldHRlKCl9KX1mdW5jdGlvbiBqZCh0LGUsaSxuKXshZnVuY3Rpb24odCxpLG4sbyxlKXtUZChlfHx0Ll9jb21wb25lbnRzVmlld3MsZnVuY3Rpb24odCl7dmFyIGU9dC5fX21vZGVsO3QucmVuZGVyKGUsaSxuLG8pLEpkKGUsdCl9KX0odCxlLGksbiksVGQodC5fY2hhcnRzVmlld3MsZnVuY3Rpb24odCl7dC5fX2FsaXZlPSExfSkscWQodCxlLGksbiksVGQodC5fY2hhcnRzVmlld3MsZnVuY3Rpb24odCl7dC5fX2FsaXZlfHx0LnJlbW92ZShlLGkpfSl9ZnVuY3Rpb24gcWQobix0LGUsbyxhKXt2YXIgcixzPW4uX3NjaGVkdWxlcjt0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dmFyIGU9bi5fY2hhcnRzTWFwW3QuX192aWV3SWRdO2UuX19hbGl2ZT0hMDt2YXIgaT1lLnJlbmRlclRhc2s7cy51cGRhdGVQYXlsb2FkKGksbyksYSYmYS5nZXQodC51aWQpJiZpLmRpcnR5KCkscnw9aS5wZXJmb3JtKHMuZ2V0UGVyZm9ybUFyZ3MoaSkpLGUuZ3JvdXAuc2lsZW50PSEhdC5nZXQoInNpbGVudCIpLEpkKHQsZSksZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgiYmxlbmRNb2RlIil8fG51bGw7ZS5ncm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fHQuc3R5bGUuYmxlbmQhPT1pJiZ0LnNldFN0eWxlKCJibGVuZCIsaSksdC5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlJiZ0LmVhY2hQZW5kaW5nRGlzcGxheWFibGUoZnVuY3Rpb24odCl7dC5zZXRTdHlsZSgiYmxlbmQiLGkpfSl9KX0odCxlKX0pLHMudW5maW5pc2hlZHw9cixmdW5jdGlvbihpLHQpe3ZhciBlPWkuX3pyLnN0b3JhZ2Usbj0wO2UudHJhdmVyc2UoZnVuY3Rpb24odCl7bisrfSksbj50LmdldCgiaG92ZXJMYXllclRocmVzaG9sZCIpJiYhdi5ub2RlJiZ0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoIXQucHJldmVudFVzaW5nSG92ZXJMYXllcil7dmFyIGU9aS5fY2hhcnRzTWFwW3QuX192aWV3SWRdO2UuX19hbGl2ZSYmZS5ncm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LnVzZUhvdmVyTGF5ZXI9ITB9KX19KX0obix0KSxSYyhuLl96ci5kb20sdCl9ZnVuY3Rpb24gS2QoZSxpKXtUZChhZixmdW5jdGlvbih0KXt0KGUsaSl9KX1FZC5yZXNpemU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Rpc3Bvc2VkKXt0aGlzLl96ci5yZXNpemUodCk7dmFyIGU9dGhpcy5fbW9kZWw7aWYodGhpcy5fbG9hZGluZ0ZYJiZ0aGlzLl9sb2FkaW5nRlgucmVzaXplKCksZSl7dmFyIGk9ZS5yZXNldE9wdGlvbigibWVkaWEiKSxuPXQmJnQuc2lsZW50O3RoaXNba2RdPSEwLGkmJkdkKHRoaXMpLFZkLnVwZGF0ZS5jYWxsKHRoaXMpLHRoaXNba2RdPSExLFpkLmNhbGwodGhpcyxuKSxVZC5jYWxsKHRoaXMsbil9fX0sRWQuc2hvd0xvYWRpbmc9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5fZGlzcG9zZWQmJihEZCh0KSYmKGU9dCx0PSIiKSx0PXR8fCJkZWZhdWx0Iix0aGlzLmhpZGVMb2FkaW5nKCksbGZbdF0pKXt2YXIgaT1sZlt0XSh0aGlzLl9hcGksZSksbj10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9aSxuLmFkZChpKX19LEVkLmhpZGVMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWR8fCh0aGlzLl9sb2FkaW5nRlgmJnRoaXMuX3pyLnJlbW92ZSh0aGlzLl9sb2FkaW5nRlgpLHRoaXMuX2xvYWRpbmdGWD1udWxsKX0sRWQubWFrZUFjdGlvbkZyb21FdmVudD1mdW5jdGlvbih0KXt2YXIgZT1QKHt9LHQpO3JldHVybiBlLnR5cGU9ZWZbdC50eXBlXSxlfSxFZC5kaXNwYXRjaEFjdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX2Rpc3Bvc2VkfHwoRGQoZSl8fChlPXtzaWxlbnQ6ISFlfSksdGZbdC50eXBlXSYmdGhpcy5fbW9kZWwmJih0aGlzW2tkXT90aGlzLl9wZW5kaW5nQWN0aW9ucy5wdXNoKHQpOihIZC5jYWxsKHRoaXMsdCxlLnNpbGVudCksZS5mbHVzaD90aGlzLl96ci5mbHVzaCghMCk6ITEhPT1lLmZsdXNoJiZ2LmJyb3dzZXIud2VDaGF0JiZ0aGlzLl90aHJvdHRsZWRackZsdXNoKCksWmQuY2FsbCh0aGlzLGUuc2lsZW50KSxVZC5jYWxsKHRoaXMsZS5zaWxlbnQpKSkpfSxFZC5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dmFyIGU9dC5zZXJpZXNJbmRleDt0aGlzLmdldE1vZGVsKCkuZ2V0U2VyaWVzQnlJbmRleChlKS5hcHBlbmREYXRhKHQpLHRoaXMuX3NjaGVkdWxlci51bmZpbmlzaGVkPSEwfX0sRWQub249T2QoIm9uIiwhMSksRWQub2ZmPU9kKCJvZmYiLCExKSxFZC5vbmU9T2QoIm9uZSIsITEpO3ZhciAkZD1bImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1vdXNlbW92ZSIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJnbG9iYWxvdXQiLCJjb250ZXh0bWVudSJdO2Z1bmN0aW9uIEpkKHQsZSl7dmFyIGk9dC5nZXQoInoiKSxuPXQuZ2V0KCJ6bGV2ZWwiKTtlLmdyb3VwLnRyYXZlcnNlKGZ1bmN0aW9uKHQpeyJncm91cCIhPT10LnR5cGUmJihudWxsIT1pJiYodC56PWkpLG51bGwhPW4mJih0LnpsZXZlbD1uKSl9KX1mdW5jdGlvbiBRZCgpe3RoaXMuZXZlbnRJbmZvfUVkLl9pbml0RXZlbnRzPWZ1bmN0aW9uKCl7VGQoJGQsZnVuY3Rpb24odSl7ZnVuY3Rpb24gdCh0KXt2YXIgZSxpPXRoaXMuZ2V0TW9kZWwoKSxuPXQudGFyZ2V0O2lmKCJnbG9iYWxvdXQiPT09dSllPXt9O2Vsc2UgaWYobiYmbnVsbCE9bi5kYXRhSW5kZXgpe3ZhciBvPW4uZGF0YU1vZGVsfHxpLmdldFNlcmllc0J5SW5kZXgobi5zZXJpZXNJbmRleCk7ZT1vJiZvLmdldERhdGFQYXJhbXMobi5kYXRhSW5kZXgsbi5kYXRhVHlwZSxuKXx8e319ZWxzZSBuJiZuLmV2ZW50RGF0YSYmKGU9UCh7fSxuLmV2ZW50RGF0YSkpO2lmKGUpe3ZhciBhPWUuY29tcG9uZW50VHlwZSxyPWUuY29tcG9uZW50SW5kZXg7Im1hcmtMaW5lIiE9PWEmJiJtYXJrUG9pbnQiIT09YSYmIm1hcmtBcmVhIiE9PWF8fChhPSJzZXJpZXMiLHI9ZS5zZXJpZXNJbmRleCk7dmFyIHM9YSYmbnVsbCE9ciYmaS5nZXRDb21wb25lbnQoYSxyKSxsPXMmJnRoaXNbInNlcmllcyI9PT1zLm1haW5UeXBlPyJfY2hhcnRzTWFwIjoiX2NvbXBvbmVudHNNYXAiXVtzLl9fdmlld0lkXTtlLmV2ZW50PXQsZS50eXBlPXUsdGhpcy5fZWNFdmVudFByb2Nlc3Nvci5ldmVudEluZm89e3RhcmdldEVsOm4scGFja2VkRXZlbnQ6ZSxtb2RlbDpzLHZpZXc6bH0sdGhpcy50cmlnZ2VyKHUsZSl9fXQuenJFdmVudGZ1bENhbGxBdExhc3Q9ITAsdGhpcy5fenIub24odSx0LHRoaXMpfSx0aGlzKSxUZChlZixmdW5jdGlvbih0LGUpe3RoaXMuX21lc3NhZ2VDZW50ZXIub24oZSxmdW5jdGlvbih0KXt0aGlzLnRyaWdnZXIoZSx0KX0sdGhpcyl9LHRoaXMpfSxFZC5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VkfSxFZC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2VkfHx0aGlzLnNldE9wdGlvbih7c2VyaWVzOltdfSwhMCl9LEVkLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpZighdGhpcy5fZGlzcG9zZWQpe3RoaXMuX2Rpc3Bvc2VkPSEwLEpvKHRoaXMuZ2V0RG9tKCksZmYsIiIpO3ZhciBlPXRoaXMuX2FwaSxpPXRoaXMuX21vZGVsO1RkKHRoaXMuX2NvbXBvbmVudHNWaWV3cyxmdW5jdGlvbih0KXt0LmRpc3Bvc2UoaSxlKX0pLFRkKHRoaXMuX2NoYXJ0c1ZpZXdzLGZ1bmN0aW9uKHQpe3QuZGlzcG9zZShpLGUpfSksdGhpcy5fenIuZGlzcG9zZSgpLGRlbGV0ZSB1Zlt0aGlzLmlkXX19LGIoemQsQ3QpLFFkLnByb3RvdHlwZT17Y29uc3RydWN0b3I6UWQsbm9ybWFsaXplUXVlcnk6ZnVuY3Rpb24odCl7dmFyIHM9e30sbD17fSx1PXt9O2lmKHoodCkpe3ZhciBlPUNkKHQpO3MubWFpblR5cGU9ZS5tYWlufHxudWxsLHMuc3ViVHlwZT1lLnN1Ynx8bnVsbH1lbHNle3ZhciBoPVsiSW5kZXgiLCJOYW1lIiwiSWQiXSxjPXtuYW1lOjEsZGF0YUluZGV4OjEsZGF0YVR5cGU6MX07Uih0LGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPSExLG49MDtuPGgubGVuZ3RoO24rKyl7dmFyIG89aFtuXSxhPWUubGFzdEluZGV4T2Yobyk7aWYoMDxhJiZhPT09ZS5sZW5ndGgtby5sZW5ndGgpe3ZhciByPWUuc2xpY2UoMCxhKTsiZGF0YSIhPT1yJiYocy5tYWluVHlwZT1yLHNbby50b0xvd2VyQ2FzZSgpXT10LGk9ITApfX1jLmhhc093blByb3BlcnR5KGUpJiYobFtlXT10LGk9ITApLGl8fCh1W2VdPXQpfSl9cmV0dXJue2NwdFF1ZXJ5OnMsZGF0YVF1ZXJ5Omwsb3RoZXJRdWVyeTp1fX0sZmlsdGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmV2ZW50SW5mbztpZighbilyZXR1cm4hMDt2YXIgbz1uLnRhcmdldEVsLGE9bi5wYWNrZWRFdmVudCxyPW4ubW9kZWwscz1uLnZpZXc7aWYoIXJ8fCFzKXJldHVybiEwO3ZhciBsPWUuY3B0UXVlcnksdT1lLmRhdGFRdWVyeTtyZXR1cm4gaChsLHIsIm1haW5UeXBlIikmJmgobCxyLCJzdWJUeXBlIikmJmgobCxyLCJpbmRleCIsImNvbXBvbmVudEluZGV4IikmJmgobCxyLCJuYW1lIikmJmgobCxyLCJpZCIpJiZoKHUsYSwibmFtZSIpJiZoKHUsYSwiZGF0YUluZGV4IikmJmgodSxhLCJkYXRhVHlwZSIpJiYoIXMuZmlsdGVyRm9yRXhwb3NlZEV2ZW50fHxzLmZpbHRlckZvckV4cG9zZWRFdmVudCh0LGUub3RoZXJRdWVyeSxvLGEpKTtmdW5jdGlvbiBoKHQsZSxpLG4pe3JldHVybiBudWxsPT10W2ldfHxlW258fGldPT09dFtpXX19LGFmdGVyVHJpZ2dlcjpmdW5jdGlvbigpe3RoaXMuZXZlbnRJbmZvPW51bGx9fTt2YXIgdGY9e30sZWY9e30sbmY9W10sb2Y9W10sYWY9W10scmY9W10sc2Y9e30sbGY9e30sdWY9e30saGY9e30sY2Y9bmV3IERhdGUtMCxkZj1uZXcgRGF0ZS0wLGZmPSJfZWNoYXJ0c19pbnN0YW5jZV8iO2Z1bmN0aW9uIHBmKHQpe2hmW3RdPSExfXZhciBnZj1wZjtmdW5jdGlvbiBtZih0KXtyZXR1cm4gdWZbZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGU/dC5nZXRBdHRyaWJ1dGUoZSk6dFtlXX0odCxmZildfWZ1bmN0aW9uIHZmKHQsZSl7c2ZbdF09ZX1mdW5jdGlvbiB5Zih0KXtvZi5wdXNoKHQpfWZ1bmN0aW9uIHhmKHQsZSl7TWYobmYsdCxlLDFlMyl9ZnVuY3Rpb24gX2YodCxlLGkpeyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoaT1lLGU9IiIpO3ZhciBuPURkKHQpP3QudHlwZTpbdCx0PXtldmVudDplfV1bMF07dC5ldmVudD0odC5ldmVudHx8bikudG9Mb3dlckNhc2UoKSxlPXQuZXZlbnQsSWQoTmQudGVzdChuKSYmTmQudGVzdChlKSksdGZbbl18fCh0ZltuXT17YWN0aW9uOmksYWN0aW9uSW5mbzp0fSksZWZbZV09bn1mdW5jdGlvbiB3Zih0LGUpe2xoLnJlZ2lzdGVyKHQsZSl9ZnVuY3Rpb24gYmYodCxlKXtNZihyZix0LGUsMWUzLCJsYXlvdXQiKX1mdW5jdGlvbiBTZih0LGUpe01mKHJmLHQsZSwzZTMsInZpc3VhbCIpfWZ1bmN0aW9uIE1mKHQsZSxpLG4sbyl7KEFkKGUpfHxEZChlKSkmJihpPWUsZT1uKTt2YXIgYT1FYy53cmFwU3RhZ2VIYW5kbGVyKGksbyk7cmV0dXJuIGEuX19wcmlvPWUsYS5fX3Jhdz1pLHQucHVzaChhKSxhfWZ1bmN0aW9uIElmKHQsZSl7bGZbdF09ZX1mdW5jdGlvbiBUZih0KXtyZXR1cm4ga3UuZXh0ZW5kKHQpfWZ1bmN0aW9uIEFmKHQpe3JldHVybiBnYy5leHRlbmQodCl9ZnVuY3Rpb24gRGYodCl7cmV0dXJuIHNjLmV4dGVuZCh0KX1mdW5jdGlvbiBDZih0KXtyZXR1cm4gX2MuZXh0ZW5kKHQpfVNmKDJlMyxOYykseWYoTGgpLHhmKDkwMCxmdW5jdGlvbih0KXt2YXIgYT1RKCk7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJzdGFjayIpO2lmKGUpe3ZhciBpPWEuZ2V0KGUpfHxhLnNldChlLFtdKSxuPXQuZ2V0RGF0YSgpLG89e3N0YWNrUmVzdWx0RGltZW5zaW9uOm4uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpLHN0YWNrZWRPdmVyRGltZW5zaW9uOm4uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpLHN0YWNrZWREaW1lbnNpb246bi5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWREaW1lbnNpb24iKSxzdGFja2VkQnlEaW1lbnNpb246bi5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRCeURpbWVuc2lvbiIpLGlzU3RhY2tlZEJ5SW5kZXg6bi5nZXRDYWxjdWxhdGlvbkluZm8oImlzU3RhY2tlZEJ5SW5kZXgiKSxkYXRhOm4sc2VyaWVzTW9kZWw6dH07aWYoIW8uc3RhY2tlZERpbWVuc2lvbnx8IW8uaXNTdGFja2VkQnlJbmRleCYmIW8uc3RhY2tlZEJ5RGltZW5zaW9uKXJldHVybjtpLmxlbmd0aCYmbi5zZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPblNlcmllcyIsaVtpLmxlbmd0aC0xXS5zZXJpZXNNb2RlbCksaS5wdXNoKG8pfX0pLGEuZWFjaChraCl9KSxJZigiZGVmYXVsdCIsZnVuY3Rpb24obyxhKXtEKGE9YXx8e30se3RleHQ6ImxvYWRpbmciLHRleHRDb2xvcjoiIzAwMCIsZm9udFNpemU6IjEycHgiLG1hc2tDb2xvcjoicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpIixzaG93U3Bpbm5lcjohMCxjb2xvcjoiI2MyMzUzMSIsc3Bpbm5lclJhZGl1czoxMCxsaW5lV2lkdGg6NSx6bGV2ZWw6MH0pO3ZhciB0PW5ldyBDaSxyPW5ldyBycyh7c3R5bGU6e2ZpbGw6YS5tYXNrQ29sb3J9LHpsZXZlbDphLnpsZXZlbCx6OjFlNH0pO3QuYWRkKHIpO3ZhciBzPWEuZm9udFNpemUrIiBzYW5zLXNlcmlmIixsPW5ldyBycyh7c3R5bGU6e2ZpbGw6Im5vbmUiLHRleHQ6YS50ZXh0LGZvbnQ6cyx0ZXh0UG9zaXRpb246InJpZ2h0Iix0ZXh0RGlzdGFuY2U6MTAsdGV4dEZpbGw6YS50ZXh0Q29sb3J9LHpsZXZlbDphLnpsZXZlbCx6OjEwMDAxfSk7aWYodC5hZGQobCksYS5zaG93U3Bpbm5lcil7dmFyIHU9bmV3IGZzKHtzaGFwZTp7c3RhcnRBbmdsZTotemMvMixlbmRBbmdsZTotemMvMisuMSxyOmEuc3Bpbm5lclJhZGl1c30sc3R5bGU6e3N0cm9rZTphLmNvbG9yLGxpbmVDYXA6InJvdW5kIixsaW5lV2lkdGg6YS5saW5lV2lkdGh9LHpsZXZlbDphLnpsZXZlbCx6OjEwMDAxfSk7dS5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtlbmRBbmdsZTozKnpjLzJ9KS5zdGFydCgiY2lyY3VsYXJJbk91dCIpLHUuYW5pbWF0ZVNoYXBlKCEwKS53aGVuKDFlMyx7c3RhcnRBbmdsZTozKnpjLzJ9KS5kZWxheSgzMDApLnN0YXJ0KCJjaXJjdWxhckluT3V0IiksdC5hZGQodSl9cmV0dXJuIHQucmVzaXplPWZ1bmN0aW9uKCl7dmFyIHQ9cG4oYS50ZXh0LHMpLGU9YS5zaG93U3Bpbm5lcj9hLnNwaW5uZXJSYWRpdXM6MCxpPShvLmdldFdpZHRoKCktMiplLShhLnNob3dTcGlubmVyJiZ0PzEwOjApLXQpLzItKGEuc2hvd1NwaW5uZXI/MDp0LzIpLG49by5nZXRIZWlnaHQoKS8yO2Euc2hvd1NwaW5uZXImJnUuc2V0U2hhcGUoe2N4OmksY3k6bn0pLGwuc2V0U2hhcGUoe3g6aS1lLHk6bi1lLHdpZHRoOjIqZSxoZWlnaHQ6MiplfSksci5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDpvLmdldFdpZHRoKCksaGVpZ2h0Om8uZ2V0SGVpZ2h0KCl9KX0sdC5yZXNpemUoKSx0fSksX2Yoe3R5cGU6ImhpZ2hsaWdodCIsZXZlbnQ6ImhpZ2hsaWdodCIsdXBkYXRlOiJoaWdobGlnaHQifSxldCksX2Yoe3R5cGU6ImRvd25wbGF5IixldmVudDoiZG93bnBsYXkiLHVwZGF0ZToiZG93bnBsYXkifSxldCksdmYoImxpZ2h0IixuZCksdmYoImRhcmsiLHJkKTtmdW5jdGlvbiBMZih0KXtyZXR1cm4gdH1mdW5jdGlvbiBrZih0LGUsaSxuLG8pe3RoaXMuX29sZD10LHRoaXMuX25ldz1lLHRoaXMuX29sZEtleUdldHRlcj1pfHxMZix0aGlzLl9uZXdLZXlHZXR0ZXI9bnx8TGYsdGhpcy5jb250ZXh0PW99ZnVuY3Rpb24gUGYodCxlLGksbixvKXtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHI9Il9lY18iK29bbl0odFthXSxhKSxzPWVbcl07bnVsbD09cz8oaS5wdXNoKHIpLGVbcl09YSk6KHMubGVuZ3RofHwoZVtyXT1zPVtzXSkscy5wdXNoKGEpKX19a2YucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjprZixhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZD10LHRoaXN9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlPXQsdGhpc30scmVtb3ZlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZW1vdmU9dCx0aGlzfSxleGVjdXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb2xkLGU9dGhpcy5fbmV3LGk9e30sbj1bXSxvPVtdO2ZvcihQZih0LHt9LG4sIl9vbGRLZXlHZXR0ZXIiLHRoaXMpLFBmKGUsaSxvLCJfbmV3S2V5R2V0dGVyIix0aGlzKSxhPTA7YTx0Lmxlbmd0aDthKyspe2lmKG51bGwhPShzPWlbcj1uW2FdXSkpKHU9cy5sZW5ndGgpPygxPT09dSYmKGlbcl09bnVsbCkscz1zLnNoaWZ0KCkpOmlbcl09bnVsbCx0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZShzLGEpO2Vsc2UgdGhpcy5fcmVtb3ZlJiZ0aGlzLl9yZW1vdmUoYSl9Zm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspe3ZhciByPW9bYV07aWYoaS5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIHM7aWYobnVsbD09KHM9aVtyXSkpY29udGludWU7aWYocy5sZW5ndGgpZm9yKHZhciBsPTAsdT1zLmxlbmd0aDtsPHU7bCsrKXRoaXMuX2FkZCYmdGhpcy5fYWRkKHNbbF0pO2Vsc2UgdGhpcy5fYWRkJiZ0aGlzLl9hZGQocyl9fX19O3ZhciBOZj1RKFsidG9vbHRpcCIsImxhYmVsIiwiaXRlbU5hbWUiLCJpdGVtSWQiLCJzZXJpZXNOYW1lIl0pO2Z1bmN0aW9uIE9mKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl8fCh0W2VdPVtdKSx0W2VdfWZ1bmN0aW9uIFJmKHQpe3JldHVybiJjYXRlZ29yeSI9PT10PyJvcmRpbmFsIjoidGltZSI9PT10PyJ0aW1lIjoiZmxvYXQifWZ1bmN0aW9uIHpmKHQpe251bGwhPXQmJlAodGhpcyx0KSx0aGlzLm90aGVyRGltcz17fX12YXIgRWY9RSxCZj0idW5kZWZpbmVkIixWZj17ZmxvYXQ6dHlwZW9mIEZsb2F0NjRBcnJheT09QmY/QXJyYXk6RmxvYXQ2NEFycmF5LGludDp0eXBlb2YgSW50MzJBcnJheT09QmY/QXJyYXk6SW50MzJBcnJheSxvcmRpbmFsOkFycmF5LG51bWJlcjpBcnJheSx0aW1lOkFycmF5fSxHZj10eXBlb2YgVWludDMyQXJyYXk9PUJmP0FycmF5OlVpbnQzMkFycmF5LEZmPXR5cGVvZiBJbnQzMkFycmF5PT1CZj9BcnJheTpJbnQzMkFycmF5LFdmPXR5cGVvZiBVaW50MTZBcnJheT09QmY/QXJyYXk6VWludDE2QXJyYXk7ZnVuY3Rpb24gSGYodCl7cmV0dXJuIDY1NTM1PHQuX3Jhd0NvdW50P0dmOldmfXZhciBaZj1bImhhc0l0ZW1PcHRpb24iLCJfbmFtZUxpc3QiLCJfaWRMaXN0IiwiX2ludmVydGVkSW5kaWNlc01hcCIsIl9yYXdEYXRhIiwiX2NodW5rU2l6ZSIsIl9jaHVua0NvdW50IiwiX2RpbVZhbHVlR2V0dGVyIiwiX2NvdW50IiwiX3Jhd0NvdW50IiwiX25hbWVEaW1JZHgiLCJfaWREaW1JZHgiXSxVZj1bIl9leHRlbnQiLCJfYXBwcm94aW1hdGVFeHRlbnQiLCJfcmF3RXh0ZW50Il07ZnVuY3Rpb24gWGYoZSxpKXtSKFpmLmNvbmNhdChpLl9fd3JhcHBlZE1ldGhvZHN8fFtdKSxmdW5jdGlvbih0KXtpLmhhc093blByb3BlcnR5KHQpJiYoZVt0XT1pW3RdKX0pLGUuX193cmFwcGVkTWV0aG9kcz1pLl9fd3JhcHBlZE1ldGhvZHMsUihVZixmdW5jdGlvbih0KXtlW3RdPWsoaVt0XSl9KSxlLl9jYWxjdWxhdGlvbkluZm89UChpLl9jYWxjdWxhdGlvbkluZm8pfXZhciBZZj1mdW5jdGlvbih0LGUpe3Q9dHx8WyJ4IiwieSJdO2Zvcih2YXIgaT17fSxuPVtdLG89e30sYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcj10W2FdO3oocik/cj1uZXcgemYoe25hbWU6cn0pOnIgaW5zdGFuY2VvZiB6Znx8KHI9bmV3IHpmKHIpKTt2YXIgcz1yLm5hbWU7ci50eXBlPXIudHlwZXx8ImZsb2F0IixyLmNvb3JkRGltfHwoci5jb29yZERpbT1zLHIuY29vcmREaW1JbmRleD0wKSxyLm90aGVyRGltcz1yLm90aGVyRGltc3x8e30sbi5wdXNoKHMpLChpW3NdPXIpLmluZGV4PWEsci5jcmVhdGVJbnZlcnRlZEluZGljZXMmJihvW3NdPVtdKX10aGlzLmRpbWVuc2lvbnM9bix0aGlzLl9kaW1lbnNpb25JbmZvcz1pLHRoaXMuaG9zdE1vZGVsPWUsdGhpcy5kYXRhVHlwZSx0aGlzLl9pbmRpY2VzPW51bGwsdGhpcy5fY291bnQ9MCx0aGlzLl9yYXdDb3VudD0wLHRoaXMuX3N0b3JhZ2U9e30sdGhpcy5fbmFtZUxpc3Q9W10sdGhpcy5faWRMaXN0PVtdLHRoaXMuX29wdGlvbk1vZGVscz1bXSx0aGlzLl92aXN1YWw9e30sdGhpcy5fbGF5b3V0PXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuaGFzSXRlbVZpc3VhbD17fSx0aGlzLl9pdGVtTGF5b3V0cz1bXSx0aGlzLl9ncmFwaGljRWxzPVtdLHRoaXMuX2NodW5rU2l6ZT0xZTUsdGhpcy5fY2h1bmtDb3VudD0wLHRoaXMuX3Jhd0RhdGEsdGhpcy5fcmF3RXh0ZW50PXt9LHRoaXMuX2V4dGVudD17fSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudD17fSx0aGlzLl9kaW1lbnNpb25zU3VtbWFyeT1mdW5jdGlvbihuKXt2YXIgdD17fSxhPXQuZW5jb2RlPXt9LHI9USgpLHM9W10sbD1bXSx1PXQudXNlck91dHB1dD17ZGltZW5zaW9uTmFtZXM6bi5kaW1lbnNpb25zLnNsaWNlKCksZW5jb2RlOnt9fTtSKG4uZGltZW5zaW9ucyxmdW5jdGlvbih0KXt2YXIgbz1uLmdldERpbWVuc2lvbkluZm8odCksZT1vLmNvb3JkRGltO2lmKGUpe3ZhciBpPW8uY29vcmREaW1JbmRleDtPZihhLGUpW2ldPXQsby5pc0V4dHJhQ29vcmR8fChyLnNldChlLDEpLGZ1bmN0aW9uKHQpe3JldHVybiEoIm9yZGluYWwiPT09dHx8InRpbWUiPT09dCl9KG8udHlwZSkmJihzWzBdPXQpLE9mKHUuZW5jb2RlLGUpW2ldPW8uaW5kZXgpLG8uZGVmYXVsdFRvb2x0aXAmJmwucHVzaCh0KX1OZi5lYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9T2YoYSxlKSxuPW8ub3RoZXJEaW1zW2VdO251bGwhPW4mJiExIT09biYmKGlbbl09by5uYW1lKX0pfSk7dmFyIG89W10saD17fTtyLmVhY2goZnVuY3Rpb24odCxlKXt2YXIgaT1hW2VdO2hbZV09aVswXSxvPW8uY29uY2F0KGkpfSksdC5kYXRhRGltc09uQ29vcmQ9byx0LmVuY29kZUZpcnN0RGltTm90RXh0cmE9aDt2YXIgZT1hLmxhYmVsO2UmJmUubGVuZ3RoJiYocz1lLnNsaWNlKCkpO3ZhciBpPWEudG9vbHRpcDtyZXR1cm4gaSYmaS5sZW5ndGg/bD1pLnNsaWNlKCk6bC5sZW5ndGh8fChsPXMuc2xpY2UoKSksYS5kZWZhdWx0ZWRMYWJlbD1zLGEuZGVmYXVsdGVkVG9vbHRpcD1sLHR9KHRoaXMpLHRoaXMuX2ludmVydGVkSW5kaWNlc01hcD1vLHRoaXMuX2NhbGN1bGF0aW9uSW5mbz17fSx0aGlzLnVzZXJPdXRwdXQ9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnkudXNlck91dHB1dH0samY9WWYucHJvdG90eXBlO2Z1bmN0aW9uIHFmKHQsZSxpLG4sbyl7dmFyIGE9VmZbZS50eXBlXSxyPW4tMSxzPWUubmFtZSxsPXRbc11bcl07aWYobCYmbC5sZW5ndGg8aSl7Zm9yKHZhciB1PW5ldyBhKE1hdGgubWluKG8tcippLGkpKSxoPTA7aDxsLmxlbmd0aDtoKyspdVtoXT1sW2hdO3Rbc11bcl09dX1mb3IodmFyIGM9bippO2M8bztjKz1pKXRbc10ucHVzaChuZXcgYShNYXRoLm1pbihvLWMsaSkpKX1mdW5jdGlvbiBLZihvKXt2YXIgYT1vLl9pbnZlcnRlZEluZGljZXNNYXA7UihhLGZ1bmN0aW9uKHQsZSl7dmFyIGk9by5fZGltZW5zaW9uSW5mb3NbZV0ub3JkaW5hbE1ldGE7aWYoaSl7dD1hW2VdPW5ldyBGZihpLmNhdGVnb3JpZXMubGVuZ3RoKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0W25dPS0xO2ZvcihuPTA7bjxvLl9jb3VudDtuKyspdFtvLmdldChlLG4pXT1ufX0pfWZ1bmN0aW9uICRmKHQsZSxpKXt2YXIgbjtpZihudWxsIT1lKXt2YXIgbz10Ll9jaHVua1NpemUsYT1NYXRoLmZsb29yKGkvbykscj1pJW8scz10LmRpbWVuc2lvbnNbZV0sbD10Ll9zdG9yYWdlW3NdW2FdO2lmKGwpe249bFtyXTt2YXIgdT10Ll9kaW1lbnNpb25JbmZvc1tzXS5vcmRpbmFsTWV0YTt1JiZ1LmNhdGVnb3JpZXMubGVuZ3RoJiYobj11LmNhdGVnb3JpZXNbbl0pfX1yZXR1cm4gbn1mdW5jdGlvbiBKZih0KXtyZXR1cm4gdH1mdW5jdGlvbiBRZih0KXtyZXR1cm4gdDx0aGlzLl9jb3VudCYmMDw9dD90aGlzLl9pbmRpY2VzW3RdOi0xfWZ1bmN0aW9uIHRwKHQsZSl7dmFyIGk9dC5faWRMaXN0W2VdO3JldHVybiBudWxsPT1pJiYoaT0kZih0LHQuX2lkRGltSWR4LGUpKSxudWxsPT1pJiYoaT0iZVwwXDAiK2UpLGl9ZnVuY3Rpb24gZXAodCl7cmV0dXJuIEwodCl8fCh0PVt0XSksdH1mdW5jdGlvbiBpcCh0LGUpe3ZhciBpPXQuZGltZW5zaW9ucyxuPW5ldyBZZihPKGksdC5nZXREaW1lbnNpb25JbmZvLHQpLHQuaG9zdE1vZGVsKTtYZihuLHQpO2Zvcih2YXIgbz1uLl9zdG9yYWdlPXt9LGE9dC5fc3RvcmFnZSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl07YVtzXSYmKDA8PV8oZSxzKT8ob1tzXT1ucChhW3NdKSxuLl9yYXdFeHRlbnRbc109b3AoKSxuLl9leHRlbnRbc109bnVsbCk6b1tzXT1hW3NdKX1yZXR1cm4gbn1mdW5jdGlvbiBucCh0KXtmb3IodmFyIGUsaSxuPW5ldyBBcnJheSh0Lmxlbmd0aCksbz0wO288dC5sZW5ndGg7bysrKW5bb109KGU9dFtvXSxpPXZvaWQgMCwoaT1lLmNvbnN0cnVjdG9yKT09PUFycmF5P2Uuc2xpY2UoKTpuZXcgaShlKSk7cmV0dXJuIG59ZnVuY3Rpb24gb3AoKXtyZXR1cm5bMS8wLC0xLzBdfWpmLnR5cGU9Imxpc3QiLGpmLmhhc0l0ZW1PcHRpb249ITAsamYuZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKHQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgdCYmKGlzTmFOKHQpfHx0aGlzLl9kaW1lbnNpb25JbmZvcy5oYXNPd25Qcm9wZXJ0eSh0KSl8fCh0PXRoaXMuZGltZW5zaW9uc1t0XSksdH0samYuZ2V0RGltZW5zaW9uSW5mbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGltZW5zaW9uSW5mb3NbdGhpcy5nZXREaW1lbnNpb24odCldfSxqZi5nZXREaW1lbnNpb25zT25Db29yZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaW1lbnNpb25zU3VtbWFyeS5kYXRhRGltc09uQ29vcmQuc2xpY2UoKX0samYubWFwRGltZW5zaW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnk7aWYobnVsbD09ZSlyZXR1cm4gaS5lbmNvZGVGaXJzdERpbU5vdEV4dHJhW3RdO3ZhciBuPWkuZW5jb2RlW3RdO3JldHVybiEwPT09ZT8obnx8W10pLnNsaWNlKCk6biYmbltlXX0samYuaW5pdERhdGE9ZnVuY3Rpb24odCxlLGkpeyhVdS5pc0luc3RhbmNlKHQpfHxOKHQpKSYmKHQ9bmV3IFBoKHQsdGhpcy5kaW1lbnNpb25zLmxlbmd0aCkpLHRoaXMuX3Jhd0RhdGE9dCx0aGlzLl9zdG9yYWdlPXt9LHRoaXMuX2luZGljZXM9bnVsbCx0aGlzLl9uYW1lTGlzdD1lfHxbXSx0aGlzLl9pZExpc3Q9W10sdGhpcy5fbmFtZVJlcGVhdENvdW50PXt9LGl8fCh0aGlzLmhhc0l0ZW1PcHRpb249ITEpLHRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyPUdoW3RoaXMuX3Jhd0RhdGEuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0XSx0aGlzLl9kaW1WYWx1ZUdldHRlcj1pPWl8fHRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyLHRoaXMuX2RpbVZhbHVlR2V0dGVyQXJyYXlSb3dzPUdoLmFycmF5Um93cyx0aGlzLl9yYXdFeHRlbnQ9e30sdGhpcy5faW5pdERhdGFGcm9tUHJvdmlkZXIoMCx0LmNvdW50KCkpLHQucHVyZSYmKHRoaXMuaGFzSXRlbU9wdGlvbj0hMSl9LGpmLmdldFByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhd0RhdGF9LGpmLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmF3RGF0YSxpPXRoaXMuY291bnQoKTtlLmFwcGVuZERhdGEodCk7dmFyIG49ZS5jb3VudCgpO2UucGVyc2lzdGVudHx8KG4rPWkpLHRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKGksbil9LGpmLmFwcGVuZFZhbHVlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl9jaHVua1NpemUsbj10aGlzLl9zdG9yYWdlLG89dGhpcy5kaW1lbnNpb25zLGE9by5sZW5ndGgscj10aGlzLl9yYXdFeHRlbnQscz10aGlzLmNvdW50KCksbD1zK01hdGgubWF4KHQubGVuZ3RoLGU/ZS5sZW5ndGg6MCksdT10aGlzLl9jaHVua0NvdW50LGg9MDtoPGE7aCsrKXtyW3Y9b1toXV18fChyW3ZdPW9wKCkpLG5bdl18fChuW3ZdPVtdKSxxZihuLHRoaXMuX2RpbWVuc2lvbkluZm9zW3ZdLGksdSxsKSx0aGlzLl9jaHVua0NvdW50PW5bdl0ubGVuZ3RofWZvcih2YXIgYz1uZXcgQXJyYXkoYSksZD1zO2Q8bDtkKyspe2Zvcih2YXIgZj1kLXMscD1NYXRoLmZsb29yKGQvaSksZz1kJWksbT0wO208YTttKyspe3ZhciB2PW9bbV0seT10aGlzLl9kaW1WYWx1ZUdldHRlckFycmF5Um93cyh0W2ZdfHxjLHYsZixtKTtuW3ZdW3BdW2ddPXk7dmFyIHg9clt2XTt5PHhbMF0mJih4WzBdPXkpLHk+eFsxXSYmKHhbMV09eSl9ZSYmKHRoaXMuX25hbWVMaXN0W2RdPWVbZl0pfXRoaXMuX3Jhd0NvdW50PXRoaXMuX2NvdW50PWwsdGhpcy5fZXh0ZW50PXt9LEtmKHRoaXMpfSxqZi5faW5pdERhdGFGcm9tUHJvdmlkZXI9ZnVuY3Rpb24odCxlKXtpZighKGU8PXQpKXtmb3IodmFyIGksbj10aGlzLl9jaHVua1NpemUsbz10aGlzLl9yYXdEYXRhLGE9dGhpcy5fc3RvcmFnZSxyPXRoaXMuZGltZW5zaW9ucyxzPXIubGVuZ3RoLGw9dGhpcy5fZGltZW5zaW9uSW5mb3MsdT10aGlzLl9uYW1lTGlzdCxoPXRoaXMuX2lkTGlzdCxjPXRoaXMuX3Jhd0V4dGVudCxkPXRoaXMuX25hbWVSZXBlYXRDb3VudD17fSxmPXRoaXMuX2NodW5rQ291bnQscD0wO3A8cztwKyspe2Nbdz1yW3BdXXx8KGNbd109b3AoKSk7dmFyIGc9bFt3XTswPT09Zy5vdGhlckRpbXMuaXRlbU5hbWUmJihpPXRoaXMuX25hbWVEaW1JZHg9cCksMD09PWcub3RoZXJEaW1zLml0ZW1JZCYmKHRoaXMuX2lkRGltSWR4PXApLGFbd118fChhW3ddPVtdKSxxZihhLGcsbixmLGUpLHRoaXMuX2NodW5rQ291bnQ9YVt3XS5sZW5ndGh9Zm9yKHZhciBtPW5ldyBBcnJheShzKSx2PXQ7djxlO3YrKyl7bT1vLmdldEl0ZW0odixtKTtmb3IodmFyIHk9TWF0aC5mbG9vcih2L24pLHg9diVuLF89MDtfPHM7XysrKXt2YXIgdyxiPWFbdz1yW19dXVt5XSxTPXRoaXMuX2RpbVZhbHVlR2V0dGVyKG0sdyx2LF8pO2JbeF09Uzt2YXIgTT1jW3ddO1M8TVswXSYmKE1bMF09UyksUz5NWzFdJiYoTVsxXT1TKX1pZighby5wdXJlKXt2YXIgST11W3ZdO2lmKG0mJm51bGw9PUkpaWYobnVsbCE9bS5uYW1lKXVbdl09ST1tLm5hbWU7ZWxzZSBpZihudWxsIT1pKXt2YXIgVD1yW2ldLEE9YVtUXVt5XTtpZihBKXtJPUFbeF07dmFyIEQ9bFtUXS5vcmRpbmFsTWV0YTtEJiZELmNhdGVnb3JpZXMubGVuZ3RoJiYoST1ELmNhdGVnb3JpZXNbSV0pfX12YXIgQz1udWxsPT1tP251bGw6bS5pZDtudWxsPT1DJiZudWxsIT1JJiYoZFtJXT1kW0ldfHwwLDA8ZFtDPUldJiYoQys9Il9fZWNfXyIrZFtJXSksZFtJXSsrKSxudWxsIT1DJiYoaFt2XT1DKX19IW8ucGVyc2lzdGVudCYmby5jbGVhbiYmby5jbGVhbigpLHRoaXMuX3Jhd0NvdW50PXRoaXMuX2NvdW50PWUsdGhpcy5fZXh0ZW50PXt9LEtmKHRoaXMpfX0samYuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY291bnR9LGpmLmdldEluZGljZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbmRpY2VzO2lmKHQpe3ZhciBlPXQuY29uc3RydWN0b3IsaT10aGlzLl9jb3VudDtpZihlPT09QXJyYXkpe289bmV3IGUoaSk7Zm9yKHZhciBuPTA7bjxpO24rKylvW25dPXRbbl19ZWxzZSBvPW5ldyBlKHQuYnVmZmVyLDAsaSl9ZWxzZXt2YXIgbz1uZXcoZT1IZih0aGlzKSkodGhpcy5jb3VudCgpKTtmb3Iobj0wO248by5sZW5ndGg7bisrKW9bbl09bn1yZXR1cm4gb30samYuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoISgwPD1lJiZlPHRoaXMuX2NvdW50KSlyZXR1cm4gTmFOO3ZhciBpPXRoaXMuX3N0b3JhZ2U7aWYoIWlbdF0pcmV0dXJuIE5hTjtlPXRoaXMuZ2V0UmF3SW5kZXgoZSk7dmFyIG49TWF0aC5mbG9vcihlL3RoaXMuX2NodW5rU2l6ZSksbz1lJXRoaXMuX2NodW5rU2l6ZTtyZXR1cm4gaVt0XVtuXVtvXX0samYuZ2V0QnlSYXdJbmRleD1mdW5jdGlvbih0LGUpe2lmKCEoMDw9ZSYmZTx0aGlzLl9yYXdDb3VudCkpcmV0dXJuIE5hTjt2YXIgaT10aGlzLl9zdG9yYWdlW3RdO2lmKCFpKXJldHVybiBOYU47dmFyIG49TWF0aC5mbG9vcihlL3RoaXMuX2NodW5rU2l6ZSksbz1lJXRoaXMuX2NodW5rU2l6ZTtyZXR1cm4gaVtuXVtvXX0samYuX2dldEZhc3Q9ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLmZsb29yKGUvdGhpcy5fY2h1bmtTaXplKSxuPWUldGhpcy5fY2h1bmtTaXplO3JldHVybiB0aGlzLl9zdG9yYWdlW3RdW2ldW25dfSxqZi5nZXRWYWx1ZXM9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtMKHQpfHwoZT10LHQ9dGhpcy5kaW1lbnNpb25zKTtmb3IodmFyIG49MCxvPXQubGVuZ3RoO248bztuKyspaS5wdXNoKHRoaXMuZ2V0KHRbbl0sZSkpO3JldHVybiBpfSxqZi5oYXNWYWx1ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnkuZGF0YURpbXNPbkNvb3JkLGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspaWYoaXNOYU4odGhpcy5nZXQoZVtpXSx0KSkpcmV0dXJuITE7cmV0dXJuITB9LGpmLmdldERhdGFFeHRlbnQ9ZnVuY3Rpb24odCl7dD10aGlzLmdldERpbWVuc2lvbih0KTt2YXIgZT10aGlzLl9zdG9yYWdlW3RdLGk9b3AoKTtpZighZSlyZXR1cm4gaTt2YXIgbixvPXRoaXMuY291bnQoKTtpZighdGhpcy5faW5kaWNlcylyZXR1cm4gdGhpcy5fcmF3RXh0ZW50W3RdLnNsaWNlKCk7aWYobj10aGlzLl9leHRlbnRbdF0pcmV0dXJuIG4uc2xpY2UoKTtmb3IodmFyIGE9KG49aSlbMF0scj1uWzFdLHM9MDtzPG87cysrKXt2YXIgbD10aGlzLl9nZXRGYXN0KHQsdGhpcy5nZXRSYXdJbmRleChzKSk7bDxhJiYoYT1sKSxyPGwmJihyPWwpfXJldHVybiBuPVthLHJdLHRoaXMuX2V4dGVudFt0XT1ufSxqZi5nZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmdldERpbWVuc2lvbih0KSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudFt0XXx8dGhpcy5nZXREYXRhRXh0ZW50KHQpfSxqZi5zZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0LGUpe2U9dGhpcy5nZXREaW1lbnNpb24oZSksdGhpcy5fYXBwcm94aW1hdGVFeHRlbnRbZV09dC5zbGljZSgpfSxqZi5nZXRDYWxjdWxhdGlvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0aW9uSW5mb1t0XX0samYuc2V0Q2FsY3VsYXRpb25JbmZvPWZ1bmN0aW9uKHQsZSl7RWYodCk/UCh0aGlzLl9jYWxjdWxhdGlvbkluZm8sdCk6dGhpcy5fY2FsY3VsYXRpb25JbmZvW3RdPWV9LGpmLmdldFN1bT1mdW5jdGlvbih0KXt2YXIgZT0wO2lmKHRoaXMuX3N0b3JhZ2VbdF0pZm9yKHZhciBpPTAsbj10aGlzLmNvdW50KCk7aTxuO2krKyl7dmFyIG89dGhpcy5nZXQodCxpKTtpc05hTihvKXx8KGUrPW8pfXJldHVybiBlfSxqZi5nZXRNZWRpYW49ZnVuY3Rpb24odCl7dmFyIGk9W107dGhpcy5lYWNoKHQsZnVuY3Rpb24odCxlKXtpc05hTih0KXx8aS5wdXNoKHQpfSk7dmFyIGU9W10uY29uY2F0KGkpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSksbj10aGlzLmNvdW50KCk7cmV0dXJuIDA9PT1uPzA6biUyPT0xP2VbKG4tMSkvMl06KGVbbi8yXStlW24vMi0xXSkvMn0samYucmF3SW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBpPSh0JiZ0aGlzLl9pbnZlcnRlZEluZGljZXNNYXBbdF0pW2VdO3JldHVybiBudWxsPT1pfHxpc05hTihpKT8tMTppfSxqZi5pbmRleE9mTmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMuY291bnQoKTtlPGk7ZSsrKWlmKHRoaXMuZ2V0TmFtZShlKT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LGpmLmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9yYXdDb3VudHx8dDwwKXJldHVybi0xO2lmKCF0aGlzLl9pbmRpY2VzKXJldHVybiB0O3ZhciBlPXRoaXMuX2luZGljZXMsaT1lW3RdO2lmKG51bGwhPWkmJmk8dGhpcy5fY291bnQmJmk9PT10KXJldHVybiB0O2Zvcih2YXIgbj0wLG89dGhpcy5fY291bnQtMTtuPD1vOyl7dmFyIGE9KG4rbykvMnwwO2lmKGVbYV08dCluPTErYTtlbHNle2lmKCEoZVthXT50KSlyZXR1cm4gYTtvPWEtMX19cmV0dXJuLTF9LGpmLmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVtdO2lmKCF0aGlzLl9zdG9yYWdlW3RdKXJldHVybiBuO251bGw9PWkmJihpPTEvMCk7Zm9yKHZhciBvPTEvMCxhPS0xLHI9MCxzPTAsbD10aGlzLmNvdW50KCk7czxsO3MrKyl7dmFyIHU9ZS10aGlzLmdldCh0LHMpLGg9TWF0aC5hYnModSk7aDw9aSYmKChoPG98fGg9PT1vJiYwPD11JiZhPDApJiYobz1oLGE9dSxyPTApLHU9PT1hJiYobltyKytdPXMpKX1yZXR1cm4gbi5sZW5ndGg9cixufSxqZi5nZXRSYXdJbmRleD1KZixqZi5nZXRSYXdEYXRhSXRlbT1mdW5jdGlvbih0KXtpZih0aGlzLl9yYXdEYXRhLnBlcnNpc3RlbnQpcmV0dXJuIHRoaXMuX3Jhd0RhdGEuZ2V0SXRlbSh0aGlzLmdldFJhd0luZGV4KHQpKTtmb3IodmFyIGU9W10saT0wO2k8dGhpcy5kaW1lbnNpb25zLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuZGltZW5zaW9uc1tpXTtlLnB1c2godGhpcy5nZXQobix0KSl9cmV0dXJuIGV9LGpmLmdldE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5fbmFtZUxpc3RbZV18fCRmKHRoaXMsdGhpcy5fbmFtZURpbUlkeCxlKXx8IiJ9LGpmLmdldElkPWZ1bmN0aW9uKHQpe3JldHVybiB0cCh0aGlzLHRoaXMuZ2V0UmF3SW5kZXgodCkpfSxqZi5lYWNoPWZ1bmN0aW9uKHQsZSxpLG4pe2lmKHRoaXMuX2NvdW50KXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49aSxpPWUsZT10LHQ9W10pLGk9aXx8bnx8dGhpcztmb3IodmFyIG89KHQ9TyhlcCh0KSx0aGlzLmdldERpbWVuc2lvbix0aGlzKSkubGVuZ3RoLGE9MDthPHRoaXMuY291bnQoKTthKyspc3dpdGNoKG8pe2Nhc2UgMDplLmNhbGwoaSxhKTticmVhaztjYXNlIDE6ZS5jYWxsKGksdGhpcy5nZXQodFswXSxhKSxhKTticmVhaztjYXNlIDI6ZS5jYWxsKGksdGhpcy5nZXQodFswXSxhKSx0aGlzLmdldCh0WzFdLGEpLGEpO2JyZWFrO2RlZmF1bHQ6Zm9yKHZhciByPTAscz1bXTtyPG87cisrKXNbcl09dGhpcy5nZXQodFtyXSxhKTtzW3JdPWEsZS5hcHBseShpLHMpfX19LGpmLmZpbHRlclNlbGY9ZnVuY3Rpb24odCxlLGksbil7aWYodGhpcy5fY291bnQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj1pLGk9ZSxlPXQsdD1bXSksaT1pfHxufHx0aGlzLHQ9TyhlcCh0KSx0aGlzLmdldERpbWVuc2lvbix0aGlzKTtmb3IodmFyIG89dGhpcy5jb3VudCgpLGE9bmV3KEhmKHRoaXMpKShvKSxyPVtdLHM9dC5sZW5ndGgsbD0wLHU9dFswXSxoPTA7aDxvO2grKyl7dmFyIGMsZD10aGlzLmdldFJhd0luZGV4KGgpO2lmKDA9PT1zKWM9ZS5jYWxsKGksaCk7ZWxzZSBpZigxPT09cyl7dmFyIGY9dGhpcy5fZ2V0RmFzdCh1LGQpO2M9ZS5jYWxsKGksZixoKX1lbHNle2Zvcih2YXIgcD0wO3A8cztwKyspcltwXT10aGlzLl9nZXRGYXN0KHUsZCk7cltwXT1oLGM9ZS5hcHBseShpLHIpfWMmJihhW2wrK109ZCl9cmV0dXJuIGw8byYmKHRoaXMuX2luZGljZXM9YSksdGhpcy5fY291bnQ9bCx0aGlzLl9leHRlbnQ9e30sdGhpcy5nZXRSYXdJbmRleD10aGlzLl9pbmRpY2VzP1FmOkpmLHRoaXN9fSxqZi5zZWxlY3RSYW5nZT1mdW5jdGlvbih0KXtpZih0aGlzLl9jb3VudCl7dmFyIGU9W107Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmZS5wdXNoKGkpO3ZhciBuPWUubGVuZ3RoO2lmKG4pe3ZhciBvPXRoaXMuY291bnQoKSxhPW5ldyhIZih0aGlzKSkobykscj0wLHM9ZVswXSxsPXRbc11bMF0sdT10W3NdWzFdLGg9ITE7aWYoIXRoaXMuX2luZGljZXMpe3ZhciBjPTA7aWYoMT09PW4pe2Zvcih2YXIgZD10aGlzLl9zdG9yYWdlW2VbMF1dLGY9MDtmPHRoaXMuX2NodW5rQ291bnQ7ZisrKWZvcih2YXIgcD1kW2ZdLGc9TWF0aC5taW4odGhpcy5fY291bnQtZip0aGlzLl9jaHVua1NpemUsdGhpcy5fY2h1bmtTaXplKSxtPTA7bTxnO20rKyl7KGw8PSh3PXBbbV0pJiZ3PD11fHxpc05hTih3KSkmJihhW3IrK109YyksYysrfWg9ITB9ZWxzZSBpZigyPT09bil7ZD10aGlzLl9zdG9yYWdlW3NdO3ZhciB2PXRoaXMuX3N0b3JhZ2VbZVsxXV0seT10W2VbMV1dWzBdLHg9dFtlWzFdXVsxXTtmb3IoZj0wO2Y8dGhpcy5fY2h1bmtDb3VudDtmKyspe3A9ZFtmXTt2YXIgXz12W2ZdO2ZvcihnPU1hdGgubWluKHRoaXMuX2NvdW50LWYqdGhpcy5fY2h1bmtTaXplLHRoaXMuX2NodW5rU2l6ZSksbT0wO208ZzttKyspe3ZhciB3PXBbbV0sYj1fW21dOyhsPD13JiZ3PD11fHxpc05hTih3KSkmJih5PD1iJiZiPD14fHxpc05hTihiKSkmJihhW3IrK109YyksYysrfX1oPSEwfX1pZighaClpZigxPT09bilmb3IobT0wO208bzttKyspe3ZhciBTPXRoaXMuZ2V0UmF3SW5kZXgobSk7KGw8PSh3PXRoaXMuX2dldEZhc3QocyxTKSkmJnc8PXV8fGlzTmFOKHcpKSYmKGFbcisrXT1TKX1lbHNlIGZvcihtPTA7bTxvO20rKyl7dmFyIE09ITA7Zm9yKFM9dGhpcy5nZXRSYXdJbmRleChtKSxmPTA7ZjxuO2YrKyl7dmFyIEk9ZVtmXTsoKHc9dGhpcy5fZ2V0RmFzdChpLFMpKTx0W0ldWzBdfHx3PnRbSV1bMV0pJiYoTT0hMSl9TSYmKGFbcisrXT10aGlzLmdldFJhd0luZGV4KG0pKX1yZXR1cm4gcjxvJiYodGhpcy5faW5kaWNlcz1hKSx0aGlzLl9jb3VudD1yLHRoaXMuX2V4dGVudD17fSx0aGlzLmdldFJhd0luZGV4PXRoaXMuX2luZGljZXM/UWY6SmYsdGhpc319fSxqZi5tYXBBcnJheT1mdW5jdGlvbih0LGUsaSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49aSxpPWUsZT10LHQ9W10pLGk9aXx8bnx8dGhpczt2YXIgbz1bXTtyZXR1cm4gdGhpcy5lYWNoKHQsZnVuY3Rpb24oKXtvLnB1c2goZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxpKSxvfSxqZi5tYXA9ZnVuY3Rpb24odCxlLGksbil7aT1pfHxufHx0aGlzO3ZhciBvPWlwKHRoaXMsdD1PKGVwKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpKTtvLl9pbmRpY2VzPXRoaXMuX2luZGljZXMsby5nZXRSYXdJbmRleD1vLl9pbmRpY2VzP1FmOkpmO2Zvcih2YXIgYT1vLl9zdG9yYWdlLHI9W10scz10aGlzLl9jaHVua1NpemUsbD10Lmxlbmd0aCx1PXRoaXMuY291bnQoKSxoPVtdLGM9by5fcmF3RXh0ZW50LGQ9MDtkPHU7ZCsrKXtmb3IodmFyIGY9MDtmPGw7ZisrKWhbZl09dGhpcy5nZXQodFtmXSxkKTtoW2xdPWQ7dmFyIHA9ZSYmZS5hcHBseShpLGgpO2lmKG51bGwhPXApeyJvYmplY3QiIT10eXBlb2YgcCYmKHJbMF09cCxwPXIpO2Zvcih2YXIgZz10aGlzLmdldFJhd0luZGV4KGQpLG09TWF0aC5mbG9vcihnL3MpLHY9ZyVzLHk9MDt5PHAubGVuZ3RoO3krKyl7dmFyIHg9dFt5XSxfPXBbeV0sdz1jW3hdLGI9YVt4XTtiJiYoYlttXVt2XT1fKSxfPHdbMF0mJih3WzBdPV8pLF8+d1sxXSYmKHdbMV09Xyl9fX1yZXR1cm4gb30samYuZG93blNhbXBsZT1mdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89aXAodGhpcyxbdF0pLGE9by5fc3RvcmFnZSxyPVtdLHM9TWF0aC5mbG9vcigxL2UpLGw9YVt0XSx1PXRoaXMuY291bnQoKSxoPXRoaXMuX2NodW5rU2l6ZSxjPW8uX3Jhd0V4dGVudFt0XSxkPW5ldyhIZih0aGlzKSkodSksZj0wLHA9MDtwPHU7cCs9cyl7dS1wPHMmJihzPXUtcCxyLmxlbmd0aD1zKTtmb3IodmFyIGc9MDtnPHM7ZysrKXt2YXIgbT10aGlzLmdldFJhd0luZGV4KHArZyksdj1NYXRoLmZsb29yKG0vaCkseT1tJWg7cltnXT1sW3ZdW3ldfXZhciB4PWkociksXz10aGlzLmdldFJhd0luZGV4KE1hdGgubWluKHArbihyLHgpfHwwLHUtMSkpLHc9XyVoOyhsW01hdGguZmxvb3IoXy9oKV1bd109eCk8Y1swXSYmKGNbMF09eCkseD5jWzFdJiYoY1sxXT14KSxkW2YrK109X31yZXR1cm4gby5fY291bnQ9ZixvLl9pbmRpY2VzPWQsby5nZXRSYXdJbmRleD1RZixvfSxqZi5nZXRJdGVtTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0TW9kZWw7cmV0dXJuIG5ldyBDbCh0aGlzLmdldFJhd0RhdGFJdGVtKHQpLGUsZSYmZS5lY01vZGVsKX0samYuZGlmZj1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3JldHVybiBuZXcga2YoZT9lLmdldEluZGljZXMoKTpbXSx0aGlzLmdldEluZGljZXMoKSxmdW5jdGlvbih0KXtyZXR1cm4gdHAoZSx0KX0sZnVuY3Rpb24odCl7cmV0dXJuIHRwKGksdCl9KX0samYuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Zpc3VhbDtyZXR1cm4gZSYmZVt0XX0samYuc2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7aWYoRWYodCkpZm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5zZXRWaXN1YWwoaSx0W2ldKTtlbHNlIHRoaXMuX3Zpc3VhbD10aGlzLl92aXN1YWx8fHt9LHRoaXMuX3Zpc3VhbFt0XT1lfSxqZi5zZXRMYXlvdXQ9ZnVuY3Rpb24odCxlKXtpZihFZih0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnNldExheW91dChpLHRbaV0pO2Vsc2UgdGhpcy5fbGF5b3V0W3RdPWV9LGpmLmdldExheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5b3V0W3RdfSxqZi5nZXRJdGVtTGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pdGVtTGF5b3V0c1t0XX0samYuc2V0SXRlbUxheW91dD1mdW5jdGlvbih0LGUsaSl7dGhpcy5faXRlbUxheW91dHNbdF09aT9QKHRoaXMuX2l0ZW1MYXlvdXRzW3RdfHx7fSxlKTplfSxqZi5jbGVhckl0ZW1MYXlvdXRzPWZ1bmN0aW9uKCl7dGhpcy5faXRlbUxheW91dHMubGVuZ3RoPTB9LGpmLmdldEl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2l0ZW1WaXN1YWxzW3RdLG89biYmbltlXTtyZXR1cm4gbnVsbCE9b3x8aT9vOnRoaXMuZ2V0VmlzdWFsKGUpfSxqZi5zZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9pdGVtVmlzdWFsc1t0XXx8e30sbz10aGlzLmhhc0l0ZW1WaXN1YWw7aWYodGhpcy5faXRlbVZpc3VhbHNbdF09bixFZihlKSlmb3IodmFyIGEgaW4gZSllLmhhc093blByb3BlcnR5KGEpJiYoblthXT1lW2FdLG9bYV09ITApO2Vsc2UgbltlXT1pLG9bZV09ITB9LGpmLmNsZWFyQWxsVmlzdWFsPWZ1bmN0aW9uKCl7dGhpcy5fdmlzdWFsPXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuaGFzSXRlbVZpc3VhbD17fX07ZnVuY3Rpb24gYXAodCl7dC5zZXJpZXNJbmRleD10aGlzLnNlcmllc0luZGV4LHQuZGF0YUluZGV4PXRoaXMuZGF0YUluZGV4LHQuZGF0YVR5cGU9dGhpcy5kYXRhVHlwZX1mdW5jdGlvbiBycCh0LGUsaSl7VXUuaXNJbnN0YW5jZShlKXx8KGU9VXUuc2VyaWVzRGF0YVRvU291cmNlKGUpKSxpPWl8fHt9LHQ9KHR8fFtdKS5zbGljZSgpO2Zvcih2YXIgbj0oaS5kaW1zRGVmfHxbXSkuc2xpY2UoKSxvPVEoKSxhPVEoKSxsPVtdLHI9ZnVuY3Rpb24odCxlLGksbil7dmFyIG89TWF0aC5tYXgodC5kaW1lbnNpb25zRGV0ZWN0Q291bnR8fDEsZS5sZW5ndGgsaS5sZW5ndGgsbnx8MCk7cmV0dXJuIFIoZSxmdW5jdGlvbih0KXt2YXIgZT10LmRpbXNEZWY7ZSYmKG89TWF0aC5tYXgobyxlLmxlbmd0aCkpfSksb30oZSx0LG4saS5kaW1Db3VudCkscz0wO3M8cjtzKyspe3ZhciB1PW5bc109UCh7fSxFKG5bc10pP25bc106e25hbWU6bltzXX0pLGg9dS5uYW1lLGM9bFtzXT1uZXcgemY7bnVsbCE9aCYmbnVsbD09by5nZXQoaCkmJihjLm5hbWU9Yy5kaXNwbGF5TmFtZT1oLG8uc2V0KGgscykpLG51bGwhPXUudHlwZSYmKGMudHlwZT11LnR5cGUpLG51bGwhPXUuZGlzcGxheU5hbWUmJihjLmRpc3BsYXlOYW1lPXUuZGlzcGxheU5hbWUpfXZhciBkPWkuZW5jb2RlRGVmOyFkJiZpLmVuY29kZURlZmF1bHRlciYmKGQ9aS5lbmNvZGVEZWZhdWx0ZXIoZSxyKSksKGQ9UShkKSkuZWFjaChmdW5jdGlvbih0LGkpe2lmKDE9PT0odD1Wbyh0KS5zbGljZSgpKS5sZW5ndGgmJiF6KHRbMF0pJiZ0WzBdPDApZC5zZXQoaSwhMSk7ZWxzZXt2YXIgbj1kLnNldChpLFtdKTtSKHQsZnVuY3Rpb24odCxlKXt6KHQpJiYodD1vLmdldCh0KSksbnVsbCE9dCYmdDxyJiYobltlXT10LHAobFt0XSxpLGUpKX0pfX0pO3ZhciBmPTA7ZnVuY3Rpb24gcCh0LGUsaSl7bnVsbCE9TmYuZ2V0KGUpP3Qub3RoZXJEaW1zW2VdPWk6KHQuY29vcmREaW09ZSx0LmNvb3JkRGltSW5kZXg9aSxhLnNldChlLCEwKSl9Uih0LGZ1bmN0aW9uKG8sdCl7dmFyIGEscixzO2lmKHoobykpYT1vLG89e307ZWxzZXthPW8ubmFtZTt2YXIgZT1vLm9yZGluYWxNZXRhO28ub3JkaW5hbE1ldGE9bnVsbCwobz1rKG8pKS5vcmRpbmFsTWV0YT1lLHI9by5kaW1zRGVmLHM9by5vdGhlckRpbXMsby5uYW1lPW8uY29vcmREaW09by5jb29yZERpbUluZGV4PW8uZGltc0RlZj1vLm90aGVyRGltcz1udWxsfWlmKCExIT09KGk9ZC5nZXQoYSkpKXt2YXIgaTtpZighKGk9Vm8oaSkpLmxlbmd0aClmb3IodmFyIG49MDtuPChyJiZyLmxlbmd0aHx8MSk7bisrKXtmb3IoO2Y8bC5sZW5ndGgmJm51bGwhPWxbZl0uY29vcmREaW07KWYrKztmPGwubGVuZ3RoJiZpLnB1c2goZisrKX1SKGksZnVuY3Rpb24odCxlKXt2YXIgaT1sW3RdO2lmKHAoRChpLG8pLGEsZSksbnVsbD09aS5uYW1lJiZyKXt2YXIgbj1yW2VdO0Uobil8fChuPXtuYW1lOm59KSxpLm5hbWU9aS5kaXNwbGF5TmFtZT1uLm5hbWUsaS5kZWZhdWx0VG9vbHRpcD1uLmRlZmF1bHRUb29sdGlwfXMmJkQoaS5vdGhlckRpbXMscyl9KX19KTt2YXIgZz1pLmdlbmVyYXRlQ29vcmQsbT1pLmdlbmVyYXRlQ29vcmRDb3VudCx2PW51bGwhPW07bT1nP218fDE6MDtmb3IodmFyIHkseCxfPWd8fCJ2YWx1ZSIsdz0wO3c8cjt3Kyspe251bGw9PShjPWxbd109bFt3XXx8bmV3IHpmKS5jb29yZERpbSYmKGMuY29vcmREaW09c3AoXyxhLHYpLGMuY29vcmREaW1JbmRleD0wLCghZ3x8bTw9MCkmJihjLmlzRXh0cmFDb29yZD0hMCksbS0tKSxudWxsPT1jLm5hbWUmJihjLm5hbWU9c3AoYy5jb29yZERpbSxvKSksbnVsbD09Yy50eXBlJiYoeT1lLHg9dyxjLm5hbWUsdGgoeS5kYXRhLHkuc291cmNlRm9ybWF0LHkuc2VyaWVzTGF5b3V0QnkseS5kaW1lbnNpb25zRGVmaW5lLHkuc3RhcnRJbmRleCx4KT09PVh1Lk11c3R8fGMuaXNFeHRyYUNvb3JkJiYobnVsbCE9Yy5vdGhlckRpbXMuaXRlbU5hbWV8fG51bGwhPWMub3RoZXJEaW1zLnNlcmllc05hbWUpKSYmKGMudHlwZT0ib3JkaW5hbCIpfXJldHVybiBsfWZ1bmN0aW9uIHNwKHQsZSxpKXtpZihpfHxudWxsIT1lLmdldCh0KSl7Zm9yKHZhciBuPTA7bnVsbCE9ZS5nZXQodCtuKTspbisrO3QrPW59cmV0dXJuIGUuc2V0KHQsITApLHR9amYuc2V0SXRlbUdyYXBoaWNFbD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuaG9zdE1vZGVsO2UmJihlLmRhdGFJbmRleD10LGUuZGF0YVR5cGU9dGhpcy5kYXRhVHlwZSxlLnNlcmllc0luZGV4PWkmJmkuc2VyaWVzSW5kZXgsImdyb3VwIj09PWUudHlwZSYmZS50cmF2ZXJzZShhcCxlKSksdGhpcy5fZ3JhcGhpY0Vsc1t0XT1lfSxqZi5nZXRJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ncmFwaGljRWxzW3RdfSxqZi5lYWNoSXRlbUdyYXBoaWNFbD1mdW5jdGlvbihpLG4pe1IodGhpcy5fZ3JhcGhpY0VscyxmdW5jdGlvbih0LGUpe3QmJmkmJmkuY2FsbChuLHQsZSl9KX0samYuY2xvbmVTaGFsbG93PWZ1bmN0aW9uKHQpe2lmKCF0KXt2YXIgZT1PKHRoaXMuZGltZW5zaW9ucyx0aGlzLmdldERpbWVuc2lvbkluZm8sdGhpcyk7dD1uZXcgWWYoZSx0aGlzLmhvc3RNb2RlbCl9aWYodC5fc3RvcmFnZT10aGlzLl9zdG9yYWdlLFhmKHQsdGhpcyksdGhpcy5faW5kaWNlcyl7dmFyIGk9dGhpcy5faW5kaWNlcy5jb25zdHJ1Y3Rvcjt0Ll9pbmRpY2VzPW5ldyBpKHRoaXMuX2luZGljZXMpfWVsc2UgdC5faW5kaWNlcz1udWxsO3JldHVybiB0LmdldFJhd0luZGV4PXQuX2luZGljZXM/UWY6SmYsdH0samYud3JhcE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdF07ImZ1bmN0aW9uIj09dHlwZW9mIGkmJih0aGlzLl9fd3JhcHBlZE1ldGhvZHM9dGhpcy5fX3dyYXBwZWRNZXRob2RzfHxbXSx0aGlzLl9fd3JhcHBlZE1ldGhvZHMucHVzaCh0KSx0aGlzW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuYXBwbHkodGhpcyxbdF0uY29uY2F0KFUoYXJndW1lbnRzKSkpfSl9LGpmLlRSQU5TRkVSQUJMRV9NRVRIT0RTPVsiY2xvbmVTaGFsbG93IiwiZG93blNhbXBsZSIsIm1hcCJdLGpmLkNIQU5HQUJMRV9NRVRIT0RTPVsiZmlsdGVyU2VsZiIsInNlbGVjdFJhbmdlIl07dmFyIGxwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJwKChlPWV8fHt9KS5jb29yZERpbWVuc2lvbnN8fFtdLHQse2RpbXNEZWY6ZS5kaW1lbnNpb25zRGVmaW5lfHx0LmRpbWVuc2lvbnNEZWZpbmUsZW5jb2RlRGVmOmUuZW5jb2RlRGVmaW5lfHx0LmVuY29kZURlZmluZSxkaW1Db3VudDplLmRpbWVuc2lvbnNDb3VudCxlbmNvZGVEZWZhdWx0ZXI6ZS5lbmNvZGVEZWZhdWx0ZXIsZ2VuZXJhdGVDb29yZDplLmdlbmVyYXRlQ29vcmQsZ2VuZXJhdGVDb29yZENvdW50OmUuZ2VuZXJhdGVDb29yZENvdW50fSl9O2Z1bmN0aW9uIHVwKHQpe3RoaXMuY29vcmRTeXNOYW1lPXQsdGhpcy5jb29yZFN5c0RpbXM9W10sdGhpcy5heGlzTWFwPVEoKSx0aGlzLmNhdGVnb3J5QXhpc01hcD1RKCksdGhpcy5maXJzdENhdGVnb3J5RGltSW5kZXg9bnVsbH12YXIgaHA9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieEF4aXMiKVswXSxhPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieUF4aXMiKVswXTtlLmNvb3JkU3lzRGltcz1bIngiLCJ5Il0saS5zZXQoIngiLG8pLGkuc2V0KCJ5IixhKSxjcChvKSYmKG4uc2V0KCJ4IixvKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0wKSxjcChhKSYmKG4uc2V0KCJ5IixhKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleCxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0xKX0sc2luZ2xlQXhpczpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInNpbmdsZUF4aXMiKVswXTtlLmNvb3JkU3lzRGltcz1bInNpbmdsZSJdLGkuc2V0KCJzaW5nbGUiLG8pLGNwKG8pJiYobi5zZXQoInNpbmdsZSIsbyksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MCl9LHBvbGFyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygicG9sYXIiKVswXSxhPW8uZmluZEF4aXNNb2RlbCgicmFkaXVzQXhpcyIpLHI9by5maW5kQXhpc01vZGVsKCJhbmdsZUF4aXMiKTtlLmNvb3JkU3lzRGltcz1bInJhZGl1cyIsImFuZ2xlIl0saS5zZXQoInJhZGl1cyIsYSksaS5zZXQoImFuZ2xlIixyKSxjcChhKSYmKG4uc2V0KCJyYWRpdXMiLGEpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApLGNwKHIpJiYobi5zZXQoImFuZ2xlIixyKSxudWxsPT1lLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleCYmKGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTEpKX0sZ2VvOmZ1bmN0aW9uKHQsZSxpLG4pe2UuY29vcmRTeXNEaW1zPVsibG5nIiwibGF0Il19LHBhcmFsbGVsOmZ1bmN0aW9uKHQsbyxhLHIpe3ZhciBzPXQuZWNNb2RlbCxlPXMuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSksbD1vLmNvb3JkU3lzRGltcz1lLmRpbWVuc2lvbnMuc2xpY2UoKTtSKGUucGFyYWxsZWxBeGlzSW5kZXgsZnVuY3Rpb24odCxlKXt2YXIgaT1zLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIix0KSxuPWxbZV07YS5zZXQobixpKSxjcChpKSYmbnVsbD09by5maXJzdENhdGVnb3J5RGltSW5kZXgmJihyLnNldChuLGkpLG8uZmlyc3RDYXRlZ29yeURpbUluZGV4PWUpfSl9fTtmdW5jdGlvbiBjcCh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dC5nZXQoInR5cGUiKX1mdW5jdGlvbiBkcCh0LGksZSl7dmFyIG4sbyxhLHIscz0oZT1lfHx7fSkuYnlJbmRleCxsPWUuc3RhY2tlZENvb3JkRGltZW5zaW9uLHU9ISghdHx8IXQuZ2V0KCJzdGFjayIpKTtpZihSKGksZnVuY3Rpb24odCxlKXt6KHQpJiYoaVtlXT10PXtuYW1lOnR9KSx1JiYhdC5pc0V4dHJhQ29vcmQmJihzfHxufHwhdC5vcmRpbmFsTWV0YXx8KG49dCksb3x8Im9yZGluYWwiPT09dC50eXBlfHwidGltZSI9PT10LnR5cGV8fGwmJmwhPT10LmNvb3JkRGltfHwobz10KSl9KSwhb3x8c3x8bnx8KHM9ITApLG8pe2E9Il9fXDBlY3N0YWNrcmVzdWx0IixyPSJfX1wwZWNzdGFja2Vkb3ZlciIsbiYmKG4uY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzPSEwKTt2YXIgaD1vLmNvb3JkRGltLGM9by50eXBlLGQ9MDtSKGksZnVuY3Rpb24odCl7dC5jb29yZERpbT09PWgmJmQrK30pLGkucHVzaCh7bmFtZTphLGNvb3JkRGltOmgsY29vcmREaW1JbmRleDpkLHR5cGU6Yyxpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwfSksZCsrLGkucHVzaCh7bmFtZTpyLGNvb3JkRGltOnIsY29vcmREaW1JbmRleDpkLHR5cGU6Yyxpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwfSl9cmV0dXJue3N0YWNrZWREaW1lbnNpb246byYmby5uYW1lLHN0YWNrZWRCeURpbWVuc2lvbjpuJiZuLm5hbWUsaXNTdGFja2VkQnlJbmRleDpzLHN0YWNrZWRPdmVyRGltZW5zaW9uOnIsc3RhY2tSZXN1bHREaW1lbnNpb246YX19ZnVuY3Rpb24gZnAodCxlKXtyZXR1cm4hIWUmJmU9PT10LmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZERpbWVuc2lvbiIpfWZ1bmN0aW9uIHBwKHQsZSl7cmV0dXJuIGZwKHQsZSk/dC5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIik6ZX1mdW5jdGlvbiBncCh0LGUsaSl7aT1pfHx7fSxVdS5pc0luc3RhbmNlKHQpfHwodD1VdS5zZXJpZXNEYXRhVG9Tb3VyY2UodCkpO3ZhciBuLG89ZS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSxhPWxoLmdldChvKSxyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIiksaT1uZXcgdXAoZSksbj1ocFtlXTtpZihuKXJldHVybiBuKHQsaSxpLmF4aXNNYXAsaS5jYXRlZ29yeUF4aXNNYXApLGl9KGUpO3ImJihuPU8oci5jb29yZFN5c0RpbXMsZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dH0saT1yLmF4aXNNYXAuZ2V0KHQpO2lmKGkpe3ZhciBuPWkuZ2V0KCJ0eXBlIik7ZS50eXBlPVJmKG4pfXJldHVybiBlfSkpLG49bnx8KGEmJihhLmdldERpbWVuc2lvbnNJbmZvP2EuZ2V0RGltZW5zaW9uc0luZm8oKTphLmRpbWVuc2lvbnMuc2xpY2UoKSl8fFsieCIsInkiXSk7dmFyIHMsbCx1PWxwKHQse2Nvb3JkRGltZW5zaW9uczpuLGdlbmVyYXRlQ29vcmQ6aS5nZW5lcmF0ZUNvb3JkLGVuY29kZURlZmF1bHRlcjppLnVzZUVuY29kZURlZmF1bHRlcj9UKCR1LG4sZSk6bnVsbH0pO3ImJlIodSxmdW5jdGlvbih0LGUpe3ZhciBpPXQuY29vcmREaW0sbj1yLmNhdGVnb3J5QXhpc01hcC5nZXQoaSk7biYmKG51bGw9PXMmJihzPWUpLHQub3JkaW5hbE1ldGE9bi5nZXRPcmRpbmFsTWV0YSgpKSxudWxsIT10Lm90aGVyRGltcy5pdGVtTmFtZSYmKGw9ITApfSksbHx8bnVsbD09c3x8KHVbc10ub3RoZXJEaW1zLml0ZW1OYW1lPTApO3ZhciBoPWRwKGUsdSksYz1uZXcgWWYodSxlKTtjLnNldENhbGN1bGF0aW9uSW5mbyhoKTt2YXIgZD1udWxsIT1zJiZmdW5jdGlvbih0KXtpZih0LnNvdXJjZUZvcm1hdD09PUV1KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT0wO2Zvcig7ZTx0Lmxlbmd0aCYmbnVsbD09dFtlXTspZSsrO3JldHVybiB0W2VdfSh0LmRhdGF8fFtdKTtyZXR1cm4gbnVsbCE9ZSYmIUwoV28oZSkpfX0odCk/ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIG49PT1zP2k6dGhpcy5kZWZhdWx0RGltVmFsdWVHZXR0ZXIodCxlLGksbil9Om51bGw7cmV0dXJuIGMuaGFzSXRlbU9wdGlvbj0hMSxjLmluaXREYXRhKHQsbnVsbCxkKSxjfWZ1bmN0aW9uIG1wKHQpe3RoaXMuX3NldHRpbmc9dHx8e30sdGhpcy5fZXh0ZW50PVsxLzAsLTEvMF0sdGhpcy5faW50ZXJ2YWw9MCx0aGlzLmluaXQmJnRoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdnAodCl7dGhpcy5jYXRlZ29yaWVzPXQuY2F0ZWdvcmllc3x8W10sdGhpcy5fbmVlZENvbGxlY3Q9dC5uZWVkQ29sbGVjdCx0aGlzLl9kZWR1cGxpY2F0aW9uPXQuZGVkdXBsaWNhdGlvbix0aGlzLl9tYXB9bXAucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxtcC5wcm90b3R5cGUuZ2V0U2V0dGluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0dGluZ1t0XX0sbXAucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3JldHVybiB0Pj1lWzBdJiZ0PD1lWzFdfSxtcC5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtyZXR1cm4gZVsxXT09PWVbMF0/LjU6KHQtZVswXSkvKGVbMV0tZVswXSl9LG1wLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7cmV0dXJuIHQqKGVbMV0tZVswXSkrZVswXX0sbXAucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSl9LG1wLnByb3RvdHlwZS51bmlvbkV4dGVudEZyb21EYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sbXAucHJvdG90eXBlLmdldEV4dGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnQuc2xpY2UoKX0sbXAucHJvdG90eXBlLnNldEV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpc05hTih0KXx8KGlbMF09dCksaXNOYU4oZSl8fChpWzFdPWUpfSxtcC5wcm90b3R5cGUuaXNCbGFuaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0JsYW5rfSxtcC5wcm90b3R5cGUuc2V0Qmxhbms9ZnVuY3Rpb24odCl7dGhpcy5faXNCbGFuaz10fSxtcC5wcm90b3R5cGUuZ2V0TGFiZWw9bnVsbCxvYShtcCksdWEobXAse3JlZ2lzdGVyV2hlbkV4dGVuZDohMH0pLHZwLmNyZWF0ZUJ5QXhpc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3B0aW9uLGk9ZS5kYXRhLG49aSYmTyhpLF9wKTtyZXR1cm4gbmV3IHZwKHtjYXRlZ29yaWVzOm4sbmVlZENvbGxlY3Q6IW4sZGVkdXBsaWNhdGlvbjohMSE9PWUuZGVkcGxpY2F0aW9ufSl9O3ZhciB5cD12cC5wcm90b3R5cGU7ZnVuY3Rpb24geHAodCl7cmV0dXJuIHQuX21hcHx8KHQuX21hcD1RKHQuY2F0ZWdvcmllcykpfWZ1bmN0aW9uIF9wKHQpe3JldHVybiBFKHQpJiZudWxsIT10LnZhbHVlP3QudmFsdWU6dCsiIn15cC5nZXRPcmRpbmFsPWZ1bmN0aW9uKHQpe3JldHVybiB4cCh0aGlzKS5nZXQodCl9LHlwLnBhcnNlQW5kQ29sbGVjdD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX25lZWRDb2xsZWN0O2lmKCJzdHJpbmciIT10eXBlb2YgdCYmIWkpcmV0dXJuIHQ7aWYoaSYmIXRoaXMuX2RlZHVwbGljYXRpb24pcmV0dXJuIGU9dGhpcy5jYXRlZ29yaWVzLmxlbmd0aCx0aGlzLmNhdGVnb3JpZXNbZV09dCxlO3ZhciBuPXhwKHRoaXMpO3JldHVybiBudWxsPT0oZT1uLmdldCh0KSkmJihpPyhlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsbi5zZXQodCxlKSk6ZT1OYU4pLGV9O3ZhciB3cD1tcC5wcm90b3R5cGUsYnA9bXAuZXh0ZW5kKHt0eXBlOiJvcmRpbmFsIixpbml0OmZ1bmN0aW9uKHQsZSl7dCYmIUwodCl8fCh0PW5ldyB2cCh7Y2F0ZWdvcmllczp0fSkpLHRoaXMuX29yZGluYWxNZXRhPXQsdGhpcy5fZXh0ZW50PWV8fFswLHQuY2F0ZWdvcmllcy5sZW5ndGgtMV19LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLl9vcmRpbmFsTWV0YS5nZXRPcmRpbmFsKHQpOk1hdGgucm91bmQodCl9LGNvbnRhaW46ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5wYXJzZSh0KSx3cC5jb250YWluLmNhbGwodGhpcyx0KSYmbnVsbCE9dGhpcy5fb3JkaW5hbE1ldGEuY2F0ZWdvcmllc1t0XX0sbm9ybWFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiB3cC5ub3JtYWxpemUuY2FsbCh0aGlzLHRoaXMucGFyc2UodCkpfSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh3cC5zY2FsZS5jYWxsKHRoaXMsdCkpfSxnZXRUaWNrczpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMuX2V4dGVudCxpPWVbMF07aTw9ZVsxXTspdC5wdXNoKGkpLGkrKztyZXR1cm4gdH0sZ2V0TGFiZWw6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNCbGFuaygpKXJldHVybiB0aGlzLl9vcmRpbmFsTWV0YS5jYXRlZ29yaWVzW3RdfSxjb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnRbMV0tdGhpcy5fZXh0ZW50WzBdKzF9LHVuaW9uRXh0ZW50RnJvbURhdGE6ZnVuY3Rpb24odCxlKXt0aGlzLnVuaW9uRXh0ZW50KHQuZ2V0QXBwcm94aW1hdGVFeHRlbnQoZSkpfSxnZXRPcmRpbmFsTWV0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmRpbmFsTWV0YX0sbmljZVRpY2tzOmV0LG5pY2VFeHRlbnQ6ZXR9KTticC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGJwfTt2YXIgU3A9RWw7ZnVuY3Rpb24gTXAodCl7cmV0dXJuIEdsKHQpKzJ9ZnVuY3Rpb24gSXAodCxlLGkpe3RbZV09TWF0aC5tYXgoTWF0aC5taW4odFtlXSxpWzFdKSxpWzBdKX1mdW5jdGlvbiBUcCh0LGUpe2lzRmluaXRlKHRbMF0pfHwodFswXT1lWzBdKSxpc0Zpbml0ZSh0WzFdKXx8KHRbMV09ZVsxXSksSXAodCwwLGUpLElwKHQsMSxlKSx0WzBdPnRbMV0mJih0WzBdPXRbMV0pfXZhciBBcD1FbCxEcD1tcC5leHRlbmQoe3R5cGU6ImludGVydmFsIixfaW50ZXJ2YWw6MCxfaW50ZXJ2YWxQcmVjaXNpb246MixzZXRFeHRlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9leHRlbnQ7aXNOYU4odCl8fChpWzBdPXBhcnNlRmxvYXQodCkpLGlzTmFOKGUpfHwoaVsxXT1wYXJzZUZsb2F0KGUpKX0sdW5pb25FeHRlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3RbMF08ZVswXSYmKGVbMF09dFswXSksdFsxXT5lWzFdJiYoZVsxXT10WzFdKSxEcC5wcm90b3R5cGUuc2V0RXh0ZW50LmNhbGwodGhpcyxlWzBdLGVbMV0pfSxnZXRJbnRlcnZhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnZhbH0sc2V0SW50ZXJ2YWw6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJ2YWw9dCx0aGlzLl9uaWNlRXh0ZW50PXRoaXMuX2V4dGVudC5zbGljZSgpLHRoaXMuX2ludGVydmFsUHJlY2lzaW9uPU1wKHQpfSxnZXRUaWNrczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcnZhbCxpPXRoaXMuX2V4dGVudCxuPXRoaXMuX25pY2VFeHRlbnQsbz10aGlzLl9pbnRlcnZhbFByZWNpc2lvbixhPVtdO2lmKCFlKXJldHVybiBhO2lbMF08blswXSYmKHQ/YS5wdXNoKEFwKG5bMF0tZSxvKSk6YS5wdXNoKGlbMF0pKTtmb3IodmFyIHI9blswXTtyPD1uWzFdJiYoYS5wdXNoKHIpLChyPUFwKHIrZSxvKSkhPT1hW2EubGVuZ3RoLTFdKTspaWYoMWU0PGEubGVuZ3RoKXJldHVybltdO3ZhciBzPWEubGVuZ3RoP2FbYS5sZW5ndGgtMV06blsxXTtyZXR1cm4gaVsxXT5zJiYodD9hLnB1c2goQXAocytlLG8pKTphLnB1c2goaVsxXSkpLGF9LGdldE1pbm9yVGlja3M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0VGlja3MoITApLGk9W10sbj10aGlzLmdldEV4dGVudCgpLG89MTtvPGUubGVuZ3RoO28rKyl7Zm9yKHZhciBhPWVbb10scj1lW28tMV0scz0wLGw9W10sdT0oYS1yKS90O3M8dC0xOyl7dmFyIGg9RWwocisocysxKSp1KTtoPm5bMF0mJmg8blsxXSYmbC5wdXNoKGgpLHMrK31pLnB1c2gobCl9cmV0dXJuIGl9LGdldExhYmVsOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm4iIjt2YXIgaT1lJiZlLnByZWNpc2lvbjtyZXR1cm4gbnVsbD09aT9pPUdsKHQpfHwwOiJhdXRvIj09PWkmJihpPXRoaXMuX2ludGVydmFsUHJlY2lzaW9uKSx0dSh0PUFwKHQsaSwhMCkpfSxuaWNlVGlja3M6ZnVuY3Rpb24odCxlLGkpe3Q9dHx8NTt2YXIgbj10aGlzLl9leHRlbnQsbz1uWzFdLW5bMF07aWYoaXNGaW5pdGUobykpe288MCYmKG89LW8sbi5yZXZlcnNlKCkpO3ZhciBhPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXt9LGE9dFsxXS10WzBdLHI9by5pbnRlcnZhbD1LbChhL2UsITApO251bGwhPWkmJnI8aSYmKHI9by5pbnRlcnZhbD1pKSxudWxsIT1uJiZuPHImJihyPW8uaW50ZXJ2YWw9bik7dmFyIHM9by5pbnRlcnZhbFByZWNpc2lvbj1NcChyKTtyZXR1cm4gVHAoby5uaWNlVGlja0V4dGVudD1bU3AoTWF0aC5jZWlsKHRbMF0vcikqcixzKSxTcChNYXRoLmZsb29yKHRbMV0vcikqcixzKV0sdCksb30obix0LGUsaSk7dGhpcy5faW50ZXJ2YWxQcmVjaXNpb249YS5pbnRlcnZhbFByZWNpc2lvbix0aGlzLl9pbnRlcnZhbD1hLmludGVydmFsLHRoaXMuX25pY2VFeHRlbnQ9YS5uaWNlVGlja0V4dGVudH19LG5pY2VFeHRlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O2lmKGVbMF09PT1lWzFdKWlmKDAhPT1lWzBdKXt2YXIgaT1lWzBdO3QuZml4TWF4fHwoZVsxXSs9aS8yKSxlWzBdLT1pLzJ9ZWxzZSBlWzFdPTE7dmFyIG49ZVsxXS1lWzBdO2lzRmluaXRlKG4pfHwoZVswXT0wLGVbMV09MSksdGhpcy5uaWNlVGlja3ModC5zcGxpdE51bWJlcix0Lm1pbkludGVydmFsLHQubWF4SW50ZXJ2YWwpO3ZhciBvPXRoaXMuX2ludGVydmFsO3QuZml4TWlufHwoZVswXT1BcChNYXRoLmZsb29yKGVbMF0vbykqbykpLHQuZml4TWF4fHwoZVsxXT1BcChNYXRoLmNlaWwoZVsxXS9vKSpvKSl9fSk7RHAuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEcH07dmFyIENwPSJfX2VjX3N0YWNrXyIsTHA9InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIGtwKHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8Q3ArdC5zZXJpZXNJbmRleH1mdW5jdGlvbiBQcCh0KXtyZXR1cm4gdC5kaW0rdC5pbmRleH1mdW5jdGlvbiBOcCh0LGUpe3ZhciBpPVtdO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXtWcCh0KSYmIUdwKHQpJiZpLnB1c2godCl9KSxpfWZ1bmN0aW9uIE9wKHQpe3ZhciBnPWZ1bmN0aW9uKHQpe3ZhciBsPXt9O1IodCxmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKTtpZigidGltZSI9PT1lLnR5cGV8fCJ2YWx1ZSI9PT1lLnR5cGUpZm9yKHZhciBpPXQuZ2V0RGF0YSgpLG49ZS5kaW0rIl8iK2UuaW5kZXgsbz1pLm1hcERpbWVuc2lvbihlLmRpbSksYT0wLHI9aS5jb3VudCgpO2E8cjsrK2Epe3ZhciBzPWkuZ2V0KG8sYSk7bFtuXT9sW25dLnB1c2gocyk6bFtuXT1bc119fSk7dmFyIGU9W107Zm9yKHZhciBpIGluIGwpaWYobC5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIG49bFtpXTtpZihuKXtuLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSk7Zm9yKHZhciBvPW51bGwsYT0xO2E8bi5sZW5ndGg7KythKXt2YXIgcj1uW2FdLW5bYS0xXTswPHImJihvPW51bGw9PT1vP3I6TWF0aC5taW4obyxyKSl9ZVtpXT1vfX1yZXR1cm4gZX0odCksbT1bXTtyZXR1cm4gUih0LGZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5jb29yZGluYXRlU3lzdGVtLmdldEJhc2VBeGlzKCksbj1pLmdldEV4dGVudCgpO2lmKCJjYXRlZ29yeSI9PT1pLnR5cGUpZT1pLmdldEJhbmRXaWR0aCgpO2Vsc2UgaWYoInZhbHVlIj09PWkudHlwZXx8InRpbWUiPT09aS50eXBlKXt2YXIgbz1pLmRpbSsiXyIraS5pbmRleCxhPWdbb10scj1NYXRoLmFicyhuWzFdLW5bMF0pLHM9aS5zY2FsZS5nZXRFeHRlbnQoKSxsPU1hdGguYWJzKHNbMV0tc1swXSk7ZT1hP3IvbCphOnJ9ZWxzZXt2YXIgdT10LmdldERhdGEoKTtlPU1hdGguYWJzKG5bMV0tblswXSkvdS5jb3VudCgpfXZhciBoPXpsKHQuZ2V0KCJiYXJXaWR0aCIpLGUpLGM9emwodC5nZXQoImJhck1heFdpZHRoIiksZSksZD16bCh0LmdldCgiYmFyTWluV2lkdGgiKXx8MSxlKSxmPXQuZ2V0KCJiYXJHYXAiKSxwPXQuZ2V0KCJiYXJDYXRlZ29yeUdhcCIpO20ucHVzaCh7YmFuZFdpZHRoOmUsYmFyV2lkdGg6aCxiYXJNYXhXaWR0aDpjLGJhck1pbldpZHRoOmQsYmFyR2FwOmYsYmFyQ2F0ZWdvcnlHYXA6cCxheGlzS2V5OlBwKGkpLHN0YWNrSWQ6a3AodCl9KX0pLFJwKG0pfWZ1bmN0aW9uIFJwKHQpe3ZhciBkPXt9O1IodCxmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpc0tleSxuPXQuYmFuZFdpZHRoLG89ZFtpXXx8e2JhbmRXaWR0aDpuLHJlbWFpbmVkV2lkdGg6bixhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOiIyMCUiLGdhcDoiMzAlIixzdGFja3M6e319LGE9by5zdGFja3M7ZFtpXT1vO3ZhciByPXQuc3RhY2tJZDthW3JdfHxvLmF1dG9XaWR0aENvdW50KyssYVtyXT1hW3JdfHx7d2lkdGg6MCxtYXhXaWR0aDowfTt2YXIgcz10LmJhcldpZHRoO3MmJiFhW3JdLndpZHRoJiYoYVtyXS53aWR0aD1zLHM9TWF0aC5taW4oby5yZW1haW5lZFdpZHRoLHMpLG8ucmVtYWluZWRXaWR0aC09cyk7dmFyIGw9dC5iYXJNYXhXaWR0aDtsJiYoYVtyXS5tYXhXaWR0aD1sKTt2YXIgdT10LmJhck1pbldpZHRoO3UmJihhW3JdLm1pbldpZHRoPXUpO3ZhciBoPXQuYmFyR2FwO251bGwhPWgmJihvLmdhcD1oKTt2YXIgYz10LmJhckNhdGVnb3J5R2FwO251bGwhPWMmJihvLmNhdGVnb3J5R2FwPWMpfSk7dmFyIGY9e307cmV0dXJuIFIoZCxmdW5jdGlvbih0LGkpe2ZbaV09e307dmFyIGU9dC5zdGFja3Msbj10LmJhbmRXaWR0aCxvPXpsKHQuY2F0ZWdvcnlHYXAsbiksYT16bCh0LmdhcCwxKSxyPXQucmVtYWluZWRXaWR0aCxzPXQuYXV0b1dpZHRoQ291bnQsbD0oci1vKS8ocysocy0xKSphKTtsPU1hdGgubWF4KGwsMCksUihlLGZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4V2lkdGgsaT10Lm1pbldpZHRoO2lmKHQud2lkdGgpe249dC53aWR0aDtlJiYobj1NYXRoLm1pbihuLGUpKSxpJiYobj1NYXRoLm1heChuLGkpKSx0LndpZHRoPW4sci09bithKm4scy0tfWVsc2V7dmFyIG49bDtlJiZlPG4mJihuPU1hdGgubWluKGUscikpLGkmJm48aSYmKG49aSksbiE9PWwmJih0LndpZHRoPW4sci09bithKm4scy0tKX19KSxsPShyLW8pLyhzKyhzLTEpKmEpLGw9TWF0aC5tYXgobCwwKTt2YXIgdSxoPTA7UihlLGZ1bmN0aW9uKHQsZSl7dC53aWR0aHx8KHQud2lkdGg9bCksaCs9KHU9dCkud2lkdGgqKDErYSl9KSx1JiYoaC09dS53aWR0aCphKTt2YXIgYz0taC8yO1IoZSxmdW5jdGlvbih0LGUpe2ZbaV1bZV09ZltpXVtlXXx8e2JhbmRXaWR0aDpuLG9mZnNldDpjLHdpZHRoOnQud2lkdGh9LGMrPXQud2lkdGgqKDErYSl9KX0pLGZ9ZnVuY3Rpb24genAodCxlLGkpe2lmKHQmJmUpe3ZhciBuPXRbUHAoZSldO3JldHVybiBudWxsIT1uJiZudWxsIT1pJiYobj1uW2twKGkpXSksbn19ZnVuY3Rpb24gRXAodCxlKXt2YXIgaT1OcCh0LGUpLFQ9T3AoaSksQT17fTtSKGksZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldEJhc2VBeGlzKCksbz1rcCh0KSxhPVRbUHAobildW29dLHI9YS5vZmZzZXQscz1hLndpZHRoLGw9aS5nZXRPdGhlckF4aXMobiksdT10LmdldCgiYmFyTWluSGVpZ2h0Iil8fDA7QVtvXT1BW29dfHxbXSxlLnNldExheW91dCh7YmFuZFdpZHRoOmEuYmFuZFdpZHRoLG9mZnNldDpyLHNpemU6c30pO2Zvcih2YXIgaD1lLm1hcERpbWVuc2lvbihsLmRpbSksYz1lLm1hcERpbWVuc2lvbihuLmRpbSksZD1mcChlLGgpLGY9bC5pc0hvcml6b250YWwoKSxwPUZwKG4sbCxkKSxnPTAsbT1lLmNvdW50KCk7ZzxtO2crKyl7dmFyIHYseSx4LF8sdyxiPWUuZ2V0KGgsZyksUz1lLmdldChjLGcpLE09MDw9Yj8icCI6Im4iLEk9cDtpZihkJiYoQVtvXVtTXXx8KEFbb11bU109e3A6cCxuOnB9KSxJPUFbb11bU11bTV0pLGYpdj1JLHk9KHc9aS5kYXRhVG9Qb2ludChbYixTXSkpWzFdK3IseD13WzBdLXAsXz1zLE1hdGguYWJzKHgpPHUmJih4PSh4PDA/LTE6MSkqdSksaXNOYU4oeCl8fGQmJihBW29dW1NdW01dKz14KTtlbHNlIHY9KHc9aS5kYXRhVG9Qb2ludChbUyxiXSkpWzBdK3IseT1JLHg9cyxfPXdbMV0tcCxNYXRoLmFicyhfKTx1JiYoXz0oXzw9MD8tMToxKSp1KSxpc05hTihfKXx8ZCYmKEFbb11bU11bTV0rPV8pO2Uuc2V0SXRlbUxheW91dChnLHt4OnYseTp5LHdpZHRoOngsaGVpZ2h0Ol99KX19LHRoaXMpfXZhciBCcD17c2VyaWVzVHlwZToiYmFyIixwbGFuOnZjKCkscmVzZXQ6ZnVuY3Rpb24odCl7aWYoVnAodCkmJkdwKHQpKXt2YXIgZT10LmdldERhdGEoKSxjPXQuY29vcmRpbmF0ZVN5c3RlbSxkPWMuZ3JpZC5nZXRSZWN0KCksZj1jLmdldEJhc2VBeGlzKCkscD1jLmdldE90aGVyQXhpcyhmKSxnPWUubWFwRGltZW5zaW9uKHAuZGltKSxtPWUubWFwRGltZW5zaW9uKGYuZGltKSx2PXAuaXNIb3Jpem9udGFsKCkseT12PzA6MSx4PXpwKE9wKFt0XSksZix0KS53aWR0aDtyZXR1cm4uNTx4fHwoeD0uNSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7dmFyIGksbj10LmNvdW50LG89bmV3IExwKDIqbiksYT1uZXcgTHAoMipuKSxyPW5ldyBMcChuKSxzPVtdLGw9W10sdT0wLGg9MDtmb3IoO251bGwhPShpPXQubmV4dCgpKTspbFt5XT1lLmdldChnLGkpLGxbMS15XT1lLmdldChtLGkpLHM9Yy5kYXRhVG9Qb2ludChsLG51bGwscyksYVt1XT12P2QueCtkLndpZHRoOnNbMF0sb1t1KytdPXNbMF0sYVt1XT12P3NbMV06ZC55K2QuaGVpZ2h0LG9bdSsrXT1zWzFdLHJbaCsrXT1pO2Uuc2V0TGF5b3V0KHtsYXJnZVBvaW50czpvLGxhcmdlRGF0YUluZGljZXM6cixsYXJnZUJhY2tncm91bmRQb2ludHM6YSxiYXJXaWR0aDp4LHZhbHVlQXhpc1N0YXJ0OkZwKGYscCwhMSksYmFja2dyb3VuZFN0YXJ0OnY/ZC54OmQueSx2YWx1ZUF4aXNIb3Jpem9udGFsOnZ9KX19fX19O2Z1bmN0aW9uIFZwKHQpe3JldHVybiB0LmNvb3JkaW5hdGVTeXN0ZW0mJiJjYXJ0ZXNpYW4yZCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZX1mdW5jdGlvbiBHcCh0KXtyZXR1cm4gdC5waXBlbGluZUNvbnRleHQmJnQucGlwZWxpbmVDb250ZXh0LmxhcmdlfWZ1bmN0aW9uIEZwKHQsZSl7cmV0dXJuIGUudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKCJsb2ciPT09ZS50eXBlPzE6MCkpfXZhciBXcD1EcC5wcm90b3R5cGUsSHA9TWF0aC5jZWlsLFpwPU1hdGguZmxvb3IsVXA9MzZlNSxYcD04NjRlNSxZcD1EcC5leHRlbmQoe3R5cGU6InRpbWUiLGdldExhYmVsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0ZXBMdmwsaT1uZXcgRGF0ZSh0KTtyZXR1cm4gZHUoZVswXSxpLHRoaXMuZ2V0U2V0dGluZygidXNlVVRDIikpfSxuaWNlRXh0ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtpZihlWzBdPT09ZVsxXSYmKGVbMF0tPVhwLGVbMV0rPVhwKSxlWzFdPT09LTEvMCYmZVswXT09PTEvMCl7dmFyIGk9bmV3IERhdGU7ZVsxXT0rbmV3IERhdGUoaS5nZXRGdWxsWWVhcigpLGkuZ2V0TW9udGgoKSxpLmdldERhdGUoKSksZVswXT1lWzFdLVhwfXRoaXMubmljZVRpY2tzKHQuc3BsaXROdW1iZXIsdC5taW5JbnRlcnZhbCx0Lm1heEludGVydmFsKTt2YXIgbj10aGlzLl9pbnRlcnZhbDt0LmZpeE1pbnx8KGVbMF09RWwoWnAoZVswXS9uKSpuKSksdC5maXhNYXh8fChlWzFdPUVsKEhwKGVbMV0vbikqbikpfSxuaWNlVGlja3M6ZnVuY3Rpb24odCxlLGkpe3Q9dHx8MTA7dmFyIG49dGhpcy5fZXh0ZW50LG89blsxXS1uWzBdLGE9by90O251bGwhPWUmJmE8ZSYmKGE9ZSksbnVsbCE9aSYmaTxhJiYoYT1pKTt2YXIgcj1qcC5sZW5ndGgscz1mdW5jdGlvbih0LGUsaSxuKXtmb3IoO2k8bjspe3ZhciBvPWkrbj4+PjE7dFtvXVsxXTxlP2k9MStvOm49b31yZXR1cm4gaX0oanAsYSwwLHIpLGw9anBbTWF0aC5taW4ocyxyLTEpXSx1PWxbMV07InllYXIiPT09bFswXSYmKHUqPUtsKG8vdS90LCEwKSk7dmFyIGg9dGhpcy5nZXRTZXR0aW5nKCJ1c2VVVEMiKT8wOjYwKm5ldyBEYXRlKCtuWzBdfHwrblsxXSkuZ2V0VGltZXpvbmVPZmZzZXQoKSoxZTMsYz1bTWF0aC5yb3VuZChIcCgoblswXS1oKS91KSp1K2gpLE1hdGgucm91bmQoWnAoKG5bMV0taCkvdSkqdStoKV07VHAoYyxuKSx0aGlzLl9zdGVwTHZsPWwsdGhpcy5faW50ZXJ2YWw9dSx0aGlzLl9uaWNlRXh0ZW50PWN9LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybitZbCh0KX19KTtSKFsiY29udGFpbiIsIm5vcm1hbGl6ZSJdLGZ1bmN0aW9uKGUpe1lwLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0KXtyZXR1cm4gV3BbZV0uY2FsbCh0aGlzLHRoaXMucGFyc2UodCkpfX0pO3ZhciBqcD1bWyJoaDptbTpzcyIsMWUzXSxbImhoOm1tOnNzIiw1ZTNdLFsiaGg6bW06c3MiLDFlNF0sWyJoaDptbTpzcyIsMTVlM10sWyJoaDptbTpzcyIsM2U0XSxbImhoOm1tXG5NTS1kZCIsNmU0XSxbImhoOm1tXG5NTS1kZCIsM2U1XSxbImhoOm1tXG5NTS1kZCIsNmU1XSxbImhoOm1tXG5NTS1kZCIsOWU1XSxbImhoOm1tXG5NTS1kZCIsMThlNV0sWyJoaDptbVxuTU0tZGQiLFVwXSxbImhoOm1tXG5NTS1kZCIsNzJlNV0sWyJoaDptbVxuTU0tZGQiLDYqVXBdLFsiaGg6bW1cbk1NLWRkIiw0MzJlNV0sWyJNTS1kZFxueXl5eSIsWHBdLFsiTU0tZGRcbnl5eXkiLDIqWHBdLFsiTU0tZGRcbnl5eXkiLDMqWHBdLFsiTU0tZGRcbnl5eXkiLDQqWHBdLFsiTU0tZGRcbnl5eXkiLDUqWHBdLFsiTU0tZGRcbnl5eXkiLDYqWHBdLFsid2VlayIsNypYcF0sWyJNTS1kZFxueXl5eSIsODY0ZTZdLFsid2VlayIsMTQqWHBdLFsid2VlayIsMjEqWHBdLFsibW9udGgiLDMxKlhwXSxbIndlZWsiLDQyKlhwXSxbIm1vbnRoIiw2MipYcF0sWyJ3ZWVrIiw3MCpYcF0sWyJxdWFydGVyIiw5NSpYcF0sWyJtb250aCIsMzEqWHAqNF0sWyJtb250aCIsMTMzOTJlNl0sWyJoYWxmLXllYXIiLDE2NDE2ZTZdLFsibW9udGgiLDMxKlhwKjhdLFsibW9udGgiLDI2Nzg0ZTZdLFsieWVhciIsMzgwKlhwXV07WXAuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWXAoe3VzZVVUQzp0LmVjTW9kZWwuZ2V0KCJ1c2VVVEMiKX0pfTt2YXIgcXA9bXAucHJvdG90eXBlLEtwPURwLnByb3RvdHlwZSwkcD1HbCxKcD1FbCxRcD1NYXRoLmZsb29yLHRnPU1hdGguY2VpbCxlZz1NYXRoLnBvdyxpZz1NYXRoLmxvZyxuZz1tcC5leHRlbmQoe3R5cGU6ImxvZyIsYmFzZToxMCwkY29uc3RydWN0b3I6ZnVuY3Rpb24oKXttcC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fb3JpZ2luYWxTY2FsZT1uZXcgRHB9LGdldFRpY2tzOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX29yaWdpbmFsU2NhbGUsbj10aGlzLl9leHRlbnQsbz1pLmdldEV4dGVudCgpO3JldHVybiBPKEtwLmdldFRpY2tzLmNhbGwodGhpcyx0KSxmdW5jdGlvbih0KXt2YXIgZT1FbChlZyh0aGlzLmJhc2UsdCkpO3JldHVybiBlPXQ9PT1uWzBdJiZpLl9fZml4TWluP29nKGUsb1swXSk6ZSxlPXQ9PT1uWzFdJiZpLl9fZml4TWF4P29nKGUsb1sxXSk6ZX0sdGhpcyl9LGdldE1pbm9yVGlja3M6S3AuZ2V0TWlub3JUaWNrcyxnZXRMYWJlbDpLcC5nZXRMYWJlbCxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gdD1xcC5zY2FsZS5jYWxsKHRoaXMsdCksZWcodGhpcy5iYXNlLHQpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmJhc2U7dD1pZyh0KS9pZyhpKSxlPWlnKGUpL2lnKGkpLEtwLnNldEV4dGVudC5jYWxsKHRoaXMsdCxlKX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYXNlLGU9cXAuZ2V0RXh0ZW50LmNhbGwodGhpcyk7ZVswXT1lZyh0LGVbMF0pLGVbMV09ZWcodCxlWzFdKTt2YXIgaT10aGlzLl9vcmlnaW5hbFNjYWxlLG49aS5nZXRFeHRlbnQoKTtyZXR1cm4gaS5fX2ZpeE1pbiYmKGVbMF09b2coZVswXSxuWzBdKSksaS5fX2ZpeE1heCYmKGVbMV09b2coZVsxXSxuWzFdKSksZX0sdW5pb25FeHRlbnQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JpZ2luYWxTY2FsZS51bmlvbkV4dGVudCh0KTt2YXIgZT10aGlzLmJhc2U7dFswXT1pZyh0WzBdKS9pZyhlKSx0WzFdPWlnKHRbMV0pL2lnKGUpLHFwLnVuaW9uRXh0ZW50LmNhbGwodGhpcyx0KX0sdW5pb25FeHRlbnRGcm9tRGF0YTpmdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LG5pY2VUaWNrczpmdW5jdGlvbih0KXt0PXR8fDEwO3ZhciBlPXRoaXMuX2V4dGVudCxpPWVbMV0tZVswXTtpZighKGk9PTEvMHx8aTw9MCkpe3ZhciBuPWpsKGkpO2Zvcih0L2kqbjw9LjUmJihuKj0xMCk7IWlzTmFOKG4pJiZNYXRoLmFicyhuKTwxJiYwPE1hdGguYWJzKG4pOyluKj0xMDt2YXIgbz1bRWwodGcoZVswXS9uKSpuKSxFbChRcChlWzFdL24pKm4pXTt0aGlzLl9pbnRlcnZhbD1uLHRoaXMuX25pY2VFeHRlbnQ9b319LG5pY2VFeHRlbnQ6ZnVuY3Rpb24odCl7S3AubmljZUV4dGVudC5jYWxsKHRoaXMsdCk7dmFyIGU9dGhpcy5fb3JpZ2luYWxTY2FsZTtlLl9fZml4TWluPXQuZml4TWluLGUuX19maXhNYXg9dC5maXhNYXh9fSk7ZnVuY3Rpb24gb2codCxlKXtyZXR1cm4gSnAodCwkcChlKSl9ZnVuY3Rpb24gYWcodCxlKXt2YXIgaSxuLG8sYT10LnR5cGUscj1lLmdldE1pbigpLHM9ZS5nZXRNYXgoKSxsPXQuZ2V0RXh0ZW50KCk7Im9yZGluYWwiPT09YT9pPWUuZ2V0Q2F0ZWdvcmllcygpLmxlbmd0aDooTChuPWUuZ2V0KCJib3VuZGFyeUdhcCIpKXx8KG49W258fDAsbnx8MF0pLCJib29sZWFuIj09dHlwZW9mIG5bMF0mJihuPVswLDBdKSxuWzBdPXpsKG5bMF0sMSksblsxXT16bChuWzFdLDEpLG89bFsxXS1sWzBdfHxNYXRoLmFicyhsWzBdKSksImRhdGFNaW4iPT09cj9yPWxbMF06ImZ1bmN0aW9uIj09dHlwZW9mIHImJihyPXIoe21pbjpsWzBdLG1heDpsWzFdfSkpLCJkYXRhTWF4Ij09PXM/cz1sWzFdOiJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHttaW46bFswXSxtYXg6bFsxXX0pKTt2YXIgdT1udWxsIT1yLGg9bnVsbCE9cztudWxsPT1yJiYocj0ib3JkaW5hbCI9PT1hP2k/MDpOYU46bFswXS1uWzBdKm8pLG51bGw9PXMmJihzPSJvcmRpbmFsIj09PWE/aT9pLTE6TmFOOmxbMV0rblsxXSpvKSxudWxsIT1yJiZpc0Zpbml0ZShyKXx8KHI9TmFOKSxudWxsIT1zJiZpc0Zpbml0ZShzKXx8KHM9TmFOKSx0LnNldEJsYW5rKEYocil8fEYocyl8fCJvcmRpbmFsIj09PWEmJiF0LmdldE9yZGluYWxNZXRhKCkuY2F0ZWdvcmllcy5sZW5ndGgpLGUuZ2V0TmVlZENyb3NzWmVybygpJiYoMDxyJiYwPHMmJiF1JiYocj0wKSxyPDAmJnM8MCYmIWgmJihzPTApKTt2YXIgYz1lLmVjTW9kZWw7aWYoYyYmInRpbWUiPT09YSl7dmFyIGQsZj1OcCgiYmFyIixjKTtpZihSKGYsZnVuY3Rpb24odCl7ZHw9dC5nZXRCYXNlQXhpcygpPT09ZS5heGlzfSksZCl7dmFyIHA9T3AoZiksZz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLmF4aXMuZ2V0RXh0ZW50KCksYT1vWzFdLW9bMF0scj16cChuLGkuYXhpcyk7aWYodm9pZCAwPT09cilyZXR1cm57bWluOnQsbWF4OmV9O3ZhciBzPTEvMDtSKHIsZnVuY3Rpb24odCl7cz1NYXRoLm1pbih0Lm9mZnNldCxzKX0pO3ZhciBsPS0xLzA7UihyLGZ1bmN0aW9uKHQpe2w9TWF0aC5tYXgodC5vZmZzZXQrdC53aWR0aCxsKX0pLHM9TWF0aC5hYnMocyksbD1NYXRoLmFicyhsKTt2YXIgdT1zK2wsaD1lLXQsYz1oLygxLShzK2wpL2EpLWg7cmV0dXJue21pbjp0LT1zL3UqYyxtYXg6ZSs9bC91KmN9fShyLHMsZSxwKTtyPWcubWluLHM9Zy5tYXh9fXJldHVybntleHRlbnQ6W3Isc10sZml4TWluOnUsZml4TWF4Omh9fWZ1bmN0aW9uIHJnKHQsZSl7dmFyIGk9YWcodCxlKSxuPWkuZXh0ZW50LG89ZS5nZXQoInNwbGl0TnVtYmVyIik7ImxvZyI9PT10LnR5cGUmJih0LmJhc2U9ZS5nZXQoImxvZ0Jhc2UiKSk7dmFyIGE9dC50eXBlO3Quc2V0RXh0ZW50KG5bMF0sblsxXSksdC5uaWNlRXh0ZW50KHtzcGxpdE51bWJlcjpvLGZpeE1pbjppLmZpeE1pbixmaXhNYXg6aS5maXhNYXgsbWluSW50ZXJ2YWw6ImludGVydmFsIj09PWF8fCJ0aW1lIj09PWE/ZS5nZXQoIm1pbkludGVydmFsIik6bnVsbCxtYXhJbnRlcnZhbDoiaW50ZXJ2YWwiPT09YXx8InRpbWUiPT09YT9lLmdldCgibWF4SW50ZXJ2YWwiKTpudWxsfSk7dmFyIHI9ZS5nZXQoImludGVydmFsIik7bnVsbCE9ciYmdC5zZXRJbnRlcnZhbCYmdC5zZXRJbnRlcnZhbChyKX1mdW5jdGlvbiBzZyh0LGUpe2lmKGU9ZXx8dC5nZXQoInR5cGUiKSlzd2l0Y2goZSl7Y2FzZSJjYXRlZ29yeSI6cmV0dXJuIG5ldyBicCh0LmdldE9yZGluYWxNZXRhP3QuZ2V0T3JkaW5hbE1ldGEoKTp0LmdldENhdGVnb3JpZXMoKSxbMS8wLC0xLzBdKTtjYXNlInZhbHVlIjpyZXR1cm4gbmV3IERwO2RlZmF1bHQ6cmV0dXJuKG1wLmdldENsYXNzKGUpfHxEcCkuY3JlYXRlKHQpfX1mdW5jdGlvbiBsZyhpKXt2YXIgZSxuPWkuZ2V0TGFiZWxNb2RlbCgpLmdldCgiZm9ybWF0dGVyIiksbz0iY2F0ZWdvcnkiPT09aS50eXBlP2kuc2NhbGUuZ2V0RXh0ZW50KClbMF06bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/KGU9bixuPWZ1bmN0aW9uKHQpe3JldHVybiB0PWkuc2NhbGUuZ2V0TGFiZWwodCksZS5yZXBsYWNlKCJ7dmFsdWV9IixudWxsIT10P3Q6IiIpfSk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9byYmKGU9dC1vKSxuKHVnKGksdCksZSl9OmZ1bmN0aW9uKHQpe3JldHVybiBpLnNjYWxlLmdldExhYmVsKHQpfX1mdW5jdGlvbiB1Zyh0LGUpe3JldHVybiJjYXRlZ29yeSI9PT10LnR5cGU/dC5zY2FsZS5nZXRMYWJlbChlKTplfWZ1bmN0aW9uIGhnKHQpe3ZhciBlPXQuZ2V0KCJpbnRlcnZhbCIpO3JldHVybiBudWxsPT1lPyJhdXRvIjplfWZ1bmN0aW9uIGNnKHQpe3JldHVybiJjYXRlZ29yeSI9PT10LnR5cGUmJjA9PT1oZyh0LmdldExhYmVsTW9kZWwoKSl9UihbImNvbnRhaW4iLCJub3JtYWxpemUiXSxmdW5jdGlvbihlKXtuZy5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCl7cmV0dXJuIHQ9aWcodCkvaWcodGhpcy5iYXNlKSxxcFtlXS5jYWxsKHRoaXMsdCl9fSksbmcuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuZ307dmFyIGRnPXtnZXRNaW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24saT10fHxudWxsPT1lLnJhbmdlU3RhcnQ/ZS5taW46ZS5yYW5nZVN0YXJ0O3JldHVybiB0aGlzLmF4aXMmJm51bGwhPWkmJiJkYXRhTWluIiE9PWkmJiJmdW5jdGlvbiIhPXR5cGVvZiBpJiYhRihpKSYmKGk9dGhpcy5heGlzLnNjYWxlLnBhcnNlKGkpKSxpfSxnZXRNYXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24saT10fHxudWxsPT1lLnJhbmdlRW5kP2UubWF4OmUucmFuZ2VFbmQ7cmV0dXJuIHRoaXMuYXhpcyYmbnVsbCE9aSYmImRhdGFNYXgiIT09aSYmImZ1bmN0aW9uIiE9dHlwZW9mIGkmJiFGKGkpJiYoaT10aGlzLmF4aXMuc2NhbGUucGFyc2UoaSkpLGl9LGdldE5lZWRDcm9zc1plcm86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gbnVsbD09dC5yYW5nZVN0YXJ0JiZudWxsPT10LnJhbmdlRW5kJiYhdC5zY2FsZX0sZ2V0Q29vcmRTeXNNb2RlbDpldCxzZXRSYW5nZTpmdW5jdGlvbih0LGUpe3RoaXMub3B0aW9uLnJhbmdlU3RhcnQ9dCx0aGlzLm9wdGlvbi5yYW5nZUVuZD1lfSxyZXNldFJhbmdlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb24ucmFuZ2VTdGFydD10aGlzLm9wdGlvbi5yYW5nZUVuZD1udWxsfX0sZmc9Q3Moe3R5cGU6InRyaWFuZ2xlIixzaGFwZTp7Y3g6MCxjeTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89ZS53aWR0aC8yLGE9ZS5oZWlnaHQvMjt0Lm1vdmVUbyhpLG4tYSksdC5saW5lVG8oaStvLG4rYSksdC5saW5lVG8oaS1vLG4rYSksdC5jbG9zZVBhdGgoKX19KSxwZz1Dcyh7dHlwZToiZGlhbW9uZCIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPWUud2lkdGgvMixhPWUuaGVpZ2h0LzI7dC5tb3ZlVG8oaSxuLWEpLHQubGluZVRvKGkrbyxuKSx0LmxpbmVUbyhpLG4rYSksdC5saW5lVG8oaS1vLG4pLHQuY2xvc2VQYXRoKCl9fSksZ2c9Q3Moe3R5cGU6InBpbiIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LG49ZS55LG89ZS53aWR0aC81KjMsYT1NYXRoLm1heChvLGUuaGVpZ2h0KSxyPW8vMixzPXIqci8oYS1yKSxsPW4tYStyK3MsdT1NYXRoLmFzaW4ocy9yKSxoPU1hdGguY29zKHUpKnIsYz1NYXRoLnNpbih1KSxkPU1hdGguY29zKHUpLGY9LjYqcixwPS43KnI7dC5tb3ZlVG8oaS1oLGwrcyksdC5hcmMoaSxsLHIsTWF0aC5QSS11LDIqTWF0aC5QSSt1KSx0LmJlemllckN1cnZlVG8oaStoLWMqZixsK3MrZCpmLGksbi1wLGksbiksdC5iZXppZXJDdXJ2ZVRvKGksbi1wLGktaCtjKmYsbCtzK2QqZixpLWgsbCtzKSx0LmNsb3NlUGF0aCgpfX0pLG1nPUNzKHt0eXBlOiJhcnJvdyIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5oZWlnaHQsbj1lLndpZHRoLG89ZS54LGE9ZS55LHI9bi8zKjI7dC5tb3ZlVG8obyxhKSx0LmxpbmVUbyhvK3IsYStpKSx0LmxpbmVUbyhvLGEraS80KjMpLHQubGluZVRvKG8tcixhK2kpLHQubGluZVRvKG8sYSksdC5jbG9zZVBhdGgoKX19KSx2Zz17bGluZTpmdW5jdGlvbih0LGUsaSxuLG8pe28ueDE9dCxvLnkxPWUrbi8yLG8ueDI9dCtpLG8ueTI9ZStuLzJ9LHJlY3Q6ZnVuY3Rpb24odCxlLGksbixvKXtvLng9dCxvLnk9ZSxvLndpZHRoPWksby5oZWlnaHQ9bn0scm91bmRSZWN0OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQsby55PWUsby53aWR0aD1pLG8uaGVpZ2h0PW4sby5yPU1hdGgubWluKGksbikvNH0sc3F1YXJlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9TWF0aC5taW4oaSxuKTtvLng9dCxvLnk9ZSxvLndpZHRoPWEsby5oZWlnaHQ9YX0sY2lyY2xlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7by5jeD10K2kvMixvLmN5PWUrbi8yLG8ucj1NYXRoLm1pbihpLG4pLzJ9LGRpYW1vbmQ6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LHBpbjpmdW5jdGlvbih0LGUsaSxuLG8pe28ueD10K2kvMixvLnk9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LGFycm93OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQraS8yLG8ueT1lK24vMixvLndpZHRoPWksby5oZWlnaHQ9bn0sdHJpYW5nbGU6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59fSx5Zz17fTtSKHtsaW5lOmxzLHJlY3Q6cnMscm91bmRSZWN0OnJzLHNxdWFyZTpycyxjaXJjbGU6WXIsZGlhbW9uZDpwZyxwaW46Z2csYXJyb3c6bWcsdHJpYW5nbGU6Zmd9LGZ1bmN0aW9uKHQsZSl7eWdbZV09bmV3IHR9KTt2YXIgeGc9Q3Moe3R5cGU6InN5bWJvbCIsc2hhcGU6e3N5bWJvbFR5cGU6IiIseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxjYWxjdWxhdGVUZXh0UG9zaXRpb246ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXluKHQsZSxpKSxvPXRoaXMuc2hhcGU7cmV0dXJuIG8mJiJwaW4iPT09by5zeW1ib2xUeXBlJiYiaW5zaWRlIj09PWUudGV4dFBvc2l0aW9uJiYobi55PWkueSsuNCppLmhlaWdodCksbn0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLnN5bWJvbFR5cGU7aWYoIm5vbmUiIT09bil7dmFyIG89eWdbbl07bz1vfHx5Z1tuPSJyZWN0Il0sdmdbbl0oZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LG8uc2hhcGUpLG8uYnVpbGRQYXRoKHQsby5zaGFwZSxpKX19fSk7ZnVuY3Rpb24gX2codCxlKXtpZigiaW1hZ2UiIT09dGhpcy50eXBlKXt2YXIgaT10aGlzLnN0eWxlLG49dGhpcy5zaGFwZTtuJiYibGluZSI9PT1uLnN5bWJvbFR5cGU/aS5zdHJva2U9dDp0aGlzLl9faXNFbXB0eUJydXNoPyhpLnN0cm9rZT10LGkuZmlsbD1lfHwiI2ZmZiIpOihpLmZpbGwmJihpLmZpbGw9dCksaS5zdHJva2UmJihpLnN0cm9rZT10KSksdGhpcy5kaXJ0eSghMSl9fWZ1bmN0aW9uIHdnKHQsZSxpLG4sbyxhLHIpe3ZhciBzLGw9MD09PXQuaW5kZXhPZigiZW1wdHkiKTtyZXR1cm4gbCYmKHQ9dC5zdWJzdHIoNSwxKS50b0xvd2VyQ2FzZSgpK3Quc3Vic3RyKDYpKSwocz0wPT09dC5pbmRleE9mKCJpbWFnZTovLyIpP05zKHQuc2xpY2UoOCksbmV3IERpKGUsaSxuLG8pLHI/ImNlbnRlciI6ImNvdmVyIik6MD09PXQuaW5kZXhPZigicGF0aDovLyIpP1BzKHQuc2xpY2UoNykse30sbmV3IERpKGUsaSxuLG8pLHI/ImNlbnRlciI6ImNvdmVyIik6bmV3IHhnKHtzaGFwZTp7c3ltYm9sVHlwZTp0LHg6ZSx5Omksd2lkdGg6bixoZWlnaHQ6b319KSkuX19pc0VtcHR5QnJ1c2g9bCxzLnNldENvbG9yPV9nLHMuc2V0Q29sb3IoYSksc312YXIgYmc9e2lzRGltZW5zaW9uU3RhY2tlZDpmcCxlbmFibGVEYXRhU3RhY2s6ZHAsZ2V0U3RhY2tlZERpbWVuc2lvbjpwcH07dmFyIFNnPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtjcmVhdGVMaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBncCh0LmdldFNvdXJjZSgpLHQpfSxnZXRMYXlvdXRSZWN0OmJ1LGRhdGFTdGFjazpiZyxjcmVhdGVTY2FsZTpmdW5jdGlvbih0LGUpe3ZhciBpPWU7Q2wuaXNJbnN0YW5jZShlKXx8YihpPW5ldyBDbChlKSxkZyk7dmFyIG49c2coaSk7cmV0dXJuIG4uc2V0RXh0ZW50KHRbMF0sdFsxXSkscmcobixpKSxufSxtaXhpbkF4aXNNb2RlbENvbW1vbk1ldGhvZHM6ZnVuY3Rpb24odCl7Yih0LGRnKX0sY29tcGxldGVEaW1lbnNpb25zOnJwLGNyZWF0ZURpbWVuc2lvbnM6bHAsY3JlYXRlU3ltYm9sOndnfSksTWc9MWUtODtmdW5jdGlvbiBJZyh0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpPE1nfWZ1bmN0aW9uIFRnKHQsZSxpKXt2YXIgbj0wLG89dFswXTtpZighbylyZXR1cm4hMTtmb3IodmFyIGE9MTthPHQubGVuZ3RoO2ErKyl7dmFyIHI9dFthXTtuKz1wcihvWzBdLG9bMV0sclswXSxyWzFdLGUsaSksbz1yfXZhciBzPXRbMF07cmV0dXJuIElnKG9bMF0sc1swXSkmJklnKG9bMV0sc1sxXSl8fChuKz1wcihvWzBdLG9bMV0sc1swXSxzWzFdLGUsaSkpLDAhPT1ufWZ1bmN0aW9uIEFnKHQsZSxpKXtpZih0aGlzLm5hbWU9dCx0aGlzLmdlb21ldHJpZXM9ZSxpKWk9W2lbMF0saVsxXV07ZWxzZXt2YXIgbj10aGlzLmdldEJvdW5kaW5nUmVjdCgpO2k9W24ueCtuLndpZHRoLzIsbi55K24uaGVpZ2h0LzJdfXRoaXMuY2VudGVyPWl9ZnVuY3Rpb24gRGcodCxlLGkpe2Zvcih2YXIgbj1bXSxvPWVbMF0sYT1lWzFdLHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBzPXQuY2hhckNvZGVBdChyKS02NCxsPXQuY2hhckNvZGVBdChyKzEpLTY0O3M9cz4+MV4tKDEmcyksbD1sPj4xXi0oMSZsKSxvPXMrPW8sYT1sKz1hLG4ucHVzaChbcy9pLGwvaV0pfXJldHVybiBufUFnLnByb3RvdHlwZT17Y29uc3RydWN0b3I6QWcscHJvcGVydGllczpudWxsLGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3Q7aWYodClyZXR1cm4gdDtmb3IodmFyIGU9TnVtYmVyLk1BWF9WQUxVRSxpPVtlLGVdLG49Wy1lLC1lXSxvPVtdLGE9W10scj10aGlzLmdlb21ldHJpZXMscz0wO3M8ci5sZW5ndGg7cysrKXtpZigicG9seWdvbiI9PT1yW3NdLnR5cGUpV2EocltzXS5leHRlcmlvcixvLGEpLFN0KGksaSxvKSxNdChuLG4sYSl9cmV0dXJuIDA9PT1zJiYoaVswXT1pWzFdPW5bMF09blsxXT0wKSx0aGlzLl9yZWN0PW5ldyBEaShpWzBdLGlbMV0sblswXS1pWzBdLG5bMV0taVsxXSl9LGNvbnRhaW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxpPXRoaXMuZ2VvbWV0cmllcztpZighZS5jb250YWluKHRbMF0sdFsxXSkpcmV0dXJuITE7dDpmb3IodmFyIG49MCxvPWkubGVuZ3RoO248bztuKyspaWYoInBvbHlnb24iPT09aVtuXS50eXBlKXt2YXIgYT1pW25dLmV4dGVyaW9yLHI9aVtuXS5pbnRlcmlvcnM7aWYoVGcoYSx0WzBdLHRbMV0pKXtmb3IodmFyIHM9MDtzPChyP3IubGVuZ3RoOjApO3MrKylpZihUZyhyW3NdKSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX0sdHJhbnNmb3JtVG86ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxhPW8ud2lkdGgvby5oZWlnaHQ7aT9uPW58fGkvYTppPWEqbjtmb3IodmFyIHI9bmV3IERpKHQsZSxpLG4pLHM9by5jYWxjdWxhdGVUcmFuc2Zvcm0ociksbD10aGlzLmdlb21ldHJpZXMsdT0wO3U8bC5sZW5ndGg7dSsrKWlmKCJwb2x5Z29uIj09PWxbdV0udHlwZSl7Zm9yKHZhciBoPWxbdV0uZXh0ZXJpb3IsYz1sW3VdLmludGVyaW9ycyxkPTA7ZDxoLmxlbmd0aDtkKyspYnQoaFtkXSxoW2RdLHMpO2Zvcih2YXIgZj0wO2Y8KGM/Yy5sZW5ndGg6MCk7ZisrKWZvcihkPTA7ZDxjW2ZdLmxlbmd0aDtkKyspYnQoY1tmXVtkXSxjW2ZdW2RdLHMpfShvPXRoaXMuX3JlY3QpLmNvcHkociksdGhpcy5jZW50ZXI9W28ueCtvLndpZHRoLzIsby55K28uaGVpZ2h0LzJdfSxjbG9uZVNoYWxsb3c6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5uYW1lKTt2YXIgZT1uZXcgQWcodCx0aGlzLmdlb21ldHJpZXMsdGhpcy5jZW50ZXIpO3JldHVybiBlLl9yZWN0PXRoaXMuX3JlY3QsZS50cmFuc2Zvcm1Ubz1udWxsLGV9fTtmdW5jdGlvbiBDZyh0LHIpe3JldHVybiBmdW5jdGlvbih0KXtpZighdC5VVEY4RW5jb2RpbmcpcmV0dXJuO3ZhciBlPXQuVVRGOFNjYWxlO251bGw9PWUmJihlPTEwMjQpO2Zvcih2YXIgaT10LmZlYXR1cmVzLG49MDtuPGkubGVuZ3RoO24rKylmb3IodmFyIG89aVtuXS5nZW9tZXRyeSxhPW8uY29vcmRpbmF0ZXMscj1vLmVuY29kZU9mZnNldHMscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO2lmKCJQb2x5Z29uIj09PW8udHlwZSlhW3NdPURnKGwscltzXSxlKTtlbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09by50eXBlKWZvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSsrKXt2YXIgaD1sW3VdO2xbdV09RGcoaCxyW3NdW3VdLGUpfX10LlVURjhFbmNvZGluZz0hMX0odCksTyhNKHQuZmVhdHVyZXMsZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnkmJnQucHJvcGVydGllcyYmMDx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aH0pLGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcGVydGllcyxpPXQuZ2VvbWV0cnksbj1pLmNvb3JkaW5hdGVzLG89W107IlBvbHlnb24iPT09aS50eXBlJiZvLnB1c2goe3R5cGU6InBvbHlnb24iLGV4dGVyaW9yOm5bMF0saW50ZXJpb3JzOm4uc2xpY2UoMSl9KSwiTXVsdGlQb2x5Z29uIj09PWkudHlwZSYmUihuLGZ1bmN0aW9uKHQpe3RbMF0mJm8ucHVzaCh7dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6dFswXSxpbnRlcmlvcnM6dC5zbGljZSgxKX0pfSk7dmFyIGE9bmV3IEFnKGVbcnx8Im5hbWUiXSxvLGUuY3ApO3JldHVybiBhLnByb3BlcnRpZXM9ZSxhfSl9dmFyIExnPWpvKCk7ZnVuY3Rpb24ga2codCl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZT9mdW5jdGlvbih0KXt2YXIgZT10LmdldExhYmVsTW9kZWwoKSxpPU5nKHQsZSk7cmV0dXJuIWUuZ2V0KCJzaG93Iil8fHQuc2NhbGUuaXNCbGFuaygpP3tsYWJlbHM6W10sbGFiZWxDYXRlZ29yeUludGVydmFsOmkubGFiZWxDYXRlZ29yeUludGVydmFsfTppfSh0KTpmdW5jdGlvbihpKXt2YXIgdD1pLnNjYWxlLmdldFRpY2tzKCksbj1sZyhpKTtyZXR1cm57bGFiZWxzOk8odCxmdW5jdGlvbih0LGUpe3JldHVybntmb3JtYXR0ZWRMYWJlbDpuKHQsZSkscmF3TGFiZWw6aS5zY2FsZS5nZXRMYWJlbCh0KSx0aWNrVmFsdWU6dH19KX19KHQpfWZ1bmN0aW9uIFBnKHQsZSl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZT9mdW5jdGlvbih0LGUpe3ZhciBpLG4sbz1PZyh0LCJ0aWNrcyIpLGE9aGcoZSkscj1SZyhvLGEpO2lmKHIpcmV0dXJuIHI7ZS5nZXQoInNob3ciKSYmIXQuc2NhbGUuaXNCbGFuaygpfHwoaT1bXSk7aWYoQyhhKSlpPUJnKHQsYSwhMCk7ZWxzZSBpZigiYXV0byI9PT1hKXt2YXIgcz1OZyh0LHQuZ2V0TGFiZWxNb2RlbCgpKTtuPXMubGFiZWxDYXRlZ29yeUludGVydmFsLGk9TyhzLmxhYmVscyxmdW5jdGlvbih0KXtyZXR1cm4gdC50aWNrVmFsdWV9KX1lbHNlIGk9RWcodCxuPWEsITApO3JldHVybiB6ZyhvLGEse3RpY2tzOmksdGlja0NhdGVnb3J5SW50ZXJ2YWw6bn0pfSh0LGUpOnt0aWNrczp0LnNjYWxlLmdldFRpY2tzKCl9fWZ1bmN0aW9uIE5nKHQsZSl7dmFyIGksbj1PZyh0LCJsYWJlbHMiKSxvPWhnKGUpLGE9UmcobixvKTtyZXR1cm4gYXx8emcobixvLHtsYWJlbHM6QyhvKT9CZyh0LG8pOkVnKHQsaT0iYXV0byI9PT1vP2Z1bmN0aW9uKHQpe3ZhciBlPUxnKHQpLmF1dG9JbnRlcnZhbDtyZXR1cm4gbnVsbCE9ZT9lOkxnKHQpLmF1dG9JbnRlcnZhbD10LmNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWwoKX0odCk6byksbGFiZWxDYXRlZ29yeUludGVydmFsOml9KX1mdW5jdGlvbiBPZyh0LGUpe3JldHVybiBMZyh0KVtlXXx8KExnKHQpW2VdPVtdKX1mdW5jdGlvbiBSZyh0LGUpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0ua2V5PT09ZSlyZXR1cm4gdFtpXS52YWx1ZX1mdW5jdGlvbiB6Zyh0LGUsaSl7cmV0dXJuIHQucHVzaCh7a2V5OmUsdmFsdWU6aX0pLGl9ZnVuY3Rpb24gRWcodCxlLGkpe3ZhciBuPWxnKHQpLG89dC5zY2FsZSxhPW8uZ2V0RXh0ZW50KCkscj10LmdldExhYmVsTW9kZWwoKSxzPVtdLGw9TWF0aC5tYXgoKGV8fDApKzEsMSksdT1hWzBdLGg9by5jb3VudCgpOzAhPT11JiYxPGwmJjI8aC9sJiYodT1NYXRoLnJvdW5kKE1hdGguY2VpbCh1L2wpKmwpKTt2YXIgYz1jZyh0KSxkPXIuZ2V0KCJzaG93TWluTGFiZWwiKXx8YyxmPXIuZ2V0KCJzaG93TWF4TGFiZWwiKXx8YztkJiZ1IT09YVswXSYmZyhhWzBdKTtmb3IodmFyIHA9dTtwPD1hWzFdO3ArPWwpZyhwKTtmdW5jdGlvbiBnKHQpe3MucHVzaChpP3Q6e2Zvcm1hdHRlZExhYmVsOm4odCkscmF3TGFiZWw6by5nZXRMYWJlbCh0KSx0aWNrVmFsdWU6dH0pfXJldHVybiBmJiZwLWwhPT1hWzFdJiZnKGFbMV0pLHN9ZnVuY3Rpb24gQmcodCxpLG4pe3ZhciBvPXQuc2NhbGUsYT1sZyh0KSxyPVtdO3JldHVybiBSKG8uZ2V0VGlja3MoKSxmdW5jdGlvbih0KXt2YXIgZT1vLmdldExhYmVsKHQpO2kodCxlKSYmci5wdXNoKG4/dDp7Zm9ybWF0dGVkTGFiZWw6YSh0KSxyYXdMYWJlbDplLHRpY2tWYWx1ZTp0fSl9KSxyfXZhciBWZz1bMCwxXSxHZz1mdW5jdGlvbih0LGUsaSl7dGhpcy5kaW09dCx0aGlzLnNjYWxlPWUsdGhpcy5fZXh0ZW50PWl8fFswLDBdLHRoaXMuaW52ZXJzZT0hMSx0aGlzLm9uQmFuZD0hMX07ZnVuY3Rpb24gRmcodCxlKXt2YXIgaT0odFsxXS10WzBdKS9lLzI7dFswXSs9aSx0WzFdLT1pfUdnLnByb3RvdHlwZT17Y29uc3RydWN0b3I6R2csY29udGFpbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQsaT1NYXRoLm1pbihlWzBdLGVbMV0pLG49TWF0aC5tYXgoZVswXSxlWzFdKTtyZXR1cm4gaTw9dCYmdDw9bn0sY29udGFpbkRhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGUuY29udGFpbih0KX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudC5zbGljZSgpfSxnZXRQaXhlbFByZWNpc2lvbjpmdW5jdGlvbih0KXtyZXR1cm4gRmwodHx8dGhpcy5zY2FsZS5nZXRFeHRlbnQoKSx0aGlzLl9leHRlbnQpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9leHRlbnQ7aVswXT10LGlbMV09ZX0sZGF0YVRvQ29vcmQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9leHRlbnQsbj10aGlzLnNjYWxlO3JldHVybiB0PW4ubm9ybWFsaXplKHQpLHRoaXMub25CYW5kJiYib3JkaW5hbCI9PT1uLnR5cGUmJkZnKGk9aS5zbGljZSgpLG4uY291bnQoKSksUmwodCxWZyxpLGUpfSxjb29yZFRvRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudCxuPXRoaXMuc2NhbGU7dGhpcy5vbkJhbmQmJiJvcmRpbmFsIj09PW4udHlwZSYmRmcoaT1pLnNsaWNlKCksbi5jb3VudCgpKTt2YXIgbz1SbCh0LGksVmcsZSk7cmV0dXJuIHRoaXMuc2NhbGUuc2NhbGUobyl9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7fSxnZXRUaWNrc0Nvb3JkczpmdW5jdGlvbih0KXt2YXIgZT0odD10fHx7fSkudGlja01vZGVsfHx0aGlzLmdldFRpY2tNb2RlbCgpLGk9TyhQZyh0aGlzLGUpLnRpY2tzLGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKHQpLHRpY2tWYWx1ZTp0fX0sdGhpcyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWUubGVuZ3RoO2lmKCF0Lm9uQmFuZHx8aXx8IW8pcmV0dXJuO3ZhciBhLHIscz10LmdldEV4dGVudCgpO2lmKDE9PT1vKWVbMF0uY29vcmQ9c1swXSxhPWVbMV09e2Nvb3JkOnNbMF19O2Vsc2V7dmFyIGw9ZVtvLTFdLnRpY2tWYWx1ZS1lWzBdLnRpY2tWYWx1ZSx1PShlW28tMV0uY29vcmQtZVswXS5jb29yZCkvbDtSKGUsZnVuY3Rpb24odCl7dC5jb29yZC09dS8yfSk7dmFyIGg9dC5zY2FsZS5nZXRFeHRlbnQoKTtyPTEraFsxXS1lW28tMV0udGlja1ZhbHVlLGE9e2Nvb3JkOmVbby0xXS5jb29yZCt1KnJ9LGUucHVzaChhKX12YXIgYz1zWzBdPnNbMV07ZChlWzBdLmNvb3JkLHNbMF0pJiYobj9lWzBdLmNvb3JkPXNbMF06ZS5zaGlmdCgpKTtuJiZkKHNbMF0sZVswXS5jb29yZCkmJmUudW5zaGlmdCh7Y29vcmQ6c1swXX0pO2Qoc1sxXSxhLmNvb3JkKSYmKG4/YS5jb29yZD1zWzFdOmUucG9wKCkpO24mJmQoYS5jb29yZCxzWzFdKSYmZS5wdXNoKHtjb29yZDpzWzFdfSk7ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0PUVsKHQpLGU9RWwoZSksYz9lPHQ6dDxlfX0odGhpcyxpLGUuZ2V0KCJhbGlnbldpdGhMYWJlbCIpLHQuY2xhbXApLGl9LGdldE1pbm9yVGlja3NDb29yZHM6ZnVuY3Rpb24oKXtpZigib3JkaW5hbCI9PT10aGlzLnNjYWxlLnR5cGUpcmV0dXJuW107dmFyIHQ9dGhpcy5tb2RlbC5nZXRNb2RlbCgibWlub3JUaWNrIikuZ2V0KCJzcGxpdE51bWJlciIpO3JldHVybiAwPHQmJnQ8MTAwfHwodD01KSxPKHRoaXMuc2NhbGUuZ2V0TWlub3JUaWNrcyh0KSxmdW5jdGlvbih0KXtyZXR1cm4gTyh0LGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKHQpLHRpY2tWYWx1ZTp0fX0sdGhpcyl9LHRoaXMpfSxnZXRWaWV3TGFiZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIGtnKHRoaXMpLmxhYmVsc30sZ2V0TGFiZWxNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKCJheGlzTGFiZWwiKX0sZ2V0VGlja01vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0TW9kZWwoImF4aXNUaWNrIil9LGdldEJhbmRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2V4dGVudCxlPXRoaXMuc2NhbGUuZ2V0RXh0ZW50KCksaT1lWzFdLWVbMF0rKHRoaXMub25CYW5kPzE6MCk7MD09PWkmJihpPTEpO3ZhciBuPU1hdGguYWJzKHRbMV0tdFswXSk7cmV0dXJuIE1hdGguYWJzKG4pL2l9LGlzSG9yaXpvbnRhbDpudWxsLGdldFJvdGF0ZTpudWxsLGNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWw6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYWJlbE1vZGVsKCk7cmV0dXJue2F4aXNSb3RhdGU6dC5nZXRSb3RhdGU/dC5nZXRSb3RhdGUoKTp0LmlzSG9yaXpvbnRhbCYmIXQuaXNIb3Jpem9udGFsKCk/OTA6MCxsYWJlbFJvdGF0ZTplLmdldCgicm90YXRlIil8fDAsZm9udDplLmdldEZvbnQoKX19KHQpLGk9bGcodCksbj0oZS5heGlzUm90YXRlLWUubGFiZWxSb3RhdGUpLzE4MCpNYXRoLlBJLG89dC5zY2FsZSxhPW8uZ2V0RXh0ZW50KCkscj1vLmNvdW50KCk7aWYoYVsxXS1hWzBdPDEpcmV0dXJuIDA7dmFyIHM9MTs0MDxyJiYocz1NYXRoLm1heCgxLE1hdGguZmxvb3Ioci80MCkpKTtmb3IodmFyIGw9YVswXSx1PXQuZGF0YVRvQ29vcmQobCsxKS10LmRhdGFUb0Nvb3JkKGwpLGg9TWF0aC5hYnModSpNYXRoLmNvcyhuKSksYz1NYXRoLmFicyh1Kk1hdGguc2luKG4pKSxkPTAsZj0wO2w8PWFbMV07bCs9cyl7dmFyIHAsZyxtPWduKGkobCksZS5mb250LCJjZW50ZXIiLCJ0b3AiKTtwPTEuMyptLndpZHRoLGc9MS4zKm0uaGVpZ2h0LGQ9TWF0aC5tYXgoZCxwLDcpLGY9TWF0aC5tYXgoZixnLDcpfXZhciB2PWQvaCx5PWYvYztpc05hTih2KSYmKHY9MS8wKSxpc05hTih5KSYmKHk9MS8wKTt2YXIgeD1NYXRoLm1heCgwLE1hdGguZmxvb3IoTWF0aC5taW4odix5KSkpLF89TGcodC5tb2RlbCksdz10LmdldEV4dGVudCgpLGI9Xy5sYXN0QXV0b0ludGVydmFsLFM9Xy5sYXN0VGlja0NvdW50O3JldHVybiBudWxsIT1iJiZudWxsIT1TJiZNYXRoLmFicyhiLXgpPD0xJiZNYXRoLmFicyhTLXIpPD0xJiZ4PGImJl8uYXhpc0V4dGVuZDA9PT13WzBdJiZfLmF4aXNFeHRlbmQxPT09d1sxXT94PWI6KF8ubGFzdFRpY2tDb3VudD1yLF8ubGFzdEF1dG9JbnRlcnZhbD14LF8uYXhpc0V4dGVuZDA9d1swXSxfLmF4aXNFeHRlbmQxPXdbMV0pLHh9KHRoaXMpfX07dmFyIFdnPUNnLEhnPXt9O1IoWyJtYXAiLCJlYWNoIiwiZmlsdGVyIiwiaW5kZXhPZiIsImluaGVyaXRzIiwicmVkdWNlIiwiZmlsdGVyIiwiYmluZCIsImN1cnJ5IiwiaXNBcnJheSIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc0Z1bmN0aW9uIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJjbG9uZSIsIm1lcmdlIl0sZnVuY3Rpb24odCl7SGdbdF09aXRbdF19KTt2YXIgWmc9e307ZnVuY3Rpb24gVWcodCxlKXt2YXIgaT10Lm1hcERpbWVuc2lvbigiZGVmYXVsdGVkTGFiZWwiLCEwKSxuPWkubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBIaCh0LGUsaVswXSk7aWYobil7Zm9yKHZhciBvPVtdLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHI9SGgodCxlLGlbYV0pO28ucHVzaChyKX1yZXR1cm4gby5qb2luKCIgIil9fWZ1bmN0aW9uIFhnKHQsZSxpKXtDaS5jYWxsKHRoaXMpLHRoaXMudXBkYXRlRGF0YSh0LGUsaSl9UihbImV4dGVuZFNoYXBlIiwiZXh0ZW5kUGF0aCIsIm1ha2VQYXRoIiwibWFrZUltYWdlIiwibWVyZ2VQYXRoIiwicmVzaXplUGF0aCIsImNyZWF0ZUljb24iLCJzZXRIb3ZlclN0eWxlIiwic2V0TGFiZWxTdHlsZSIsInNldFRleHRTdHlsZSIsInNldFRleHQiLCJnZXRGb250IiwidXBkYXRlUHJvcHMiLCJpbml0UHJvcHMiLCJnZXRUcmFuc2Zvcm0iLCJjbGlwUG9pbnRzQnlSZWN0IiwiY2xpcFJlY3RCeVJlY3QiLCJyZWdpc3RlclNoYXBlIiwiZ2V0U2hhcGVDbGFzcyIsIkdyb3VwIiwiSW1hZ2UiLCJUZXh0IiwiQ2lyY2xlIiwiU2VjdG9yIiwiUmluZyIsIlBvbHlnb24iLCJQb2x5bGluZSIsIlJlY3QiLCJMaW5lIiwiQmV6aWVyQ3VydmUiLCJBcmMiLCJJbmNyZW1lbnRhbERpc3BsYXlhYmxlIiwiQ29tcG91bmRQYXRoIiwiTGluZWFyR3JhZGllbnQiLCJSYWRpYWxHcmFkaWVudCIsIkJvdW5kaW5nUmVjdCJdLGZ1bmN0aW9uKHQpe1pnW3RdPWJsW3RdfSksc2MuZXh0ZW5kKHt0eXBlOiJzZXJpZXMubGluZSIsZGVwZW5kZW5jaWVzOlsiZ3JpZCIsInBvbGFyIl0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ3AodGhpcy5nZXRTb3VyY2UoKSx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAsY2xpcDohMCxsYWJlbDp7cG9zaXRpb246InRvcCJ9LGxpbmVTdHlsZTp7d2lkdGg6Mix0eXBlOiJzb2xpZCJ9LHN0ZXA6ITEsc21vb3RoOiExLHNtb290aE1vbm90b25lOm51bGwsc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZTo0LHN5bWJvbFJvdGF0ZTpudWxsLHNob3dTeW1ib2w6ITAsc2hvd0FsbFN5bWJvbDoiYXV0byIsY29ubmVjdE51bGxzOiExLHNhbXBsaW5nOiJub25lIixhbmltYXRpb25FYXNpbmc6ImxpbmVhciIscHJvZ3Jlc3NpdmU6MCxob3ZlckxheWVyVGhyZXNob2xkOjEvMH19KTt2YXIgWWc9WGcucHJvdG90eXBlLGpnPVhnLmdldFN5bWJvbFNpemU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpO3JldHVybiBpIGluc3RhbmNlb2YgQXJyYXk/aS5zbGljZSgpOlsraSwraV19O2Z1bmN0aW9uIHFnKHQpe3JldHVyblt0WzBdLzIsdFsxXS8yXX1mdW5jdGlvbiBLZyh0LGUpe3RoaXMucGFyZW50LmRyaWZ0KHQsZSl9WWcuX2NyZWF0ZVN5bWJvbD1mdW5jdGlvbih0LGUsaSxuLG8pe3RoaXMucmVtb3ZlQWxsKCk7dmFyIGE9d2codCwtMSwtMSwyLDIsZS5nZXRJdGVtVmlzdWFsKGksImNvbG9yIiksbyk7YS5hdHRyKHt6MjoxMDAsY3VsbGluZzohMCxzY2FsZTpxZyhuKX0pLGEuZHJpZnQ9S2csdGhpcy5fc3ltYm9sVHlwZT10LHRoaXMuYWRkKGEpfSxZZy5zdG9wU3ltYm9sQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKHQpfSxZZy5nZXRTeW1ib2xQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRBdCgwKX0sWWcuZ2V0U2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZEF0KDApLnNjYWxlfSxZZy5oaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMCkudHJpZ2dlcigiZW1waGFzaXMiKX0sWWcuZG93bnBsYXk9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMCkudHJpZ2dlcigibm9ybWFsIil9LFlnLnNldFo9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoaWxkQXQoMCk7aS56bGV2ZWw9dCxpLno9ZX0sWWcuc2V0RHJhZ2dhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRBdCgwKTtlLmRyYWdnYWJsZT10LGUuY3Vyc29yPXQ/Im1vdmUiOmUuY3Vyc29yfSxZZy51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLnNpbGVudD0hMTt2YXIgbj10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIil8fCJjaXJjbGUiLG89dC5ob3N0TW9kZWwsYT1qZyh0LGUpLHI9biE9PXRoaXMuX3N5bWJvbFR5cGU7aWYocil7dmFyIHM9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbEtlZXBBc3BlY3QiKTt0aGlzLl9jcmVhdGVTeW1ib2wobix0LGUsYSxzKX1lbHNleyhsPXRoaXMuY2hpbGRBdCgwKSkuc2lsZW50PSExLGNsKGwse3NjYWxlOnFnKGEpfSxvLGUpfWlmKHRoaXMuX3VwZGF0ZUNvbW1vbih0LGUsYSxpKSxyKXt2YXIgbD10aGlzLmNoaWxkQXQoMCksdT1pJiZpLmZhZGVJbixoPXtzY2FsZTpsLnNjYWxlLnNsaWNlKCl9O3UmJihoLnN0eWxlPXtvcGFjaXR5Omwuc3R5bGUub3BhY2l0eX0pLGwuc2NhbGU9WzAsMF0sdSYmKGwuc3R5bGUub3BhY2l0eT0wKSxkbChsLGgsbyxlKX10aGlzLl9zZXJpZXNNb2RlbD1vfTt2YXIgJGc9WyJpdGVtU3R5bGUiXSxKZz1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0sUWc9WyJsYWJlbCJdLHRtPVsiZW1waGFzaXMiLCJsYWJlbCJdO2Z1bmN0aW9uIGVtKHQsZSl7aWYoIXRoaXMuaW5jcmVtZW50YWwmJiF0aGlzLnVzZUhvdmVyTGF5ZXIpaWYoImVtcGhhc2lzIj09PWUpe3ZhciBpPXRoaXMuX19zeW1ib2xPcmlnaW5hbFNjYWxlLG49aVsxXS9pWzBdLG89e3NjYWxlOltNYXRoLm1heCgxLjEqaVswXSxpWzBdKzMpLE1hdGgubWF4KDEuMSppWzFdLGlbMV0rMypuKV19O3RoaXMuYW5pbWF0ZVRvKG8sNDAwLCJlbGFzdGljT3V0Iil9ZWxzZSJub3JtYWwiPT09ZSYmdGhpcy5hbmltYXRlVG8oe3NjYWxlOnRoaXMuX19zeW1ib2xPcmlnaW5hbFNjYWxlfSw0MDAsImVsYXN0aWNPdXQiKX1mdW5jdGlvbiBpbSh0KXt0aGlzLmdyb3VwPW5ldyBDaSx0aGlzLl9zeW1ib2xDdG9yPXR8fFhnfVlnLl91cGRhdGVDb21tb249ZnVuY3Rpb24oaSx0LGUsbil7dmFyIG89dGhpcy5jaGlsZEF0KDApLGE9aS5ob3N0TW9kZWwscj1pLmdldEl0ZW1WaXN1YWwodCwiY29sb3IiKTsiaW1hZ2UiIT09by50eXBlP28udXNlU3R5bGUoe3N0cm9rZU5vU2NhbGU6ITB9KTpvLnNldFN0eWxlKHtvcGFjaXR5OjEsc2hhZG93Qmx1cjpudWxsLHNoYWRvd09mZnNldFg6bnVsbCxzaGFkb3dPZmZzZXRZOm51bGwsc2hhZG93Q29sb3I6bnVsbH0pO3ZhciBzPW4mJm4uaXRlbVN0eWxlLGw9biYmbi5ob3Zlckl0ZW1TdHlsZSx1PW4mJm4uc3ltYm9sT2Zmc2V0LGg9biYmbi5sYWJlbE1vZGVsLGM9biYmbi5ob3ZlckxhYmVsTW9kZWwsZD1uJiZuLmhvdmVyQW5pbWF0aW9uLGY9biYmbi5jdXJzb3JTdHlsZTtpZighbnx8aS5oYXNJdGVtT3B0aW9uKXt2YXIgcD1uJiZuLml0ZW1Nb2RlbD9uLml0ZW1Nb2RlbDppLmdldEl0ZW1Nb2RlbCh0KTtzPXAuZ2V0TW9kZWwoJGcpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLGw9cC5nZXRNb2RlbChKZykuZ2V0SXRlbVN0eWxlKCksdT1wLmdldFNoYWxsb3coInN5bWJvbE9mZnNldCIpLGg9cC5nZXRNb2RlbChRZyksYz1wLmdldE1vZGVsKHRtKSxkPXAuZ2V0U2hhbGxvdygiaG92ZXJBbmltYXRpb24iKSxmPXAuZ2V0U2hhbGxvdygiY3Vyc29yIil9ZWxzZSBsPVAoe30sbCk7dmFyIGc9by5zdHlsZSxtPWkuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xSb3RhdGUiKTtvLmF0dHIoInJvdGF0aW9uIiwobXx8MCkqTWF0aC5QSS8xODB8fDApLHUmJm8uYXR0cigicG9zaXRpb24iLFt6bCh1WzBdLGVbMF0pLHpsKHVbMV0sZVsxXSldKSxmJiZvLmF0dHIoImN1cnNvciIsZiksby5zZXRDb2xvcihyLG4mJm4uc3ltYm9sSW5uZXJDb2xvciksby5zZXRTdHlsZShzKTt2YXIgdj1pLmdldEl0ZW1WaXN1YWwodCwib3BhY2l0eSIpO251bGwhPXYmJihnLm9wYWNpdHk9dik7dmFyIHk9aS5nZXRJdGVtVmlzdWFsKHQsImxpZnRaIikseD1vLl9fejJPcmlnaW47bnVsbCE9eT9udWxsPT14JiYoby5fX3oyT3JpZ2luPW8uejIsby56Mis9eSk6bnVsbCE9eCYmKG8uejI9eCxvLl9fejJPcmlnaW49bnVsbCk7dmFyIF89biYmbi51c2VOYW1lTGFiZWw7ZWwoZyxsLGgsYyx7bGFiZWxGZXRjaGVyOmEsbGFiZWxEYXRhSW5kZXg6dCxkZWZhdWx0VGV4dDpmdW5jdGlvbih0LGUpe3JldHVybiBfP2kuZ2V0TmFtZSh0KTpVZyhpLHQpfSxpc1JlY3RUZXh0OiEwLGF1dG9Db2xvcjpyfSksby5fX3N5bWJvbE9yaWdpbmFsU2NhbGU9cWcoZSksby5ob3ZlclN0eWxlPWwsby5oaWdoRG93bk9uVXBkYXRlPWQmJmEuaXNBbmltYXRpb25FbmFibGVkKCk/ZW06bnVsbCwkcyhvKX0sWWcuZmFkZU91dD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hpbGRBdCgwKTt0aGlzLnNpbGVudD1pLnNpbGVudD0hMCxlJiZlLmtlZXBMYWJlbHx8KGkuc3R5bGUudGV4dD1udWxsKSxjbChpLHtzdHlsZTp7b3BhY2l0eTowfSxzY2FsZTpbMCwwXX0sdGhpcy5fc2VyaWVzTW9kZWwsdGhpcy5kYXRhSW5kZXgsdCl9LHcoWGcsQ2kpO3ZhciBubT1pbS5wcm90b3R5cGU7ZnVuY3Rpb24gb20odCxlLGksbil7cmV0dXJuIGUmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pJiYhKG4uaXNJZ25vcmUmJm4uaXNJZ25vcmUoaSkpJiYhKG4uY2xpcFNoYXBlJiYhbi5jbGlwU2hhcGUuY29udGFpbihlWzBdLGVbMV0pKSYmIm5vbmUiIT09dC5nZXRJdGVtVmlzdWFsKGksInN5bWJvbCIpfWZ1bmN0aW9uIGFtKHQpe3JldHVybiBudWxsPT10fHxFKHQpfHwodD17aXNJZ25vcmU6dH0pLHR8fHt9fWZ1bmN0aW9uIHJtKHQpe3ZhciBlPXQuaG9zdE1vZGVsO3JldHVybntpdGVtU3R5bGU6ZS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSksaG92ZXJJdGVtU3R5bGU6ZS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksc3ltYm9sUm90YXRlOmUuZ2V0KCJzeW1ib2xSb3RhdGUiKSxzeW1ib2xPZmZzZXQ6ZS5nZXQoInN5bWJvbE9mZnNldCIpLGhvdmVyQW5pbWF0aW9uOmUuZ2V0KCJob3ZlckFuaW1hdGlvbiIpLGxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgibGFiZWwiKSxob3ZlckxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxjdXJzb3JTdHlsZTplLmdldCgiY3Vyc29yIil9fWZ1bmN0aW9uIHNtKHQsZSxpKXt2YXIgbixvPXQuZ2V0QmFzZUF4aXMoKSxhPXQuZ2V0T3RoZXJBeGlzKG8pLHI9ZnVuY3Rpb24odCxlKXt2YXIgaT0wLG49dC5zY2FsZS5nZXRFeHRlbnQoKTsic3RhcnQiPT09ZT9pPW5bMF06ImVuZCI9PT1lP2k9blsxXTowPG5bMF0/aT1uWzBdOm5bMV08MCYmKGk9blsxXSk7cmV0dXJuIGl9KGEsaSkscz1vLmRpbSxsPWEuZGltLHU9ZS5tYXBEaW1lbnNpb24obCksaD1lLm1hcERpbWVuc2lvbihzKSxjPSJ4Ij09PWx8fCJyYWRpdXMiPT09bD8xOjAsZD1PKHQuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSxmPWUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpO3JldHVybihufD1mcChlLGRbMF0pKSYmKGRbMF09ZiksKG58PWZwKGUsZFsxXSkpJiYoZFsxXT1mKSx7ZGF0YURpbXNGb3JQb2ludDpkLHZhbHVlU3RhcnQ6cix2YWx1ZUF4aXNEaW06bCxiYXNlQXhpc0RpbTpzLHN0YWNrZWQ6ISFuLHZhbHVlRGltOnUsYmFzZURpbTpoLGJhc2VEYXRhT2Zmc2V0OmMsc3RhY2tlZE92ZXJEaW1lbnNpb246ZS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPdmVyRGltZW5zaW9uIil9fWZ1bmN0aW9uIGxtKHQsZSxpLG4pe3ZhciBvPU5hTjt0LnN0YWNrZWQmJihvPWkuZ2V0KGkuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpLG4pKSxpc05hTihvKSYmKG89dC52YWx1ZVN0YXJ0KTt2YXIgYT10LmJhc2VEYXRhT2Zmc2V0LHI9W107cmV0dXJuIHJbYV09aS5nZXQodC5iYXNlRGltLG4pLHJbMS1hXT1vLGUuZGF0YVRvUG9pbnQocil9bm0udXBkYXRlRGF0YT1mdW5jdGlvbihvLGEpe2E9YW0oYSk7dmFyIHI9dGhpcy5ncm91cCxzPW8uaG9zdE1vZGVsLGw9dGhpcy5fZGF0YSx1PXRoaXMuX3N5bWJvbEN0b3IsaD1ybShvKTtsfHxyLnJlbW92ZUFsbCgpLG8uZGlmZihsKS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtTGF5b3V0KHQpO2lmKG9tKG8sZSx0LGEpKXt2YXIgaT1uZXcgdShvLHQsaCk7aS5hdHRyKCJwb3NpdGlvbiIsZSksby5zZXRJdGVtR3JhcGhpY0VsKHQsaSksci5hZGQoaSl9fSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9bC5nZXRJdGVtR3JhcGhpY0VsKGUpLG49by5nZXRJdGVtTGF5b3V0KHQpO29tKG8sbix0LGEpPyhpPyhpLnVwZGF0ZURhdGEobyx0LGgpLGNsKGkse3Bvc2l0aW9uOm59LHMpKTooaT1uZXcgdShvLHQpKS5hdHRyKCJwb3NpdGlvbiIsbiksci5hZGQoaSksby5zZXRJdGVtR3JhcGhpY0VsKHQsaSkpOnIucmVtb3ZlKGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWwuZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZlLmZhZGVPdXQoZnVuY3Rpb24oKXtyLnJlbW92ZShlKX0pfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9b30sbm0uaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITB9LG5tLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX2RhdGE7biYmbi5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0SXRlbUxheW91dChlKTt0LmF0dHIoInBvc2l0aW9uIixpKX0pfSxubS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc2VyaWVzU2NvcGU9cm0odCksdGhpcy5fZGF0YT1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LG5tLmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3QuaXNHcm91cHx8KHQuaW5jcmVtZW50YWw9dC51c2VIb3ZlckxheWVyPSEwKX1pPWFtKGkpO2Zvcih2YXIgbz10LnN0YXJ0O288dC5lbmQ7bysrKXt2YXIgYT1lLmdldEl0ZW1MYXlvdXQobyk7aWYob20oZSxhLG8saSkpe3ZhciByPW5ldyB0aGlzLl9zeW1ib2xDdG9yKGUsbyx0aGlzLl9zZXJpZXNTY29wZSk7ci50cmF2ZXJzZShuKSxyLmF0dHIoInBvc2l0aW9uIixhKSx0aGlzLmdyb3VwLmFkZChyKSxlLnNldEl0ZW1HcmFwaGljRWwobyxyKX19fSxubS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxpPXRoaXMuX2RhdGE7aSYmdD9pLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQpe3QuZmFkZU91dChmdW5jdGlvbigpe2UucmVtb3ZlKHQpfSl9KTplLnJlbW92ZUFsbCgpfTt2YXIgdW09U3QsaG09TXQsY209dXQsZG09YXQsZm09W10scG09W10sZ209W107ZnVuY3Rpb24gbW0odCl7cmV0dXJuIGlzTmFOKHRbMF0pfHxpc05hTih0WzFdKX1mdW5jdGlvbiB2bSh0LGUsaSxuLG8sYSxyLHMsbCx1KXtyZXR1cm4ibm9uZSIhPT11JiZ1P2Z1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsLHUsaCl7Zm9yKHZhciBjPTAsZD1pLGY9MDtmPG47ZisrKXt2YXIgcD1lW2RdO2lmKG88PWR8fGQ8MClicmVhaztpZihtbShwKSl7aWYoaCl7ZCs9YTtjb250aW51ZX1icmVha31pZihkPT09aSl0WzA8YT8ibW92ZVRvIjoibGluZVRvIl0ocFswXSxwWzFdKTtlbHNlIGlmKDA8bCl7dmFyIGc9ZVtjXSxtPSJ5Ij09PXU/MTowLHY9KHBbbV0tZ1ttXSkqbDtkbShwbSxnKSxwbVttXT1nW21dK3YsZG0oZ20scCksZ21bbV09cFttXS12LHQuYmV6aWVyQ3VydmVUbyhwbVswXSxwbVsxXSxnbVswXSxnbVsxXSxwWzBdLHBbMV0pfWVsc2UgdC5saW5lVG8ocFswXSxwWzFdKTtjPWQsZCs9YX1yZXR1cm4gZn0uYXBwbHkodGhpcyxhcmd1bWVudHMpOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsLHUsaCl7Zm9yKHZhciBjPTAsZD1pLGY9MDtmPG47ZisrKXt2YXIgcD1lW2RdO2lmKG88PWR8fGQ8MClicmVhaztpZihtbShwKSl7aWYoaCl7ZCs9YTtjb250aW51ZX1icmVha31pZihkPT09aSl0WzA8YT8ibW92ZVRvIjoibGluZVRvIl0ocFswXSxwWzFdKSxkbShwbSxwKTtlbHNlIGlmKDA8bCl7dmFyIGc9ZCthLG09ZVtnXTtpZihoKWZvcig7bSYmbW0oZVtnXSk7KW09ZVtnKz1hXTt2YXIgdj0uNSx5PWVbY107aWYoIShtPWVbZ10pfHxtbShtKSlkbShnbSxwKTtlbHNle3ZhciB4LF87aWYobW0obSkmJiFoJiYobT1wKSxodChmbSxtLHkpLCJ4Ij09PXV8fCJ5Ij09PXUpe3ZhciB3PSJ4Ij09PXU/MDoxO3g9TWF0aC5hYnMocFt3XS15W3ddKSxfPU1hdGguYWJzKHBbd10tbVt3XSl9ZWxzZSB4PXl0KHAseSksXz15dChwLG0pO2NtKGdtLHAsZm0sLWwqKDEtKHY9Xy8oXyt4KSkpKX11bShwbSxwbSxzKSxobShwbSxwbSxyKSx1bShnbSxnbSxzKSxobShnbSxnbSxyKSx0LmJlemllckN1cnZlVG8ocG1bMF0scG1bMV0sZ21bMF0sZ21bMV0scFswXSxwWzFdKSxjbShwbSxwLGZtLGwqdil9ZWxzZSB0LmxpbmVUbyhwWzBdLHBbMV0pO2M9ZCxkKz1hfXJldHVybiBmfS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geW0odCxlKXt2YXIgaT1bMS8wLDEvMF0sbj1bLTEvMCwtMS8wXTtpZihlKWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dO2FbMF08aVswXSYmKGlbMF09YVswXSksYVsxXTxpWzFdJiYoaVsxXT1hWzFdKSxhWzBdPm5bMF0mJihuWzBdPWFbMF0pLGFbMV0+blsxXSYmKG5bMV09YVsxXSl9cmV0dXJue21pbjplP2k6bixtYXg6ZT9uOml9fXZhciB4bT1Bci5leHRlbmQoe3R5cGU6ImVjLXBvbHlsaW5lIixzaGFwZTp7cG9pbnRzOltdLHNtb290aDowLHNtb290aENvbnN0cmFpbnQ6ITAsc21vb3RoTW9ub3RvbmU6bnVsbCxjb25uZWN0TnVsbHM6ITF9LHN0eWxlOntmaWxsOm51bGwsc3Ryb2tlOiIjMDAwIn0sYnJ1c2g6WHIoQXIucHJvdG90eXBlLmJydXNoKSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnBvaW50cyxuPTAsbz1pLmxlbmd0aCxhPXltKGksZS5zbW9vdGhDb25zdHJhaW50KTtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDswPG8mJm1tKGlbby0xXSk7by0tKTtmb3IoO248byYmbW0oaVtuXSk7bisrKTt9Zm9yKDtuPG87KW4rPXZtKHQsaSxuLG8sbywxLGEubWluLGEubWF4LGUuc21vb3RoLGUuc21vb3RoTW9ub3RvbmUsZS5jb25uZWN0TnVsbHMpKzF9fSksX209QXIuZXh0ZW5kKHt0eXBlOiJlYy1wb2x5Z29uIixzaGFwZTp7cG9pbnRzOltdLHN0YWNrZWRPblBvaW50czpbXSxzbW9vdGg6MCxzdGFja2VkT25TbW9vdGg6MCxzbW9vdGhDb25zdHJhaW50OiEwLHNtb290aE1vbm90b25lOm51bGwsY29ubmVjdE51bGxzOiExfSxicnVzaDpYcihBci5wcm90b3R5cGUuYnJ1c2gpLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzLG49ZS5zdGFja2VkT25Qb2ludHMsbz0wLGE9aS5sZW5ndGgscj1lLnNtb290aE1vbm90b25lLHM9eW0oaSxlLnNtb290aENvbnN0cmFpbnQpLGw9eW0obixlLnNtb290aENvbnN0cmFpbnQpO2lmKGUuY29ubmVjdE51bGxzKXtmb3IoOzA8YSYmbW0oaVthLTFdKTthLS0pO2Zvcig7bzxhJiZtbShpW29dKTtvKyspO31mb3IoO288YTspe3ZhciB1PXZtKHQsaSxvLGEsYSwxLHMubWluLHMubWF4LGUuc21vb3RoLHIsZS5jb25uZWN0TnVsbHMpO3ZtKHQsbixvK3UtMSx1LGEsLTEsbC5taW4sbC5tYXgsZS5zdGFja2VkT25TbW9vdGgscixlLmNvbm5lY3ROdWxscyksbys9dSsxLHQuY2xvc2VQYXRoKCl9fX0pO2Z1bmN0aW9uIHdtKHQsZSxpKXt2YXIgbj10LmdldEFyZWEoKSxvPXQuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKSxhPW4ueCxyPW4ueSxzPW4ud2lkdGgsbD1uLmhlaWdodCx1PWkuZ2V0KCJsaW5lU3R5bGUud2lkdGgiKXx8MjthLT11LzIsci09dS8yLHMrPXUsbCs9dSxhPU1hdGguZmxvb3IoYSkscz1NYXRoLnJvdW5kKHMpO3ZhciBoPW5ldyBycyh7c2hhcGU6e3g6YSx5OnIsd2lkdGg6cyxoZWlnaHQ6bH19KTtyZXR1cm4gZSYmKGguc2hhcGVbbz8id2lkdGgiOiJoZWlnaHQiXT0wLGRsKGgse3NoYXBlOnt3aWR0aDpzLGhlaWdodDpsfX0saSkpLGh9ZnVuY3Rpb24gYm0odCxlLGkpe3ZhciBuPXQuZ2V0QXJlYSgpLG89bmV3IHFyKHtzaGFwZTp7Y3g6RWwodC5jeCwxKSxjeTpFbCh0LmN5LDEpLHIwOkVsKG4ucjAsMSkscjpFbChuLnIsMSksc3RhcnRBbmdsZTpuLnN0YXJ0QW5nbGUsZW5kQW5nbGU6bi5lbmRBbmdsZSxjbG9ja3dpc2U6bi5jbG9ja3dpc2V9fSk7cmV0dXJuIGUmJihvLnNoYXBlLmVuZEFuZ2xlPW4uc3RhcnRBbmdsZSxkbChvLHtzaGFwZTp7ZW5kQW5nbGU6bi5lbmRBbmdsZX19LGkpKSxvfWZ1bmN0aW9uIFNtKHQsZSxpKXtyZXR1cm4gdD8icG9sYXIiPT09dC50eXBlP2JtKHQsZSxpKToiY2FydGVzaWFuMmQiPT09dC50eXBlP3dtKHQsZSxpKTpudWxsOm51bGx9ZnVuY3Rpb24gTW0odCxlKXtpZih0Lmxlbmd0aD09PWUubGVuZ3RoKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXSxvPWVbaV07aWYoblswXSE9PW9bMF18fG5bMV0hPT1vWzFdKXJldHVybn1yZXR1cm4hMH19ZnVuY3Rpb24gSW0odCxlKXt2YXIgaT1bXSxuPVtdLG89W10sYT1bXTtyZXR1cm4gV2EodCxpLG4pLFdhKGUsbyxhKSxNYXRoLm1heChNYXRoLmFicyhpWzBdLW9bMF0pLE1hdGguYWJzKGlbMV0tb1sxXSksTWF0aC5hYnMoblswXS1hWzBdKSxNYXRoLmFicyhuWzFdLWFbMV0pKX1mdW5jdGlvbiBUbSh0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dDp0Py41OjB9ZnVuY3Rpb24gQW0odCxlLGkpe2Zvcih2YXIgbj1lLmdldEJhc2VBeGlzKCksbz0ieCI9PT1uLmRpbXx8InJhZGl1cyI9PT1uLmRpbT8wOjEsYT1bXSxyPTA7cjx0Lmxlbmd0aC0xO3IrKyl7dmFyIHM9dFtyKzFdLGw9dFtyXTthLnB1c2gobCk7dmFyIHU9W107c3dpdGNoKGkpe2Nhc2UiZW5kIjp1W29dPXNbb10sdVsxLW9dPWxbMS1vXSxhLnB1c2godSk7YnJlYWs7Y2FzZSJtaWRkbGUiOnZhciBoPShsW29dK3Nbb10pLzIsYz1bXTt1W29dPWNbb109aCx1WzEtb109bFsxLW9dLGNbMS1vXT1zWzEtb10sYS5wdXNoKHUpLGEucHVzaChjKTticmVhaztkZWZhdWx0OnVbb109bFtvXSx1WzEtb109c1sxLW9dLGEucHVzaCh1KX19cmV0dXJuIHRbcl0mJmEucHVzaCh0W3JdKSxhfWZ1bmN0aW9uIERtKHQsZSxpKXt2YXIgbj10LmdldCgic2hvd0FsbFN5bWJvbCIpLG89ImF1dG8iPT09bjtpZighbnx8byl7dmFyIGE9aS5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdO2lmKGEmJighb3x8IWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRFeHRlbnQoKSxuPU1hdGguYWJzKGlbMV0taVswXSkvdC5zY2FsZS5jb3VudCgpO2lzTmFOKG4pJiYobj0wKTtmb3IodmFyIG89ZS5jb3VudCgpLGE9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKG8vNSkpLHI9MDtyPG87cis9YSlpZigxLjUqWGcuZ2V0U3ltYm9sU2l6ZShlLHIpW3QuaXNIb3Jpem9udGFsKCk/MTowXT5uKXJldHVybiExO3JldHVybiEwfShhLGUpKSl7dmFyIHI9ZS5tYXBEaW1lbnNpb24oYS5kaW0pLHM9e307cmV0dXJuIFIoYS5nZXRWaWV3TGFiZWxzKCksZnVuY3Rpb24odCl7c1t0LnRpY2tWYWx1ZV09MX0pLGZ1bmN0aW9uKHQpe3JldHVybiFzLmhhc093blByb3BlcnR5KGUuZ2V0KHIsdCkpfX19fWZ1bmN0aW9uIENtKHQsZSxpKXtpZigiY2FydGVzaWFuMmQiIT09dC50eXBlKXJldHVybiBibSh0LGUsaSk7dmFyIG49dC5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLG89d20odCxlLGkpO2lmKCFpLmdldCgiY2xpcCIsITApKXt2YXIgYT1vLnNoYXBlLHI9TWF0aC5tYXgoYS53aWR0aCxhLmhlaWdodCk7bj8oYS55LT1yLGEuaGVpZ2h0Kz0yKnIpOihhLngtPXIsYS53aWR0aCs9MipyKX1yZXR1cm4gb31fYy5leHRlbmQoe3R5cGU6ImxpbmUiLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ2ksZT1uZXcgaW07dGhpcy5ncm91cC5hZGQoZS5ncm91cCksdGhpcy5fc3ltYm9sRHJhdz1lLHRoaXMuX2xpbmVHcm91cD10fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxyPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9dC5nZXRNb2RlbCgiYXJlYVN0eWxlIiksbD1hLm1hcEFycmF5KGEuZ2V0SXRlbUxheW91dCksdT0icG9sYXIiPT09bi50eXBlLGg9dGhpcy5fY29vcmRTeXMsYz10aGlzLl9zeW1ib2xEcmF3LGQ9dGhpcy5fcG9seWxpbmUsZj10aGlzLl9wb2x5Z29uLHA9dGhpcy5fbGluZUdyb3VwLGc9dC5nZXQoImFuaW1hdGlvbiIpLG09IXMuaXNFbXB0eSgpLHY9cy5nZXQoIm9yaWdpbiIpLHk9ZnVuY3Rpb24odCxlLGkpe2lmKCFpLnZhbHVlRGltKXJldHVybltdO2Zvcih2YXIgbj1bXSxvPTAsYT1lLmNvdW50KCk7bzxhO28rKyluLnB1c2gobG0oaSx0LGUsbykpO3JldHVybiBufShuLGEsc20obixhLHYpKSx4PXQuZ2V0KCJzaG93U3ltYm9sIiksXz14JiYhdSYmRG0odCxhLG4pLHc9dGhpcy5fZGF0YTt3JiZ3LmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC5fX3RlbXAmJihvLnJlbW92ZSh0KSx3LnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKSl9KSx4fHxjLnJlbW92ZSgpLG8uYWRkKHApO3ZhciBiLFM9IXUmJnQuZ2V0KCJzdGVwIik7biYmbi5nZXRBcmVhJiZ0LmdldCgiY2xpcCIsITApJiYobnVsbCE9KGI9bi5nZXRBcmVhKCkpLndpZHRoPyhiLngtPS4xLGIueS09LjEsYi53aWR0aCs9LjIsYi5oZWlnaHQrPS4yKTpiLnIwJiYoYi5yMC09LjUsYi5yMSs9LjUpKSx0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2w9YixkJiZoLnR5cGU9PT1uLnR5cGUmJlM9PT10aGlzLl9zdGVwPyhtJiYhZj9mPXRoaXMuX25ld1BvbHlnb24obCx5LG4sZyk6ZiYmIW0mJihwLnJlbW92ZShmKSxmPXRoaXMuX3BvbHlnb249bnVsbCkscC5zZXRDbGlwUGF0aChDbShuLCExLHQpKSx4JiZjLnVwZGF0ZURhdGEoYSx7aXNJZ25vcmU6XyxjbGlwU2hhcGU6Yn0pLGEuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7dC5zdG9wQW5pbWF0aW9uKCEwKX0pLE1tKHRoaXMuX3N0YWNrZWRPblBvaW50cyx5KSYmTW0odGhpcy5fcG9pbnRzLGwpfHwoZz90aGlzLl91cGRhdGVBbmltYXRpb24oYSx5LG4saSxTLHYpOihTJiYobD1BbShsLG4sUykseT1BbSh5LG4sUykpLGQuc2V0U2hhcGUoe3BvaW50czpsfSksZiYmZi5zZXRTaGFwZSh7cG9pbnRzOmwsc3RhY2tlZE9uUG9pbnRzOnl9KSkpKTooeCYmYy51cGRhdGVEYXRhKGEse2lzSWdub3JlOl8sY2xpcFNoYXBlOmJ9KSxTJiYobD1BbShsLG4sUykseT1BbSh5LG4sUykpLGQ9dGhpcy5fbmV3UG9seWxpbmUobCxuLGcpLG0mJihmPXRoaXMuX25ld1BvbHlnb24obCx5LG4sZykpLHAuc2V0Q2xpcFBhdGgoQ20obiwhMCx0KSkpO3ZhciBNPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRWaXN1YWwoInZpc3VhbE1ldGEiKTtpZihpJiZpLmxlbmd0aCYmdC5jb3VudCgpJiYiY2FydGVzaWFuMmQiPT09ZS50eXBlKXtmb3IodmFyIG4sbyxhPWkubGVuZ3RoLTE7MDw9YTthLS0pe3ZhciByPWlbYV0uZGltZW5zaW9uLHM9dC5kaW1lbnNpb25zW3JdLGw9dC5nZXREaW1lbnNpb25JbmZvKHMpO2lmKCJ4Ij09PShuPWwmJmwuY29vcmREaW0pfHwieSI9PT1uKXtvPWlbYV07YnJlYWt9fWlmKG8pe3ZhciB1PWUuZ2V0QXhpcyhuKSxoPU8oby5zdG9wcyxmdW5jdGlvbih0KXtyZXR1cm57Y29vcmQ6dS50b0dsb2JhbENvb3JkKHUuZGF0YVRvQ29vcmQodC52YWx1ZSkpLGNvbG9yOnQuY29sb3J9fSksYz1oLmxlbmd0aCxkPW8ub3V0ZXJDb2xvcnMuc2xpY2UoKTtjJiZoWzBdLmNvb3JkPmhbYy0xXS5jb29yZCYmKGgucmV2ZXJzZSgpLGQucmV2ZXJzZSgpKTt2YXIgZj1oWzBdLmNvb3JkLTEwLHA9aFtjLTFdLmNvb3JkKzEwLGc9cC1mO2lmKGc8LjAwMSlyZXR1cm4idHJhbnNwYXJlbnQiO1IoaCxmdW5jdGlvbih0KXt0Lm9mZnNldD0odC5jb29yZC1mKS9nfSksaC5wdXNoKHtvZmZzZXQ6Yz9oW2MtMV0ub2Zmc2V0Oi41LGNvbG9yOmRbMV18fCJ0cmFuc3BhcmVudCJ9KSxoLnVuc2hpZnQoe29mZnNldDpjP2hbMF0ub2Zmc2V0Oi41LGNvbG9yOmRbMF18fCJ0cmFuc3BhcmVudCJ9KTt2YXIgbT1uZXcgZ3MoMCwwLDAsMCxoLCEwKTtyZXR1cm4gbVtuXT1mLG1bbisiMiJdPXAsbX19fShhLG4pfHxhLmdldFZpc3VhbCgiY29sb3IiKTtkLnVzZVN0eWxlKEQoci5nZXRMaW5lU3R5bGUoKSx7ZmlsbDoibm9uZSIsc3Ryb2tlOk0sbGluZUpvaW46ImJldmVsIn0pKTt2YXIgST10LmdldCgic21vb3RoIik7aWYoST1UbSh0LmdldCgic21vb3RoIikpLGQuc2V0U2hhcGUoe3Ntb290aDpJLHNtb290aE1vbm90b25lOnQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpLGNvbm5lY3ROdWxsczp0LmdldCgiY29ubmVjdE51bGxzIil9KSxmKXt2YXIgVD1hLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE9uU2VyaWVzIiksQT0wO2YudXNlU3R5bGUoRChzLmdldEFyZWFTdHlsZSgpLHtmaWxsOk0sb3BhY2l0eTouNyxsaW5lSm9pbjoiYmV2ZWwifSkpLFQmJihBPVRtKFQuZ2V0KCJzbW9vdGgiKSkpLGYuc2V0U2hhcGUoe3Ntb290aDpJLHN0YWNrZWRPblNtb290aDpBLHNtb290aE1vbm90b25lOnQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpLGNvbm5lY3ROdWxsczp0LmdldCgiY29ubmVjdE51bGxzIil9KX10aGlzLl9kYXRhPWEsdGhpcy5fY29vcmRTeXM9bix0aGlzLl9zdGFja2VkT25Qb2ludHM9eSx0aGlzLl9wb2ludHM9bCx0aGlzLl9zdGVwPVMsdGhpcy5fdmFsdWVPcmlnaW49dn0sZGlzcG9zZTpmdW5jdGlvbigpe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0RGF0YSgpLGE9WW8obyxuKTtpZighKGEgaW5zdGFuY2VvZiBBcnJheSkmJm51bGwhPWEmJjA8PWEpe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtpZighcil7dmFyIHM9by5nZXRJdGVtTGF5b3V0KGEpO2lmKCFzKXJldHVybjtpZih0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2wmJiF0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2wuY29udGFpbihzWzBdLHNbMV0pKXJldHVybjsocj1uZXcgWGcobyxhKSkucG9zaXRpb249cyxyLnNldFoodC5nZXQoInpsZXZlbCIpLHQuZ2V0KCJ6IikpLHIuaWdub3JlPWlzTmFOKHNbMF0pfHxpc05hTihzWzFdKSxyLl9fdGVtcD0hMCxvLnNldEl0ZW1HcmFwaGljRWwoYSxyKSxyLnN0b3BTeW1ib2xBbmltYXRpb24oITApLHRoaXMuZ3JvdXAuYWRkKHIpfXIuaGlnaGxpZ2h0KCl9ZWxzZSBfYy5wcm90b3R5cGUuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LGUsaSxuKX0sZG93bnBsYXk6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCksYT1ZbyhvLG4pO2lmKG51bGwhPWEmJjA8PWEpe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtyJiYoci5fX3RlbXA/KG8uc2V0SXRlbUdyYXBoaWNFbChhLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKHIpKTpyLmRvd25wbGF5KCkpfWVsc2UgX2MucHJvdG90eXBlLmRvd25wbGF5LmNhbGwodGhpcyx0LGUsaSxuKX0sX25ld1BvbHlsaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BvbHlsaW5lO3JldHVybiBlJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKGUpLGU9bmV3IHhtKHtzaGFwZTp7cG9pbnRzOnR9LHNpbGVudDohMCx6MjoxMH0pLHRoaXMuX2xpbmVHcm91cC5hZGQoZSksdGhpcy5fcG9seWxpbmU9ZX0sX25ld1BvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9wb2x5Z29uO3JldHVybiBpJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKGkpLGk9bmV3IF9tKHtzaGFwZTp7cG9pbnRzOnQsc3RhY2tlZE9uUG9pbnRzOmV9LHNpbGVudDohMH0pLHRoaXMuX2xpbmVHcm91cC5hZGQoaSksdGhpcy5fcG9seWdvbj1pfSxfdXBkYXRlQW5pbWF0aW9uOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj10aGlzLl9wb2x5bGluZSxzPXRoaXMuX3BvbHlnb24sbD10Lmhvc3RNb2RlbCx1PWZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7Zm9yKHZhciBsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIGUuZGlmZih0KS5hZGQoZnVuY3Rpb24odCl7aS5wdXNoKHtjbWQ6IisiLGlkeDp0fSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXtpLnB1c2goe2NtZDoiPSIsaWR4OmUsaWR4MTp0fSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7aS5wdXNoKHtjbWQ6Ii0iLGlkeDp0fSl9KS5leGVjdXRlKCksaX0odCxlKSx1PVtdLGg9W10sYz1bXSxkPVtdLGY9W10scD1bXSxnPVtdLG09c20obyxlLHIpLHY9c20oYSx0LHMpLHk9MDt5PGwubGVuZ3RoO3krKyl7dmFyIHg9bFt5XSxfPSEwO3N3aXRjaCh4LmNtZCl7Y2FzZSI9Ijp2YXIgdz10LmdldEl0ZW1MYXlvdXQoeC5pZHgpLGI9ZS5nZXRJdGVtTGF5b3V0KHguaWR4MSk7KGlzTmFOKHdbMF0pfHxpc05hTih3WzFdKSkmJih3PWIuc2xpY2UoKSksdS5wdXNoKHcpLGgucHVzaChiKSxjLnB1c2goaVt4LmlkeF0pLGQucHVzaChuW3guaWR4MV0pLGcucHVzaChlLmdldFJhd0luZGV4KHguaWR4MSkpO2JyZWFrO2Nhc2UiKyI6dmFyIFM9eC5pZHg7dS5wdXNoKG8uZGF0YVRvUG9pbnQoW2UuZ2V0KG0uZGF0YURpbXNGb3JQb2ludFswXSxTKSxlLmdldChtLmRhdGFEaW1zRm9yUG9pbnRbMV0sUyldKSksaC5wdXNoKGUuZ2V0SXRlbUxheW91dChTKS5zbGljZSgpKSxjLnB1c2gobG0obSxvLGUsUykpLGQucHVzaChuW1NdKSxnLnB1c2goZS5nZXRSYXdJbmRleChTKSk7YnJlYWs7Y2FzZSItIjpTPXguaWR4O3ZhciBNPXQuZ2V0UmF3SW5kZXgoUyk7TSE9PVM/KHUucHVzaCh0LmdldEl0ZW1MYXlvdXQoUykpLGgucHVzaChhLmRhdGFUb1BvaW50KFt0LmdldCh2LmRhdGFEaW1zRm9yUG9pbnRbMF0sUyksdC5nZXQodi5kYXRhRGltc0ZvclBvaW50WzFdLFMpXSkpLGMucHVzaChpW1NdKSxkLnB1c2gobG0odixhLHQsUykpLGcucHVzaChNKSk6Xz0hMX1fJiYoZi5wdXNoKHgpLHAucHVzaChwLmxlbmd0aCkpfXAuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBnW3RdLWdbZV19KTt2YXIgST1bXSxUPVtdLEE9W10sRD1bXSxDPVtdO2Zvcih5PTA7eTxwLmxlbmd0aDt5Kyspe1M9cFt5XTtJW3ldPXVbU10sVFt5XT1oW1NdLEFbeV09Y1tTXSxEW3ldPWRbU10sQ1t5XT1mW1NdfXJldHVybntjdXJyZW50OkksbmV4dDpULHN0YWNrZWRPbkN1cnJlbnQ6QSxzdGFja2VkT25OZXh0OkQsc3RhdHVzOkN9fSh0aGlzLl9kYXRhLHQsdGhpcy5fc3RhY2tlZE9uUG9pbnRzLGUsdGhpcy5fY29vcmRTeXMsaSx0aGlzLl92YWx1ZU9yaWdpbixhKSxoPXUuY3VycmVudCxjPXUuc3RhY2tlZE9uQ3VycmVudCxkPXUubmV4dCxmPXUuc3RhY2tlZE9uTmV4dDtpZihvJiYoaD1BbSh1LmN1cnJlbnQsaSxvKSxjPUFtKHUuc3RhY2tlZE9uQ3VycmVudCxpLG8pLGQ9QW0odS5uZXh0LGksbyksZj1BbSh1LnN0YWNrZWRPbk5leHQsaSxvKSksM2UzPEltKGgsZCl8fHMmJjNlMzxJbShjLGYpKXJldHVybiByLnNldFNoYXBlKHtwb2ludHM6ZH0pLHZvaWQocyYmcy5zZXRTaGFwZSh7cG9pbnRzOmQsc3RhY2tlZE9uUG9pbnRzOmZ9KSk7ci5zaGFwZS5fX3BvaW50cz11LmN1cnJlbnQsci5zaGFwZS5wb2ludHM9aCxjbChyLHtzaGFwZTp7cG9pbnRzOmR9fSxsKSxzJiYocy5zZXRTaGFwZSh7cG9pbnRzOmgsc3RhY2tlZE9uUG9pbnRzOmN9KSxjbChzLHtzaGFwZTp7cG9pbnRzOmQsc3RhY2tlZE9uUG9pbnRzOmZ9fSxsKSk7Zm9yKHZhciBwPVtdLGc9dS5zdGF0dXMsbT0wO208Zy5sZW5ndGg7bSsrKXtpZigiPSI9PT1nW21dLmNtZCl7dmFyIHY9dC5nZXRJdGVtR3JhcGhpY0VsKGdbbV0uaWR4MSk7diYmcC5wdXNoKHtlbDp2LHB0SWR4Om19KX19ci5hbmltYXRvcnMmJnIuYW5pbWF0b3JzLmxlbmd0aCYmci5hbmltYXRvcnNbMF0uZHVyaW5nKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxwLmxlbmd0aDt0Kyspe3BbdF0uZWwuYXR0cigicG9zaXRpb24iLHIuc2hhcGUuX19wb2ludHNbcFt0XS5wdElkeF0pfX0pfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7dGhpcy5fbGluZUdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCEwKSxuJiZuLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC5fX3RlbXAmJihpLnJlbW92ZSh0KSxuLnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKSl9KSx0aGlzLl9wb2x5bGluZT10aGlzLl9wb2x5Z29uPXRoaXMuX2Nvb3JkU3lzPXRoaXMuX3BvaW50cz10aGlzLl9zdGFja2VkT25Qb2ludHM9dGhpcy5fZGF0YT1udWxsfX0pO2Z1bmN0aW9uIExtKHQscixzKXtyZXR1cm57c2VyaWVzVHlwZTp0LHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odSx0LGUpe3ZhciBpPXUuZ2V0RGF0YSgpLGg9dS5nZXQoInN5bWJvbCIpLGM9dS5nZXQoInN5bWJvbFNpemUiKSxuPXUuZ2V0KCJzeW1ib2xLZWVwQXNwZWN0IiksZD11LmdldCgic3ltYm9sUm90YXRlIiksZj1DKGgpLHA9QyhjKSxnPUMoZCksbT1mfHxwfHxnLG89IWYmJmg/aDpyLGE9cD9udWxsOmM7aWYoaS5zZXRWaXN1YWwoe2xlZ2VuZFN5bWJvbDpzfHxvLHN5bWJvbDpvLHN5bWJvbFNpemU6YSxzeW1ib2xLZWVwQXNwZWN0Om4sc3ltYm9sUm90YXRlOmR9KSwhdC5pc1Nlcmllc0ZpbHRlcmVkKHUpKXJldHVybntkYXRhRWFjaDppLmhhc0l0ZW1PcHRpb258fG0/ZnVuY3Rpb24odCxlKXtpZihtKXt2YXIgaT11LmdldFJhd1ZhbHVlKGUpLG49dS5nZXREYXRhUGFyYW1zKGUpO2YmJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiLGgoaSxuKSkscCYmdC5zZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiLGMoaSxuKSksZyYmdC5zZXRJdGVtVmlzdWFsKGUsInN5bWJvbFJvdGF0ZSIsZChpLG4pKX1pZih0Lmhhc0l0ZW1PcHRpb24pe3ZhciBvPXQuZ2V0SXRlbU1vZGVsKGUpLGE9by5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSxyPW8uZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIsITApLHM9by5nZXRTaGFsbG93KCJzeW1ib2xSb3RhdGUiLCEwKSxsPW8uZ2V0U2hhbGxvdygic3ltYm9sS2VlcEFzcGVjdCIsITApO251bGwhPWEmJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiLGEpLG51bGwhPXImJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIixyKSxudWxsIT1zJiZ0LnNldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIixzKSxudWxsIT1sJiZ0LnNldEl0ZW1WaXN1YWwoZSwic3ltYm9sS2VlcEFzcGVjdCIsbCl9fTpudWxsfX19fWZ1bmN0aW9uIGttKHQpe3JldHVybntzZXJpZXNUeXBlOnQscGxhbjp2YygpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGM9dC5jb29yZGluYXRlU3lzdGVtLGQ9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7aWYoYyl7dmFyIGY9TyhjLmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwRGltZW5zaW9uKHQpfSkuc2xpY2UoMCwyKSxwPWYubGVuZ3RoLGk9ZS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIik7cmV0dXJuIGZwKGUsZlswXSkmJihmWzBdPWkpLGZwKGUsZlsxXSkmJihmWzFdPWkpLHAmJntwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LmVuZC10LnN0YXJ0LG49ZCYmbmV3IEZsb2F0MzJBcnJheShpKnApLG89dC5zdGFydCxhPTAscj1bXSxzPVtdO288dC5lbmQ7bysrKXt2YXIgbDtpZigxPT09cCl7dmFyIHU9ZS5nZXQoZlswXSxvKTtsPSFpc05hTih1KSYmYy5kYXRhVG9Qb2ludCh1LG51bGwscyl9ZWxzZXt1PXJbMF09ZS5nZXQoZlswXSxvKTt2YXIgaD1yWzFdPWUuZ2V0KGZbMV0sbyk7bD0haXNOYU4odSkmJiFpc05hTihoKSYmYy5kYXRhVG9Qb2ludChyLG51bGwscyl9ZD8oblthKytdPWw/bFswXTpOYU4sblthKytdPWw/bFsxXTpOYU4pOmUuc2V0SXRlbUxheW91dChvLGwmJmwuc2xpY2UoKXx8W05hTixOYU5dKX1kJiZlLnNldExheW91dCgic3ltYm9sUG9pbnRzIixuKX19fX19fWZ1bmN0aW9uIFBtKHQsZSl7cmV0dXJuIE1hdGgucm91bmQodC5sZW5ndGgvMil9dmFyIE5tPXthdmVyYWdlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9MCxuPTA7bjx0Lmxlbmd0aDtuKyspaXNOYU4odFtuXSl8fChlKz10W25dLGkrKyk7cmV0dXJuIDA9PT1pP05hTjplL2l9LHN1bTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPTA7aTx0Lmxlbmd0aDtpKyspZSs9dFtpXXx8MDtyZXR1cm4gZX0sbWF4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMS8wLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldPmUmJihlPXRbaV0pO3JldHVybiBpc0Zpbml0ZShlKT9lOk5hTn0sbWluOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLzAsaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV08ZSYmKGU9dFtpXSk7cmV0dXJuIGlzRmluaXRlKGUpP2U6TmFOfSxuZWFyZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfX07ZnVuY3Rpb24gT20odCl7cmV0dXJuIHRoaXMuX2F4ZXNbdF19ZnVuY3Rpb24gUm0odCl7dGhpcy5fYXhlcz17fSx0aGlzLl9kaW1MaXN0PVtdLHRoaXMubmFtZT10fHwiIn1mdW5jdGlvbiB6bSh0KXtSbS5jYWxsKHRoaXMsdCl9Um0ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSbSx0eXBlOiJjYXJ0ZXNpYW4iLGdldEF4aXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNbdF19LGdldEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzLl9kaW1MaXN0LE9tLHRoaXMpfSxnZXRBeGVzQnlTY2FsZTpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksTSh0aGlzLmdldEF4ZXMoKSxmdW5jdGlvbih0KXtyZXR1cm4gdC5zY2FsZS50eXBlPT09ZX0pfSxhZGRBeGlzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGltO3RoaXMuX2F4ZXNbZV09dCx0aGlzLl9kaW1MaXN0LnB1c2goZSl9LGRhdGFUb0Nvb3JkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhQ29vcmRDb252ZXJ0KHQsImRhdGFUb0Nvb3JkIil9LGNvb3JkVG9EYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhQ29vcmRDb252ZXJ0KHQsImNvb3JkVG9EYXRhIil9LF9kYXRhQ29vcmRDb252ZXJ0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2RpbUxpc3Qsbj10IGluc3RhbmNlb2YgQXJyYXk/W106e30sbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLHI9dGhpcy5fYXhlc1thXTtuW2FdPXJbZV0odFthXSl9cmV0dXJuIG59fSx6bS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnptLHR5cGU6ImNhcnRlc2lhbjJkIixkaW1lbnNpb25zOlsieCIsInkiXSxnZXRCYXNlQXhpczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoInRpbWUiKVswXXx8dGhpcy5nZXRBeGlzKCJ4Iil9LGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoIngiKSxpPXRoaXMuZ2V0QXhpcygieSIpO3JldHVybiBlLmNvbnRhaW4oZS50b0xvY2FsQ29vcmQodFswXSkpJiZpLmNvbnRhaW4oaS50b0xvY2FsQ29vcmQodFsxXSkpfSxjb250YWluRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBeGlzKCJ4IikuY29udGFpbkRhdGEodFswXSkmJnRoaXMuZ2V0QXhpcygieSIpLmNvbnRhaW5EYXRhKHRbMV0pfSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRBeGlzKCJ4Iiksbz10aGlzLmdldEF4aXMoInkiKTtyZXR1cm4oaT1pfHxbXSlbMF09bi50b0dsb2JhbENvb3JkKG4uZGF0YVRvQ29vcmQodFswXSkpLGlbMV09by50b0dsb2JhbENvb3JkKG8uZGF0YVRvQ29vcmQodFsxXSkpLGl9LGNsYW1wRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXhpcygieCIpLnNjYWxlLG49dGhpcy5nZXRBeGlzKCJ5Iikuc2NhbGUsbz1pLmdldEV4dGVudCgpLGE9bi5nZXRFeHRlbnQoKSxyPWkucGFyc2UodFswXSkscz1uLnBhcnNlKHRbMV0pO3JldHVybihlPWV8fFtdKVswXT1NYXRoLm1pbihNYXRoLm1heChNYXRoLm1pbihvWzBdLG9bMV0pLHIpLE1hdGgubWF4KG9bMF0sb1sxXSkpLGVbMV09TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5taW4oYVswXSxhWzFdKSxzKSxNYXRoLm1heChhWzBdLGFbMV0pKSxlfSxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXhpcygieCIpLG49dGhpcy5nZXRBeGlzKCJ5Iik7cmV0dXJuKGU9ZXx8W10pWzBdPWkuY29vcmRUb0RhdGEoaS50b0xvY2FsQ29vcmQodFswXSkpLGVbMV09bi5jb29yZFRvRGF0YShuLnRvTG9jYWxDb29yZCh0WzFdKSksZX0sZ2V0T3RoZXJBeGlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEF4aXMoIngiPT09dC5kaW0/InkiOiJ4Iil9LGdldEFyZWE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF4aXMoIngiKS5nZXRHbG9iYWxFeHRlbnQoKSxlPXRoaXMuZ2V0QXhpcygieSIpLmdldEdsb2JhbEV4dGVudCgpLGk9TWF0aC5taW4odFswXSx0WzFdKSxuPU1hdGgubWluKGVbMF0sZVsxXSk7cmV0dXJuIG5ldyBEaShpLG4sTWF0aC5tYXgodFswXSx0WzFdKS1pLE1hdGgubWF4KGVbMF0sZVsxXSktbil9fSx3KHptLFJtKTtmdW5jdGlvbiBFbSh0LGUsaSxuLG8pe0dnLmNhbGwodGhpcyx0LGUsaSksdGhpcy50eXBlPW58fCJ2YWx1ZSIsdGhpcy5wb3NpdGlvbj1vfHwiYm90dG9tIn1FbS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkVtLGluZGV4OjAsZ2V0QXhlc09uWmVyb09mOm51bGwsbW9kZWw6bnVsbCxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uO3JldHVybiJ0b3AiPT09dHx8ImJvdHRvbSI9PT10fSxnZXRHbG9iYWxFeHRlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4gZVswXT10aGlzLnRvR2xvYmFsQ29vcmQoZVswXSksZVsxXT10aGlzLnRvR2xvYmFsQ29vcmQoZVsxXSksdCYmZVswXT5lWzFdJiZlLnJldmVyc2UoKSxlfSxnZXRPdGhlckF4aXM6ZnVuY3Rpb24oKXt0aGlzLmdyaWQuZ2V0T3RoZXJBeGlzKCl9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRUb0RhdGEodGhpcy50b0xvY2FsQ29vcmQodFsieCI9PT10aGlzLmRpbT8wOjFdKSxlKX0sdG9Mb2NhbENvb3JkOm51bGwsdG9HbG9iYWxDb29yZDpudWxsfSx3KEVtLEdnKTt2YXIgQm09e3Nob3c6ITAsemxldmVsOjAsejowLGludmVyc2U6ITEsbmFtZToiIixuYW1lTG9jYXRpb246ImVuZCIsbmFtZVJvdGF0ZTpudWxsLG5hbWVUcnVuY2F0ZTp7bWF4V2lkdGg6bnVsbCxlbGxpcHNpczoiLi4uIixwbGFjZWhvbGRlcjoiLiJ9LG5hbWVUZXh0U3R5bGU6e30sbmFtZUdhcDoxNSxzaWxlbnQ6ITEsdHJpZ2dlckV2ZW50OiExLHRvb2x0aXA6e3Nob3c6ITF9LGF4aXNQb2ludGVyOnt9LGF4aXNMaW5lOntzaG93OiEwLG9uWmVybzohMCxvblplcm9BeGlzSW5kZXg6bnVsbCxsaW5lU3R5bGU6e2NvbG9yOiIjMzMzIix3aWR0aDoxLHR5cGU6InNvbGlkIn0sc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxNV19LGF4aXNUaWNrOntzaG93OiEwLGluc2lkZTohMSxsZW5ndGg6NSxsaW5lU3R5bGU6e3dpZHRoOjF9fSxheGlzTGFiZWw6e3Nob3c6ITAsaW5zaWRlOiExLHJvdGF0ZTowLHNob3dNaW5MYWJlbDpudWxsLHNob3dNYXhMYWJlbDpudWxsLG1hcmdpbjo4LGZvbnRTaXplOjEyfSxzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOntjb2xvcjpbIiNjY2MiXSx3aWR0aDoxLHR5cGU6InNvbGlkIn19LHNwbGl0QXJlYTp7c2hvdzohMSxhcmVhU3R5bGU6e2NvbG9yOlsicmdiYSgyNTAsMjUwLDI1MCwwLjMpIiwicmdiYSgyMDAsMjAwLDIwMCwwLjMpIl19fX0sVm09e307Vm0uY2F0ZWdvcnlBeGlzPW0oe2JvdW5kYXJ5R2FwOiEwLGRlZHVwbGljYXRpb246bnVsbCxzcGxpdExpbmU6e3Nob3c6ITF9LGF4aXNUaWNrOnthbGlnbldpdGhMYWJlbDohMSxpbnRlcnZhbDoiYXV0byJ9LGF4aXNMYWJlbDp7aW50ZXJ2YWw6ImF1dG8ifX0sQm0pLFZtLnZhbHVlQXhpcz1tKHtib3VuZGFyeUdhcDpbMCwwXSxzcGxpdE51bWJlcjo1LG1pbm9yVGljazp7c2hvdzohMSxzcGxpdE51bWJlcjo1LGxlbmd0aDozLGxpbmVTdHlsZTp7fX0sbWlub3JTcGxpdExpbmU6e3Nob3c6ITEsbGluZVN0eWxlOntjb2xvcjoiI2VlZSIsd2lkdGg6MX19fSxCbSksVm0udGltZUF4aXM9RCh7c2NhbGU6ITAsbWluOiJkYXRhTWluIixtYXg6ImRhdGFNYXgifSxWbS52YWx1ZUF4aXMpLFZtLmxvZ0F4aXM9RCh7c2NhbGU6ITAsbG9nQmFzZToxMH0sVm0udmFsdWVBeGlzKTtmdW5jdGlvbiBHbShhLHQscixlKXtSKEZtLGZ1bmN0aW9uKG8pe3QuZXh0ZW5kKHt0eXBlOmErIkF4aXMuIitvLG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5sYXlvdXRNb2RlLG49aT9JdSh0KTp7fTttKHQsZS5nZXRUaGVtZSgpLmdldChvKyJBeGlzIikpLG0odCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksdC50eXBlPXIoYSx0KSxpJiZNdSh0LG4saSl9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXsiY2F0ZWdvcnkiPT09dGhpcy5vcHRpb24udHlwZSYmKHRoaXMuX19vcmRpbmFsTWV0YT12cC5jcmVhdGVCeUF4aXNNb2RlbCh0aGlzKSl9LGdldENhdGVnb3JpZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247aWYoImNhdGVnb3J5Ij09PWUudHlwZSlyZXR1cm4gdD9lLmRhdGE6dGhpcy5fX29yZGluYWxNZXRhLmNhdGVnb3JpZXN9LGdldE9yZGluYWxNZXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19vcmRpbmFsTWV0YX0sZGVmYXVsdE9wdGlvbjpwKFt7fSxWbVtvKyJBeGlzIl0sZV0sITApfSl9KSxrdS5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoYSsiQXhpcyIsVChyLGEpKX12YXIgRm09WyJ2YWx1ZSIsImNhdGVnb3J5IiwidGltZSIsImxvZyJdLFdtPWt1LmV4dGVuZCh7dHlwZToiY2FydGVzaWFuMmRBeGlzIixheGlzOm51bGwsaW5pdDpmdW5jdGlvbigpe1dtLnN1cGVyQXBwbHkodGhpcywiaW5pdCIsYXJndW1lbnRzKSx0aGlzLnJlc2V0UmFuZ2UoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24oKXtXbS5zdXBlckFwcGx5KHRoaXMsIm1lcmdlT3B0aW9uIixhcmd1bWVudHMpLHRoaXMucmVzZXRSYW5nZSgpfSxyZXN0b3JlRGF0YTpmdW5jdGlvbigpe1dtLnN1cGVyQXBwbHkodGhpcywicmVzdG9yZURhdGEiLGFyZ3VtZW50cyksdGhpcy5yZXNldFJhbmdlKCl9LGdldENvb3JkU3lzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6ImdyaWQiLGluZGV4OnRoaXMub3B0aW9uLmdyaWRJbmRleCxpZDp0aGlzLm9wdGlvbi5ncmlkSWR9KVswXX19KTtmdW5jdGlvbiBIbSh0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/ImNhdGVnb3J5IjoidmFsdWUiKX1tKFdtLnByb3RvdHlwZSxkZyk7dmFyIFptPXtvZmZzZXQ6MH07ZnVuY3Rpb24gVW0odCxlKXtyZXR1cm4gdC5nZXRDb29yZFN5c01vZGVsKCk9PT1lfWZ1bmN0aW9uIFhtKHQsZSxpKXt0aGlzLl9jb29yZHNNYXA9e30sdGhpcy5fY29vcmRzTGlzdD1bXSx0aGlzLl9heGVzTWFwPXt9LHRoaXMuX2F4ZXNMaXN0PVtdLHRoaXMuX2luaXRDYXJ0ZXNpYW4odCxlLGkpLHRoaXMubW9kZWw9dH1HbSgieCIsV20sSG0sWm0pLEdtKCJ5IixXbSxIbSxabSksa3UuZXh0ZW5kKHt0eXBlOiJncmlkIixkZXBlbmRlbmNpZXM6WyJ4QXhpcyIsInlBeGlzIl0sbGF5b3V0TW9kZToiYm94Iixjb29yZGluYXRlU3lzdGVtOm51bGwsZGVmYXVsdE9wdGlvbjp7c2hvdzohMSx6bGV2ZWw6MCx6OjAsbGVmdDoiMTAlIix0b3A6NjAscmlnaHQ6IjEwJSIsYm90dG9tOjYwLGNvbnRhaW5MYWJlbDohMSxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiNjY2MifX0pO3ZhciBZbT1YbS5wcm90b3R5cGU7ZnVuY3Rpb24gam0odCxlLGksbil7aS5nZXRBeGVzT25aZXJvT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbz9bb106W119O3ZhciBvLGE9dFtlXSxyPWkubW9kZWwscz1yLmdldCgiYXhpc0xpbmUub25aZXJvIiksbD1yLmdldCgiYXhpc0xpbmUub25aZXJvQXhpc0luZGV4Iik7aWYocyl7aWYobnVsbCE9bClxbShhW2xdKSYmKG89YVtsXSk7ZWxzZSBmb3IodmFyIHUgaW4gYSlpZihhLmhhc093blByb3BlcnR5KHUpJiZxbShhW3VdKSYmIW5baChhW3VdKV0pe289YVt1XTticmVha31vJiYobltoKG8pXT0hMCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5kaW0rIl8iK3QuaW5kZXh9fWZ1bmN0aW9uIHFtKHQpe3JldHVybiB0JiYiY2F0ZWdvcnkiIT09dC50eXBlJiYidGltZSIhPT10LnR5cGUmJmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0RXh0ZW50KCksaT1lWzBdLG49ZVsxXTtyZXR1cm4hKDA8aSYmMDxufHxpPDAmJm48MCl9KHQpfVltLnR5cGU9ImdyaWQiLFltLmF4aXNQb2ludGVyRW5hYmxlZD0hMCxZbS5nZXRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LFltLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2F4ZXNNYXA7dGhpcy5fdXBkYXRlU2NhbGUodCx0aGlzLm1vZGVsKSxSKGkueCxmdW5jdGlvbih0KXtyZyh0LnNjYWxlLHQubW9kZWwpfSksUihpLnksZnVuY3Rpb24odCl7cmcodC5zY2FsZSx0Lm1vZGVsKX0pO3ZhciBuPXt9O1IoaS54LGZ1bmN0aW9uKHQpe2ptKGksInkiLHQsbil9KSxSKGkueSxmdW5jdGlvbih0KXtqbShpLCJ4Iix0LG4pfSksdGhpcy5yZXNpemUodGhpcy5tb2RlbCxlKX0sWW0ucmVzaXplPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1idSh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KTt0aGlzLl9yZWN0PW87dmFyIG49dGhpcy5fYXhlc0xpc3Q7ZnVuY3Rpb24gYSgpe1IobixmdW5jdGlvbih0KXt2YXIgZT10LmlzSG9yaXpvbnRhbCgpLGk9ZT9bMCxvLndpZHRoXTpbMCxvLmhlaWdodF0sbj10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KGlbbl0saVsxLW5dKSxmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0RXh0ZW50KCksbj1pWzBdK2lbMV07dC50b0dsb2JhbENvb3JkPSJ4Ij09PXQuZGltP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBuLXQrZX0sdC50b0xvY2FsQ29vcmQ9IngiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQtZX06ZnVuY3Rpb24odCl7cmV0dXJuIG4tdCtlfX0odCxlP28ueDpvLnkpfSl9YSgpLCFpJiZ0LmdldCgiY29udGFpbkxhYmVsIikmJihSKG4sZnVuY3Rpb24odCl7aWYoIXQubW9kZWwuZ2V0KCJheGlzTGFiZWwuaW5zaWRlIikpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kZWwsaT10LnNjYWxlO2lmKGUuZ2V0KCJheGlzTGFiZWwuc2hvdyIpJiYhaS5pc0JsYW5rKCkpe3ZhciBuLG8sYT0iY2F0ZWdvcnkiPT09dC50eXBlLHI9aS5nZXRFeHRlbnQoKTtvPWE/aS5jb3VudCgpOihuPWkuZ2V0VGlja3MoKSkubGVuZ3RoO3ZhciBzLGwsdSxoLGMsZCxmLHAsZyxtPXQuZ2V0TGFiZWxNb2RlbCgpLHY9bGcodCkseT0xOzQwPG8mJih5PU1hdGguY2VpbChvLzQwKSk7Zm9yKHZhciB4PTA7eDxvO3grPXkpe3ZhciBfPXYobj9uW3hdOnJbMF0reCksdz1tLmdldFRleHRSZWN0KF8pLGI9KGw9dyx1PW0uZ2V0KCJyb3RhdGUiKXx8MCx2b2lkIDAsaD11Kk1hdGguUEkvMTgwLGM9bC5wbGFpbigpLGQ9Yy53aWR0aCxmPWMuaGVpZ2h0LHA9ZCpNYXRoLmFicyhNYXRoLmNvcyhoKSkrTWF0aC5hYnMoZipNYXRoLnNpbihoKSksZz1kKk1hdGguYWJzKE1hdGguc2luKGgpKStNYXRoLmFicyhmKk1hdGguY29zKGgpKSxuZXcgRGkoYy54LGMueSxwLGcpKTtzP3MudW5pb24oYik6cz1ifXJldHVybiBzfX0odCk7aWYoZSl7dmFyIGk9dC5pc0hvcml6b250YWwoKT8iaGVpZ2h0Ijoid2lkdGgiLG49dC5tb2RlbC5nZXQoImF4aXNMYWJlbC5tYXJnaW4iKTtvW2ldLT1lW2ldK24sInRvcCI9PT10LnBvc2l0aW9uP28ueSs9ZS5oZWlnaHQrbjoibGVmdCI9PT10LnBvc2l0aW9uJiYoby54Kz1lLndpZHRoK24pfX19KSxhKCkpfSxZbS5nZXRBeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fYXhlc01hcFt0XTtpZihudWxsIT1pKXtpZihudWxsPT1lKWZvcih2YXIgbiBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkobikpcmV0dXJuIGlbbl07cmV0dXJuIGlbZV19fSxZbS5nZXRBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4ZXNMaXN0LnNsaWNlKCl9LFltLmdldENhcnRlc2lhbj1mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQmJm51bGwhPWUpe3ZhciBpPSJ4Iit0KyJ5IitlO3JldHVybiB0aGlzLl9jb29yZHNNYXBbaV19RSh0KSYmKGU9dC55QXhpc0luZGV4LHQ9dC54QXhpc0luZGV4KTtmb3IodmFyIG49MCxvPXRoaXMuX2Nvb3Jkc0xpc3Q7bjxvLmxlbmd0aDtuKyspaWYob1tuXS5nZXRBeGlzKCJ4IikuaW5kZXg9PT10fHxvW25dLmdldEF4aXMoInkiKS5pbmRleD09PWUpcmV0dXJuIG9bbl19LFltLmdldENhcnRlc2lhbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRzTGlzdC5zbGljZSgpfSxZbS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZmluZENvbnZlcnRUYXJnZXQodCxlKTtyZXR1cm4gbi5jYXJ0ZXNpYW4/bi5jYXJ0ZXNpYW4uZGF0YVRvUG9pbnQoaSk6bi5heGlzP24uYXhpcy50b0dsb2JhbENvb3JkKG4uYXhpcy5kYXRhVG9Db29yZChpKSk6bnVsbH0sWW0uY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZmluZENvbnZlcnRUYXJnZXQodCxlKTtyZXR1cm4gbi5jYXJ0ZXNpYW4/bi5jYXJ0ZXNpYW4ucG9pbnRUb0RhdGEoaSk6bi5heGlzP24uYXhpcy5jb29yZFRvRGF0YShuLmF4aXMudG9Mb2NhbENvb3JkKGkpKTpudWxsfSxZbS5fZmluZENvbnZlcnRUYXJnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89ZS5zZXJpZXNNb2RlbCxhPWUueEF4aXNNb2RlbHx8byYmby5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ4QXhpcyIpWzBdLHI9ZS55QXhpc01vZGVsfHxvJiZvLmdldFJlZmVycmluZ0NvbXBvbmVudHMoInlBeGlzIilbMF0scz1lLmdyaWRNb2RlbCxsPXRoaXMuX2Nvb3Jkc0xpc3Q7aWYobylfKGwsaT1vLmNvb3JkaW5hdGVTeXN0ZW0pPDAmJihpPW51bGwpO2Vsc2UgaWYoYSYmcilpPXRoaXMuZ2V0Q2FydGVzaWFuKGEuY29tcG9uZW50SW5kZXgsci5jb21wb25lbnRJbmRleCk7ZWxzZSBpZihhKW49dGhpcy5nZXRBeGlzKCJ4IixhLmNvbXBvbmVudEluZGV4KTtlbHNlIGlmKHIpbj10aGlzLmdldEF4aXMoInkiLHIuY29tcG9uZW50SW5kZXgpO2Vsc2UgaWYocyl7cy5jb29yZGluYXRlU3lzdGVtPT09dGhpcyYmKGk9dGhpcy5fY29vcmRzTGlzdFswXSl9cmV0dXJue2NhcnRlc2lhbjppLGF4aXM6bn19LFltLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb29yZHNMaXN0WzBdO2lmKGUpcmV0dXJuIGUuY29udGFpblBvaW50KHQpfSxZbS5faW5pdENhcnRlc2lhbj1mdW5jdGlvbihyLHQsZSl7dmFyIHM9e2xlZnQ6ITEscmlnaHQ6ITEsdG9wOiExLGJvdHRvbTohMX0sbD17eDp7fSx5Ont9fSx1PXt4OjAseTowfTtpZih0LmVhY2hDb21wb25lbnQoInhBeGlzIixpKCJ4IiksdGhpcyksdC5lYWNoQ29tcG9uZW50KCJ5QXhpcyIsaSgieSIpLHRoaXMpLCF1Lnh8fCF1LnkpcmV0dXJuIHRoaXMuX2F4ZXNNYXA9e30sdm9pZCh0aGlzLl9heGVzTGlzdD1bXSk7ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihVbSh0LHIpKXt2YXIgaT10LmdldCgicG9zaXRpb24iKTsieCI9PT1hPyJ0b3AiIT09aSYmImJvdHRvbSIhPT1pJiYoaT1zLmJvdHRvbT8idG9wIjoiYm90dG9tIik6ImxlZnQiIT09aSYmInJpZ2h0IiE9PWkmJihpPXMubGVmdD8icmlnaHQiOiJsZWZ0Iiksc1tpXT0hMDt2YXIgbj1uZXcgRW0oYSxzZyh0KSxbMCwwXSx0LmdldCgidHlwZSIpLGkpLG89ImNhdGVnb3J5Ij09PW4udHlwZTtuLm9uQmFuZD1vJiZ0LmdldCgiYm91bmRhcnlHYXAiKSxuLmludmVyc2U9dC5nZXQoImludmVyc2UiKSwodC5heGlzPW4pLm1vZGVsPXQsbi5ncmlkPXRoaXMsbi5pbmRleD1lLHRoaXMuX2F4ZXNMaXN0LnB1c2gobiksbFthXVtlXT1uLHVbYV0rK319fVIoKHRoaXMuX2F4ZXNNYXA9bCkueCxmdW5jdGlvbihvLGEpe1IobC55LGZ1bmN0aW9uKHQsZSl7dmFyIGk9IngiK2ErInkiK2Usbj1uZXcgem0oaSk7bi5ncmlkPXRoaXMsbi5tb2RlbD1yLHRoaXMuX2Nvb3Jkc01hcFtpXT1uLHRoaXMuX2Nvb3Jkc0xpc3QucHVzaChuKSxuLmFkZEF4aXMobyksbi5hZGRBeGlzKHQpfSx0aGlzKX0sdGhpcyl9LFltLl91cGRhdGVTY2FsZT1mdW5jdGlvbihsLHUpe2Z1bmN0aW9uIGgoZSxpKXtSKGUubWFwRGltZW5zaW9uKGkuZGltLCEwKSxmdW5jdGlvbih0KXtpLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSxwcChlLHQpKX0pfVIodGhpcy5fYXhlc0xpc3QsZnVuY3Rpb24odCl7dC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApfSksbC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKEptKHQpKXt2YXIgZT0kbSh0LGwpLGk9ZVswXSxuPWVbMV07aWYoIVVtKGksdSl8fCFVbShuLHUpKXJldHVybjt2YXIgbz10aGlzLmdldENhcnRlc2lhbihpLmNvbXBvbmVudEluZGV4LG4uY29tcG9uZW50SW5kZXgpLGE9dC5nZXREYXRhKCkscj1vLmdldEF4aXMoIngiKSxzPW8uZ2V0QXhpcygieSIpOyJsaXN0Ij09PWEudHlwZSYmKGgoYSxyLHQpLGgoYSxzLHQpKX19LHRoaXMpfSxZbS5nZXRUb29sdGlwQXhlcz1mdW5jdGlvbihuKXt2YXIgbz1bXSxhPVtdO3JldHVybiBSKHRoaXMuZ2V0Q2FydGVzaWFucygpLGZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPW4mJiJhdXRvIiE9PW4/dC5nZXRBeGlzKG4pOnQuZ2V0QmFzZUF4aXMoKSxpPXQuZ2V0T3RoZXJBeGlzKGUpO18obyxlKTwwJiZvLnB1c2goZSksXyhhLGkpPDAmJmEucHVzaChpKX0pLHtiYXNlQXhlczpvLG90aGVyQXhlczphfX07dmFyIEttPVsieEF4aXMiLCJ5QXhpcyJdO2Z1bmN0aW9uICRtKGUpe3JldHVybiBPKEttLGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldFJlZmVycmluZ0NvbXBvbmVudHModClbMF19KX1mdW5jdGlvbiBKbSh0KXtyZXR1cm4iY2FydGVzaWFuMmQiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKX1YbS5jcmVhdGU9ZnVuY3Rpb24obixvKXt2YXIgYT1bXTtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KCJncmlkIixmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBYbSh0LG4sbyk7aS5uYW1lPSJncmlkXyIrZSxpLnJlc2l6ZSh0LG8sITApLHQuY29vcmRpbmF0ZVN5c3RlbT1pLGEucHVzaChpKX0pLG4uZWFjaFNlcmllcyhmdW5jdGlvbih0KXtpZihKbSh0KSl7dmFyIGU9JG0odCksaT1lWzBdLG49ZVsxXSxvPWkuZ2V0Q29vcmRTeXNNb2RlbCgpLmNvb3JkaW5hdGVTeXN0ZW07dC5jb29yZGluYXRlU3lzdGVtPW8uZ2V0Q2FydGVzaWFuKGkuY29tcG9uZW50SW5kZXgsbi5jb21wb25lbnRJbmRleCl9fSksYX0sWG0uZGltZW5zaW9ucz1YbS5wcm90b3R5cGUuZGltZW5zaW9ucz16bS5wcm90b3R5cGUuZGltZW5zaW9ucyxsaC5yZWdpc3RlcigiY2FydGVzaWFuMmQiLFhtKTtmdW5jdGlvbiBRbSh0LGUpe3RoaXMub3B0PWUsdGhpcy5heGlzTW9kZWw9dCxEKGUse2xhYmVsT2Zmc2V0OjAsbmFtZURpcmVjdGlvbjoxLHRpY2tEaXJlY3Rpb246MSxsYWJlbERpcmVjdGlvbjoxLHNpbGVudDohMH0pLHRoaXMuZ3JvdXA9bmV3IENpO3ZhciBpPW5ldyBDaSh7cG9zaXRpb246ZS5wb3NpdGlvbi5zbGljZSgpLHJvdGF0aW9uOmUucm90YXRpb259KTtpLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX3RyYW5zZm9ybT1pLnRyYW5zZm9ybSx0aGlzLl9kdW1iR3JvdXA9aX12YXIgdHY9TWF0aC5QSTtRbS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlFtLGhhc0J1aWxkZXI6ZnVuY3Rpb24odCl7cmV0dXJuISFldlt0XX0sYWRkOmZ1bmN0aW9uKHQpe2V2W3RdLmNhbGwodGhpcyl9LGdldEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXB9fTt2YXIgZXY9e2F4aXNMaW5lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHQsdD10aGlzLmF4aXNNb2RlbDtpZih0LmdldCgiYXhpc0xpbmUuc2hvdyIpKXt2YXIgZT10aGlzLmF4aXNNb2RlbC5heGlzLmdldEV4dGVudCgpLGk9dGhpcy5fdHJhbnNmb3JtLHI9W2VbMF0sMF0sbj1bZVsxXSwwXTtpJiYoYnQocixyLGkpLGJ0KG4sbixpKSk7dmFyIHM9UCh7bGluZUNhcDoicm91bmQifSx0LmdldE1vZGVsKCJheGlzTGluZS5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSk7dGhpcy5ncm91cC5hZGQobmV3IGxzKHthbmlkOiJsaW5lIixzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOnt4MTpyWzBdLHkxOnJbMV0seDI6blswXSx5MjpuWzFdfSxzdHlsZTpzLHN0cm9rZUNvbnRhaW5UaHJlc2hvbGQ6YS5zdHJva2VDb250YWluVGhyZXNob2xkfHw1LHNpbGVudDohMCx6MjoxfSkpO3ZhciBsPXQuZ2V0KCJheGlzTGluZS5zeW1ib2wiKSxvPXQuZ2V0KCJheGlzTGluZS5zeW1ib2xTaXplIiksdT10LmdldCgiYXhpc0xpbmUuc3ltYm9sT2Zmc2V0Iil8fDA7aWYoIm51bWJlciI9PXR5cGVvZiB1JiYodT1bdSx1XSksbnVsbCE9bCl7InN0cmluZyI9PXR5cGVvZiBsJiYobD1bbCxsXSksInN0cmluZyIhPXR5cGVvZiBvJiYibnVtYmVyIiE9dHlwZW9mIG98fChvPVtvLG9dKTt2YXIgaD1vWzBdLGM9b1sxXTtSKFt7cm90YXRlOmEucm90YXRpb24rTWF0aC5QSS8yLG9mZnNldDp1WzBdLHI6MH0se3JvdGF0ZTphLnJvdGF0aW9uLU1hdGguUEkvMixvZmZzZXQ6dVsxXSxyOk1hdGguc3FydCgoclswXS1uWzBdKSooclswXS1uWzBdKSsoclsxXS1uWzFdKSooclsxXS1uWzFdKSl9XSxmdW5jdGlvbih0LGUpe2lmKCJub25lIiE9PWxbZV0mJm51bGwhPWxbZV0pe3ZhciBpPXdnKGxbZV0sLWgvMiwtYy8yLGgsYyxzLnN0cm9rZSwhMCksbj10LnIrdC5vZmZzZXQsbz1bclswXStuKk1hdGguY29zKGEucm90YXRpb24pLHJbMV0tbipNYXRoLnNpbihhLnJvdGF0aW9uKV07aS5hdHRyKHtyb3RhdGlvbjp0LnJvdGF0ZSxwb3NpdGlvbjpvLHNpbGVudDohMCx6MjoxMX0pLHRoaXMuZ3JvdXAuYWRkKGkpfX0sdGhpcyl9fX0sYXhpc1RpY2tMYWJlbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYXhpc01vZGVsLGU9dGhpcy5vcHQsaT1mdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5heGlzLG89ZS5nZXRNb2RlbCgiYXhpc1RpY2siKTtpZighby5nZXQoInNob3ciKXx8bi5zY2FsZS5pc0JsYW5rKCkpcmV0dXJuO2Zvcih2YXIgYT1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxyPWkudGlja0RpcmVjdGlvbipvLmdldCgibGVuZ3RoIikscz1sdihuLmdldFRpY2tzQ29vcmRzKCksdC5fdHJhbnNmb3JtLHIsRChhLmdldExpbmVTdHlsZSgpLHtzdHJva2U6ZS5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpfSksInRpY2tzIiksbD0wO2w8cy5sZW5ndGg7bCsrKXQuZ3JvdXAuYWRkKHNbbF0pO3JldHVybiBzfSh0aGlzLHQsZSk7IWZ1bmN0aW9uKHQsZSxpKXtpZihjZyh0LmF4aXMpKXJldHVybjt2YXIgbj10LmdldCgiYXhpc0xhYmVsLnNob3dNaW5MYWJlbCIpLG89dC5nZXQoImF4aXNMYWJlbC5zaG93TWF4TGFiZWwiKTtpPWl8fFtdO3ZhciBhPShlPWV8fFtdKVswXSxyPWVbMV0scz1lW2UubGVuZ3RoLTFdLGw9ZVtlLmxlbmd0aC0yXSx1PWlbMF0saD1pWzFdLGM9aVtpLmxlbmd0aC0xXSxkPWlbaS5sZW5ndGgtMl07ITE9PT1uPyhhdihhKSxhdih1KSk6cnYoYSxyKSYmKG4/KGF2KHIpLGF2KGgpKTooYXYoYSksYXYodSkpKTshMT09PW8/KGF2KHMpLGF2KGMpKTpydihsLHMpJiYobz8oYXYobCksYXYoZCkpOihhdihzKSxhdihjKSkpfSh0LGZ1bmN0aW9uKHUsaCxjKXt2YXIgZD1oLmF4aXM7aWYoIVcoYy5heGlzTGFiZWxTaG93LGguZ2V0KCJheGlzTGFiZWwuc2hvdyIpKXx8ZC5zY2FsZS5pc0JsYW5rKCkpcmV0dXJuO3ZhciBmPWguZ2V0TW9kZWwoImF4aXNMYWJlbCIpLHA9Zi5nZXQoIm1hcmdpbiIpLHQ9ZC5nZXRWaWV3TGFiZWxzKCksZT0oVyhjLmxhYmVsUm90YXRlLGYuZ2V0KCJyb3RhdGUiKSl8fDApKnR2LzE4MCxnPW52KGMucm90YXRpb24sZSxjLmxhYmVsRGlyZWN0aW9uKSxtPWguZ2V0Q2F0ZWdvcmllcyYmaC5nZXRDYXRlZ29yaWVzKCEwKSx2PVtdLHk9b3YoaCkseD1oLmdldCgidHJpZ2dlckV2ZW50Iik7cmV0dXJuIFIodCxmdW5jdGlvbih0LGUpe3ZhciBpPXQudGlja1ZhbHVlLG49dC5mb3JtYXR0ZWRMYWJlbCxvPXQucmF3TGFiZWwsYT1mO20mJm1baV0mJm1baV0udGV4dFN0eWxlJiYoYT1uZXcgQ2wobVtpXS50ZXh0U3R5bGUsZixoLmVjTW9kZWwpKTt2YXIgcj1hLmdldFRleHRDb2xvcigpfHxoLmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIikscz1bZC5kYXRhVG9Db29yZChpKSxjLmxhYmVsT2Zmc2V0K2MubGFiZWxEaXJlY3Rpb24qcF0sbD1uZXcgVXIoe2FuaWQ6ImxhYmVsXyIraSxwb3NpdGlvbjpzLHJvdGF0aW9uOmcucm90YXRpb24sc2lsZW50OnksejI6MTB9KTtubChsLnN0eWxlLGEse3RleHQ6bix0ZXh0QWxpZ246YS5nZXRTaGFsbG93KCJhbGlnbiIsITApfHxnLnRleHRBbGlnbix0ZXh0VmVydGljYWxBbGlnbjphLmdldFNoYWxsb3coInZlcnRpY2FsQWxpZ24iLCEwKXx8YS5nZXRTaGFsbG93KCJiYXNlbGluZSIsITApfHxnLnRleHRWZXJ0aWNhbEFsaWduLHRleHRGaWxsOiJmdW5jdGlvbiI9PXR5cGVvZiByP3IoImNhdGVnb3J5Ij09PWQudHlwZT9vOiJ2YWx1ZSI9PT1kLnR5cGU/aSsiIjppLGUpOnJ9KSx4JiYobC5ldmVudERhdGE9aXYoaCksbC5ldmVudERhdGEudGFyZ2V0VHlwZT0iYXhpc0xhYmVsIixsLmV2ZW50RGF0YS52YWx1ZT1vKSx1Ll9kdW1iR3JvdXAuYWRkKGwpLGwudXBkYXRlVHJhbnNmb3JtKCksdi5wdXNoKGwpLHUuZ3JvdXAuYWRkKGwpLGwuZGVjb21wb3NlVHJhbnNmb3JtKCl9KSx2fSh0aGlzLHQsZSksaSksZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuYXhpcyxvPWUuZ2V0TW9kZWwoIm1pbm9yVGljayIpO2lmKCFvLmdldCgic2hvdyIpfHxuLnNjYWxlLmlzQmxhbmsoKSlyZXR1cm47dmFyIGE9bi5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYoIWEubGVuZ3RoKXJldHVybjtmb3IodmFyIHI9by5nZXRNb2RlbCgibGluZVN0eWxlIikscz1pLnRpY2tEaXJlY3Rpb24qby5nZXQoImxlbmd0aCIpLGw9RChyLmdldExpbmVTdHlsZSgpLEQoZS5nZXRNb2RlbCgiYXhpc1RpY2siKS5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOmUuZ2V0KCJheGlzTGluZS5saW5lU3R5bGUuY29sb3IiKX0pKSx1PTA7dTxhLmxlbmd0aDt1KyspZm9yKHZhciBoPWx2KGFbdV0sdC5fdHJhbnNmb3JtLHMsbCwibWlub3J0aWNrc18iK3UpLGM9MDtjPGgubGVuZ3RoO2MrKyl0Lmdyb3VwLmFkZChoW2NdKX0odGhpcyx0LGUpfSxheGlzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0LGU9dGhpcy5heGlzTW9kZWwsaT1XKHQuYXhpc05hbWUsZS5nZXQoIm5hbWUiKSk7aWYoaSl7dmFyIG4sbyxhPWUuZ2V0KCJuYW1lTG9jYXRpb24iKSxyPXQubmFtZURpcmVjdGlvbixzPWUuZ2V0TW9kZWwoIm5hbWVUZXh0U3R5bGUiKSxsPWUuZ2V0KCJuYW1lR2FwIil8fDAsdT10aGlzLmF4aXNNb2RlbC5heGlzLmdldEV4dGVudCgpLGg9dVswXT51WzFdPy0xOjEsYz1bInN0YXJ0Ij09PWE/dVswXS1oKmw6ImVuZCI9PT1hP3VbMV0raCpsOih1WzBdK3VbMV0pLzIsc3YoYSk/dC5sYWJlbE9mZnNldCtyKmw6MF0sZD1lLmdldCgibmFtZVJvdGF0ZSIpO251bGwhPWQmJihkPWQqdHYvMTgwKSxzdihhKT9uPW52KHQucm90YXRpb24sbnVsbCE9ZD9kOnQucm90YXRpb24scik6KG49ZnVuY3Rpb24odCxlLGksbil7dmFyIG8sYSxyPVpsKGktdC5yb3RhdGlvbikscz1uWzBdPm5bMV0sbD0ic3RhcnQiPT09ZSYmIXN8fCJzdGFydCIhPT1lJiZzO289VWwoci10di8yKT8oYT1sPyJib3R0b20iOiJ0b3AiLCJjZW50ZXIiKTpVbChyLTEuNSp0dik/KGE9bD8idG9wIjoiYm90dG9tIiwiY2VudGVyIik6KGE9Im1pZGRsZSIscjwxLjUqdHYmJnR2LzI8cj9sPyJsZWZ0IjoicmlnaHQiOmw/InJpZ2h0IjoibGVmdCIpO3JldHVybntyb3RhdGlvbjpyLHRleHRBbGlnbjpvLHRleHRWZXJ0aWNhbEFsaWduOmF9fSh0LGEsZHx8MCx1KSxudWxsIT0obz10LmF4aXNOYW1lQXZhaWxhYmxlV2lkdGgpJiYobz1NYXRoLmFicyhvL01hdGguc2luKG4ucm90YXRpb24pKSxpc0Zpbml0ZShvKXx8KG89bnVsbCkpKTt2YXIgZj1zLmdldEZvbnQoKSxwPWUuZ2V0KCJuYW1lVHJ1bmNhdGUiLCEwKXx8e30sZz1wLmVsbGlwc2lzLG09Vyh0Lm5hbWVUcnVuY2F0ZU1heFdpZHRoLHAubWF4V2lkdGgsbyksdj1udWxsIT1nJiZudWxsIT1tP3B1KGksbSxmLGcse21pbkNoYXI6MixwbGFjZWhvbGRlcjpwLnBsYWNlaG9sZGVyfSk6aSx5PWUuZ2V0KCJ0b29sdGlwIiwhMCkseD1lLm1haW5UeXBlLF89e2NvbXBvbmVudFR5cGU6eCxuYW1lOmksJHZhcnM6WyJuYW1lIl19O19beCsiSW5kZXgiXT1lLmNvbXBvbmVudEluZGV4O3ZhciB3PW5ldyBVcih7YW5pZDoibmFtZSIsX19mdWxsVGV4dDppLF9fdHJ1bmNhdGVkVGV4dDp2LHBvc2l0aW9uOmMscm90YXRpb246bi5yb3RhdGlvbixzaWxlbnQ6b3YoZSksejI6MSx0b29sdGlwOnkmJnkuc2hvdz9QKHtjb250ZW50OmksZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LGZvcm1hdHRlclBhcmFtczpffSx5KTpudWxsfSk7bmwody5zdHlsZSxzLHt0ZXh0OnYsdGV4dEZvbnQ6Zix0ZXh0RmlsbDpzLmdldFRleHRDb2xvcigpfHxlLmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIiksdGV4dEFsaWduOnMuZ2V0KCJhbGlnbiIpfHxuLnRleHRBbGlnbix0ZXh0VmVydGljYWxBbGlnbjpzLmdldCgidmVydGljYWxBbGlnbiIpfHxuLnRleHRWZXJ0aWNhbEFsaWdufSksZS5nZXQoInRyaWdnZXJFdmVudCIpJiYody5ldmVudERhdGE9aXYoZSksdy5ldmVudERhdGEudGFyZ2V0VHlwZT0iYXhpc05hbWUiLHcuZXZlbnREYXRhLm5hbWU9aSksdGhpcy5fZHVtYkdyb3VwLmFkZCh3KSx3LnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuZ3JvdXAuYWRkKHcpLHcuZGVjb21wb3NlVHJhbnNmb3JtKCl9fX0saXY9UW0ubWFrZUF4aXNFdmVudERhdGFCYXNlPWZ1bmN0aW9uKHQpe3ZhciBlPXtjb21wb25lbnRUeXBlOnQubWFpblR5cGUsY29tcG9uZW50SW5kZXg6dC5jb21wb25lbnRJbmRleH07cmV0dXJuIGVbdC5tYWluVHlwZSsiSW5kZXgiXT10LmNvbXBvbmVudEluZGV4LGV9LG52PVFtLmlubmVyVGV4dExheW91dD1mdW5jdGlvbih0LGUsaSl7dmFyIG4sbz1abChlLXQpO3JldHVybntyb3RhdGlvbjpvLHRleHRBbGlnbjpVbChvKT8obj0wPGk/InRvcCI6ImJvdHRvbSIsImNlbnRlciIpOlVsKG8tdHYpPyhuPTA8aT8iYm90dG9tIjoidG9wIiwiY2VudGVyIik6KG49Im1pZGRsZSIsMDxvJiZvPHR2PzA8aT8icmlnaHQiOiJsZWZ0IjowPGk/ImxlZnQiOiJyaWdodCIpLHRleHRWZXJ0aWNhbEFsaWduOm59fTt2YXIgb3Y9UW0uaXNMYWJlbFNpbGVudD1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgidG9vbHRpcCIpO3JldHVybiB0LmdldCgic2lsZW50Iil8fCEodC5nZXQoInRyaWdnZXJFdmVudCIpfHxlJiZlLnNob3cpfTtmdW5jdGlvbiBhdih0KXt0JiYodC5pZ25vcmU9ITApfWZ1bmN0aW9uIHJ2KHQsZSl7dmFyIGk9dCYmdC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpLG49ZSYmZS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2lmKGkmJm4pe3ZhciBvPXJlKFtdKTtyZXR1cm4gaGUobyxvLC10LnJvdGF0aW9uKSxpLmFwcGx5VHJhbnNmb3JtKGxlKFtdLG8sdC5nZXRMb2NhbFRyYW5zZm9ybSgpKSksbi5hcHBseVRyYW5zZm9ybShsZShbXSxvLGUuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLGkuaW50ZXJzZWN0KG4pfX1mdW5jdGlvbiBzdih0KXtyZXR1cm4ibWlkZGxlIj09PXR8fCJjZW50ZXIiPT09dH1mdW5jdGlvbiBsdih0LGUsaSxuLG8pe2Zvcih2YXIgYT1bXSxyPVtdLHM9W10sbD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgdT10W2xdLmNvb3JkO3JbMF09dSxzW3JbMV09MF09dSxzWzFdPWksZSYmKGJ0KHIscixlKSxidChzLHMsZSkpO3ZhciBoPW5ldyBscyh7YW5pZDpvKyJfIit0W2xdLnRpY2tWYWx1ZSxzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOnt4MTpyWzBdLHkxOnJbMV0seDI6c1swXSx5MjpzWzFdfSxzdHlsZTpuLHoyOjIsc2lsZW50OiEwfSk7YS5wdXNoKGgpfXJldHVybiBhfXZhciB1dj1SLGh2PVQ7ZnVuY3Rpb24gY3YodCxlKXt2YXIgaT17YXhlc0luZm86e30sc2VyaWVzSW52b2x2ZWQ6ITEsY29vcmRTeXNBeGVzSW5mbzp7fSxjb29yZFN5c01hcDp7fX07cmV0dXJuIGZ1bmN0aW9uKHAsZyx0KXt2YXIgYT1nLmdldENvbXBvbmVudCgidG9vbHRpcCIpLG09Zy5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIiksdj1tLmdldCgibGluayIsITApfHxbXSx5PVtdO3V2KHQuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSxmdW5jdGlvbihjKXtpZihjLmF4aXNQb2ludGVyRW5hYmxlZCl7dmFyIHQ9Z3YoYy5tb2RlbCksZD1wLmNvb3JkU3lzQXhlc0luZm9bdF09e30sZj0ocC5jb29yZFN5c01hcFt0XT1jKS5tb2RlbC5nZXRNb2RlbCgidG9vbHRpcCIsYSk7aWYodXYoYy5nZXRBeGVzKCksaHYobywhMSxudWxsKSksYy5nZXRUb29sdGlwQXhlcyYmYSYmZi5nZXQoInNob3ciKSl7dmFyIGU9ImF4aXMiPT09Zi5nZXQoInRyaWdnZXIiKSxpPSJjcm9zcyI9PT1mLmdldCgiYXhpc1BvaW50ZXIudHlwZSIpLG49Yy5nZXRUb29sdGlwQXhlcyhmLmdldCgiYXhpc1BvaW50ZXIuYXhpcyIpKTsoZXx8aSkmJnV2KG4uYmFzZUF4ZXMsaHYobywhaXx8ImNyb3NzIixlKSksaSYmdXYobi5vdGhlckF4ZXMsaHYobywiY3Jvc3MiLCExKSl9fWZ1bmN0aW9uIG8odCxlLGkpe3ZhciBuPWkubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixtKSxvPW4uZ2V0KCJzaG93Iik7aWYobyYmKCJhdXRvIiE9PW98fHR8fHB2KG4pKSl7bnVsbD09ZSYmKGU9bi5nZXQoInRyaWdnZXJUb29sdGlwIikpO3ZhciBhPShuPXQ/ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByPWUuZ2V0TW9kZWwoImF4aXNQb2ludGVyIikscz17fTt1dihbInR5cGUiLCJzbmFwIiwibGluZVN0eWxlIiwic2hhZG93U3R5bGUiLCJsYWJlbCIsImFuaW1hdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlIiwieiJdLGZ1bmN0aW9uKHQpe3NbdF09ayhyLmdldCh0KSl9KSxzLnNuYXA9ImNhdGVnb3J5IiE9PXQudHlwZSYmISFhLCJjcm9zcyI9PT1yLmdldCgidHlwZSIpJiYocy50eXBlPSJsaW5lIik7dmFyIGw9cy5sYWJlbHx8KHMubGFiZWw9e30pO2lmKG51bGw9PWwuc2hvdyYmKGwuc2hvdz0hMSksImNyb3NzIj09PW8pe3ZhciB1PXIuZ2V0KCJsYWJlbC5zaG93Iik7aWYobC5zaG93PW51bGw9PXV8fHUsIWEpe3ZhciBoPXMubGluZVN0eWxlPXIuZ2V0KCJjcm9zc1N0eWxlIik7aCYmRChsLGgudGV4dFN0eWxlKX19cmV0dXJuIHQubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixuZXcgQ2wocyxpLG4pKX0oaSxmLG0sZyx0LGUpOm4pLmdldCgic25hcCIpLHI9Z3YoaS5tb2RlbCkscz1lfHxhfHwiY2F0ZWdvcnkiPT09aS50eXBlLGw9cC5heGVzSW5mb1tyXT17a2V5OnIsYXhpczppLGNvb3JkU3lzOmMsYXhpc1BvaW50ZXJNb2RlbDpuLHRyaWdnZXJUb29sdGlwOmUsaW52b2x2ZVNlcmllczpzLHNuYXA6YSx1c2VIYW5kbGU6cHYobiksc2VyaWVzTW9kZWxzOltdfTtkW3JdPWwscC5zZXJpZXNJbnZvbHZlZHw9czt2YXIgdT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLm1vZGVsLG49ZS5kaW0sbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dfHx7fTtpZihkdihhW24rIkF4aXNJZCJdLGkuaWQpfHxkdihhW24rIkF4aXNJbmRleCJdLGkuY29tcG9uZW50SW5kZXgpfHxkdihhW24rIkF4aXNOYW1lIl0saS5uYW1lKSlyZXR1cm4gb319KHYsaSk7aWYobnVsbCE9dSl7dmFyIGg9eVt1XXx8KHlbdV09e2F4ZXNJbmZvOnt9fSk7aC5heGVzSW5mb1tyXT1sLGgubWFwcGVyPXZbdV0ubWFwcGVyLGwubGlua0dyb3VwPWh9fX19KX0oaSx0LGUpLGkuc2VyaWVzSW52b2x2ZWQmJmZ1bmN0aW9uKG8sdCl7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKGkpe3ZhciBuPWkuY29vcmRpbmF0ZVN5c3RlbSx0PWkuZ2V0KCJ0b29sdGlwLnRyaWdnZXIiLCEwKSxlPWkuZ2V0KCJ0b29sdGlwLnNob3ciLCEwKTtuJiYibm9uZSIhPT10JiYhMSE9PXQmJiJpdGVtIiE9PXQmJiExIT09ZSYmITEhPT1pLmdldCgiYXhpc1BvaW50ZXIuc2hvdyIsITApJiZ1dihvLmNvb3JkU3lzQXhlc0luZm9bZ3Yobi5tb2RlbCldLGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcztuLmdldEF4aXMoZS5kaW0pPT09ZSYmKHQuc2VyaWVzTW9kZWxzLnB1c2goaSksbnVsbD09dC5zZXJpZXNEYXRhQ291bnQmJih0LnNlcmllc0RhdGFDb3VudD0wKSx0LnNlcmllc0RhdGFDb3VudCs9aS5nZXREYXRhKCkuY291bnQoKSl9KX0sdGhpcyl9KGksdCksaX1mdW5jdGlvbiBkdih0LGUpe3JldHVybiJhbGwiPT09dHx8TCh0KSYmMDw9Xyh0LGUpfHx0PT09ZX1mdW5jdGlvbiBmdih0KXt2YXIgZT0odC5lY01vZGVsLmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKXx8e30pLmNvb3JkU3lzQXhlc0luZm87cmV0dXJuIGUmJmUuYXhlc0luZm9bZ3YodCldfWZ1bmN0aW9uIHB2KHQpe3JldHVybiEhdC5nZXQoImhhbmRsZS5zaG93Iil9ZnVuY3Rpb24gZ3YodCl7cmV0dXJuIHQudHlwZSsifHwiK3QuaWR9dmFyIG12PUFmKHt0eXBlOiJheGlzIixfYXhpc1BvaW50ZXI6bnVsbCxheGlzUG9pbnRlckNsYXNzOm51bGwscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuYXhpc1BvaW50ZXJDbGFzcyYmZnVuY3Rpb24odCl7dmFyIGU9ZnYodCk7aWYoZSl7dmFyIGk9ZS5heGlzUG9pbnRlck1vZGVsLG49ZS5heGlzLnNjYWxlLG89aS5vcHRpb24sYT1pLmdldCgic3RhdHVzIikscj1pLmdldCgidmFsdWUiKTtudWxsIT1yJiYocj1uLnBhcnNlKHIpKTt2YXIgcz1wdihpKTtudWxsPT1hJiYoby5zdGF0dXM9cz8ic2hvdyI6ImhpZGUiKTt2YXIgbD1uLmdldEV4dGVudCgpLnNsaWNlKCk7bFswXT5sWzFdJiZsLnJldmVyc2UoKSwobnVsbD09cnx8cj5sWzFdKSYmKHI9bFsxXSkscjxsWzBdJiYocj1sWzBdKSxvLnZhbHVlPXIscyYmKG8uc3RhdHVzPWUuYXhpcy5zY2FsZS5pc0JsYW5rKCk/ImhpZGUiOiJzaG93Iil9fSh0KSxtdi5zdXBlckFwcGx5KHRoaXMsInJlbmRlciIsYXJndW1lbnRzKSx2dih0aGlzLHQsZSxpLG4sITApfSx1cGRhdGVBeGlzUG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuLG8pe3Z2KHRoaXMsdCxlLGksbiwhMSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2F4aXNQb2ludGVyO2kmJmkucmVtb3ZlKGUpLG12LnN1cGVyQXBwbHkodGhpcywicmVtb3ZlIixhcmd1bWVudHMpfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7eXYodGhpcyxlKSxtdi5zdXBlckFwcGx5KHRoaXMsImRpc3Bvc2UiLGFyZ3VtZW50cyl9fSk7ZnVuY3Rpb24gdnYodCxlLGksbixvLGEpe3ZhciByPW12LmdldEF4aXNQb2ludGVyQ2xhc3ModC5heGlzUG9pbnRlckNsYXNzKTtpZihyKXt2YXIgcz1mdW5jdGlvbih0KXt2YXIgZT1mdih0KTtyZXR1cm4gZSYmZS5heGlzUG9pbnRlck1vZGVsfShlKTtzPyh0Ll9heGlzUG9pbnRlcnx8KHQuX2F4aXNQb2ludGVyPW5ldyByKSkucmVuZGVyKGUscyxuLGEpOnl2KHQsbil9fWZ1bmN0aW9uIHl2KHQsZSxpKXt2YXIgbj10Ll9heGlzUG9pbnRlcjtuJiZuLmRpc3Bvc2UoZSxpKSx0Ll9heGlzUG9pbnRlcj1udWxsfXZhciB4dj1bXTtmdW5jdGlvbiBfdih0LGUsaSl7aT1pfHx7fTt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz1lLmF4aXMsYT17fSxyPW8uZ2V0QXhlc09uWmVyb09mKClbMF0scz1vLnBvc2l0aW9uLGw9cj8ib25aZXJvIjpzLHU9by5kaW0saD1uLmdldFJlY3QoKSxjPVtoLngsaC54K2gud2lkdGgsaC55LGgueStoLmhlaWdodF0sZD17bGVmdDowLHJpZ2h0OjEsdG9wOjAsYm90dG9tOjEsb25aZXJvOjJ9LGY9ZS5nZXQoIm9mZnNldCIpfHwwLHA9IngiPT09dT9bY1syXS1mLGNbM10rZl06W2NbMF0tZixjWzFdK2ZdO2lmKHIpe3ZhciBnPXIudG9HbG9iYWxDb29yZChyLmRhdGFUb0Nvb3JkKDApKTtwW2Qub25aZXJvXT1NYXRoLm1heChNYXRoLm1pbihnLHBbMV0pLHBbMF0pfWEucG9zaXRpb249WyJ5Ij09PXU/cFtkW2xdXTpjWzBdLCJ4Ij09PXU/cFtkW2xdXTpjWzNdXSxhLnJvdGF0aW9uPU1hdGguUEkvMiooIngiPT09dT8wOjEpO2EubGFiZWxEaXJlY3Rpb249YS50aWNrRGlyZWN0aW9uPWEubmFtZURpcmVjdGlvbj17dG9wOi0xLGJvdHRvbToxLGxlZnQ6LTEscmlnaHQ6MX1bc10sYS5sYWJlbE9mZnNldD1yP3BbZFtzXV0tcFtkLm9uWmVyb106MCxlLmdldCgiYXhpc1RpY2suaW5zaWRlIikmJihhLnRpY2tEaXJlY3Rpb249LWEudGlja0RpcmVjdGlvbiksVyhpLmxhYmVsSW5zaWRlLGUuZ2V0KCJheGlzTGFiZWwuaW5zaWRlIikpJiYoYS5sYWJlbERpcmVjdGlvbj0tYS5sYWJlbERpcmVjdGlvbik7dmFyIG09ZS5nZXQoImF4aXNMYWJlbC5yb3RhdGUiKTtyZXR1cm4gYS5sYWJlbFJvdGF0ZT0idG9wIj09PWw/LW06bSxhLnoyPTEsYX1mdW5jdGlvbiB3dih0LGUsaSxuKXt2YXIgbz1pLmF4aXM7aWYoIW8uc2NhbGUuaXNCbGFuaygpKXt2YXIgYT1pLmdldE1vZGVsKCJzcGxpdEFyZWEiKSxyPWEuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHM9ci5nZXQoImNvbG9yIiksbD1uLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHU9by5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOmEsY2xhbXA6ITB9KTtpZih1Lmxlbmd0aCl7dmFyIGg9cy5sZW5ndGgsYz10Ll9fc3BsaXRBcmVhQ29sb3JzLGQ9USgpLGY9MDtpZihjKWZvcih2YXIgcD0wO3A8dS5sZW5ndGg7cCsrKXt2YXIgZz1jLmdldCh1W3BdLnRpY2tWYWx1ZSk7aWYobnVsbCE9Zyl7Zj0oZysoaC0xKSpwKSVoO2JyZWFrfX12YXIgbT1vLnRvR2xvYmFsQ29vcmQodVswXS5jb29yZCksdj1yLmdldEFyZWFTdHlsZSgpO3M9TChzKT9zOltzXTtmb3IocD0xO3A8dS5sZW5ndGg7cCsrKXt2YXIgeSx4LF8sdyxiPW8udG9HbG9iYWxDb29yZCh1W3BdLmNvb3JkKTttPW8uaXNIb3Jpem9udGFsKCk/KHk9bSx4PWwueSxfPWIteSx3PWwuaGVpZ2h0LHkrXyk6KHk9bC54LHg9bSxfPWwud2lkdGgseCsodz1iLXgpKTt2YXIgUz11W3AtMV0udGlja1ZhbHVlO251bGwhPVMmJmQuc2V0KFMsZiksZS5hZGQobmV3IHJzKHthbmlkOm51bGwhPVM/ImFyZWFfIitTOm51bGwsc2hhcGU6e3g6eSx5Ongsd2lkdGg6XyxoZWlnaHQ6d30sc3R5bGU6RCh7ZmlsbDpzW2ZdfSx2KSxzaWxlbnQ6ITB9KSksZj0oZisxKSVofXQuX19zcGxpdEFyZWFDb2xvcnM9ZH19fWZ1bmN0aW9uIGJ2KHQpe3QuX19zcGxpdEFyZWFDb2xvcnM9bnVsbH1tdi5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3M9ZnVuY3Rpb24odCxlKXt4dlt0XT1lfSxtdi5nZXRBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ4dlt0XX07dmFyIFN2PVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxNdj1bInNwbGl0QXJlYSIsInNwbGl0TGluZSIsIm1pbm9yU3BsaXRMaW5lIl0sSXY9bXYuZXh0ZW5kKHt0eXBlOiJjYXJ0ZXNpYW5BeGlzIixheGlzUG9pbnRlckNsYXNzOiJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKGUsdCxpLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIG89dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgQ2ksdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSxlLmdldCgic2hvdyIpKXt2YXIgYT1lLmdldENvb3JkU3lzTW9kZWwoKSxyPV92KGEsZSkscz1uZXcgUW0oZSxyKTtSKFN2LHMuYWRkLHMpLHRoaXMuX2F4aXNHcm91cC5hZGQocy5nZXRHcm91cCgpKSxSKE12LGZ1bmN0aW9uKHQpe2UuZ2V0KHQrIi5zaG93IikmJnRoaXNbIl8iK3RdKGUsYSl9LHRoaXMpLG1sKG8sdGhpcy5fYXhpc0dyb3VwLGUpLEl2LnN1cGVyQ2FsbCh0aGlzLCJyZW5kZXIiLGUsdCxpLG4pfX0scmVtb3ZlOmZ1bmN0aW9uKCl7YnYodGhpcyl9LF9zcGxpdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmF4aXM7aWYoIWkuc2NhbGUuaXNCbGFuaygpKXt2YXIgbj10LmdldE1vZGVsKCJzcGxpdExpbmUiKSxvPW4uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGE9by5nZXQoImNvbG9yIik7YT1MKGEpP2E6W2FdO2Zvcih2YXIgcj1lLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHM9aS5pc0hvcml6b250YWwoKSxsPTAsdT1pLmdldFRpY2tzQ29vcmRzKHt0aWNrTW9kZWw6bn0pLGg9W10sYz1bXSxkPW8uZ2V0TGluZVN0eWxlKCksZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgcD1pLnRvR2xvYmFsQ29vcmQodVtmXS5jb29yZCk7cz8oaFswXT1wLGhbMV09ci55LGNbMF09cCxjWzFdPXIueStyLmhlaWdodCk6KGhbMF09ci54LGhbMV09cCxjWzBdPXIueCtyLndpZHRoLGNbMV09cCk7dmFyIGc9bCsrJWEubGVuZ3RoLG09dVtmXS50aWNrVmFsdWU7dGhpcy5fYXhpc0dyb3VwLmFkZChuZXcgbHMoe2FuaWQ6bnVsbCE9bT8ibGluZV8iK3VbZl0udGlja1ZhbHVlOm51bGwsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6aFswXSx5MTpoWzFdLHgyOmNbMF0seTI6Y1sxXX0sc3R5bGU6RCh7c3Ryb2tlOmFbZ119LGQpLHNpbGVudDohMH0pKX19fSxfbWlub3JTcGxpdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmF4aXMsbj10LmdldE1vZGVsKCJtaW5vclNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxvPWUuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCksYT1pLmlzSG9yaXpvbnRhbCgpLHI9aS5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYoci5sZW5ndGgpZm9yKHZhciBzPVtdLGw9W10sdT1uLmdldExpbmVTdHlsZSgpLGg9MDtoPHIubGVuZ3RoO2grKylmb3IodmFyIGM9MDtjPHJbaF0ubGVuZ3RoO2MrKyl7dmFyIGQ9aS50b0dsb2JhbENvb3JkKHJbaF1bY10uY29vcmQpO2E/KHNbMF09ZCxzWzFdPW8ueSxsWzBdPWQsbFsxXT1vLnkrby5oZWlnaHQpOihzWzBdPW8ueCxzWzFdPWQsbFswXT1vLngrby53aWR0aCxsWzFdPWQpLHRoaXMuX2F4aXNHcm91cC5hZGQobmV3IGxzKHthbmlkOiJtaW5vcl9saW5lXyIrcltoXVtjXS50aWNrVmFsdWUsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6c1swXSx5MTpzWzFdLHgyOmxbMF0seTI6bFsxXX0sc3R5bGU6dSxzaWxlbnQ6ITB9KSl9fSxfc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSl7d3YodGhpcyx0aGlzLl9heGlzR3JvdXAsdCxlKX19KTtJdi5leHRlbmQoe3R5cGU6InhBeGlzIn0pLEl2LmV4dGVuZCh7dHlwZToieUF4aXMifSksQWYoe3R5cGU6ImdyaWQiLHJlbmRlcjpmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSYmdGhpcy5ncm91cC5hZGQobmV3IHJzKHtzaGFwZTp0LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHN0eWxlOkQoe2ZpbGw6dC5nZXQoImJhY2tncm91bmRDb2xvciIpfSx0LmdldEl0ZW1TdHlsZSgpKSxzaWxlbnQ6ITAsejI6LTF9KSl9fSkseWYoZnVuY3Rpb24odCl7dC54QXhpcyYmdC55QXhpcyYmIXQuZ3JpZCYmKHQuZ3JpZD17fSl9KSxTZihMbSgibGluZSIsImNpcmNsZSIsImxpbmUiKSksYmYoa20oImxpbmUiKSkseGYoTGQuUFJPQ0VTU09SLlNUQVRJU1RJQyx7c2VyaWVzVHlwZToibGluZSIsbW9kaWZ5T3V0cHV0RW5kOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXQuZ2V0KCJzYW1wbGluZyIpLGE9dC5jb29yZGluYXRlU3lzdGVtO2lmKCJjYXJ0ZXNpYW4yZCI9PT1hLnR5cGUmJm8pe3ZhciByLHM9YS5nZXRCYXNlQXhpcygpLGw9YS5nZXRPdGhlckF4aXMocyksdT1zLmdldEV4dGVudCgpLGg9TWF0aC5hYnModVsxXS11WzBdKSxjPU1hdGgucm91bmQobi5jb3VudCgpL2gpOzE8YyYmKCJzdHJpbmciPT10eXBlb2Ygbz9yPU5tW29dOiJmdW5jdGlvbiI9PXR5cGVvZiBvJiYocj1vKSxyJiZ0LnNldERhdGEobi5kb3duU2FtcGxlKG4ubWFwRGltZW5zaW9uKGwuZGltKSwxL2MscixQbSkpKX19fSk7dmFyIFR2PXNjLmV4dGVuZCh7dHlwZToic2VyaWVzLl9fYmFzZV9iYXJfXyIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ3AodGhpcy5nZXRTb3VyY2UoKSx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sZ2V0TWFya2VyUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtO2lmKGUpe3ZhciBpPWUuZGF0YVRvUG9pbnQoZS5jbGFtcERhdGEodCkpLG49dGhpcy5nZXREYXRhKCksbz1uLmdldExheW91dCgib2Zmc2V0IiksYT1uLmdldExheW91dCgic2l6ZSIpO3JldHVybiBpW2UuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKT8wOjFdKz1vK2EvMixpfXJldHVybltOYU4sTmFOXX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDo0MDAscHJvZ3Jlc3NpdmU6M2UzLHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QiLGl0ZW1TdHlsZTp7fSxlbXBoYXNpczp7fX19KTtmdW5jdGlvbiBBdih0LGUsaSxuLG8sYSl7ZWwodCxlLGkuZ2V0TW9kZWwoImxhYmVsIiksaS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSx7bGFiZWxGZXRjaGVyOm8sbGFiZWxEYXRhSW5kZXg6YSxkZWZhdWx0VGV4dDpVZyhvLmdldERhdGEoKSxhKSxpc1JlY3RUZXh0OiEwLGF1dG9Db2xvcjpufSksRHYodCksRHYoZSl9ZnVuY3Rpb24gRHYodCxlKXsib3V0c2lkZSI9PT10LnRleHRQb3NpdGlvbiYmKHQudGV4dFBvc2l0aW9uPWUpfVR2LmV4dGVuZCh7dHlwZToic2VyaWVzLmJhciIsZGVwZW5kZW5jaWVzOlsiZ3JpZCIsInBvbGFyIl0sYnJ1c2hTZWxlY3RvcjoicmVjdCIsZ2V0UHJvZ3Jlc3NpdmU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZ2V0KCJsYXJnZSIpJiZ0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKX0sZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKSxlPXRoaXMuZ2V0KCJsYXJnZVRocmVzaG9sZCIpO3JldHVybiB0PGUmJih0PWUpLHR9LGRlZmF1bHRPcHRpb246e2NsaXA6ITAscm91bmRDYXA6ITEsc2hvd0JhY2tncm91bmQ6ITEsYmFja2dyb3VuZFN0eWxlOntjb2xvcjoicmdiYSgxODAsIDE4MCwgMTgwLCAwLjIpIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsYm9yZGVyVHlwZToic29saWQiLGJvcmRlclJhZGl1czowLHNoYWRvd0JsdXI6MCxzaGFkb3dDb2xvcjpudWxsLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsb3BhY2l0eToxfX19KTt2YXIgQ3Y9aGEoW1siZmlsbCIsImNvbG9yIl0sWyJzdHJva2UiLCJib3JkZXJDb2xvciJdLFsibGluZVdpZHRoIiwiYm9yZGVyV2lkdGgiXSxbInN0cm9rZSIsImJhckJvcmRlckNvbG9yIl0sWyJsaW5lV2lkdGgiLCJiYXJCb3JkZXJXaWR0aCJdLFsib3BhY2l0eSJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXV0pLEx2PXtnZXRCYXJJdGVtU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9Q3YodGhpcyx0KTtpZih0aGlzLmdldEJvcmRlckxpbmVEYXNoKXt2YXIgaT10aGlzLmdldEJvcmRlckxpbmVEYXNoKCk7aSYmKGUubGluZURhc2g9aSl9cmV0dXJuIGV9fSxrdj1Dcyh7dHlwZToic2F1c2FnZSIsc2hhcGU6e2N4OjAsY3k6MCxyMDowLHI6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJLGNsb2Nrd2lzZTohMH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5jeCxuPWUuY3ksbz1NYXRoLm1heChlLnIwfHwwLDApLGE9TWF0aC5tYXgoZS5yLDApLHI9LjUqKGEtbykscz1vK3IsbD1lLnN0YXJ0QW5nbGUsdT1lLmVuZEFuZ2xlLGg9ZS5jbG9ja3dpc2UsYz1NYXRoLmNvcyhsKSxkPU1hdGguc2luKGwpLGY9TWF0aC5jb3ModSkscD1NYXRoLnNpbih1KTsoaD91LWw8MipNYXRoLlBJOmwtdTwyKk1hdGguUEkpJiYodC5tb3ZlVG8oYypvK2ksZCpvK24pLHQuYXJjKGMqcytpLGQqcytuLHIsLU1hdGguUEkrbCxsLCFoKSksdC5hcmMoaSxuLGEsbCx1LCFoKSx0Lm1vdmVUbyhmKmEraSxwKmErbiksdC5hcmMoZipzK2kscCpzK24scix1LTIqTWF0aC5QSSx1LU1hdGguUEksIWgpLDAhPT1vJiYodC5hcmMoaSxuLG8sdSxsLGgpLHQubW92ZVRvKGMqbytpLHAqbytuKSksdC5jbG9zZVBhdGgoKX19KSxQdj1bIml0ZW1TdHlsZSIsImJhckJvcmRlcldpZHRoIl0sTnY9WzAsMF07UChDbC5wcm90b3R5cGUsTHYpLENmKHt0eXBlOiJiYXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fdXBkYXRlRHJhd01vZGUodCk7dmFyIG49dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKTtyZXR1cm4iY2FydGVzaWFuMmQiIT09biYmInBvbGFyIiE9PW58fCh0aGlzLl9pc0xhcmdlRHJhdz90aGlzLl9yZW5kZXJMYXJnZSh0LGUsaSk6dGhpcy5fcmVuZGVyTm9ybWFsKHQsZSxpKSksdGhpcy5ncm91cH0saW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9jbGVhcigpLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpfSxpbmNyZW1lbnRhbFJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt0aGlzLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlKHQsZSl9LF91cGRhdGVEcmF3TW9kZTpmdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTsobnVsbD09dGhpcy5faXNMYXJnZURyYXd8fGVedGhpcy5faXNMYXJnZURyYXcpJiYodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sX3JlbmRlck5vcm1hbDpmdW5jdGlvbihzLHQsZSl7dmFyIGwsdT10aGlzLmdyb3VwLGg9cy5nZXREYXRhKCksYz10aGlzLl9kYXRhLGQ9cy5jb29yZGluYXRlU3lzdGVtLGk9ZC5nZXRCYXNlQXhpcygpOyJjYXJ0ZXNpYW4yZCI9PT1kLnR5cGU/bD1pLmlzSG9yaXpvbnRhbCgpOiJwb2xhciI9PT1kLnR5cGUmJihsPSJhbmdsZSI9PT1pLmRpbSk7dmFyIGY9cy5pc0FuaW1hdGlvbkVuYWJsZWQoKT9zOm51bGwscD1zLmdldCgiY2xpcCIsITApLGc9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEFyZWEmJnQuZ2V0QXJlYSgpO2lmKCJjYXJ0ZXNpYW4yZCI9PT10LnR5cGUpe3ZhciBuPXQuZ2V0QmFzZUF4aXMoKTtpZigiY2F0ZWdvcnkiIT09bi50eXBlfHwhbi5vbkJhbmQpe3ZhciBvPWUuZ2V0TGF5b3V0KCJiYW5kV2lkdGgiKTtuLmlzSG9yaXpvbnRhbCgpPyhpLngtPW8saS53aWR0aCs9MipvKTooaS55LT1vLGkuaGVpZ2h0Kz0yKm8pfX1yZXR1cm4gaX0oZCxoKTt1LnJlbW92ZUNsaXBQYXRoKCk7ZnVuY3Rpb24gbSh0KXt2YXIgZT1HdltkLnR5cGVdKGgsdCksaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldygicG9sYXIiPT09dC50eXBlP3FyOnJzKSh7c2hhcGU6WHYoZSxpLHQpLHNpbGVudDohMCx6MjowfSl9KGQsbCxlKTtyZXR1cm4gaS51c2VTdHlsZSh4LmdldEJhckl0ZW1TdHlsZSgpKSwiY2FydGVzaWFuMmQiPT09ZC50eXBlJiZpLnNldFNoYXBlKCJyIixfKSx3W3RdPWl9dmFyIHY9cy5nZXQoInJvdW5kQ2FwIiwhMCkseT1zLmdldCgic2hvd0JhY2tncm91bmQiLCEwKSx4PXMuZ2V0TW9kZWwoImJhY2tncm91bmRTdHlsZSIpLF89eC5nZXQoImJhckJvcmRlclJhZGl1cyIpfHwwLHc9W10sYj10aGlzLl9iYWNrZ3JvdW5kRWxzfHxbXTtoLmRpZmYoYykuYWRkKGZ1bmN0aW9uKHQpe3ZhciBlPWguZ2V0SXRlbU1vZGVsKHQpLGk9R3ZbZC50eXBlXShoLHQsZSk7aWYoeSYmbSh0KSxoLmhhc1ZhbHVlKHQpKXtpZihwKWlmKHp2W2QudHlwZV0oZyxpKSlyZXR1cm4gdm9pZCB1LnJlbW92ZShuKTt2YXIgbj1FdltkLnR5cGVdKHQsaSxsLGYsITEsdik7aC5zZXRJdGVtR3JhcGhpY0VsKHQsbiksdS5hZGQobiksV3YobixoLHQsZSxpLHMsbCwicG9sYXIiPT09ZC50eXBlKX19KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1oLmdldEl0ZW1Nb2RlbCh0KSxuPUd2W2QudHlwZV0oaCx0LGkpO2lmKHkpe3ZhciBvOzA9PT1iLmxlbmd0aD9vPW0oZSk6KChvPWJbZV0pLnVzZVN0eWxlKHguZ2V0QmFySXRlbVN0eWxlKCkpLCJjYXJ0ZXNpYW4yZCI9PT1kLnR5cGUmJm8uc2V0U2hhcGUoInIiLF8pLHdbdF09byk7dmFyIGE9R3ZbZC50eXBlXShoLHQpO2NsKG8se3NoYXBlOlh2KGwsYSxkKX0sZix0KX12YXIgcj1jLmdldEl0ZW1HcmFwaGljRWwoZSk7aWYoaC5oYXNWYWx1ZSh0KSl7aWYocClpZih6dltkLnR5cGVdKGcsbikpcmV0dXJuIHZvaWQgdS5yZW1vdmUocik7cj9jbChyLHtzaGFwZTpufSxmLHQpOnI9RXZbZC50eXBlXSh0LG4sbCxmLCEwLHYpLGguc2V0SXRlbUdyYXBoaWNFbCh0LHIpLHUuYWRkKHIpLFd2KHIsaCx0LGksbixzLGwsInBvbGFyIj09PWQudHlwZSl9ZWxzZSB1LnJlbW92ZShyKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1jLmdldEl0ZW1HcmFwaGljRWwodCk7ImNhcnRlc2lhbjJkIj09PWQudHlwZT9lJiZCdih0LGYsZSk6ZSYmVnYodCxmLGUpfSkuZXhlY3V0ZSgpO3ZhciBuPXRoaXMuX2JhY2tncm91bmRHcm91cHx8KHRoaXMuX2JhY2tncm91bmRHcm91cD1uZXcgQ2kpO24ucmVtb3ZlQWxsKCk7Zm9yKHZhciBvPTA7bzx3Lmxlbmd0aDsrK28pbi5hZGQod1tvXSk7dS5hZGQobiksdGhpcy5fYmFja2dyb3VuZEVscz13LHRoaXMuX2RhdGE9aH0sX3JlbmRlckxhcmdlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9jbGVhcigpLFp2KHQsdGhpcy5ncm91cCk7dmFyIG49dC5nZXQoImNsaXAiLCEwKT9TbSh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk6bnVsbDtuP3RoaXMuZ3JvdXAuc2V0Q2xpcFBhdGgobik6dGhpcy5ncm91cC5yZW1vdmVDbGlwUGF0aCgpfSxfaW5jcmVtZW50YWxSZW5kZXJMYXJnZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlbW92ZUJhY2tncm91bmQoKSxadihlLHRoaXMuZ3JvdXAsITApfSxkaXNwb3NlOmV0LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLl9jbGVhcih0KX0sX2NsZWFyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ3JvdXAsaT10aGlzLl9kYXRhO2UmJmUuZ2V0KCJhbmltYXRpb24iKSYmaSYmIXRoaXMuX2lzTGFyZ2VEcmF3Pyh0aGlzLl9yZW1vdmVCYWNrZ3JvdW5kKCksdGhpcy5fYmFja2dyb3VuZEVscz1bXSxpLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQpeyJzZWN0b3IiPT09dC50eXBlP1Z2KHQuZGF0YUluZGV4LGUsdCk6QnYodC5kYXRhSW5kZXgsZSx0KX0pKTp0LnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sX3JlbW92ZUJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kR3JvdXApLHRoaXMuX2JhY2tncm91bmRHcm91cD1udWxsfX0pO3ZhciBPdj1NYXRoLm1heCxSdj1NYXRoLm1pbix6dj17Y2FydGVzaWFuMmQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLndpZHRoPDA/LTE6MSxuPWUuaGVpZ2h0PDA/LTE6MTtpPDAmJihlLngrPWUud2lkdGgsZS53aWR0aD0tZS53aWR0aCksbjwwJiYoZS55Kz1lLmhlaWdodCxlLmhlaWdodD0tZS5oZWlnaHQpO3ZhciBvPU92KGUueCx0LngpLGE9UnYoZS54K2Uud2lkdGgsdC54K3Qud2lkdGgpLHI9T3YoZS55LHQueSkscz1SdihlLnkrZS5oZWlnaHQsdC55K3QuaGVpZ2h0KTtlLng9byxlLnk9cixlLndpZHRoPWEtbyxlLmhlaWdodD1zLXI7dmFyIGw9ZS53aWR0aDwwfHxlLmhlaWdodDwwO3JldHVybiBpPDAmJihlLngrPWUud2lkdGgsZS53aWR0aD0tZS53aWR0aCksbjwwJiYoZS55Kz1lLmhlaWdodCxlLmhlaWdodD0tZS5oZWlnaHQpLGx9LHBvbGFyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5yMDw9ZS5yPzE6LTE7aWYoaTwwKXt2YXIgbj1lLnI7ZS5yPWUucjAsZS5yMD1ufW49UnYoZS5yLHQucik7dmFyIG89T3YoZS5yMCx0LnIwKSxhPShlLnI9biktKGUucjA9byk8MDtpZihpPDApe249ZS5yO2Uucj1lLnIwLGUucjA9bn1yZXR1cm4gYX19LEV2PXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPW5ldyBycyh7c2hhcGU6UCh7fSxlKSx6MjoxfSk7aWYoYS5uYW1lPSJpdGVtIixuKXt2YXIgcj1pPyJoZWlnaHQiOiJ3aWR0aCIscz17fTthLnNoYXBlW3JdPTAsc1tyXT1lW3JdLGJsW28/InVwZGF0ZVByb3BzIjoiaW5pdFByb3BzIl0oYSx7c2hhcGU6c30sbix0KX1yZXR1cm4gYX0scG9sYXI6ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByPWUuc3RhcnRBbmdsZTxlLmVuZEFuZ2xlLHM9bmV3KCFpJiZhP2t2OnFyKSh7c2hhcGU6RCh7Y2xvY2t3aXNlOnJ9LGUpLHoyOjF9KTtpZihzLm5hbWU9Iml0ZW0iLG4pe3ZhciBsPWk/InIiOiJlbmRBbmdsZSIsdT17fTtzLnNoYXBlW2xdPWk/MDplLnN0YXJ0QW5nbGUsdVtsXT1lW2xdLGJsW28/InVwZGF0ZVByb3BzIjoiaW5pdFByb3BzIl0ocyx7c2hhcGU6dX0sbix0KX1yZXR1cm4gc319O2Z1bmN0aW9uIEJ2KHQsZSxpKXtpLnN0eWxlLnRleHQ9bnVsbCxjbChpLHtzaGFwZTp7d2lkdGg6MH19LGUsdCxmdW5jdGlvbigpe2kucGFyZW50JiZpLnBhcmVudC5yZW1vdmUoaSl9KX1mdW5jdGlvbiBWdih0LGUsaSl7aS5zdHlsZS50ZXh0PW51bGwsY2woaSx7c2hhcGU6e3I6aS5zaGFwZS5yMH19LGUsdCxmdW5jdGlvbigpe2kucGFyZW50JiZpLnBhcmVudC5yZW1vdmUoaSl9KX12YXIgR3Y9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSksbz1pP2Z1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXQoUHYpfHwwLG49aXNOYU4oZS53aWR0aCk/TnVtYmVyLk1BWF9WQUxVRTpNYXRoLmFicyhlLndpZHRoKSxvPWlzTmFOKGUuaGVpZ2h0KT9OdW1iZXIuTUFYX1ZBTFVFOk1hdGguYWJzKGUuaGVpZ2h0KTtyZXR1cm4gTWF0aC5taW4oaSxuLG8pfShpLG4pOjAsYT0wPG4ud2lkdGg/MTotMSxyPTA8bi5oZWlnaHQ/MTotMTtyZXR1cm57eDpuLngrYSpvLzIseTpuLnkrcipvLzIsd2lkdGg6bi53aWR0aC1hKm8saGVpZ2h0Om4uaGVpZ2h0LXIqb319LHBvbGFyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSk7cmV0dXJue2N4Om4uY3gsY3k6bi5jeSxyMDpuLnIwLHI6bi5yLHN0YXJ0QW5nbGU6bi5zdGFydEFuZ2xlLGVuZEFuZ2xlOm4uZW5kQW5nbGV9fX07ZnVuY3Rpb24gRnYodCl7cmV0dXJuIG51bGwhPXQuc3RhcnRBbmdsZSYmbnVsbCE9dC5lbmRBbmdsZSYmdC5zdGFydEFuZ2xlPT09dC5lbmRBbmdsZX1mdW5jdGlvbiBXdih0LGUsaSxuLG8sYSxyLHMpe3ZhciBsPWUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLHU9ZS5nZXRJdGVtVmlzdWFsKGksIm9wYWNpdHkiKSxoPWUuZ2V0VmlzdWFsKCJib3JkZXJDb2xvciIpLGM9bi5nZXRNb2RlbCgiaXRlbVN0eWxlIiksZD1uLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKS5nZXRCYXJJdGVtU3R5bGUoKTtzfHx0LnNldFNoYXBlKCJyIixjLmdldCgiYmFyQm9yZGVyUmFkaXVzIil8fDApLHQudXNlU3R5bGUoRCh7c3Ryb2tlOkZ2KG8pPyJub25lIjpoLGZpbGw6RnYobyk/Im5vbmUiOmwsb3BhY2l0eTp1fSxjLmdldEJhckl0ZW1TdHlsZSgpKSk7dmFyIGY9bi5nZXRTaGFsbG93KCJjdXJzb3IiKTtmJiZ0LmF0dHIoImN1cnNvciIsZik7cj9vLmhlaWdodDpvLndpZHRoO3N8fEF2KHQuc3R5bGUsZCxuLGwsYSxpKSxGdihvKSYmKGQuZmlsbD1kLnN0cm9rZT0ibm9uZSIpLCRzKHQsZCl9dmFyIEh2PUFyLmV4dGVuZCh7dHlwZToibGFyZ2VCYXIiLHNoYXBlOntwb2ludHM6W119LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnBvaW50cyxuPXRoaXMuX19zdGFydFBvaW50LG89dGhpcy5fX2Jhc2VEaW1JZHgsYT0wO2E8aS5sZW5ndGg7YSs9MiluW29dPWlbYStvXSx0Lm1vdmVUbyhuWzBdLG5bMV0pLHQubGluZVRvKGlbYV0saVthKzFdKX19KTtmdW5jdGlvbiBadih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz1bXSxhPW4uZ2V0TGF5b3V0KCJ2YWx1ZUF4aXNIb3Jpem9udGFsIik/MTowO29bMS1hXT1uLmdldExheW91dCgidmFsdWVBeGlzU3RhcnQiKTt2YXIgcj1uLmdldExheW91dCgibGFyZ2VEYXRhSW5kaWNlcyIpLHM9bi5nZXRMYXlvdXQoImJhcldpZHRoIiksbD10LmdldE1vZGVsKCJiYWNrZ3JvdW5kU3R5bGUiKTtpZih0LmdldCgic2hvd0JhY2tncm91bmQiLCEwKSl7dmFyIHU9bi5nZXRMYXlvdXQoImxhcmdlQmFja2dyb3VuZFBvaW50cyIpLGg9W107aFsxLWFdPW4uZ2V0TGF5b3V0KCJiYWNrZ3JvdW5kU3RhcnQiKTt2YXIgYz1uZXcgSHYoe3NoYXBlOntwb2ludHM6dX0saW5jcmVtZW50YWw6ISFpLF9fc3RhcnRQb2ludDpoLF9fYmFzZURpbUlkeDphLF9fbGFyZ2VEYXRhSW5kaWNlczpyLF9fYmFyV2lkdGg6cyxzaWxlbnQ6ITAsejI6MH0pOyFmdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5nZXQoImJvcmRlckNvbG9yIil8fGUuZ2V0KCJjb2xvciIpLG89ZS5nZXRJdGVtU3R5bGUoWyJjb2xvciIsImJvcmRlckNvbG9yIl0pO3QudXNlU3R5bGUobyksdC5zdHlsZS5maWxsPW51bGwsdC5zdHlsZS5zdHJva2U9bix0LnN0eWxlLmxpbmVXaWR0aD1pLmdldExheW91dCgiYmFyV2lkdGgiKX0oYyxsLG4pLGUuYWRkKGMpfXZhciBkPW5ldyBIdih7c2hhcGU6e3BvaW50czpuLmdldExheW91dCgibGFyZ2VQb2ludHMiKX0saW5jcmVtZW50YWw6ISFpLF9fc3RhcnRQb2ludDpvLF9fYmFzZURpbUlkeDphLF9fbGFyZ2VEYXRhSW5kaWNlczpyLF9fYmFyV2lkdGg6c30pO2UuYWRkKGQpLGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pLmdldFZpc3VhbCgiYm9yZGVyQ29sb3IiKXx8aS5nZXRWaXN1YWwoImNvbG9yIiksbz1lLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciIsImJvcmRlckNvbG9yIl0pO3QudXNlU3R5bGUobyksdC5zdHlsZS5maWxsPW51bGwsdC5zdHlsZS5zdHJva2U9bix0LnN0eWxlLmxpbmVXaWR0aD1pLmdldExheW91dCgiYmFyV2lkdGgiKX0oZCx0LG4pLGQuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleCx0LmdldCgic2lsZW50Iil8fChkLm9uKCJtb3VzZWRvd24iLFV2KSxkLm9uKCJtb3VzZW1vdmUiLFV2KSl9dmFyIFV2PUxjKGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Ll9fYmFzZURpbUlkeCxvPTEtbixhPXQuc2hhcGUucG9pbnRzLHI9dC5fX2xhcmdlRGF0YUluZGljZXMscz1NYXRoLmFicyh0Ll9fYmFyV2lkdGgvMiksbD10Ll9fc3RhcnRQb2ludFtvXTtOdlswXT1lLE52WzFdPWk7Zm9yKHZhciB1PU52W25dLGg9TnZbMS1uXSxjPXUtcyxkPXUrcyxmPTAscD1hLmxlbmd0aC8yO2Y8cDtmKyspe3ZhciBnPTIqZixtPWFbZytuXSx2PWFbZytvXTtpZihjPD1tJiZtPD1kJiYobDw9dj9sPD1oJiZoPD12OnY8PWgmJmg8PWwpKXJldHVybiByW2ZdfXJldHVybi0xfSh0aGlzLHQub2Zmc2V0WCx0Lm9mZnNldFkpO3RoaXMuZGF0YUluZGV4PTA8PWU/ZTpudWxsfSwzMCwhMSk7ZnVuY3Rpb24gWHYodCxlLGkpe3ZhciBuLG89InBvbGFyIj09PWkudHlwZTtyZXR1cm4gbj1vP2kuZ2V0QXJlYSgpOmkuZ3JpZC5nZXRSZWN0KCksbz97Y3g6bi5jeCxjeTpuLmN5LHIwOnQ/bi5yMDplLnIwLHI6dD9uLnI6ZS5yLHN0YXJ0QW5nbGU6dD9lLnN0YXJ0QW5nbGU6MCxlbmRBbmdsZTp0P2UuZW5kQW5nbGU6MipNYXRoLlBJfTp7eDp0P2UueDpuLngseTp0P24ueTplLnksd2lkdGg6dD9lLndpZHRoOm4ud2lkdGgsaGVpZ2h0OnQ/bi5oZWlnaHQ6ZS5oZWlnaHR9fWJmKExkLlZJU1VBTC5MQVlPVVQsVChFcCwiYmFyIikpLGJmKExkLlZJU1VBTC5QUk9HUkVTU0lWRV9MQVlPVVQsQnApLFNmKHtzZXJpZXNUeXBlOiJiYXIiLHJlc2V0OmZ1bmN0aW9uKHQpe3QuZ2V0RGF0YSgpLnNldFZpc3VhbCgibGVnZW5kU3ltYm9sIiwicm91bmRSZWN0Iil9fSk7ZnVuY3Rpb24gWXYodCxlLGkpe2U9TChlKSYme2Nvb3JkRGltZW5zaW9uczplfXx8UCh7fSxlKTt2YXIgbj10LmdldFNvdXJjZSgpLG89bHAobixlKSxhPW5ldyBZZihvLHQpO3JldHVybiBhLmluaXREYXRhKG4saSksYX12YXIganY9e3VwZGF0ZVNlbGVjdGVkTWFwOmZ1bmN0aW9uKHQpe3RoaXMuX3RhcmdldExpc3Q9TCh0KT90LnNsaWNlKCk6W10sdGhpcy5fc2VsZWN0VGFyZ2V0TWFwPVModHx8W10sZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zZXQoZS5uYW1lLGUpLHR9LFEoKSl9LHNlbGVjdDpmdW5jdGlvbih0LGUpe3ZhciBpPW51bGwhPWU/dGhpcy5fdGFyZ2V0TGlzdFtlXTp0aGlzLl9zZWxlY3RUYXJnZXRNYXAuZ2V0KHQpOyJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpJiZ0aGlzLl9zZWxlY3RUYXJnZXRNYXAuZWFjaChmdW5jdGlvbih0KXt0LnNlbGVjdGVkPSExfSksaSYmKGkuc2VsZWN0ZWQ9ITApfSx1blNlbGVjdDpmdW5jdGlvbih0LGUpe3ZhciBpPW51bGwhPWU/dGhpcy5fdGFyZ2V0TGlzdFtlXTp0aGlzLl9zZWxlY3RUYXJnZXRNYXAuZ2V0KHQpO2kmJihpLnNlbGVjdGVkPSExKX0sdG9nZ2xlU2VsZWN0ZWQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsIT1lP3RoaXMuX3RhcmdldExpc3RbZV06dGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmdldCh0KTtpZihudWxsIT1pKXJldHVybiB0aGlzW2kuc2VsZWN0ZWQ/InVuU2VsZWN0Ijoic2VsZWN0Il0odCxlKSxpLnNlbGVjdGVkfSxpc1NlbGVjdGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbCE9ZT90aGlzLl90YXJnZXRMaXN0W2VdOnRoaXMuX3NlbGVjdFRhcmdldE1hcC5nZXQodCk7cmV0dXJuIGkmJmkuc2VsZWN0ZWR9fTtmdW5jdGlvbiBxdihpLGUpe3RoaXMuZ2V0QWxsTmFtZXM9ZnVuY3Rpb24oKXt2YXIgdD1lKCk7cmV0dXJuIHQubWFwQXJyYXkodC5nZXROYW1lKX0sdGhpcy5jb250YWluTmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gMDw9ZSgpLmluZGV4T2ZOYW1lKHQpfSx0aGlzLmluZGV4T2ZOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiBpKCkuaW5kZXhPZk5hbWUodCl9LHRoaXMuZ2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUpe3JldHVybiBpKCkuZ2V0SXRlbVZpc3VhbCh0LGUpfX12YXIgS3Y9RGYoe3R5cGU6InNlcmllcy5waWUiLGluaXQ6ZnVuY3Rpb24odCl7S3Yuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IHF2KEEodGhpcy5nZXREYXRhLHRoaXMpLEEodGhpcy5nZXRSYXdEYXRhLHRoaXMpKSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKHRoaXMuX2NyZWF0ZVNlbGVjdGFibGVMaXN0KCkpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUodCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe0t2LnN1cGVyQ2FsbCh0aGlzLCJtZXJnZU9wdGlvbiIsdCksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0aGlzLl9jcmVhdGVTZWxlY3RhYmxlTGlzdCgpKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gWXYodGhpcyx7Y29vcmREaW1lbnNpb25zOlsidmFsdWUiXSxlbmNvZGVEZWZhdWx0ZXI6VChKdSx0aGlzKX0pfSxfY3JlYXRlU2VsZWN0YWJsZUxpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRSYXdEYXRhKCksZT10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxpPVtdLG49MCxvPXQuY291bnQoKTtuPG87bisrKWkucHVzaCh7bmFtZTp0LmdldE5hbWUobiksdmFsdWU6dC5nZXQoZSxuKSxzZWxlY3RlZDpaaCh0LG4sInNlbGVjdGVkIil9KTtyZXR1cm4gaX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPUt2LnN1cGVyQ2FsbCh0aGlzLCJnZXREYXRhUGFyYW1zIix0KSxuPVtdO3JldHVybiBlLmVhY2goZS5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24odCl7bi5wdXNoKHQpfSksaS5wZXJjZW50PVdsKG4sdCxlLmhvc3RNb2RlbC5nZXQoInBlcmNlbnRQcmVjaXNpb24iKSksaS4kdmFycy5wdXNoKCJwZXJjZW50IiksaX0sX2RlZmF1bHRMYWJlbExpbmU6ZnVuY3Rpb24odCl7R28odCwibGFiZWxMaW5lIixbInNob3ciXSk7dmFyIGU9dC5sYWJlbExpbmUsaT10LmVtcGhhc2lzLmxhYmVsTGluZTtlLnNob3c9ZS5zaG93JiZ0LmxhYmVsLnNob3csaS5zaG93PWkuc2hvdyYmdC5lbXBoYXNpcy5sYWJlbC5zaG93fSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czpbMCwiNzUlIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxtaW5TaG93TGFiZWxBbmdsZTowLHNlbGVjdGVkT2Zmc2V0OjEwLGhvdmVyT2Zmc2V0OjEwLGF2b2lkTGFiZWxPdmVybGFwOiEwLHBlcmNlbnRQcmVjaXNpb246MixzdGlsbFNob3daZXJvU3VtOiEwLGxlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsbGFiZWw6e3JvdGF0ZTohMSxzaG93OiEwLHBvc2l0aW9uOiJvdXRlciIsYWxpZ25Ubzoibm9uZSIsbWFyZ2luOiIyNSUiLGJsZWVkTWFyZ2luOjEwLGRpc3RhbmNlVG9MYWJlbExpbmU6NX0sbGFiZWxMaW5lOntzaG93OiEwLGxlbmd0aDoxNSxsZW5ndGgyOjE1LHNtb290aDohMSxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxfSxhbmltYXRpb25UeXBlOiJleHBhbnNpb24iLGFuaW1hdGlvblR5cGVVcGRhdGU6InRyYW5zaXRpb24iLGFuaW1hdGlvbkVhc2luZzoiY3ViaWNPdXQifX0pO2Z1bmN0aW9uICR2KHQsZSxpLG4pe3ZhciBvPWUuZ2V0RGF0YSgpLGE9dGhpcy5kYXRhSW5kZXgscj1vLmdldE5hbWUoYSkscz1lLmdldCgic2VsZWN0ZWRPZmZzZXQiKTtuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJwaWVUb2dnbGVTZWxlY3QiLGZyb206dCxuYW1lOnIsc2VyaWVzSWQ6ZS5pZH0pLG8uZWFjaChmdW5jdGlvbih0KXtKdihvLmdldEl0ZW1HcmFwaGljRWwodCksby5nZXRJdGVtTGF5b3V0KHQpLGUuaXNTZWxlY3RlZChvLmdldE5hbWUodCkpLHMsaSl9KX1mdW5jdGlvbiBKdih0LGUsaSxuLG8pe3ZhciBhPShlLnN0YXJ0QW5nbGUrZS5lbmRBbmdsZSkvMixyPWk/bjowLHM9W01hdGguY29zKGEpKnIsTWF0aC5zaW4oYSkqcl07bz90LmFuaW1hdGUoKS53aGVuKDIwMCx7cG9zaXRpb246c30pLnN0YXJ0KCJib3VuY2VPdXQiKTp0LmF0dHIoInBvc2l0aW9uIixzKX1mdW5jdGlvbiBRdih0LGUpe0NpLmNhbGwodGhpcyk7dmFyIGk9bmV3IHFyKHt6MjoyfSksbj1uZXcgdHMsbz1uZXcgVXI7dGhpcy5hZGQoaSksdGhpcy5hZGQobiksdGhpcy5hZGQobyksdGhpcy51cGRhdGVEYXRhKHQsZSwhMCl9YihLdixqdik7dmFyIHR5PVF2LnByb3RvdHlwZTt0eS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmNoaWxkQXQoMCksbz10aGlzLmNoaWxkQXQoMSksYT10aGlzLmNoaWxkQXQoMikscj10Lmhvc3RNb2RlbCxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9dC5nZXRJdGVtTGF5b3V0KGUpLHU9UCh7fSxsKTt1LmxhYmVsPW51bGw7dmFyIGg9ci5nZXRTaGFsbG93KCJhbmltYXRpb25UeXBlVXBkYXRlIik7aT8obi5zZXRTaGFwZSh1KSwic2NhbGUiPT09ci5nZXRTaGFsbG93KCJhbmltYXRpb25UeXBlIik/KG4uc2hhcGUucj1sLnIwLGRsKG4se3NoYXBlOntyOmwucn19LHIsZSkpOihuLnNoYXBlLmVuZEFuZ2xlPWwuc3RhcnRBbmdsZSxjbChuLHtzaGFwZTp7ZW5kQW5nbGU6bC5lbmRBbmdsZX19LHIsZSkpKToiZXhwYW5zaW9uIj09PWg/bi5zZXRTaGFwZSh1KTpjbChuLHtzaGFwZTp1fSxyLGUpO3ZhciBjPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO24udXNlU3R5bGUoRCh7bGluZUpvaW46ImJldmVsIixmaWxsOmN9LHMuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpKSksbi5ob3ZlclN0eWxlPXMuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO3ZhciBkPXMuZ2V0U2hhbGxvdygiY3Vyc29yIik7ZCYmbi5hdHRyKCJjdXJzb3IiLGQpLEp2KHRoaXMsdC5nZXRJdGVtTGF5b3V0KGUpLHIuaXNTZWxlY3RlZCh0LmdldE5hbWUoZSkpLHIuZ2V0KCJzZWxlY3RlZE9mZnNldCIpLHIuZ2V0KCJhbmltYXRpb24iKSk7dmFyIGY9IWkmJiJ0cmFuc2l0aW9uIj09PWg7dGhpcy5fdXBkYXRlTGFiZWwodCxlLGYpLHRoaXMuaGlnaERvd25PblVwZGF0ZT1yLmdldCgic2lsZW50Iik/bnVsbDpmdW5jdGlvbih0LGUpe3ZhciBpPXIuaXNBbmltYXRpb25FbmFibGVkKCkmJnMuZ2V0KCJob3ZlckFuaW1hdGlvbiIpOyJlbXBoYXNpcyI9PT1lPyhvLmlnbm9yZT1vLmhvdmVySWdub3JlLGEuaWdub3JlPWEuaG92ZXJJZ25vcmUsaSYmKG4uc3RvcEFuaW1hdGlvbighMCksbi5hbmltYXRlVG8oe3NoYXBlOntyOmwucityLmdldCgiaG92ZXJPZmZzZXQiKX19LDMwMCwiZWxhc3RpY091dCIpKSk6KG8uaWdub3JlPW8ubm9ybWFsSWdub3JlLGEuaWdub3JlPWEubm9ybWFsSWdub3JlLGkmJihuLnN0b3BBbmltYXRpb24oITApLG4uYW5pbWF0ZVRvKHtzaGFwZTp7cjpsLnJ9fSwzMDAsImVsYXN0aWNPdXQiKSkpfSwkcyh0aGlzKX0sdHkuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmNoaWxkQXQoMSksbz10aGlzLmNoaWxkQXQoMiksYT10Lmhvc3RNb2RlbCxyPXQuZ2V0SXRlbU1vZGVsKGUpLHM9dC5nZXRJdGVtTGF5b3V0KGUpLmxhYmVsLGw9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7aWYoIXN8fGlzTmFOKHMueCl8fGlzTmFOKHMueSkpby5pZ25vcmU9by5ub3JtYWxJZ25vcmU9by5ob3Zlcklnbm9yZT1uLmlnbm9yZT1uLm5vcm1hbElnbm9yZT1uLmhvdmVySWdub3JlPSEwO2Vsc2V7dmFyIHU9e3BvaW50czpzLmxpbmVQb2ludHN8fFtbcy54LHMueV0sW3MueCxzLnldLFtzLngscy55XV19LGg9e3g6cy54LHk6cy55fTtpPyhjbChuLHtzaGFwZTp1fSxhLGUpLGNsKG8se3N0eWxlOmh9LGEsZSkpOihuLmF0dHIoe3NoYXBlOnV9KSxvLmF0dHIoe3N0eWxlOmh9KSksby5hdHRyKHtyb3RhdGlvbjpzLnJvdGF0aW9uLG9yaWdpbjpbcy54LHMueV0sejI6MTB9KTt2YXIgYz1yLmdldE1vZGVsKCJsYWJlbCIpLGQ9ci5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxmPXIuZ2V0TW9kZWwoImxhYmVsTGluZSIpLHA9ci5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWxMaW5lIik7bD10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTtlbChvLnN0eWxlLG8uaG92ZXJTdHlsZT17fSxjLGQse2xhYmVsRmV0Y2hlcjp0Lmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGRlZmF1bHRUZXh0OnMudGV4dCxhdXRvQ29sb3I6bCx1c2VJbnNpZGVTdHlsZTohIXMuaW5zaWRlfSx7dGV4dEFsaWduOnMudGV4dEFsaWduLHRleHRWZXJ0aWNhbEFsaWduOnMudmVydGljYWxBbGlnbixvcGFjaXR5OnQuZ2V0SXRlbVZpc3VhbChlLCJvcGFjaXR5Iil9KSxvLmlnbm9yZT1vLm5vcm1hbElnbm9yZT0hYy5nZXQoInNob3ciKSxvLmhvdmVySWdub3JlPSFkLmdldCgic2hvdyIpLG4uaWdub3JlPW4ubm9ybWFsSWdub3JlPSFmLmdldCgic2hvdyIpLG4uaG92ZXJJZ25vcmU9IXAuZ2V0KCJzaG93Iiksbi5zZXRTdHlsZSh7c3Ryb2tlOmwsb3BhY2l0eTp0LmdldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIpfSksbi5zZXRTdHlsZShmLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSksbi5ob3ZlclN0eWxlPXAuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpO3ZhciBnPWYuZ2V0KCJzbW9vdGgiKTtnJiYhMD09PWcmJihnPS40KSxuLnNldFNoYXBlKHtzbW9vdGg6Z30pfX0sdyhRdixDaSk7ZnVuY3Rpb24gZXkoaSx0KXtSKHQsZnVuY3Rpb24oYSl7YS51cGRhdGU9InVwZGF0ZVZpZXciLF9mKGEsZnVuY3Rpb24odCxlKXt2YXIgbz17fTtyZXR1cm4gZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOmkscXVlcnk6dH0sZnVuY3Rpb24oaSl7aVthLm1ldGhvZF0mJmlbYS5tZXRob2RdKHQubmFtZSx0LmRhdGFJbmRleCk7dmFyIG49aS5nZXREYXRhKCk7bi5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0TmFtZSh0KTtvW2VdPWkuaXNTZWxlY3RlZChlKXx8ITF9KX0pLHtuYW1lOnQubmFtZSxzZWxlY3RlZDpvLHNlcmllc0lkOnQuc2VyaWVzSWR9fSl9KX1mdW5jdGlvbiBpeShuKXtyZXR1cm57Z2V0VGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LGk9USgpO3JldHVybiB0LmVhY2hTZXJpZXNCeVR5cGUobixmdW5jdGlvbih0KXt0Ll9fcGFsZXR0ZVNjb3BlPWUsaS5zZXQodC51aWQsdCl9KSxpfSxyZXNldDpmdW5jdGlvbihzLHQpe3ZhciBsPXMuZ2V0UmF3RGF0YSgpLHU9e30saD1zLmdldERhdGEoKTtoLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9aC5nZXRSYXdJbmRleCh0KTt1W2VdPXR9KSxsLmVhY2goZnVuY3Rpb24odCl7dmFyIGUsaT11W3RdLG49bnVsbCE9aSYmaC5nZXRJdGVtVmlzdWFsKGksImNvbG9yIiwhMCksbz1udWxsIT1pJiZoLmdldEl0ZW1WaXN1YWwoaSwiYm9yZGVyQ29sb3IiLCEwKTtpZihuJiZvfHwoZT1sLmdldEl0ZW1Nb2RlbCh0KSksIW4pe3ZhciBhPWUuZ2V0KCJpdGVtU3R5bGUuY29sb3IiKXx8cy5nZXRDb2xvckZyb21QYWxldHRlKGwuZ2V0TmFtZSh0KXx8dCsiIixzLl9fcGFsZXR0ZVNjb3BlLGwuY291bnQoKSk7bnVsbCE9aSYmaC5zZXRJdGVtVmlzdWFsKGksImNvbG9yIixhKX1pZighbyl7dmFyIHI9ZS5nZXQoIml0ZW1TdHlsZS5ib3JkZXJDb2xvciIpO251bGwhPWkmJmguc2V0SXRlbVZpc3VhbChpLCJib3JkZXJDb2xvciIscil9fSl9fX1fYy5leHRlbmQoe3R5cGU6InBpZSIsaW5pdDpmdW5jdGlvbigpe3ZhciB0PW5ldyBDaTt0aGlzLl9zZWN0b3JHcm91cD10fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYoIW58fG4uZnJvbSE9PXRoaXMudWlkKXt2YXIgbz10LmdldERhdGEoKSxhPXRoaXMuX2RhdGEscj10aGlzLmdyb3VwLHM9ZS5nZXQoImFuaW1hdGlvbiIpLGw9IWEsdT10LmdldCgiYW5pbWF0aW9uVHlwZSIpLGg9dC5nZXQoImFuaW1hdGlvblR5cGVVcGRhdGUiKSxjPVQoJHYsdGhpcy51aWQsdCxzLGkpLGQ9dC5nZXQoInNlbGVjdGVkTW9kZSIpO2lmKG8uZGlmZihhKS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9bmV3IFF2KG8sdCk7bCYmInNjYWxlIiE9PXUmJmUuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbighMCl9KSxkJiZlLm9uKCJjbGljayIsYyksby5zZXRJdGVtR3JhcGhpY0VsKHQsZSksci5hZGQoZSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1hLmdldEl0ZW1HcmFwaGljRWwoZSk7bHx8InRyYW5zaXRpb24iPT09aHx8aS5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7dC5zdG9wQW5pbWF0aW9uKCEwKX0pLGkudXBkYXRlRGF0YShvLHQpLGkub2ZmKCJjbGljayIpLGQmJmkub24oImNsaWNrIixjKSxyLmFkZChpKSxvLnNldEl0ZW1HcmFwaGljRWwodCxpKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1hLmdldEl0ZW1HcmFwaGljRWwodCk7ci5yZW1vdmUoZSl9KS5leGVjdXRlKCkscyYmMDxvLmNvdW50KCkmJihsPyJzY2FsZSIhPT11OiJ0cmFuc2l0aW9uIiE9PWgpKXtmb3IodmFyIGY9by5nZXRJdGVtTGF5b3V0KDApLHA9MTtpc05hTihmLnN0YXJ0QW5nbGUpJiZwPG8uY291bnQoKTsrK3ApZj1vLmdldEl0ZW1MYXlvdXQocCk7dmFyIGc9TWF0aC5tYXgoaS5nZXRXaWR0aCgpLGkuZ2V0SGVpZ2h0KCkpLzIsbT1BKHIucmVtb3ZlQ2xpcFBhdGgscik7ci5zZXRDbGlwUGF0aCh0aGlzLl9jcmVhdGVDbGlwUGF0aChmLmN4LGYuY3ksZyxmLnN0YXJ0QW5nbGUsZi5jbG9ja3dpc2UsbSx0LGwpKX1lbHNlIHIucmVtb3ZlQ2xpcFBhdGgoKTt0aGlzLl9kYXRhPW99fSxkaXNwb3NlOmZ1bmN0aW9uKCl7fSxfY3JlYXRlQ2xpcFBhdGg6ZnVuY3Rpb24odCxlLGksbixvLGEscixzKXt2YXIgbD1uZXcgcXIoe3NoYXBlOntjeDp0LGN5OmUscjA6MCxyOmksc3RhcnRBbmdsZTpuLGVuZEFuZ2xlOm4sY2xvY2t3aXNlOm99fSk7cmV0dXJuKHM/ZGw6Y2wpKGwse3NoYXBlOntlbmRBbmdsZTpuKyhvPzE6LTEpKk1hdGguUEkqMn19LHIsYSksbH0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihpKXt2YXIgbj10WzBdLWkuY3gsbz10WzFdLWkuY3ksYT1NYXRoLnNxcnQobipuK28qbyk7cmV0dXJuIGE8PWkuciYmYT49aS5yMH19fSk7dmFyIG55PU1hdGguUEkvMTgwO2Z1bmN0aW9uIG95KG8sdCxlLGksbixhLHIscyxsLHUpe2Z1bmN0aW9uIGgodCxlLGkpe2Zvcih2YXIgbj10O248ZSYmIShvW25dLnkraT5sK3IpO24rKylpZihvW25dLnkrPWksdDxuJiZuKzE8ZSYmb1tuKzFdLnk+b1tuXS55K29bbl0uaGVpZ2h0KXJldHVybiB2b2lkIGMobixpLzIpO2MoZS0xLGkvMil9ZnVuY3Rpb24gYyh0LGUpe2Zvcih2YXIgaT10OzA8PWkmJiEob1tpXS55LWU8bCkmJihvW2ldLnktPWUsISgwPGkmJm9baV0ueT5vW2ktMV0ueStvW2ktMV0uaGVpZ2h0KSk7aS0tKTt9ZnVuY3Rpb24gZCh0LGUsaSxuLG8sYSl7Zm9yKHZhciByPWU/TnVtYmVyLk1BWF9WQUxVRTowLHM9MCxsPXQubGVuZ3RoO3M8bDtzKyspaWYoIm5vbmUiPT09dFtzXS5sYWJlbEFsaWduVG8pe3ZhciB1PU1hdGguYWJzKHRbc10ueS1uKSxoPXRbc10ubGVuLGM9dFtzXS5sZW4yLGQ9dTxvK2g/TWF0aC5zcXJ0KChvK2grYykqKG8raCtjKS11KnUpOk1hdGguYWJzKHRbc10ueC1pKTtlJiZyPD1kJiYoZD1yLTEwKSwhZSYmZDw9ciYmKGQ9cisxMCksdFtzXS54PWkrZCphLHI9ZH19by5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueS1lLnl9KTtmb3IodmFyIGYscD0wLGc9by5sZW5ndGgsbT1bXSx2PVtdLHk9MDt5PGc7eSsrKXtpZigib3V0ZXIiPT09b1t5XS5wb3NpdGlvbiYmImxhYmVsTGluZSI9PT1vW3ldLmxhYmVsQWxpZ25Ubyl7dmFyIHg9b1t5XS54LXU7b1t5XS5saW5lUG9pbnRzWzFdWzBdKz14LG9beV0ueD11fShmPW9beV0ueS1wKTwwJiZoKHksZywtZikscD1vW3ldLnkrb1t5XS5oZWlnaHR9ci1wPDAmJmMoZy0xLHAtcik7Zm9yKHk9MDt5PGc7eSsrKW9beV0ueT49ZT92LnB1c2gob1t5XSk6bS5wdXNoKG9beV0pO2QobSwhMSx0LGUsaSxuKSxkKHYsITAsdCxlLGksbil9ZnVuY3Rpb24gYXkodCl7cmV0dXJuImNlbnRlciI9PT10LnBvc2l0aW9ufWZ1bmN0aW9uIHJ5KEwsayxQLHQsTixlKXt2YXIgTyxSLHo9TC5nZXREYXRhKCksRT1bXSxCPSExLFY9KEwuZ2V0KCJtaW5TaG93TGFiZWxBbmdsZSIpfHwwKSpueTt6LmVhY2goZnVuY3Rpb24odCl7dmFyIGU9ei5nZXRJdGVtTGF5b3V0KHQpLGk9ei5nZXRJdGVtTW9kZWwodCksbj1pLmdldE1vZGVsKCJsYWJlbCIpLG89bi5nZXQoInBvc2l0aW9uIil8fGkuZ2V0KCJlbXBoYXNpcy5sYWJlbC5wb3NpdGlvbiIpLGE9bi5nZXQoImRpc3RhbmNlVG9MYWJlbExpbmUiKSxyPW4uZ2V0KCJhbGlnblRvIikscz16bChuLmdldCgibWFyZ2luIiksUCksbD1uLmdldCgiYmxlZWRNYXJnaW4iKSx1PW4uZ2V0Rm9udCgpLGg9aS5nZXRNb2RlbCgibGFiZWxMaW5lIiksYz1oLmdldCgibGVuZ3RoIik7Yz16bChjLFApO3ZhciBkPWguZ2V0KCJsZW5ndGgyIik7aWYoZD16bChkLFApLCEoZS5hbmdsZTxWKSl7dmFyIGYscCxnLG0sdj0oZS5zdGFydEFuZ2xlK2UuZW5kQW5nbGUpLzIseT1NYXRoLmNvcyh2KSx4PU1hdGguc2luKHYpO089ZS5jeCxSPWUuY3k7dmFyIF8sdz1MLmdldEZvcm1hdHRlZExhYmVsKHQsIm5vcm1hbCIpfHx6LmdldE5hbWUodCksYj1nbih3LHUsbSwidG9wIiksUz0iaW5zaWRlIj09PW98fCJpbm5lciI9PT1vO2lmKCJjZW50ZXIiPT09bylmPWUuY3gscD1lLmN5LG09ImNlbnRlciI7ZWxzZXt2YXIgTT0oUz8oZS5yK2UucjApLzIqeTplLnIqeSkrTyxJPShTPyhlLnIrZS5yMCkvMip4OmUucip4KStSO2lmKGY9TSszKnkscD1JKzMqeCwhUyl7dmFyIFQ9TSt5KihjK2stZS5yKSxBPUkreCooYytrLWUuciksRD1UKyh5PDA/LTE6MSkqZDtmPSJlZGdlIj09PXI/eTwwP04rczpOK1AtczpEKyh5PDA/LWE6YSksZz1bW00sSV0sW1QsQV0sW0QscD1BXV19bT1TPyJjZW50ZXIiOiJlZGdlIj09PXI/MDx5PyJyaWdodCI6ImxlZnQiOjA8eT8ibGVmdCI6InJpZ2h0In12YXIgQz1uLmdldCgicm90YXRlIik7Xz0ibnVtYmVyIj09dHlwZW9mIEM/QyooTWF0aC5QSS8xODApOkM/eTwwPy12K01hdGguUEk6LXY6MCxCPSEhXyxlLmxhYmVsPXt4OmYseTpwLHBvc2l0aW9uOm8saGVpZ2h0OmIuaGVpZ2h0LGxlbjpjLGxlbjI6ZCxsaW5lUG9pbnRzOmcsdGV4dEFsaWduOm0sdmVydGljYWxBbGlnbjoibWlkZGxlIixyb3RhdGlvbjpfLGluc2lkZTpTLGxhYmVsRGlzdGFuY2U6YSxsYWJlbEFsaWduVG86cixsYWJlbE1hcmdpbjpzLGJsZWVkTWFyZ2luOmwsdGV4dFJlY3Q6Yix0ZXh0OncsZm9udDp1fSxTfHxFLnB1c2goZS5sYWJlbCl9fSksIUImJkwuZ2V0KCJhdm9pZExhYmVsT3ZlcmxhcCIpJiZmdW5jdGlvbih0LGUsaSxuLG8sYSxyLHMpe2Zvcih2YXIgbD1bXSx1PVtdLGg9TnVtYmVyLk1BWF9WQUxVRSxjPS1OdW1iZXIuTUFYX1ZBTFVFLGQ9MDtkPHQubGVuZ3RoO2QrKylheSh0W2RdKXx8KHRbZF0ueDxlPyhoPU1hdGgubWluKGgsdFtkXS54KSxsLnB1c2godFtkXSkpOihjPU1hdGgubWF4KGMsdFtkXS54KSx1LnB1c2godFtkXSkpKTtmb3Iob3kodSxlLGksbiwxLDAsYSwwLHMsYyksb3kobCxlLGksbiwtMSwwLGEsMCxzLGgpLGQ9MDtkPHQubGVuZ3RoO2QrKyl7dmFyIGY9dFtkXTtpZighYXkoZikpe3ZhciBwPWYubGluZVBvaW50cztpZihwKXt2YXIgZyxtPSJlZGdlIj09PWYubGFiZWxBbGlnblRvLHY9Zi50ZXh0UmVjdC53aWR0aDsoZz1tP2YueDxlP3BbMl1bMF0tZi5sYWJlbERpc3RhbmNlLXItZi5sYWJlbE1hcmdpbjpyK28tZi5sYWJlbE1hcmdpbi1wWzJdWzBdLWYubGFiZWxEaXN0YW5jZTpmLng8ZT9mLngtci1mLmJsZWVkTWFyZ2luOnIrby1mLngtZi5ibGVlZE1hcmdpbik8Zi50ZXh0UmVjdC53aWR0aCYmKGYudGV4dD14bihmLnRleHQsZyxmLmZvbnQpLCJlZGdlIj09PWYubGFiZWxBbGlnblRvJiYodj1wbihmLnRleHQsZi5mb250KSkpO3ZhciB5PXBbMV1bMF0tcFsyXVswXTttP2YueDxlP3BbMl1bMF09citmLmxhYmVsTWFyZ2luK3YrZi5sYWJlbERpc3RhbmNlOnBbMl1bMF09citvLWYubGFiZWxNYXJnaW4tdi1mLmxhYmVsRGlzdGFuY2U6KGYueDxlP3BbMl1bMF09Zi54K2YubGFiZWxEaXN0YW5jZTpwWzJdWzBdPWYueC1mLmxhYmVsRGlzdGFuY2UscFsxXVswXT1wWzJdWzBdK3kpLHBbMV1bMV09cFsyXVsxXT1mLnl9fX19KEUsTyxSLGssUCx0LE4sZSl9dmFyIHN5PTIqTWF0aC5QSSxseT1NYXRoLlBJLzE4MDtmdW5jdGlvbiB1eSh0KXtyZXR1cm57c2VyaWVzVHlwZTp0LHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6ImxlZ2VuZCJ9KTtpZihuJiZuLmxlbmd0aCl7dmFyIG89dC5nZXREYXRhKCk7by5maWx0ZXJTZWxmKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1vLmdldE5hbWUodCksaT0wO2k8bi5sZW5ndGg7aSsrKWlmKCFuW2ldLmlzU2VsZWN0ZWQoZSkpcmV0dXJuITE7cmV0dXJuITB9KX19fX1leSgicGllIixbe3R5cGU6InBpZVRvZ2dsZVNlbGVjdCIsZXZlbnQ6InBpZXNlbGVjdGNoYW5nZWQiLG1ldGhvZDoidG9nZ2xlU2VsZWN0ZWQifSx7dHlwZToicGllU2VsZWN0IixldmVudDoicGllc2VsZWN0ZWQiLG1ldGhvZDoic2VsZWN0In0se3R5cGU6InBpZVVuU2VsZWN0IixldmVudDoicGlldW5zZWxlY3RlZCIsbWV0aG9kOiJ1blNlbGVjdCJ9XSksU2YoaXkoInBpZSIpKSxiZihUKGZ1bmN0aW9uKHQsZSxBLGkpe2UuZWFjaFNlcmllc0J5VHlwZSh0LGZ1bmN0aW9uKHQpe3ZhciBvPXQuZ2V0RGF0YSgpLGU9by5tYXBEaW1lbnNpb24oInZhbHVlIiksYT1mdW5jdGlvbih0LGUpe3JldHVybiBidSh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCxBKSxpPXQuZ2V0KCJjZW50ZXIiKSxuPXQuZ2V0KCJyYWRpdXMiKTtMKG4pfHwobj1bMCxuXSksTChpKXx8KGk9W2ksaV0pO3ZhciByPXpsKGEud2lkdGgsQS5nZXRXaWR0aCgpKSxzPXpsKGEuaGVpZ2h0LEEuZ2V0SGVpZ2h0KCkpLGw9TWF0aC5taW4ocixzKSx1PXpsKGlbMF0scikrYS54LGg9emwoaVsxXSxzKSthLnksYz16bChuWzBdLGwvMiksZD16bChuWzFdLGwvMiksZj0tdC5nZXQoInN0YXJ0QW5nbGUiKSpseSxwPXQuZ2V0KCJtaW5BbmdsZSIpKmx5LGc9MDtvLmVhY2goZSxmdW5jdGlvbih0KXtpc05hTih0KXx8ZysrfSk7dmFyIG09by5nZXRTdW0oZSksdj1NYXRoLlBJLyhtfHxnKSoyLHk9dC5nZXQoImNsb2Nrd2lzZSIpLHg9dC5nZXQoInJvc2VUeXBlIiksXz10LmdldCgic3RpbGxTaG93WmVyb1N1bSIpLHc9by5nZXREYXRhRXh0ZW50KGUpO3dbMF09MDt2YXIgYj1zeSxTPTAsTT1mLEk9eT8xOi0xO2lmKG8uZWFjaChlLGZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoaXNOYU4odCkpby5zZXRJdGVtTGF5b3V0KGUse2FuZ2xlOk5hTixzdGFydEFuZ2xlOk5hTixlbmRBbmdsZTpOYU4sY2xvY2t3aXNlOnksY3g6dSxjeTpoLHIwOmMscjp4P05hTjpkLHZpZXdSZWN0OmF9KTtlbHNleyhpPSJhcmVhIiE9PXg/MD09PW0mJl8/djp0KnY6c3kvZyk8cD9iLT1pPXA6Uys9dDt2YXIgbj1NK0kqaTtvLnNldEl0ZW1MYXlvdXQoZSx7YW5nbGU6aSxzdGFydEFuZ2xlOk0sZW5kQW5nbGU6bixjbG9ja3dpc2U6eSxjeDp1LGN5OmgscjA6YyxyOng/UmwodCx3LFtjLGRdKTpkLHZpZXdSZWN0OmF9KSxNPW59fSksYjxzeSYmZylpZihiPD0uMDAxKXt2YXIgVD1zeS9nO28uZWFjaChlLGZ1bmN0aW9uKHQsZSl7aWYoIWlzTmFOKHQpKXt2YXIgaT1vLmdldEl0ZW1MYXlvdXQoZSk7aS5hbmdsZT1ULGkuc3RhcnRBbmdsZT1mK0kqZSpULGkuZW5kQW5nbGU9ZitJKihlKzEpKlR9fSl9ZWxzZSB2PWIvUyxNPWYsby5lYWNoKGUsZnVuY3Rpb24odCxlKXtpZighaXNOYU4odCkpe3ZhciBpPW8uZ2V0SXRlbUxheW91dChlKSxuPWkuYW5nbGU9PT1wP3A6dCp2O2kuc3RhcnRBbmdsZT1NLGkuZW5kQW5nbGU9TStJKm4sTSs9SSpufX0pO3J5KHQsZCxhLndpZHRoLGEuaGVpZ2h0LGEueCxhLnkpfSl9LCJwaWUiKSkseGYodXkoInBpZSIpKSxzYy5leHRlbmQoe3R5cGU6InNlcmllcy5zY2F0dGVyIixkZXBlbmRlbmNpZXM6WyJncmlkIiwicG9sYXIiLCJnZW8iLCJzaW5nbGVBeGlzIiwiY2FsZW5kYXIiXSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBncCh0aGlzLmdldFNvdXJjZSgpLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxicnVzaFNlbGVjdG9yOiJwb2ludCIsZ2V0UHJvZ3Jlc3NpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT81ZTM6dGhpcy5nZXQoInByb2dyZXNzaXZlIik6dH0sZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIik6dH0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAsc3ltYm9sU2l6ZToxMCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDoyZTMsaXRlbVN0eWxlOntvcGFjaXR5Oi44fSxjbGlwOiEwfX0pO3ZhciBoeT1Dcyh7c2hhcGU6e3BvaW50czpudWxsfSxzeW1ib2xQcm94eTpudWxsLHNvZnRDbGlwU2hhcGU6bnVsbCxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnBvaW50cyxuPWUuc2l6ZSxvPXRoaXMuc3ltYm9sUHJveHksYT1vLnNoYXBlO2lmKCEoKHQuZ2V0Q29udGV4dD90LmdldENvbnRleHQoKTp0KSYmblswXTw0KSlmb3IodmFyIHI9MDtyPGkubGVuZ3RoOyl7dmFyIHM9aVtyKytdLGw9aVtyKytdO2lzTmFOKHMpfHxpc05hTihsKXx8dGhpcy5zb2Z0Q2xpcFNoYXBlJiYhdGhpcy5zb2Z0Q2xpcFNoYXBlLmNvbnRhaW4ocyxsKXx8KGEueD1zLW5bMF0vMixhLnk9bC1uWzFdLzIsYS53aWR0aD1uWzBdLGEuaGVpZ2h0PW5bMV0sby5idWlsZFBhdGgodCxhLCEwKSl9fSxhZnRlckJydXNoOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2hhcGUsaT1lLnBvaW50cyxuPWUuc2l6ZTtpZihuWzBdPDQpe3RoaXMuc2V0VHJhbnNmb3JtKHQpO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7KXt2YXIgYT1pW28rK10scj1pW28rK107aXNOYU4oYSl8fGlzTmFOKHIpfHx0aGlzLnNvZnRDbGlwU2hhcGUmJiF0aGlzLnNvZnRDbGlwU2hhcGUuY29udGFpbihhLHIpfHx0LmZpbGxSZWN0KGEtblswXS8yLHItblsxXS8yLG5bMF0sblsxXSl9dGhpcy5yZXN0b3JlVHJhbnNmb3JtKHQpfX0sZmluZERhdGFJbmRleDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLnNoYXBlLG49aS5wb2ludHMsbz1pLnNpemUsYT1NYXRoLm1heChvWzBdLDQpLHI9TWF0aC5tYXgob1sxXSw0KSxzPW4ubGVuZ3RoLzItMTswPD1zO3MtLSl7dmFyIGw9MipzLHU9bltsXS1hLzIsaD1uWzErbF0tci8yO2lmKHU8PXQmJmg8PWUmJnQ8PXUrYSYmZTw9aCtyKXJldHVybiBzfXJldHVybi0xfX0pO2Z1bmN0aW9uIGN5KCl7dGhpcy5ncm91cD1uZXcgQ2l9dmFyIGR5PWN5LnByb3RvdHlwZTtmdW5jdGlvbiBmeSh0LGUsaSl7R2cuY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9InZhbHVlIix0aGlzLmFuZ2xlPTAsdGhpcy5uYW1lPSIiLHRoaXMubW9kZWx9ZnVuY3Rpb24gcHkodCxlLGkpe3RoaXMuX21vZGVsPXQsdGhpcy5kaW1lbnNpb25zPVtdLHRoaXMuX2luZGljYXRvckF4ZXM9Tyh0LmdldEluZGljYXRvck1vZGVscygpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ImluZGljYXRvcl8iK2Usbj1uZXcgZnkoaSwibG9nIj09PXQuZ2V0KCJheGlzVHlwZSIpP25ldyBuZzpuZXcgRHApO3JldHVybiBuLm5hbWU9dC5nZXQoIm5hbWUiKSwobi5tb2RlbD10KS5heGlzPW4sdGhpcy5kaW1lbnNpb25zLnB1c2goaSksbn0sdGhpcyksdGhpcy5yZXNpemUodCxpKSx0aGlzLmN4LHRoaXMuY3ksdGhpcy5yLHRoaXMucjAsdGhpcy5zdGFydEFuZ2xlfWR5LmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sZHkudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIGk9bmV3IGh5KHtyZWN0SG92ZXI6ITAsY3Vyc29yOiJkZWZhdWx0In0pO2kuc2V0U2hhcGUoe3BvaW50czp0LmdldExheW91dCgic3ltYm9sUG9pbnRzIil9KSx0aGlzLl9zZXRDb21tb24oaSx0LCExLGUpLHRoaXMuZ3JvdXAuYWRkKGkpLHRoaXMuX2luY3JlbWVudGFsPW51bGx9LGR5LnVwZGF0ZUxheW91dD1mdW5jdGlvbih0KXtpZighdGhpcy5faW5jcmVtZW50YWwpe3ZhciBuPXQuZ2V0TGF5b3V0KCJzeW1ib2xQb2ludHMiKTt0aGlzLmdyb3VwLmVhY2hDaGlsZChmdW5jdGlvbih0KXtpZihudWxsIT10LnN0YXJ0SW5kZXgpe3ZhciBlPTIqKHQuZW5kSW5kZXgtdC5zdGFydEluZGV4KSxpPTQqdC5zdGFydEluZGV4KjI7bj1uZXcgRmxvYXQzMkFycmF5KG4uYnVmZmVyLGksZSl9dC5zZXRTaGFwZSgicG9pbnRzIixuKX0pfX0sZHkuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLDJlNjx0LmNvdW50KCk/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IHZzKHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSxkeS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUsaSl7dmFyIG47dGhpcy5faW5jcmVtZW50YWw/KG49bmV3IGh5LHRoaXMuX2luY3JlbWVudGFsLmFkZERpc3BsYXlhYmxlKG4sITApKTooKG49bmV3IGh5KHtyZWN0SG92ZXI6ITAsY3Vyc29yOiJkZWZhdWx0IixzdGFydEluZGV4OnQuc3RhcnQsZW5kSW5kZXg6dC5lbmR9KSkuaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQobikpLG4uc2V0U2hhcGUoe3BvaW50czplLmdldExheW91dCgic3ltYm9sUG9pbnRzIil9KSx0aGlzLl9zZXRDb21tb24obixlLCEhdGhpcy5faW5jcmVtZW50YWwsaSl9LGR5Ll9zZXRDb21tb249ZnVuY3Rpb24oaSx0LGUsbil7dmFyIG89dC5ob3N0TW9kZWw7bj1ufHx7fTt2YXIgYT10LmdldFZpc3VhbCgic3ltYm9sU2l6ZSIpO2kuc2V0U2hhcGUoInNpemUiLGEgaW5zdGFuY2VvZiBBcnJheT9hOlthLGFdKSxpLnNvZnRDbGlwU2hhcGU9bi5jbGlwU2hhcGV8fG51bGwsaS5zeW1ib2xQcm94eT13Zyh0LmdldFZpc3VhbCgic3ltYm9sIiksMCwwLDAsMCksaS5zZXRDb2xvcj1pLnN5bWJvbFByb3h5LnNldENvbG9yO3ZhciByPWkuc2hhcGUuc2l6ZVswXTw0O2kudXNlU3R5bGUoby5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKHI/WyJjb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciJdOlsiY29sb3IiXSkpO3ZhciBzPXQuZ2V0VmlzdWFsKCJjb2xvciIpO3MmJmkuc2V0Q29sb3IocyksZXx8KGkuc2VyaWVzSW5kZXg9by5zZXJpZXNJbmRleCxpLm9uKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe2kuZGF0YUluZGV4PW51bGw7dmFyIGU9aS5maW5kRGF0YUluZGV4KHQub2Zmc2V0WCx0Lm9mZnNldFkpOzA8PWUmJihpLmRhdGFJbmRleD1lKyhpLnN0YXJ0SW5kZXh8fDApKX0pKX0sZHkucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHRoaXMuX2luY3JlbWVudGFsPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZHkuX2NsZWFySW5jcmVtZW50YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbmNyZW1lbnRhbDt0JiZ0LmNsZWFyRGlzcGxheWJsZXMoKX0sQ2Yoe3R5cGU6InNjYXR0ZXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlU3ltYm9sRHJhdyhuLHQpLnVwZGF0ZURhdGEobix7Y2xpcFNoYXBlOnRoaXMuX2dldENsaXBTaGFwZSh0KX0pLHRoaXMuX2ZpbmlzaGVkPSEwfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpO3RoaXMuX3VwZGF0ZVN5bWJvbERyYXcobix0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUobiksdGhpcy5fZmluaXNoZWQ9ITF9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9zeW1ib2xEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkse2NsaXBTaGFwZTp0aGlzLl9nZXRDbGlwU2hhcGUoZSl9KSx0aGlzLl9maW5pc2hlZD10LmVuZD09PWUuZ2V0RGF0YSgpLmNvdW50KCl9LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7aWYodGhpcy5ncm91cC5kaXJ0eSgpLCF0aGlzLl9maW5pc2hlZHx8MWU0PG4uY291bnQoKXx8IXRoaXMuX3N5bWJvbERyYXcuaXNQZXJzaXN0ZW50KCkpcmV0dXJue3VwZGF0ZTohMH07dmFyIG89a20oKS5yZXNldCh0KTtvLnByb2dyZXNzJiZvLnByb2dyZXNzKHtzdGFydDowLGVuZDpuLmNvdW50KCl9LG4pLHRoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KG4pfSxfZ2V0Q2xpcFNoYXBlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxpPWUmJmUuZ2V0QXJlYSYmZS5nZXRBcmVhKCk7cmV0dXJuIHQuZ2V0KCJjbGlwIiwhMCk/aTpudWxsfSxfdXBkYXRlU3ltYm9sRHJhdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3N5bWJvbERyYXcsbj1lLnBpcGVsaW5lQ29udGV4dC5sYXJnZTtyZXR1cm4gaSYmbj09PXRoaXMuX2lzTGFyZ2VEcmF3fHwoaSYmaS5yZW1vdmUoKSxpPXRoaXMuX3N5bWJvbERyYXc9bj9uZXcgY3k6bmV3IGltLHRoaXMuX2lzTGFyZ2VEcmF3PW4sdGhpcy5ncm91cC5yZW1vdmVBbGwoKSksdGhpcy5ncm91cC5hZGQoaS5ncm91cCksaX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApLHRoaXMuX3N5bWJvbERyYXc9bnVsbH0sZGlzcG9zZTpmdW5jdGlvbigpe319KSxTZihMbSgic2NhdHRlciIsImNpcmNsZSIpKSxiZihrbSgic2NhdHRlciIpKSx3KGZ5LEdnKSxweS5wcm90b3R5cGUuZ2V0SW5kaWNhdG9yQXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRpY2F0b3JBeGVzfSxweS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9pbmRpY2F0b3JBeGVzW2VdO3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChpLmRhdGFUb0Nvb3JkKHQpLGUpfSxweS5wcm90b3R5cGUuY29vcmRUb1BvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5faW5kaWNhdG9yQXhlc1tlXS5hbmdsZTtyZXR1cm5bdGhpcy5jeCt0Kk1hdGguY29zKGkpLHRoaXMuY3ktdCpNYXRoLnNpbihpKV19LHB5LnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10WzBdLXRoaXMuY3gsaT10WzFdLXRoaXMuY3ksbj1NYXRoLnNxcnQoZSplK2kqaSk7ZS89bixpLz1uO2Zvcih2YXIgbyxhPU1hdGguYXRhbjIoLWksZSkscj0xLzAscz0tMSxsPTA7bDx0aGlzLl9pbmRpY2F0b3JBeGVzLmxlbmd0aDtsKyspe3ZhciB1PXRoaXMuX2luZGljYXRvckF4ZXNbbF0saD1NYXRoLmFicyhhLXUuYW5nbGUpO2g8ciYmKG89dSxzPWwscj1oKX1yZXR1cm5bcywrKG8mJm8uY29vcmRUb0RhdGEobikpXX0scHkucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJjZW50ZXIiKSxuPWUuZ2V0V2lkdGgoKSxvPWUuZ2V0SGVpZ2h0KCksYT1NYXRoLm1pbihuLG8pLzI7dGhpcy5jeD16bChpWzBdLG4pLHRoaXMuY3k9emwoaVsxXSxvKSx0aGlzLnN0YXJ0QW5nbGU9dC5nZXQoInN0YXJ0QW5nbGUiKSpNYXRoLlBJLzE4MDt2YXIgcj10LmdldCgicmFkaXVzIik7InN0cmluZyIhPXR5cGVvZiByJiYibnVtYmVyIiE9dHlwZW9mIHJ8fChyPVswLHJdKSx0aGlzLnIwPXpsKHJbMF0sYSksdGhpcy5yPXpsKHJbMV0sYSksUih0aGlzLl9pbmRpY2F0b3JBeGVzLGZ1bmN0aW9uKHQsZSl7dC5zZXRFeHRlbnQodGhpcy5yMCx0aGlzLnIpO3ZhciBpPXRoaXMuc3RhcnRBbmdsZStlKk1hdGguUEkqMi90aGlzLl9pbmRpY2F0b3JBeGVzLmxlbmd0aDtpPU1hdGguYXRhbjIoTWF0aC5zaW4oaSksTWF0aC5jb3MoaSkpLHQuYW5nbGU9aX0sdGhpcyl9LHB5LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24obix0KXt2YXIgbz10aGlzLl9pbmRpY2F0b3JBeGVzLGE9dGhpcy5fbW9kZWw7UihvLGZ1bmN0aW9uKHQpe3Quc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKX0pLG4uZWFjaFNlcmllc0J5VHlwZSgicmFkYXIiLGZ1bmN0aW9uKHQsZSl7aWYoInJhZGFyIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikmJm4uZ2V0Q29tcG9uZW50KCJyYWRhciIsdC5nZXQoInJhZGFySW5kZXgiKSk9PT1hKXt2YXIgaT10LmdldERhdGEoKTtSKG8sZnVuY3Rpb24odCl7dC5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGksaS5tYXBEaW1lbnNpb24odC5kaW0pKX0pfX0sdGhpcyk7dmFyIGM9YS5nZXQoInNwbGl0TnVtYmVyIik7ZnVuY3Rpb24gZCh0KXt2YXIgZT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCkpLGk9dC9lO3JldHVybiAyPT09aT9pPTU6aSo9MixpKmV9UihvLGZ1bmN0aW9uKHQsZSl7dmFyIGk9YWcodC5zY2FsZSx0Lm1vZGVsKS5leHRlbnQ7cmcodC5zY2FsZSx0Lm1vZGVsKTt2YXIgbj10Lm1vZGVsLG89dC5zY2FsZSxhPW4uZ2V0TWluKCkscj1uLmdldE1heCgpLHM9by5nZXRJbnRlcnZhbCgpO2lmKG51bGwhPWEmJm51bGwhPXIpby5zZXRFeHRlbnQoK2EsK3IpLG8uc2V0SW50ZXJ2YWwoKHItYSkvYyk7ZWxzZSBpZihudWxsIT1hKWZvcig7dT1hK3MqYyxvLnNldEV4dGVudCgrYSx1KSxvLnNldEludGVydmFsKHMpLHM9ZChzKSx1PGlbMV0mJmlzRmluaXRlKHUpJiZpc0Zpbml0ZShpWzFdKTspO2Vsc2UgaWYobnVsbCE9cilmb3IoO2g9ci1zKmMsby5zZXRFeHRlbnQoaCwrciksby5zZXRJbnRlcnZhbChzKSxzPWQocyksaD5pWzBdJiZpc0Zpbml0ZShoKSYmaXNGaW5pdGUoaVswXSk7KTtlbHNle3ZhciBsPW8uZ2V0VGlja3MoKS5sZW5ndGgtMTtjPGwmJihzPWQocykpO3ZhciB1LGg9RWwoKHU9TWF0aC5jZWlsKGlbMV0vcykqcyktcypjKTtvLnNldEV4dGVudChoLHUpLG8uc2V0SW50ZXJ2YWwocyl9fSl9LHB5LmRpbWVuc2lvbnM9W10scHkuY3JlYXRlPWZ1bmN0aW9uKGksbil7dmFyIG89W107cmV0dXJuIGkuZWFjaENvbXBvbmVudCgicmFkYXIiLGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBweSh0LGksbik7by5wdXNoKGUpLHQuY29vcmRpbmF0ZVN5c3RlbT1lfSksaS5lYWNoU2VyaWVzQnlUeXBlKCJyYWRhciIsZnVuY3Rpb24odCl7InJhZGFyIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikmJih0LmNvb3JkaW5hdGVTeXN0ZW09b1t0LmdldCgicmFkYXJJbmRleCIpfHwwXSl9KSxvfSxsaC5yZWdpc3RlcigicmFkYXIiLHB5KTt2YXIgZ3k9Vm0udmFsdWVBeGlzO2Z1bmN0aW9uIG15KHQsZSl7cmV0dXJuIEQoe3Nob3c6ZX0sdCl9VGYoe3R5cGU6InJhZGFyIixvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7dmFyIG89dGhpcy5nZXQoImJvdW5kYXJ5R2FwIiksYT10aGlzLmdldCgic3BsaXROdW1iZXIiKSxyPXRoaXMuZ2V0KCJzY2FsZSIpLHM9dGhpcy5nZXQoImF4aXNMaW5lIiksbD10aGlzLmdldCgiYXhpc1RpY2siKSx1PXRoaXMuZ2V0KCJheGlzVHlwZSIpLGg9dGhpcy5nZXQoImF4aXNMYWJlbCIpLGM9dGhpcy5nZXQoIm5hbWUiKSxkPXRoaXMuZ2V0KCJuYW1lLnNob3ciKSxmPXRoaXMuZ2V0KCJuYW1lLmZvcm1hdHRlciIpLHA9dGhpcy5nZXQoIm5hbWVHYXAiKSxnPXRoaXMuZ2V0KCJ0cmlnZ2VyRXZlbnQiKSx0PU8odGhpcy5nZXQoImluZGljYXRvciIpfHxbXSxmdW5jdGlvbih0KXtudWxsIT10Lm1heCYmMDx0Lm1heCYmIXQubWluP3QubWluPTA6bnVsbCE9dC5taW4mJnQubWluPDAmJiF0Lm1heCYmKHQubWF4PTApO3ZhciBlPWM7aWYobnVsbCE9dC5jb2xvciYmKGU9RCh7Y29sb3I6dC5jb2xvcn0sYykpLHQ9bShrKHQpLHtib3VuZGFyeUdhcDpvLHNwbGl0TnVtYmVyOmEsc2NhbGU6cixheGlzTGluZTpzLGF4aXNUaWNrOmwsYXhpc1R5cGU6dSxheGlzTGFiZWw6aCxuYW1lOnQudGV4dCxuYW1lTG9jYXRpb246ImVuZCIsbmFtZUdhcDpwLG5hbWVUZXh0U3R5bGU6ZSx0cmlnZ2VyRXZlbnQ6Z30sITEpLGR8fCh0Lm5hbWU9IiIpLCJzdHJpbmciPT10eXBlb2YgZil7dmFyIGk9dC5uYW1lO3QubmFtZT1mLnJlcGxhY2UoInt2YWx1ZX0iLG51bGwhPWk/aToiIil9ZWxzZSJmdW5jdGlvbiI9PXR5cGVvZiBmJiYodC5uYW1lPWYodC5uYW1lLHQpKTt2YXIgbj1QKG5ldyBDbCh0LG51bGwsdGhpcy5lY01vZGVsKSxkZyk7cmV0dXJuIG4ubWFpblR5cGU9InJhZGFyIixuLmNvbXBvbmVudEluZGV4PXRoaXMuY29tcG9uZW50SW5kZXgsbn0sdGhpcyk7dGhpcy5nZXRJbmRpY2F0b3JNb2RlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdH19LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxjZW50ZXI6WyI1MCUiLCI1MCUiXSxyYWRpdXM6Ijc1JSIsc3RhcnRBbmdsZTo5MCxuYW1lOntzaG93OiEwfSxib3VuZGFyeUdhcDpbMCwwXSxzcGxpdE51bWJlcjo1LG5hbWVHYXA6MTUsc2NhbGU6ITEsc2hhcGU6InBvbHlnb24iLGF4aXNMaW5lOm0oe2xpbmVTdHlsZTp7Y29sb3I6IiNiYmIifX0sZ3kuYXhpc0xpbmUpLGF4aXNMYWJlbDpteShneS5heGlzTGFiZWwsITEpLGF4aXNUaWNrOm15KGd5LmF4aXNUaWNrLCExKSxheGlzVHlwZToiaW50ZXJ2YWwiLHNwbGl0TGluZTpteShneS5zcGxpdExpbmUsITApLHNwbGl0QXJlYTpteShneS5zcGxpdEFyZWEsITApLGluZGljYXRvcjpbXX19KTt2YXIgdnk9WyJheGlzTGluZSIsImF4aXNUaWNrTGFiZWwiLCJheGlzTmFtZSJdO0FmKHt0eXBlOiJyYWRhciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2J1aWxkQXhlcyh0KSx0aGlzLl9idWlsZFNwbGl0TGluZUFuZEFyZWEodCl9LF9idWlsZEF4ZXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO1IoTyhlLmdldEluZGljYXRvckF4ZXMoKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFFtKHQubW9kZWwse3Bvc2l0aW9uOltlLmN4LGUuY3ldLHJvdGF0aW9uOnQuYW5nbGUsbGFiZWxEaXJlY3Rpb246LTEsdGlja0RpcmVjdGlvbjotMSxuYW1lRGlyZWN0aW9uOjF9KX0pLGZ1bmN0aW9uKHQpe1IodnksdC5hZGQsdCksdGhpcy5ncm91cC5hZGQodC5nZXRHcm91cCgpKX0sdGhpcyl9LF9idWlsZFNwbGl0TGluZUFuZEFyZWE6ZnVuY3Rpb24odCl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLGU9bi5nZXRJbmRpY2F0b3JBeGVzKCk7aWYoZS5sZW5ndGgpe3ZhciBpPXQuZ2V0KCJzaGFwZSIpLG89dC5nZXRNb2RlbCgic3BsaXRMaW5lIiksYT10LmdldE1vZGVsKCJzcGxpdEFyZWEiKSxyPW8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9YS5nZXRNb2RlbCgiYXJlYVN0eWxlIiksbD1vLmdldCgic2hvdyIpLHU9YS5nZXQoInNob3ciKSxoPXIuZ2V0KCJjb2xvciIpLGM9cy5nZXQoImNvbG9yIik7aD1MKGgpP2g6W2hdLGM9TChjKT9jOltjXTt2YXIgZD1bXSxmPVtdO2lmKCJjaXJjbGUiPT09aSlmb3IodmFyIHA9ZVswXS5nZXRUaWNrc0Nvb3JkcygpLGc9bi5jeCxtPW4uY3ksdj0wO3Y8cC5sZW5ndGg7disrKXtpZihsKWRbSShkLGgsdildLnB1c2gobmV3IFlyKHtzaGFwZTp7Y3g6ZyxjeTptLHI6cFt2XS5jb29yZH19KSk7aWYodSYmdjxwLmxlbmd0aC0xKWZbSShmLGMsdildLnB1c2gobmV3IEtyKHtzaGFwZTp7Y3g6ZyxjeTptLHIwOnBbdl0uY29vcmQscjpwW3YrMV0uY29vcmR9fSkpfWVsc2V7dmFyIHkseD1PKGUsZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldFRpY2tzQ29vcmRzKCk7cmV0dXJuIHk9bnVsbD09eT9pLmxlbmd0aC0xOk1hdGgubWluKGkubGVuZ3RoLTEseSksTyhpLGZ1bmN0aW9uKHQpe3JldHVybiBuLmNvb3JkVG9Qb2ludCh0LmNvb3JkLGUpfSl9KSxfPVtdO2Zvcih2PTA7djw9eTt2Kyspe2Zvcih2YXIgdz1bXSxiPTA7YjxlLmxlbmd0aDtiKyspdy5wdXNoKHhbYl1bdl0pO2lmKHdbMF0mJncucHVzaCh3WzBdLnNsaWNlKCkpLGwpZFtJKGQsaCx2KV0ucHVzaChuZXcgdHMoe3NoYXBlOntwb2ludHM6d319KSk7aWYodSYmXylmW0koZixjLHYtMSldLnB1c2gobmV3IFFyKHtzaGFwZTp7cG9pbnRzOncuY29uY2F0KF8pfX0pKTtfPXcuc2xpY2UoKS5yZXZlcnNlKCl9fXZhciBTPXIuZ2V0TGluZVN0eWxlKCksTT1zLmdldEFyZWFTdHlsZSgpO1IoZixmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKFJzKHQse3N0eWxlOkQoe3N0cm9rZToibm9uZSIsZmlsbDpjW2UlYy5sZW5ndGhdfSxNKSxzaWxlbnQ6ITB9KSl9LHRoaXMpLFIoZCxmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKFJzKHQse3N0eWxlOkQoe2ZpbGw6Im5vbmUiLHN0cm9rZTpoW2UlaC5sZW5ndGhdfSxTKSxzaWxlbnQ6ITB9KSl9LHRoaXMpfWZ1bmN0aW9uIEkodCxlLGkpe3ZhciBuPWklZS5sZW5ndGg7cmV0dXJuIHRbbl09dFtuXXx8W10sbn19fSk7dmFyIHl5PXNjLmV4dGVuZCh7dHlwZToic2VyaWVzLnJhZGFyIixkZXBlbmRlbmNpZXM6WyJyYWRhciJdLGluaXQ6ZnVuY3Rpb24odCl7eXkuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IHF2KEEodGhpcy5nZXREYXRhLHRoaXMpLEEodGhpcy5nZXRSYXdEYXRhLHRoaXMpKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gWXYodGhpcyx7Z2VuZXJhdGVDb29yZDoiaW5kaWNhdG9yXyIsZ2VuZXJhdGVDb29yZENvdW50OjEvMH0pfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKG4sdCxlLGkpe3ZhciBvPXRoaXMuZ2V0RGF0YSgpLGE9dGhpcy5jb29yZGluYXRlU3lzdGVtLmdldEluZGljYXRvckF4ZXMoKSxyPXRoaXMuZ2V0RGF0YSgpLmdldE5hbWUobikscz0iaHRtbCI9PT1pPyI8YnIvPiI6IlxuIjtyZXR1cm4gYXUoIiI9PT1yP3RoaXMubmFtZTpyKStzK08oYSxmdW5jdGlvbih0LGUpe3ZhciBpPW8uZ2V0KG8ubWFwRGltZW5zaW9uKHQuZGltKSxuKTtyZXR1cm4gYXUodC5uYW1lKyIgOiAiK2kpfSkuam9pbihzKX0sZ2V0VG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpZm9yKHZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9dGhpcy5jb29yZGluYXRlU3lzdGVtLG49ZS5nZXRWYWx1ZXMoTyhpLmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwRGltZW5zaW9uKHQpfSksdCwhMCksbz0wLGE9bi5sZW5ndGg7bzxhO28rKylpZighaXNOYU4obltvXSkpe3ZhciByPWkuZ2V0SW5kaWNhdG9yQXhlcygpO3JldHVybiBpLmNvb3JkVG9Qb2ludChyW29dLmRhdGFUb0Nvb3JkKG5bb10pLG8pfX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InJhZGFyIixsZWdlbmRIb3Zlckxpbms6ITAscmFkYXJJbmRleDowLGxpbmVTdHlsZTp7d2lkdGg6Mix0eXBlOiJzb2xpZCJ9LGxhYmVsOntwb3NpdGlvbjoidG9wIn0sc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZTo0fX0pO0NmKHt0eXBlOiJyYWRhciIscmVuZGVyOmZ1bmN0aW9uKGwsdCxlKXt2YXIgaT1sLmNvb3JkaW5hdGVTeXN0ZW0sZz10aGlzLmdyb3VwLG09bC5nZXREYXRhKCkscz10aGlzLl9kYXRhO2Z1bmN0aW9uIHUodCxlKXt2YXIgaT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIil8fCJjaXJjbGUiLG49dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7aWYoIm5vbmUiIT09aSl7dmFyIG89ZnVuY3Rpb24odCl7cmV0dXJuIEwodCl8fCh0PVsrdCwrdF0pLHR9KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIikpLGE9d2coaSwtMSwtMSwyLDIsbikscj10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIil8fDA7cmV0dXJuIGEuYXR0cih7c3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjEwMCxzY2FsZTpbb1swXS8yLG9bMV0vMl0scm90YXRpb246cipNYXRoLlBJLzE4MHx8MH0pLGF9fWZ1bmN0aW9uIGgodCxlLGksbixvLGEpe2kucmVtb3ZlQWxsKCk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aC0xO3IrKyl7dmFyIHM9dShuLG8pO3MmJih0W3MuX19kaW1JZHg9cl0/KHMuYXR0cigicG9zaXRpb24iLHRbcl0pLGJsW2E/ImluaXRQcm9wcyI6InVwZGF0ZVByb3BzIl0ocyx7cG9zaXRpb246ZVtyXX0sbCxvKSk6cy5hdHRyKCJwb3NpdGlvbiIsZVtyXSksaS5hZGQocykpfX1mdW5jdGlvbiBjKHQpe3JldHVybiBPKHQsZnVuY3Rpb24odCl7cmV0dXJuW2kuY3gsaS5jeV19KX1tLmRpZmYocykuYWRkKGZ1bmN0aW9uKHQpe3ZhciBlPW0uZ2V0SXRlbUxheW91dCh0KTtpZihlKXt2YXIgaT1uZXcgUXIsbj1uZXcgdHMsbz17c2hhcGU6e3BvaW50czplfX07aS5zaGFwZS5wb2ludHM9YyhlKSxuLnNoYXBlLnBvaW50cz1jKGUpLGRsKGksbyxsLHQpLGRsKG4sbyxsLHQpO3ZhciBhPW5ldyBDaSxyPW5ldyBDaTthLmFkZChuKSxhLmFkZChpKSxhLmFkZChyKSxoKG4uc2hhcGUucG9pbnRzLGUscixtLHQsITApLG0uc2V0SXRlbUdyYXBoaWNFbCh0LGEpfX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe3ZhciBpPXMuZ2V0SXRlbUdyYXBoaWNFbChlKSxuPWkuY2hpbGRBdCgwKSxvPWkuY2hpbGRBdCgxKSxhPWkuY2hpbGRBdCgyKSxyPXtzaGFwZTp7cG9pbnRzOm0uZ2V0SXRlbUxheW91dCh0KX19O3Iuc2hhcGUucG9pbnRzJiYoaChuLnNoYXBlLnBvaW50cyxyLnNoYXBlLnBvaW50cyxhLG0sdCwhMSksY2wobixyLGwpLGNsKG8scixsKSxtLnNldEl0ZW1HcmFwaGljRWwodCxpKSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7Zy5yZW1vdmUocy5nZXRJdGVtR3JhcGhpY0VsKHQpKX0pLmV4ZWN1dGUoKSxtLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsaSl7dmFyIGU9bS5nZXRJdGVtTW9kZWwoaSksbj10LmNoaWxkQXQoMCksbz10LmNoaWxkQXQoMSksYT10LmNoaWxkQXQoMikscj1tLmdldEl0ZW1WaXN1YWwoaSwiY29sb3IiKTtnLmFkZCh0KSxuLnVzZVN0eWxlKEQoZS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkse2ZpbGw6Im5vbmUiLHN0cm9rZTpyfSkpLG4uaG92ZXJTdHlsZT1lLmdldE1vZGVsKCJlbXBoYXNpcy5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTt2YXIgcz1lLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxsPWUuZ2V0TW9kZWwoImVtcGhhc2lzLmFyZWFTdHlsZSIpLHU9cy5pc0VtcHR5KCkmJnMucGFyZW50TW9kZWwuaXNFbXB0eSgpLGg9bC5pc0VtcHR5KCkmJmwucGFyZW50TW9kZWwuaXNFbXB0eSgpO2g9aCYmdSxvLmlnbm9yZT11LG8udXNlU3R5bGUoRChzLmdldEFyZWFTdHlsZSgpLHtmaWxsOnIsb3BhY2l0eTouN30pKSxvLmhvdmVyU3R5bGU9bC5nZXRBcmVhU3R5bGUoKTt2YXIgYz1lLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSxkPWUuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGY9ZS5nZXRNb2RlbCgibGFiZWwiKSxwPWUuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIik7YS5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7dC5zZXRTdHlsZShjKSx0LmhvdmVyU3R5bGU9ayhkKTt2YXIgZT1tLmdldChtLmRpbWVuc2lvbnNbdC5fX2RpbUlkeF0saSk7bnVsbCE9ZSYmIWlzTmFOKGUpfHwoZT0iIiksZWwodC5zdHlsZSx0LmhvdmVyU3R5bGUsZixwLHtsYWJlbEZldGNoZXI6bS5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6aSxsYWJlbERpbUluZGV4OnQuX19kaW1JZHgsZGVmYXVsdFRleHQ6ZSxhdXRvQ29sb3I6cixpc1JlY3RUZXh0OiEwfSl9KSx0LmhpZ2hEb3duT25VcGRhdGU9ZnVuY3Rpb24odCxlKXtvLmF0dHIoImlnbm9yZSIsImVtcGhhc2lzIj09PWU/aDp1KX0sJHModCl9KSx0aGlzLl9kYXRhPW19LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO2Z1bmN0aW9uIHh5KHQpe3JldHVybiFpc05hTih0WzBdKSYmIWlzTmFOKHRbMV0pfWZ1bmN0aW9uIF95KHQpe3JldHVyblt0LmN4LHQuY3ldfVNmKGl5KCJyYWRhciIpKSxTZihMbSgicmFkYXIiLCJjaXJjbGUiKSksYmYoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJyYWRhciIsZnVuY3Rpb24odCl7dmFyIGk9dC5nZXREYXRhKCksbz1bXSxhPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihhKXt2YXIgZT1hLmdldEluZGljYXRvckF4ZXMoKTtSKGUsZnVuY3Rpb24odCxuKXtpLmVhY2goaS5tYXBEaW1lbnNpb24oZVtuXS5kaW0pLGZ1bmN0aW9uKHQsZSl7b1tlXT1vW2VdfHxbXTt2YXIgaT1hLmRhdGFUb1BvaW50KHQsbik7b1tlXVtuXT14eShpKT9pOl95KGEpfSl9KSxpLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9SShvW3RdLGZ1bmN0aW9uKHQpe3JldHVybiB4eSh0KX0pfHxfeShhKTtvW3RdLnB1c2goZS5zbGljZSgpKSxpLnNldEl0ZW1MYXlvdXQodCxvW3RdKX0pfX0pfSkseGYodXkoInJhZGFyIikpLHlmKGZ1bmN0aW9uKGkpe3ZhciB0PWkucG9sYXI7aWYodCl7TCh0KXx8KHQ9W3RdKTt2YXIgbj1bXTtSKHQsZnVuY3Rpb24odCxlKXt0LmluZGljYXRvcj8odC50eXBlJiYhdC5zaGFwZSYmKHQuc2hhcGU9dC50eXBlKSxpLnJhZGFyPWkucmFkYXJ8fFtdLEwoaS5yYWRhcil8fChpLnJhZGFyPVtpLnJhZGFyXSksaS5yYWRhci5wdXNoKHQpKTpuLnB1c2godCl9KSxpLnBvbGFyPW59UihpLnNlcmllcyxmdW5jdGlvbih0KXt0JiYicmFkYXIiPT09dC50eXBlJiZ0LnBvbGFySW5kZXgmJih0LnJhZGFySW5kZXg9dC5wb2xhckluZGV4KX0pfSk7Zm9yKHZhciB3eT1bMTI2LDI1XSxieT1bW1swLDMuNV0sWzcsMTEuMl0sWzE1LDExLjldLFszMCw3XSxbNDIsLjddLFs1MiwuN10sWzU2LDcuN10sWzU5LC43XSxbNjQsLjddLFs2NCwwXSxbNSwwXSxbMCwzLjVdXSxbWzEzLDE2LjFdLFsxOSwxNC43XSxbMTYsMjEuN10sWzExLDIzLjFdLFsxMywxNi4xXV0sW1sxMiwzMi4yXSxbMTQsMzguNV0sWzE1LDM4LjVdLFsxMywzMi4yXSxbMTIsMzIuMl1dLFtbMTYsNDcuNl0sWzEyLDUzLjJdLFsxMyw1My4yXSxbMTgsNDcuNl0sWzE2LDQ3LjZdXSxbWzYsNjQuNF0sWzgsNzBdLFs5LDcwXSxbOCw2NC40XSxbNiw2NC40XV0sW1syMyw4Mi42XSxbMjksNzkuOF0sWzMwLDc5LjhdLFsyNSw4Mi42XSxbMjMsODIuNl1dLFtbMzcsNzAuN10sWzQzLDYyLjNdLFs0NCw2Mi4zXSxbMzksNzAuN10sWzM3LDcwLjddXSxbWzQ4LDUxLjFdLFs1MSw0NS41XSxbNTMsNDUuNV0sWzUwLDUxLjFdLFs0OCw1MS4xXV0sW1s1MSwzNV0sWzUxLDI4LjddLFs1MywyOC43XSxbNTMsMzVdLFs1MSwzNV1dLFtbNTIsMjIuNF0sWzU1LDE3LjVdLFs1NiwxNy41XSxbNTMsMjIuNF0sWzUyLDIyLjRdXSxbWzU4LDEyLjZdLFs2Miw3XSxbNjMsN10sWzYwLDEyLjZdLFs1OCwxMi42XV0sW1swLDMuNV0sWzAsOTMuMV0sWzY0LDkzLjFdLFs2NCwwXSxbNjMsMF0sWzYzLDkyLjRdLFsxLDkyLjRdLFsxLDMuNV0sWzAsMy41XV1dLFN5PTA7U3k8YnkubGVuZ3RoO1N5KyspZm9yKHZhciBNeT0wO015PGJ5W1N5XS5sZW5ndGg7TXkrKylieVtTeV1bTXldWzBdLz0xMC41LGJ5W1N5XVtNeV1bMV0vPS0xNCxieVtTeV1bTXldWzBdKz13eVswXSxieVtTeV1bTXldWzFdKz13eVsxXTt2YXIgSXk9eyLljZfmtbfor7jlspsiOlszMiw4MF0sIuW5v+S4nCI6WzAsLTEwXSwi6aaZ5rivIjpbMTAsNV0sIua+s+mXqCI6Wy0xMCwxMF0sIuWkqea0pSI6WzUsNV19LFR5PXtSdXNzaWE6WzEwMCw2MF0sIlVuaXRlZCBTdGF0ZXMiOlstOTksMzhdLCJVbml0ZWQgU3RhdGVzIG9mIEFtZXJpY2EiOlstOTksMzhdfSxBeT1bW1sxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzUwNzM0MDY0NjAwODg0XSxbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1Ljc1MDczNDA2NDYwMDg4NF0sWzEyMy40NTE2NTI1MjY4NTU0NywyNS43MzUyNzE2NDQwMjI2MV1dXSxEeT1qbygpLEN5PXtsb2FkOmZ1bmN0aW9uKG4sdCxlKXt2YXIgaT1EeSh0KS5wYXJzZWQ7aWYoaSlyZXR1cm4gaTt2YXIgbyxhPXQuc3BlY2lhbEFyZWFzfHx7fSxyPXQuZ2VvSlNPTjt0cnl7bz1yP0NnKHIsZSk6W119Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGdlb0pzb24gZm9ybWF0XG4iK3QubWVzc2FnZSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7ImNoaW5hIj09PXQmJmUucHVzaChuZXcgQWcoIuWNl+a1t+ivuOWymyIsTyhieSxmdW5jdGlvbih0KXtyZXR1cm57dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6dH19KSx3eSkpfShuLG8pLFIobyxmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7IWZ1bmN0aW9uKHQsZSl7aWYoImNoaW5hIj09PXQpe3ZhciBpPUl5W2UubmFtZV07aWYoaSl7dmFyIG49ZS5jZW50ZXI7blswXSs9aVswXS8xMC41LG5bMV0rPS1pWzFdLzE0fX19KG4sdCksZnVuY3Rpb24odCxlKXtpZigid29ybGQiPT09dCl7dmFyIGk9VHlbZS5uYW1lXTtpZihpKXt2YXIgbj1lLmNlbnRlcjtuWzBdPWlbMF0sblsxXT1pWzFdfX19KG4sdCksZnVuY3Rpb24odCxlKXsiY2hpbmEiPT09dCYmIuWPsOa5viI9PT1lLm5hbWUmJmUuZ2VvbWV0cmllcy5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjpBeVswXX0pfShuLHQpO3ZhciBpPWFbZV07aSYmdC50cmFuc2Zvcm1UbyhpLmxlZnQsaS50b3AsaS53aWR0aCxpLmhlaWdodCl9KSxEeSh0KS5wYXJzZWQ9e3JlZ2lvbnM6byxib3VuZGluZ1JlY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXS5nZXRCb3VuZGluZ1JlY3QoKTsoZT1lfHxuLmNsb25lKCkpLnVuaW9uKG4pfXJldHVybiBlfShvKX19fTt2YXIgTHk9am8oKTtmdW5jdGlvbiBreSh0LGUpe3ZhciBpLG4sbz10LnN2Z1hNTDt0cnl7WShudWxsIT0obj0oaT1vJiZmdW5jdGlvbih0LGUpe3JldHVybihuZXcgaGQpLnBhcnNlKHQsZSl9KG8se2lnbm9yZVZpZXdCb3g6ITAsaWdub3JlUm9vdENsaXA6ITB9KXx8e30pLnJvb3QpKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3ZnIGZvcm1hdFxuIit0Lm1lc3NhZ2UpfXZhciBhPWkud2lkdGgscj1pLmhlaWdodCxzPWkudmlld0JveFJlY3Q7aWYoZXx8KGU9bnVsbD09YXx8bnVsbD09cj9uLmdldEJvdW5kaW5nUmVjdCgpOm5ldyBEaSgwLDAsMCwwKSxudWxsIT1hJiYoZS53aWR0aD1hKSxudWxsIT1yJiYoZS5oZWlnaHQ9cikpLHMpe3ZhciBsPXdkKHMsZS53aWR0aCxlLmhlaWdodCksdT1uOyhuPW5ldyBDaSkuYWRkKHUpLHUuc2NhbGU9bC5zY2FsZSx1LnBvc2l0aW9uPWwucG9zaXRpb259cmV0dXJuIG4uc2V0Q2xpcFBhdGgobmV3IHJzKHtzaGFwZTplLnBsYWluKCl9KSkse3Jvb3Q6bixib3VuZGluZ1JlY3Q6ZX19dmFyIFB5PXtnZW9KU09OOkN5LHN2Zzp7bG9hZDpmdW5jdGlvbih0LGUpe3ZhciBpPUx5KGUpLm9yaWdpblJvb3Q7aWYoaSlyZXR1cm57cm9vdDppLGJvdW5kaW5nUmVjdDpMeShlKS5ib3VuZGluZ1JlY3R9O3ZhciBuPWt5KGUpO3JldHVybiBMeShlKS5vcmlnaW5Sb290PW4ucm9vdCxMeShlKS5ib3VuZGluZ1JlY3Q9bi5ib3VuZGluZ1JlY3Qsbn0sbWFrZUdyYXBoaWM6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPUx5KGUpLG89bi5yb290TWFwfHwobi5yb290TWFwPVEoKSksYT1vLmdldChpKTtpZihhKXJldHVybiBhO3ZhciByPW4ub3JpZ2luUm9vdCxzPW4uYm91bmRpbmdSZWN0O3JldHVybiBhPW4ub3JpZ2luUm9vdEhvc3RLZXk/a3koZSxzKS5yb290OihuLm9yaWdpblJvb3RIb3N0S2V5PWksciksby5zZXQoaSxhKX0scmVtb3ZlR3JhcGhpYzpmdW5jdGlvbih0LGUsaSl7dmFyIG49THkoZSksbz1uLnJvb3RNYXA7byYmby5yZW1vdmVLZXkoaSksaT09PW4ub3JpZ2luUm9vdEhvc3RLZXkmJihuLm9yaWdpblJvb3RIb3N0S2V5PW51bGwpfX19LE55PXtsb2FkOmZ1bmN0aW9uKG4sbyxhKXt2YXIgcixzPVtdLGw9USgpLHU9USgpO3JldHVybiBSKFJ5KG4pLGZ1bmN0aW9uKHQpe3ZhciBlPVB5W3QudHlwZV0ubG9hZChuLHQsYSk7UihlLnJlZ2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lO28mJm8uaGFzT3duUHJvcGVydHkoZSkmJih0PXQuY2xvbmVTaGFsbG93KGU9b1tlXSkpLHMucHVzaCh0KSxsLnNldChlLHQpLHUuc2V0KGUsdC5jZW50ZXIpfSk7dmFyIGk9ZS5ib3VuZGluZ1JlY3Q7aSYmKHI/ci51bmlvbihpKTpyPWkuY2xvbmUoKSl9KSx7cmVnaW9uczpzLHJlZ2lvbnNNYXA6bCxuYW1lQ29vcmRNYXA6dSxib3VuZGluZ1JlY3Q6cnx8bmV3IERpKDAsMCwwLDApfX0sbWFrZUdyYXBoaWM6T3koIm1ha2VHcmFwaGljIikscmVtb3ZlR3JhcGhpYzpPeSgicmVtb3ZlR3JhcGhpYyIpfTtmdW5jdGlvbiBPeShhKXtyZXR1cm4gZnVuY3Rpb24oaSxuKXt2YXIgdD1SeShpKSxvPVtdO3JldHVybiBSKHQsZnVuY3Rpb24odCl7dmFyIGU9UHlbdC50eXBlXVthXTtlJiZvLnB1c2goZShpLHQsbikpfSksb319ZnVuY3Rpb24gUnkodCl7cmV0dXJuIFNkLnJldHJpZXZlTWFwKHQpfHxbXX1iKHNjLmV4dGVuZCh7dHlwZToic2VyaWVzLm1hcCIsZGVwZW5kZW5jaWVzOlsiZ2VvIl0sbGF5b3V0TW9kZToiYm94IixuZWVkc0RyYXdNYXA6ITEsc2VyaWVzR3JvdXA6W10sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVl2KHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOlQoSnUsdGhpcyl9KSxpPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG49USgpLG89W10sYT1bXSxyPTAscz1lLmNvdW50KCk7cjxzO3IrKyl7dmFyIGw9ZS5nZXROYW1lKHIpO24uc2V0KGwsITApLG8ucHVzaCh7bmFtZTpsLHZhbHVlOmUuZ2V0KGksciksc2VsZWN0ZWQ6WmgoZSxyLCJzZWxlY3RlZCIpfSl9cmV0dXJuIFIoTnkubG9hZCh0aGlzLmdldE1hcFR5cGUoKSx0aGlzLm9wdGlvbi5uYW1lTWFwLHRoaXMub3B0aW9uLm5hbWVQcm9wZXJ0eSkucmVnaW9ucyxmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7bi5nZXQoZSl8fChvLnB1c2goe25hbWU6ZX0pLGEucHVzaChlKSl9KSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKG8pLGUuYXBwZW5kVmFsdWVzKFtdLGEpLGV9LGdldEhvc3RHZW9Nb2RlbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLmdlb0luZGV4O3JldHVybiBudWxsIT10P3RoaXMuZGVwZW5kZW50TW9kZWxzLmdlb1t0XTpudWxsfSxnZXRNYXBUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZ2V0SG9zdEdlb01vZGVsKCl8fHRoaXMpLm9wdGlvbi5tYXB9LGdldFJhd1ZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpO3JldHVybiBlLmdldChlLm1hcERpbWVuc2lvbigidmFsdWUiKSx0KX0sZ2V0UmVnaW9uTW9kZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCk7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKGUuaW5kZXhPZk5hbWUodCkpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpLG4pe2Zvcih2YXIgbz10aGlzLmdldERhdGEoKSxhPXR1KHRoaXMuZ2V0UmF3VmFsdWUodCkpLHI9by5nZXROYW1lKHQpLHM9dGhpcy5zZXJpZXNHcm91cCxsPVtdLHU9MDt1PHMubGVuZ3RoO3UrKyl7dmFyIGg9c1t1XS5vcmlnaW5hbERhdGEuaW5kZXhPZk5hbWUociksYz1vLm1hcERpbWVuc2lvbigidmFsdWUiKTtpc05hTihzW3VdLm9yaWdpbmFsRGF0YS5nZXQoYyxoKSl8fGwucHVzaChhdShzW3VdLm5hbWUpKX12YXIgZD0iaHRtbCI9PT1uPyI8YnIvPiI6IlxuIjtyZXR1cm4gbC5qb2luKCIsICIpK2QrYXUocisiIDogIithKX0sZ2V0VG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldE5hbWUodCksaT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldFJlZ2lvbihlKTtyZXR1cm4gbiYmaS5kYXRhVG9Qb2ludChuLmNlbnRlcil9fSxzZXRab29tOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiZ2VvIixtYXA6IiIsbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsYXNwZWN0U2NhbGU6Ljc1LHNob3dMZWdlbmRTeW1ib2w6ITAsZGF0YVJhbmdlSG92ZXJMaW5rOiEwLGJvdW5kaW5nQ29vcmRzOm51bGwsY2VudGVyOm51bGwsem9vbToxLHNjYWxlTGltaXQ6bnVsbCxsYWJlbDp7c2hvdzohMSxjb2xvcjoiIzAwMCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6IiM0NDQiLGFyZWFDb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOnthcmVhQ29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX0sbmFtZVByb3BlcnR5OiJuYW1lIn19KSxqdik7dmFyIHp5PSJcMF9lY19pbnRlcmFjdGlvbl9tdXRleCI7ZnVuY3Rpb24gRXkodCxlKXtyZXR1cm4hIUJ5KHQpW2VdfWZ1bmN0aW9uIEJ5KHQpe3JldHVybiB0W3p5XXx8KHRbenldPXt9KX1mdW5jdGlvbiBWeShpKXt0aGlzLnBvaW50ZXJDaGVja2VyLHRoaXMuX3pyPWksdGhpcy5fb3B0PXt9O3ZhciB0PUEsbj10KEd5LHRoaXMpLG89dChGeSx0aGlzKSxhPXQoV3ksdGhpcykscj10KEh5LHRoaXMpLHM9dChaeSx0aGlzKTtDdC5jYWxsKHRoaXMpLHRoaXMuc2V0UG9pbnRlckNoZWNrZXI9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyQ2hlY2tlcj10fSx0aGlzLmVuYWJsZT1mdW5jdGlvbih0LGUpe3RoaXMuZGlzYWJsZSgpLHRoaXMuX29wdD1EKGsoZSl8fHt9LHt6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiExLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEwfSksbnVsbD09dCYmKHQ9ITApLCEwIT09dCYmIm1vdmUiIT09dCYmInBhbiIhPT10fHwoaS5vbigibW91c2Vkb3duIixuKSxpLm9uKCJtb3VzZW1vdmUiLG8pLGkub24oIm1vdXNldXAiLGEpKSwhMCE9PXQmJiJzY2FsZSIhPT10JiYiem9vbSIhPT10fHwoaS5vbigibW91c2V3aGVlbCIsciksaS5vbigicGluY2giLHMpKX0sdGhpcy5kaXNhYmxlPWZ1bmN0aW9uKCl7aS5vZmYoIm1vdXNlZG93biIsbiksaS5vZmYoIm1vdXNlbW92ZSIsbyksaS5vZmYoIm1vdXNldXAiLGEpLGkub2ZmKCJtb3VzZXdoZWVsIixyKSxpLm9mZigicGluY2giLHMpfSx0aGlzLmRpc3Bvc2U9dGhpcy5kaXNhYmxlLHRoaXMuaXNEcmFnZ2luZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2luZ30sdGhpcy5pc1BpbmNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpbmNoaW5nfX1mdW5jdGlvbiBHeSh0KXtpZighKFl0KHQpfHx0LnRhcmdldCYmdC50YXJnZXQuZHJhZ2dhYmxlKSl7dmFyIGU9dC5vZmZzZXRYLGk9dC5vZmZzZXRZO3RoaXMucG9pbnRlckNoZWNrZXImJnRoaXMucG9pbnRlckNoZWNrZXIodCxlLGkpJiYodGhpcy5feD1lLHRoaXMuX3k9aSx0aGlzLl9kcmFnZ2luZz0hMCl9fWZ1bmN0aW9uIEZ5KHQpe2lmKHRoaXMuX2RyYWdnaW5nJiZZeSgibW92ZU9uTW91c2VNb3ZlIix0LHRoaXMuX29wdCkmJiJwaW5jaCIhPT10Lmdlc3R1cmVFdmVudCYmIUV5KHRoaXMuX3pyLCJnbG9iYWxQYW4iKSl7dmFyIGU9dC5vZmZzZXRYLGk9dC5vZmZzZXRZLG49dGhpcy5feCxvPXRoaXMuX3ksYT1lLW4scj1pLW87dGhpcy5feD1lLHRoaXMuX3k9aSx0aGlzLl9vcHQucHJldmVudERlZmF1bHRNb3VzZU1vdmUmJlh0KHQuZXZlbnQpLFh5KHRoaXMsInBhbiIsIm1vdmVPbk1vdXNlTW92ZSIsdCx7ZHg6YSxkeTpyLG9sZFg6bixvbGRZOm8sbmV3WDplLG5ld1k6aX0pfX1mdW5jdGlvbiBXeSh0KXtZdCh0KXx8KHRoaXMuX2RyYWdnaW5nPSExKX1mdW5jdGlvbiBIeSh0KXt2YXIgZT1ZeSgiem9vbU9uTW91c2VXaGVlbCIsdCx0aGlzLl9vcHQpLGk9WXkoIm1vdmVPbk1vdXNlV2hlZWwiLHQsdGhpcy5fb3B0KSxuPXQud2hlZWxEZWx0YSxvPU1hdGguYWJzKG4pLGE9dC5vZmZzZXRYLHI9dC5vZmZzZXRZO2lmKDAhPT1uJiYoZXx8aSkpe2lmKGUpe3ZhciBzPTM8bz8xLjQ6MTxvPzEuMjoxLjE7VXkodGhpcywiem9vbSIsInpvb21Pbk1vdXNlV2hlZWwiLHQse3NjYWxlOjA8bj9zOjEvcyxvcmlnaW5YOmEsb3JpZ2luWTpyfSl9aWYoaSl7dmFyIGw9TWF0aC5hYnMobik7VXkodGhpcywic2Nyb2xsTW92ZSIsIm1vdmVPbk1vdXNlV2hlZWwiLHQse3Njcm9sbERlbHRhOigwPG4/MTotMSkqKDM8bD8uNDoxPGw/LjE1Oi4wNSksb3JpZ2luWDphLG9yaWdpblk6cn0pfX19ZnVuY3Rpb24gWnkodCl7RXkodGhpcy5fenIsImdsb2JhbFBhbiIpfHxVeSh0aGlzLCJ6b29tIixudWxsLHQse3NjYWxlOjE8dC5waW5jaFNjYWxlPzEuMToxLzEuMSxvcmlnaW5YOnQucGluY2hYLG9yaWdpblk6dC5waW5jaFl9KX1mdW5jdGlvbiBVeSh0LGUsaSxuLG8pe3QucG9pbnRlckNoZWNrZXImJnQucG9pbnRlckNoZWNrZXIobixvLm9yaWdpblgsby5vcmlnaW5ZKSYmKFh0KG4uZXZlbnQpLFh5KHQsZSxpLG4sbykpfWZ1bmN0aW9uIFh5KHQsZSxpLG4sbyl7by5pc0F2YWlsYWJsZUJlaGF2aW9yPUEoWXksbnVsbCxpLG4pLHQudHJpZ2dlcihlLG8pfWZ1bmN0aW9uIFl5KHQsZSxpKXt2YXIgbj1pW3RdO3JldHVybiF0fHxuJiYoIXoobil8fGUuZXZlbnRbbisiS2V5Il0pfWZ1bmN0aW9uIGp5KHQsZSxpKXt2YXIgbj10LnRhcmdldCxvPW4ucG9zaXRpb247b1swXSs9ZSxvWzFdKz1pLG4uZGlydHkoKX1mdW5jdGlvbiBxeSh0LGUsaSxuKXt2YXIgbz10LnRhcmdldCxhPXQuem9vbUxpbWl0LHI9by5wb3NpdGlvbixzPW8uc2NhbGUsbD10Lnpvb209dC56b29tfHwxO2lmKGwqPWUsYSl7dmFyIHU9YS5taW58fDAsaD1hLm1heHx8MS8wO2w9TWF0aC5tYXgoTWF0aC5taW4oaCxsKSx1KX12YXIgYz1sL3Quem9vbTt0Lnpvb209bCxyWzBdLT0oaS1yWzBdKSooYy0xKSxyWzFdLT0obi1yWzFdKSooYy0xKSxzWzBdKj1jLHNbMV0qPWMsby5kaXJ0eSgpfV9mKHt0eXBlOiJ0YWtlR2xvYmFsQ3Vyc29yIixldmVudDoiZ2xvYmFsQ3Vyc29yVGFrZW4iLHVwZGF0ZToidXBkYXRlIn0sZnVuY3Rpb24oKXt9KSxiKFZ5LEN0KTt2YXIgS3k9e2F4aXNQb2ludGVyOjEsdG9vbHRpcDoxLGJydXNoOjF9O2Z1bmN0aW9uICR5KHQsZSxpKXt2YXIgbj1lLmdldENvbXBvbmVudEJ5RWxlbWVudCh0LnRvcFRhcmdldCksbz1uJiZuLmNvb3JkaW5hdGVTeXN0ZW07cmV0dXJuIG4mJm4hPT1pJiYhS3lbbi5tYWluVHlwZV0mJm8mJm8ubW9kZWwhPT1pfWZ1bmN0aW9uIEp5KHQpe3ZhciBlPXQuZ2V0SXRlbVN0eWxlKCksaT10LmdldCgiYXJlYUNvbG9yIik7cmV0dXJuIG51bGwhPWkmJihlLmZpbGw9aSksZX1mdW5jdGlvbiBReShpLHQpe3QuZWFjaENoaWxkKGZ1bmN0aW9uKGUpe1IoZS5fX3JlZ2lvbnMsZnVuY3Rpb24odCl7ZS50cmlnZ2VyKGkuaXNTZWxlY3RlZCh0Lm5hbWUpPyJlbXBoYXNpcyI6Im5vcm1hbCIpfSl9KX1mdW5jdGlvbiB0eCh0LGUpe3ZhciBpPW5ldyBDaTt0aGlzLnVpZD1ObCgiZWNfbWFwX2RyYXciKSx0aGlzLl9jb250cm9sbGVyPW5ldyBWeSh0LmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6ZT9pOm51bGx9LHRoaXMuZ3JvdXA9aSx0aGlzLl91cGRhdGVHcm91cD1lLHRoaXMuX21vdXNlRG93bkZsYWcsdGhpcy5fbWFwTmFtZSx0aGlzLl9pbml0aWFsaXplZCxpLmFkZCh0aGlzLl9yZWdpb25zR3JvdXA9bmV3IENpKSxpLmFkZCh0aGlzLl9iYWNrZ3JvdW5kR3JvdXA9bmV3IENpKX10eC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnR4LGRyYXc6ZnVuY3Rpb24oXyx0LGUsaSxuKXt2YXIgdz0iZ2VvIj09PV8ubWFpblR5cGUsYj1fLmdldERhdGEmJl8uZ2V0RGF0YSgpO3cmJnQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToibWFwIn0sZnVuY3Rpb24odCl7Ynx8dC5nZXRIb3N0R2VvTW9kZWwoKSE9PV98fChiPXQuZ2V0RGF0YSgpKX0pO3ZhciBvPV8uY29vcmRpbmF0ZVN5c3RlbTt0aGlzLl91cGRhdGVCYWNrZ3JvdW5kKG8pO3ZhciBTLE09dGhpcy5fcmVnaW9uc0dyb3VwLEk9dGhpcy5ncm91cCxhPW8uZ2V0VHJhbnNmb3JtSW5mbygpLFQ9IU0uY2hpbGRBdCgwKXx8bjtpZihUKUkudHJhbnNmb3JtPWEucm9hbVRyYW5zZm9ybSxJLmRlY29tcG9zZVRyYW5zZm9ybSgpLEkuZGlydHkoKTtlbHNle3ZhciByPW5ldyB2ZTtyLnRyYW5zZm9ybT1hLnJvYW1UcmFuc2Zvcm0sci5kZWNvbXBvc2VUcmFuc2Zvcm0oKTt2YXIgcz17c2NhbGU6ci5zY2FsZSxwb3NpdGlvbjpyLnBvc2l0aW9ufTtTPXIuc2NhbGUsY2woSSxzLF8pfXZhciBBPWEucmF3U2NhbGUsRD1hLnJhd1Bvc2l0aW9uO00ucmVtb3ZlQWxsKCk7dmFyIEM9WyJpdGVtU3R5bGUiXSxMPVsiZW1waGFzaXMiLCJpdGVtU3R5bGUiXSxrPVsibGFiZWwiXSxQPVsiZW1waGFzaXMiLCJsYWJlbCJdLE49USgpO1Ioby5yZWdpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPU4uZ2V0KHQubmFtZSl8fE4uc2V0KHQubmFtZSxuZXcgQ2kpLGE9bmV3IHBzKHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BhdGhzOltdfX0pO2UuYWRkKGEpO3ZhciBpLG49KHg9Xy5nZXRSZWdpb25Nb2RlbCh0Lm5hbWUpfHxfKS5nZXRNb2RlbChDKSxvPXguZ2V0TW9kZWwoTCkscj1KeShuKSxzPUp5KG8pLGw9eC5nZXRNb2RlbChrKSx1PXguZ2V0TW9kZWwoUCk7aWYoYil7aT1iLmluZGV4T2ZOYW1lKHQubmFtZSk7dmFyIGg9Yi5nZXRJdGVtVmlzdWFsKGksImNvbG9yIiwhMCk7aCYmKHIuZmlsbD1oKX1mdW5jdGlvbiBjKHQpe3JldHVyblt0WzBdKkFbMF0rRFswXSx0WzFdKkFbMV0rRFsxXV19Uih0Lmdlb21ldHJpZXMsZnVuY3Rpb24odCl7aWYoInBvbHlnb24iPT09dC50eXBlKXtmb3IodmFyIGU9W10saT0wO2k8dC5leHRlcmlvci5sZW5ndGg7KytpKWUucHVzaChjKHQuZXh0ZXJpb3JbaV0pKTthLnNoYXBlLnBhdGhzLnB1c2gobmV3IFFyKHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BvaW50czplfX0pKTtmb3IoaT0wO2k8KHQuaW50ZXJpb3JzP3QuaW50ZXJpb3JzLmxlbmd0aDowKTsrK2kpe2Zvcih2YXIgbj10LmludGVyaW9yc1tpXSxvPShlPVtdLDApO288bi5sZW5ndGg7KytvKWUucHVzaChjKG5bb10pKTthLnNoYXBlLnBhdGhzLnB1c2gobmV3IFFyKHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BvaW50czplfX0pKX19fSksYS5zZXRTdHlsZShyKSxhLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsYS5jdWxsaW5nPSEwO3ZhciBkPWwuZ2V0KCJzaG93IiksZj11LmdldCgic2hvdyIpLHA9YiYmaXNOYU4oYi5nZXQoYi5tYXBEaW1lbnNpb24oInZhbHVlIiksaSkpLGc9YiYmYi5nZXRJdGVtTGF5b3V0KGkpO2lmKHd8fHAmJihkfHxmKXx8ZyYmZy5zaG93TGFiZWwpe3ZhciBtLHY9dz90Lm5hbWU6aTsoIWJ8fDA8PWkpJiYobT1fKTt2YXIgeT1uZXcgVXIoe3Bvc2l0aW9uOmModC5jZW50ZXIuc2xpY2UoKSksc2NhbGU6WzEvSS5zY2FsZVswXSwxL0kuc2NhbGVbMV1dLHoyOjEwLHNpbGVudDohMH0pO2lmKGVsKHkuc3R5bGUseS5ob3ZlclN0eWxlPXt9LGwsdSx7bGFiZWxGZXRjaGVyOm0sbGFiZWxEYXRhSW5kZXg6dixkZWZhdWx0VGV4dDp0Lm5hbWUsdXNlSW5zaWRlU3R5bGU6ITF9LHt0ZXh0QWxpZ246ImNlbnRlciIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KSwhVCljbCh5LHtzY2FsZTpbMS9TWzBdLDEvU1sxXV19LF8pO2UuYWRkKHkpfWlmKGIpYi5zZXRJdGVtR3JhcGhpY0VsKGksZSk7ZWxzZXt2YXIgeD1fLmdldFJlZ2lvbk1vZGVsKHQubmFtZSk7YS5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6ImdlbyIsY29tcG9uZW50SW5kZXg6Xy5jb21wb25lbnRJbmRleCxnZW9JbmRleDpfLmNvbXBvbmVudEluZGV4LG5hbWU6dC5uYW1lLHJlZ2lvbjp4JiZ4Lm9wdGlvbnx8e319fShlLl9fcmVnaW9uc3x8KGUuX19yZWdpb25zPVtdKSkucHVzaCh0KSxlLmhpZ2hEb3duU2lsZW50T25Ub3VjaD0hIV8uZ2V0KCJzZWxlY3RlZE1vZGUiKSwkcyhlLHMpLE0uYWRkKGUpfSksdGhpcy5fdXBkYXRlQ29udHJvbGxlcihfLHQsZSksZnVuY3Rpb24obixvLGEscixzKXthLm9mZigiY2xpY2siKSxhLm9mZigibW91c2Vkb3duIiksby5nZXQoInNlbGVjdGVkTW9kZSIpJiYoYS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe24uX21vdXNlRG93bkZsYWc9ITB9KSxhLm9uKCJjbGljayIsZnVuY3Rpb24odCl7aWYobi5fbW91c2VEb3duRmxhZyl7bi5fbW91c2VEb3duRmxhZz0hMTtmb3IodmFyIGU9dC50YXJnZXQ7IWUuX19yZWdpb25zOyllPWUucGFyZW50O2lmKGUpe3ZhciBpPXt0eXBlOigiZ2VvIj09PW8ubWFpblR5cGU/ImdlbyI6Im1hcCIpKyJUb2dnbGVTZWxlY3QiLGJhdGNoOk8oZS5fX3JlZ2lvbnMsZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5uYW1lLGZyb206cy51aWR9fSl9O2lbby5tYWluVHlwZSsiSWQiXT1vLmlkLHIuZGlzcGF0Y2hBY3Rpb24oaSksUXkobyxhKX19fSkpfSh0aGlzLF8sTSxlLGkpLFF5KF8sTSl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX3JlZ2lvbnNHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9iYWNrZ3JvdW5kR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fbWFwTmFtZSYmTnkucmVtb3ZlR3JhcGhpYyh0aGlzLl9tYXBOYW1lLHRoaXMudWlkKSx0aGlzLl9tYXBOYW1lPW51bGwsdGhpcy5fY29udHJvbGxlckhvc3Q9e319LF91cGRhdGVCYWNrZ3JvdW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWFwO3RoaXMuX21hcE5hbWUhPT1lJiZSKE55Lm1ha2VHcmFwaGljKGUsdGhpcy51aWQpLGZ1bmN0aW9uKHQpe3RoaXMuX2JhY2tncm91bmRHcm91cC5hZGQodCl9LHRoaXMpLHRoaXMuX21hcE5hbWU9ZX0sX3VwZGF0ZUNvbnRyb2xsZXI6ZnVuY3Rpb24obix0LG8pe3ZhciBhPW4uY29vcmRpbmF0ZVN5c3RlbSxlPXRoaXMuX2NvbnRyb2xsZXIsaT10aGlzLl9jb250cm9sbGVySG9zdDtpLnpvb21MaW1pdD1uLmdldCgic2NhbGVMaW1pdCIpLGkuem9vbT1hLmdldFpvb20oKSxlLmVuYWJsZShuLmdldCgicm9hbSIpfHwhMSk7dmFyIHI9bi5tYWluVHlwZTtmdW5jdGlvbiBzKCl7dmFyIHQ9e3R5cGU6Imdlb1JvYW0iLGNvbXBvbmVudFR5cGU6cn07cmV0dXJuIHRbcisiSWQiXT1uLmlkLHR9ZS5vZmYoInBhbiIpLm9uKCJwYW4iLGZ1bmN0aW9uKHQpe3RoaXMuX21vdXNlRG93bkZsYWc9ITEsankoaSx0LmR4LHQuZHkpLG8uZGlzcGF0Y2hBY3Rpb24oUChzKCkse2R4OnQuZHgsZHk6dC5keX0pKX0sdGhpcyksZS5vZmYoInpvb20iKS5vbigiem9vbSIsZnVuY3Rpb24odCl7aWYodGhpcy5fbW91c2VEb3duRmxhZz0hMSxxeShpLHQuc2NhbGUsdC5vcmlnaW5YLHQub3JpZ2luWSksby5kaXNwYXRjaEFjdGlvbihQKHMoKSx7em9vbTp0LnNjYWxlLG9yaWdpblg6dC5vcmlnaW5YLG9yaWdpblk6dC5vcmlnaW5ZfSkpLHRoaXMuX3VwZGF0ZUdyb3VwKXt2YXIgZT10aGlzLmdyb3VwLnNjYWxlO3RoaXMuX3JlZ2lvbnNHcm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXsidGV4dCI9PT10LnR5cGUmJnQuYXR0cigic2NhbGUiLFsxL2VbMF0sMS9lWzFdXSl9KX19LHRoaXMpLGUuc2V0UG9pbnRlckNoZWNrZXIoZnVuY3Rpb24odCxlLGkpe3JldHVybiBhLmdldFZpZXdSZWN0QWZ0ZXJSb2FtKCkuY29udGFpbihlLGkpJiYhJHkodCxvLG4pfSl9fTt2YXIgZXg9Il9fc2VyaWVzTWFwSGlnaERvd24iLGl4PSJfX3Nlcmllc01hcENhbGxLZXkiO2Z1bmN0aW9uIG54KHQpe3ZhciBlPXRoaXNbZXhdO2UmJmUucmVjb3JkVmVyc2lvbj09PXRoaXNbaXhdJiZveChlLHQpfWZ1bmN0aW9uIG94KHQsZSl7dmFyIGk9dC5jaXJjbGUsbj10LmxhYmVsTW9kZWwsbz10LmhvdmVyTGFiZWxNb2RlbCxhPXQuZW1waGFzaXNUZXh0LHI9dC5ub3JtYWxUZXh0O2U/KGkuc3R5bGUuZXh0ZW5kRnJvbShubCh7fSxvLHt0ZXh0Om8uZ2V0KCJzaG93Iik/YTpudWxsfSx7aXNSZWN0VGV4dDohMCx1c2VJbnNpZGVTdHlsZTohMX0sITApKSxpLl9fbWFwT3JpZ2luYWxaMj1pLnoyLGkuejIrPWJzKToobmwoaS5zdHlsZSxuLHt0ZXh0Om4uZ2V0KCJzaG93Iik/cjpudWxsLHRleHRQb3NpdGlvbjpuLmdldFNoYWxsb3coInBvc2l0aW9uIil8fCJib3R0b20ifSx7aXNSZWN0VGV4dDohMCx1c2VJbnNpZGVTdHlsZTohMX0pLGkuZGlydHkoITEpLG51bGwhPWkuX19tYXBPcmlnaW5hbFoyJiYoaS56Mj1pLl9fbWFwT3JpZ2luYWxaMixpLl9fbWFwT3JpZ2luYWxaMj1udWxsKSl9ZnVuY3Rpb24gYXgodCxlLGkpe3ZhciBuPXQuZ2V0Wm9vbSgpLG89dC5nZXRDZW50ZXIoKSxhPWUuem9vbSxyPXQuZGF0YVRvUG9pbnQobyk7aWYobnVsbCE9ZS5keCYmbnVsbCE9ZS5keSl7clswXS09ZS5keCxyWzFdLT1lLmR5O289dC5wb2ludFRvRGF0YShyKTt0LnNldENlbnRlcihvKX1pZihudWxsIT1hKXtpZihpKXt2YXIgcz1pLm1pbnx8MCxsPWkubWF4fHwxLzA7YT1NYXRoLm1heChNYXRoLm1pbihuKmEsbCkscykvbn10LnNjYWxlWzBdKj1hLHQuc2NhbGVbMV0qPWE7dmFyIHU9dC5wb3NpdGlvbixoPShlLm9yaWdpblgtdVswXSkqKGEtMSksYz0oZS5vcmlnaW5ZLXVbMV0pKihhLTEpO3VbMF0tPWgsdVsxXS09Yyx0LnVwZGF0ZVRyYW5zZm9ybSgpO289dC5wb2ludFRvRGF0YShyKTt0LnNldENlbnRlcihvKSx0LnNldFpvb20oYSpuKX1yZXR1cm57Y2VudGVyOnQuZ2V0Q2VudGVyKCksem9vbTp0LmdldFpvb20oKX19Q2Yoe3R5cGU6Im1hcCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFufHwibWFwVG9nZ2xlU2VsZWN0IiE9PW4udHlwZXx8bi5mcm9tIT09dGhpcy51aWQpe3ZhciBvPXRoaXMuZ3JvdXA7aWYoby5yZW1vdmVBbGwoKSwhdC5nZXRIb3N0R2VvTW9kZWwoKSl7aWYobiYmImdlb1JvYW0iPT09bi50eXBlJiYic2VyaWVzIj09PW4uY29tcG9uZW50VHlwZSYmbi5zZXJpZXNJZD09PXQuaWQpKGE9dGhpcy5fbWFwRHJhdykmJm8uYWRkKGEuZ3JvdXApO2Vsc2UgaWYodC5uZWVkc0RyYXdNYXApe3ZhciBhPXRoaXMuX21hcERyYXd8fG5ldyB0eChpLCEwKTtvLmFkZChhLmdyb3VwKSxhLmRyYXcodCxlLGksdGhpcyxuKSx0aGlzLl9tYXBEcmF3PWF9ZWxzZSB0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpLHRoaXMuX21hcERyYXc9bnVsbDt0LmdldCgic2hvd0xlZ2VuZFN5bWJvbCIpJiZlLmdldENvbXBvbmVudCgibGVnZW5kIikmJnRoaXMuX3JlbmRlclN5bWJvbHModCxlLGkpfX19LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpLHRoaXMuX21hcERyYXc9bnVsbH0sX3JlbmRlclN5bWJvbHM6ZnVuY3Rpb24oeCx0LGUpe3ZhciBfPXgub3JpZ2luYWxEYXRhLHc9dGhpcy5ncm91cDtfLmVhY2goXy5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24odCxlKXtpZighaXNOYU4odCkpe3ZhciBpPV8uZ2V0SXRlbUxheW91dChlKTtpZihpJiZpLnBvaW50KXt2YXIgbj1pLnBvaW50LG89aS5vZmZzZXQsYT1uZXcgWXIoe3N0eWxlOntmaWxsOnguZ2V0RGF0YSgpLmdldFZpc3VhbCgiY29sb3IiKX0sc2hhcGU6e2N4Om5bMF0rOSpvLGN5Om5bMV0scjozfSxzaWxlbnQ6ITAsejI6OCsobz8wOmJzKzEpfSk7aWYoIW8pe3ZhciByPXgubWFpblNlcmllcy5nZXREYXRhKCkscz1fLmdldE5hbWUoZSksbD1yLmluZGV4T2ZOYW1lKHMpLHU9Xy5nZXRJdGVtTW9kZWwoZSksaD11LmdldE1vZGVsKCJsYWJlbCIpLGM9dS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxkPXIuZ2V0SXRlbUdyYXBoaWNFbChsKSxmPUgoeC5nZXRGb3JtYXR0ZWRMYWJlbChsLCJub3JtYWwiKSxzKSxwPUgoeC5nZXRGb3JtYXR0ZWRMYWJlbChsLCJlbXBoYXNpcyIpLGYpLGc9ZFtleF0sbT1NYXRoLnJhbmRvbSgpO2lmKCFnKXtnPWRbZXhdPXt9O3ZhciB2PVQobngsITApLHk9VChueCwhMSk7ZC5vbigibW91c2VvdmVyIix2KS5vbigibW91c2VvdXQiLHkpLm9uKCJlbXBoYXNpcyIsdikub24oIm5vcm1hbCIseSl9UChnLHtyZWNvcmRWZXJzaW9uOmRbaXhdPW0sY2lyY2xlOmEsbGFiZWxNb2RlbDpoLGhvdmVyTGFiZWxNb2RlbDpjLGVtcGhhc2lzVGV4dDpwLG5vcm1hbFRleHQ6Zn0pLG94KGcsITEpfXcuYWRkKGEpfX19KX19KSxfZih7dHlwZToiZ2VvUm9hbSIsZXZlbnQ6Imdlb1JvYW0iLHVwZGF0ZToidXBkYXRlVHJhbnNmb3JtIn0sZnVuY3Rpb24obix0KXt2YXIgbz1uLmNvbXBvbmVudFR5cGV8fCJzZXJpZXMiO3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6byxxdWVyeTpufSxmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoImdlbyI9PT1lLnR5cGUpe3ZhciBpPWF4KGUsbix0LmdldCgic2NhbGVMaW1pdCIpKTt0LnNldENlbnRlciYmdC5zZXRDZW50ZXIoaS5jZW50ZXIpLHQuc2V0Wm9vbSYmdC5zZXRab29tKGkuem9vbSksInNlcmllcyI9PT1vJiZSKHQuc2VyaWVzR3JvdXAsZnVuY3Rpb24odCl7dC5zZXRDZW50ZXIoaS5jZW50ZXIpLHQuc2V0Wm9vbShpLnpvb20pfSl9fSl9KTt2YXIgcng9YnQ7ZnVuY3Rpb24gc3goKXt2ZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGx4KHQpe3RoaXMubmFtZT10LHRoaXMuem9vbUxpbWl0LHZlLmNhbGwodGhpcyksdGhpcy5fcm9hbVRyYW5zZm9ybWFibGU9bmV3IHN4LHRoaXMuX3Jhd1RyYW5zZm9ybWFibGU9bmV3IHN4LHRoaXMuX2NlbnRlcix0aGlzLl96b29tfWZ1bmN0aW9uIHV4KHQsZSxpLG4pe3ZhciBvPWkuc2VyaWVzTW9kZWwsYT1vP28uY29vcmRpbmF0ZVN5c3RlbTpudWxsO3JldHVybiBhPT09dGhpcz9hW3RdKG4pOm51bGx9ZnVuY3Rpb24gaHgodCxlLGksbil7bHguY2FsbCh0aGlzLHQpLHRoaXMubWFwPWU7dmFyIG89TnkubG9hZChlLGkpO3RoaXMuX25hbWVDb29yZE1hcD1vLm5hbWVDb29yZE1hcCx0aGlzLl9yZWdpb25zTWFwPW8ucmVnaW9uc01hcCx0aGlzLl9pbnZlcnRMb25naXR1dGU9bnVsbD09bnx8bix0aGlzLnJlZ2lvbnM9by5yZWdpb25zLHRoaXMuX3JlY3Q9by5ib3VuZGluZ1JlY3R9ZnVuY3Rpb24gY3godCxlLGksbil7dmFyIG89aS5nZW9Nb2RlbCxhPWkuc2VyaWVzTW9kZWwscj1vP28uY29vcmRpbmF0ZVN5c3RlbTphP2EuY29vcmRpbmF0ZVN5c3RlbXx8KGEuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygiZ2VvIilbMF18fHt9KS5jb29yZGluYXRlU3lzdGVtOm51bGw7cmV0dXJuIHI9PT10aGlzP3JbdF0obik6bnVsbH1mdW5jdGlvbiBkeCh0LGUpe3ZhciBpPXQuZ2V0KCJib3VuZGluZ0Nvb3JkcyIpO2lmKG51bGwhPWkpe3ZhciBuPWlbMF0sbz1pWzFdO2lzTmFOKG5bMF0pfHxpc05hTihuWzFdKXx8aXNOYU4ob1swXSl8fGlzTmFOKG9bMV0pfHx0aGlzLnNldEJvdW5kaW5nUmVjdChuWzBdLG5bMV0sb1swXS1uWzBdLG9bMV0tblsxXSl9dmFyIGEscj10aGlzLmdldEJvdW5kaW5nUmVjdCgpLHM9dC5nZXQoImxheW91dENlbnRlciIpLGw9dC5nZXQoImxheW91dFNpemUiKSx1PWUuZ2V0V2lkdGgoKSxoPWUuZ2V0SGVpZ2h0KCksYz1yLndpZHRoL3IuaGVpZ2h0KnRoaXMuYXNwZWN0U2NhbGUsZD0hMTtpZihzJiZsJiYocz1bemwoc1swXSx1KSx6bChzWzFdLGgpXSxsPXpsKGwsTWF0aC5taW4odSxoKSksaXNOYU4oc1swXSl8fGlzTmFOKHNbMV0pfHxpc05hTihsKXx8KGQ9ITApKSxkKXt2YXIgZj17fTsxPGM/KGYud2lkdGg9bCxmLmhlaWdodD1sL2MpOihmLmhlaWdodD1sLGYud2lkdGg9bCpjKSxmLnk9c1sxXS1mLmhlaWdodC8yLGYueD1zWzBdLWYud2lkdGgvMn1lbHNlKGE9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKSkuYXNwZWN0PWMsZj1idShhLHt3aWR0aDp1LGhlaWdodDpofSk7dGhpcy5zZXRWaWV3UmVjdChmLngsZi55LGYud2lkdGgsZi5oZWlnaHQpLHRoaXMuc2V0Q2VudGVyKHQuZ2V0KCJjZW50ZXIiKSksdGhpcy5zZXRab29tKHQuZ2V0KCJ6b29tIikpfWZ1bmN0aW9uIGZ4KGksdCl7Uih0LmdldCgiZ2VvQ29vcmQiKSxmdW5jdGlvbih0LGUpe2kuYWRkR2VvQ29vcmQoZSx0KX0pfWIoc3gsdmUpLGx4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bHgsdHlwZToidmlldyIsZGltZW5zaW9uczpbIngiLCJ5Il0sc2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0aGlzLl9yZWN0PW5ldyBEaSh0LGUsaSxuKSx0aGlzLl9yZWN0fSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sc2V0Vmlld1JlY3Q6ZnVuY3Rpb24odCxlLGksbil7dGhpcy50cmFuc2Zvcm1Ubyh0LGUsaSxuKSx0aGlzLl92aWV3UmVjdD1uZXcgRGkodCxlLGksbil9LHRyYW5zZm9ybVRvOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksYT10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlO2EudHJhbnNmb3JtPW8uY2FsY3VsYXRlVHJhbnNmb3JtKG5ldyBEaSh0LGUsaSxuKSksYS5kZWNvbXBvc2VUcmFuc2Zvcm0oKSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKX0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3QmJih0aGlzLl9jZW50ZXI9dCx0aGlzLl91cGRhdGVDZW50ZXJBbmRab29tKCkpfSxzZXRab29tOmZ1bmN0aW9uKHQpe3Q9dHx8MTt2YXIgZT10aGlzLnpvb21MaW1pdDtlJiYobnVsbCE9ZS5tYXgmJih0PU1hdGgubWluKGUubWF4LHQpKSxudWxsIT1lLm1pbiYmKHQ9TWF0aC5tYXgoZS5taW4sdCkpKSx0aGlzLl96b29tPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpfSxnZXREZWZhdWx0Q2VudGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm5bdC54K3Qud2lkdGgvMix0LnkrdC5oZWlnaHQvMl19LGdldENlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ8fHRoaXMuZ2V0RGVmYXVsdENlbnRlcigpfSxnZXRab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb218fDF9LGdldFJvYW1UcmFuc2Zvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9hbVRyYW5zZm9ybWFibGUuZ2V0TG9jYWxUcmFuc2Zvcm0oKX0sX3VwZGF0ZUNlbnRlckFuZFpvb206ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCksZT10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxpPXRoaXMuZ2V0RGVmYXVsdENlbnRlcigpLG49dGhpcy5nZXRDZW50ZXIoKSxvPXRoaXMuZ2V0Wm9vbSgpO249YnQoW10sbix0KSxpPWJ0KFtdLGksdCksZS5vcmlnaW49bixlLnBvc2l0aW9uPVtpWzBdLW5bMF0saVsxXS1uWzFdXSxlLnNjYWxlPVtvLG9dLHRoaXMuX3VwZGF0ZVRyYW5zZm9ybSgpfSxfdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsZT10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlOyhlLnBhcmVudD10KS51cGRhdGVUcmFuc2Zvcm0oKSxlLnVwZGF0ZVRyYW5zZm9ybSgpLHNlKHRoaXMudHJhbnNmb3JtfHwodGhpcy50cmFuc2Zvcm09W10pLGUudHJhbnNmb3JtfHxhZSgpKSx0aGlzLl9yYXdUcmFuc2Zvcm09ZS5nZXRMb2NhbFRyYW5zZm9ybSgpLHRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxbXSxkZSh0aGlzLmludlRyYW5zZm9ybSx0aGlzLnRyYW5zZm9ybSksdGhpcy5kZWNvbXBvc2VUcmFuc2Zvcm0oKX0sZ2V0VHJhbnNmb3JtSW5mbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLnRyYW5zZm9ybSxlPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7cmV0dXJue3JvYW1UcmFuc2Zvcm06dD9VKHQpOmFlKCkscmF3U2NhbGU6VShlLnNjYWxlKSxyYXdQb3NpdGlvbjpVKGUucG9zaXRpb24pfX0sZ2V0Vmlld1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1JlY3R9LGdldFZpZXdSZWN0QWZ0ZXJSb2FtOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiB0LmFwcGx5VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtKSx0fSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZT90aGlzLl9yYXdUcmFuc2Zvcm06dGhpcy50cmFuc2Zvcm07cmV0dXJuIGk9aXx8W10sbj9yeChpLHQsbik6YXQoaSx0KX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIGU/cngoW10sdCxlKTpbdFswXSx0WzFdXX0sY29udmVydFRvUGl4ZWw6VCh1eCwiZGF0YVRvUG9pbnQiKSxjb252ZXJ0RnJvbVBpeGVsOlQodXgsInBvaW50VG9EYXRhIiksY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFZpZXdSZWN0QWZ0ZXJSb2FtKCkuY29udGFpbih0WzBdLHRbMV0pfX0sYihseCx2ZSksaHgucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpoeCx0eXBlOiJnZW8iLGRpbWVuc2lvbnM6WyJsbmciLCJsYXQiXSxjb250YWluQ29vcmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5jb250YWluKHQpKXJldHVybiEwO3JldHVybiExfSx0cmFuc2Zvcm1UbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmdldEJvdW5kaW5nUmVjdCgpLGE9dGhpcy5faW52ZXJ0TG9uZ2l0dXRlO289by5jbG9uZSgpLGEmJihvLnk9LW8ueS1vLmhlaWdodCk7dmFyIHI9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZTtpZihyLnRyYW5zZm9ybT1vLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgRGkodCxlLGksbikpLHIuZGVjb21wb3NlVHJhbnNmb3JtKCksYSl7dmFyIHM9ci5zY2FsZTtzWzFdPS1zWzFdfXIudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGdldFJlZ2lvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVnaW9uc01hcC5nZXQodCl9LGdldFJlZ2lvbkJ5Q29vcmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5jb250YWluKHQpKXJldHVybiBlW2ldfSxhZGRHZW9Db29yZDpmdW5jdGlvbih0LGUpe3RoaXMuX25hbWVDb29yZE1hcC5zZXQodCxlKX0sZ2V0R2VvQ29vcmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWVDb29yZE1hcC5nZXQodCl9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUsaSl7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLmdldEdlb0Nvb3JkKHQpKSx0KXJldHVybiBseC5wcm90b3R5cGUuZGF0YVRvUG9pbnQuY2FsbCh0aGlzLHQsZSxpKX0sY29udmVydFRvUGl4ZWw6VChjeCwiZGF0YVRvUG9pbnQiKSxjb252ZXJ0RnJvbVBpeGVsOlQoY3gsInBvaW50VG9EYXRhIil9LGIoaHgsbHgpO3ZhciBweD17ZGltZW5zaW9uczpoeC5wcm90b3R5cGUuZGltZW5zaW9ucyxjcmVhdGU6ZnVuY3Rpb24odCxzKXt2YXIgbD1bXTt0LmVhY2hDb21wb25lbnQoImdlbyIsZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgibWFwIiksbj10LmdldCgiYXNwZWN0U2NhbGUiKSxvPSEwLGE9U2QucmV0cmlldmVNYXAoaSk7YSYmYVswXSYmInN2ZyI9PT1hWzBdLnR5cGU/KG51bGw9PW4mJihuPTEpLG89ITEpOm51bGw9PW4mJihuPS43NSk7dmFyIHI9bmV3IGh4KGkrZSxpLHQuZ2V0KCJuYW1lTWFwIiksbyk7ci5hc3BlY3RTY2FsZT1uLHIuem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0IiksbC5wdXNoKHIpLGZ4KHIsdCksKHQuY29vcmRpbmF0ZVN5c3RlbT1yKS5tb2RlbD10LHIucmVzaXplPWR4LHIucmVzaXplKHQscyl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoImdlbyI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldCgiZ2VvSW5kZXgiKXx8MDt0LmNvb3JkaW5hdGVTeXN0ZW09bFtlXX19KTt2YXIgaT17fTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKHQpe2lmKCF0LmdldEhvc3RHZW9Nb2RlbCgpKXt2YXIgZT10LmdldE1hcFR5cGUoKTtpW2VdPWlbZV18fFtdLGlbZV0ucHVzaCh0KX19KSxSKGksZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgaHgoZSxlLHAoTyh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldCgibmFtZU1hcCIpfSkpKTtpLnpvb21MaW1pdD1XLmFwcGx5KG51bGwsTyh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldCgic2NhbGVMaW1pdCIpfSkpLGwucHVzaChpKSxpLnJlc2l6ZT1keCxpLmFzcGVjdFNjYWxlPXRbMF0uZ2V0KCJhc3BlY3RTY2FsZSIpLGkucmVzaXplKHRbMF0scyksUih0LGZ1bmN0aW9uKHQpe2Z4KHQuY29vcmRpbmF0ZVN5c3RlbT1pLHQpfSl9KSxsfSxnZXRGaWxsZWRSZWdpb25zOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49KHR8fFtdKS5zbGljZSgpLG89USgpLGE9MDthPG4ubGVuZ3RoO2ErKylvLnNldChuW2FdLm5hbWUsblthXSk7cmV0dXJuIFIoTnkubG9hZChlLGkpLnJlZ2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lO28uZ2V0KGUpfHxuLnB1c2goe25hbWU6ZX0pfSksbn19O3dmKCJnZW8iLHB4KTtiZihmdW5jdGlvbihpKXt2YXIgbz17fTtpLmVhY2hTZXJpZXNCeVR5cGUoIm1hcCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNYXBUeXBlKCk7aWYoIXQuZ2V0SG9zdEdlb01vZGVsKCkmJiFvW2VdKXt2YXIgbD17fTtSKHQuc2VyaWVzR3JvdXAsZnVuY3Rpb24odCl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLHM9dC5vcmlnaW5hbERhdGE7dC5nZXQoInNob3dMZWdlbmRTeW1ib2wiKSYmaS5nZXRDb21wb25lbnQoImxlZ2VuZCIpJiZzLmVhY2gocy5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24odCxlKXt2YXIgaT1zLmdldE5hbWUoZSksbj1yLmdldFJlZ2lvbihpKTtpZihuJiYhaXNOYU4odCkpe3ZhciBvPWxbaV18fDAsYT1yLmRhdGFUb1BvaW50KG4uY2VudGVyKTtsW2ldPW8rMSxzLnNldEl0ZW1MYXlvdXQoZSx7cG9pbnQ6YSxvZmZzZXQ6b30pfX0pfSk7dmFyIG49dC5nZXREYXRhKCk7bi5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0TmFtZSh0KSxpPW4uZ2V0SXRlbUxheW91dCh0KXx8e307aS5zaG93TGFiZWw9IWxbZV0sbi5zZXRJdGVtTGF5b3V0KHQsaSl9KSxvW2VdPSEwfX0pfSksU2YoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJjb2xvciIpLGk9dC5nZXRNb2RlbCgiaXRlbVN0eWxlIiksbj1pLmdldCgiYXJlYUNvbG9yIiksbz1pLmdldCgiY29sb3IiKXx8ZVt0LnNlcmllc0luZGV4JWUubGVuZ3RoXTt0LmdldERhdGEoKS5zZXRWaXN1YWwoe2FyZWFDb2xvcjpuLGNvbG9yOm99KX0pfSkseGYoTGQuUFJPQ0VTU09SLlNUQVRJU1RJQyxmdW5jdGlvbih0KXt2YXIgbj17fTt0LmVhY2hTZXJpZXNCeVR5cGUoIm1hcCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRIb3N0R2VvTW9kZWwoKSxpPWU/Im8iK2UuaWQ6ImkiK3QuZ2V0TWFwVHlwZSgpOyhuW2ldPW5baV18fFtdKS5wdXNoKHQpfSksUihuLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWZ1bmN0aW9uKHUsaCl7dmFyIGM9e307cmV0dXJuIFIodSxmdW5jdGlvbihuKXtuLmVhY2gobi5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24odCxlKXt2YXIgaT0iZWMtIituLmdldE5hbWUoZSk7Y1tpXT1jW2ldfHxbXSxpc05hTih0KXx8Y1tpXS5wdXNoKHQpfSl9KSx1WzBdLm1hcCh1WzBdLm1hcERpbWVuc2lvbigidmFsdWUiKSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxuPSJlYy0iK3VbMF0uZ2V0TmFtZShlKSxvPTAsYT0xLzAscj0tMS8wLHM9Y1tuXS5sZW5ndGgsbD0wO2w8cztsKyspYT1NYXRoLm1pbihhLGNbbl1bbF0pLHI9TWF0aC5tYXgocixjW25dW2xdKSxvKz1jW25dW2xdO3JldHVybiBpPSJtaW4iPT09aD9hOiJtYXgiPT09aD9yOiJhdmVyYWdlIj09PWg/by9zOm8sMD09PXM/TmFOOml9KX0oTyh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldERhdGEoKX0pLHRbMF0uZ2V0KCJtYXBWYWx1ZUNhbGN1bGF0aW9uIikpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dLm9yaWdpbmFsRGF0YT10W25dLmdldERhdGEoKTtmb3Iobj0wO248dC5sZW5ndGg7bisrKSh0W25dLnNlcmllc0dyb3VwPXQpW25dLm5lZWRzRHJhd01hcD0wPT09biYmIXRbbl0uZ2V0SG9zdEdlb01vZGVsKCksdFtuXS5zZXREYXRhKGkuY2xvbmVTaGFsbG93KCkpLHRbbl0ubWFpblNlcmllcz10WzBdfSl9KSx5ZihmdW5jdGlvbih0KXt2YXIgZT1bXTtSKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe3QmJiJtYXAiPT09dC50eXBlJiYoZS5wdXNoKHQpLHQubWFwPXQubWFwfHx0Lm1hcFR5cGUsRCh0LHQubWFwTG9jYXRpb24pKX0pfSksZXkoIm1hcCIsW3t0eXBlOiJtYXBUb2dnbGVTZWxlY3QiLGV2ZW50OiJtYXBzZWxlY3RjaGFuZ2VkIixtZXRob2Q6InRvZ2dsZVNlbGVjdGVkIn0se3R5cGU6Im1hcFNlbGVjdCIsZXZlbnQ6Im1hcHNlbGVjdGVkIixtZXRob2Q6InNlbGVjdCJ9LHt0eXBlOiJtYXBVblNlbGVjdCIsZXZlbnQ6Im1hcHVuc2VsZWN0ZWQiLG1ldGhvZDoidW5TZWxlY3QifV0pO3ZhciBneD1SLG14PSJcMF9fbGlua19kYXRhcyIsdng9IlwwX19saW5rX21haW5EYXRhIjtmdW5jdGlvbiB5eChpKXt2YXIgbj1pLm1haW5EYXRhLHQ9aS5kYXRhczt0fHwodD17bWFpbjpufSxpLmRhdGFzQXR0cj17bWFpbjoiZGF0YSJ9KSxpLmRhdGFzPWkubWFpbkRhdGE9bnVsbCxNeChuLHQsaSksZ3godCxmdW5jdGlvbihlKXtneChuLlRSQU5TRkVSQUJMRV9NRVRIT0RTLGZ1bmN0aW9uKHQpe2Uud3JhcE1ldGhvZCh0LFQoeHgsaSkpfSl9KSxuLndyYXBNZXRob2QoImNsb25lU2hhbGxvdyIsVChieCxpKSksZ3gobi5DSEFOR0FCTEVfTUVUSE9EUyxmdW5jdGlvbih0KXtuLndyYXBNZXRob2QodCxUKF94LGkpKX0pLFkodFtuLmRhdGFUeXBlXT09PW4pfWZ1bmN0aW9uIHh4KHQsZSl7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHRbdnhdPT09dH0odGhpcykpe3ZhciBpPVAoe30sdGhpc1tteF0pO014KGlbdGhpcy5kYXRhVHlwZV09ZSxpLHQpfWVsc2UgSXgoZSx0aGlzLmRhdGFUeXBlLHRoaXNbdnhdLHQpO3JldHVybiBlfWZ1bmN0aW9uIF94KHQsZSl7cmV0dXJuIHQuc3RydWN0JiZ0LnN0cnVjdC51cGRhdGUodGhpcyksZX1mdW5jdGlvbiBieChpLG4pe3JldHVybiBneChuW214XSxmdW5jdGlvbih0LGUpe3QhPT1uJiZJeCh0LmNsb25lU2hhbGxvdygpLGUsbixpKX0pLG59ZnVuY3Rpb24gU3godCl7dmFyIGU9dGhpc1t2eF07cmV0dXJuIG51bGw9PXR8fG51bGw9PWU/ZTplW214XVt0XX1mdW5jdGlvbiBNeChpLHQsbil7aVtteF09e30sZ3godCxmdW5jdGlvbih0LGUpe0l4KHQsZSxpLG4pfSl9ZnVuY3Rpb24gSXgodCxlLGksbil7KGlbbXhdW2VdPXQpW3Z4XT1pLHQuZGF0YVR5cGU9ZSxuLnN0cnVjdCYmKHRbbi5zdHJ1Y3RBdHRyXT1uLnN0cnVjdCxuLnN0cnVjdFtuLmRhdGFzQXR0cltlXV09dCksdC5nZXRMaW5rZWREYXRhPVN4fWZ1bmN0aW9uIFR4KHQsZSl7dGhpcy5uYW1lPXR8fCIiLHRoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGFyZW50Tm9kZT1udWxsLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5ob3N0VHJlZT1lfWZ1bmN0aW9uIEF4KHQpe3RoaXMucm9vdCx0aGlzLmRhdGEsdGhpcy5fbm9kZXM9W10sdGhpcy5ob3N0TW9kZWw9dH1mdW5jdGlvbiBEeCh0LGUpe3ZhciBpPWUuY2hpbGRyZW47dC5wYXJlbnROb2RlIT09ZSYmKGkucHVzaCh0KSx0LnBhcmVudE5vZGU9ZSl9ZnVuY3Rpb24gQ3godCxlKXt2YXIgaT10LmlzRXhwYW5kP3QuY2hpbGRyZW46W10sbj10LnBhcmVudE5vZGUuY2hpbGRyZW4sbz10LmhpZXJOb2RlLmk/blt0LmhpZXJOb2RlLmktMV06bnVsbDtpZihpLmxlbmd0aCl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4saT1lLmxlbmd0aCxuPTAsbz0wO2Zvcig7MDw9LS1pOyl7dmFyIGE9ZVtpXTthLmhpZXJOb2RlLnByZWxpbSs9bixhLmhpZXJOb2RlLm1vZGlmaWVyKz1uLG8rPWEuaGllck5vZGUuY2hhbmdlLG4rPWEuaGllck5vZGUuc2hpZnQrb319KHQpO3ZhciBhPShpWzBdLmhpZXJOb2RlLnByZWxpbStpW2kubGVuZ3RoLTFdLmhpZXJOb2RlLnByZWxpbSkvMjtvPyh0LmhpZXJOb2RlLnByZWxpbT1vLmhpZXJOb2RlLnByZWxpbStlKHQsbyksdC5oaWVyTm9kZS5tb2RpZmllcj10LmhpZXJOb2RlLnByZWxpbS1hKTp0LmhpZXJOb2RlLnByZWxpbT1hfWVsc2UgbyYmKHQuaGllck5vZGUucHJlbGltPW8uaGllck5vZGUucHJlbGltK2UodCxvKSk7dC5wYXJlbnROb2RlLmhpZXJOb2RlLmRlZmF1bHRBbmNlc3Rvcj1mdW5jdGlvbih0LGUsaSxuKXtpZihlKXtmb3IodmFyIG89dCxhPXQscj1hLnBhcmVudE5vZGUuY2hpbGRyZW5bMF0scz1lLGw9by5oaWVyTm9kZS5tb2RpZmllcix1PWEuaGllck5vZGUubW9kaWZpZXIsaD1yLmhpZXJOb2RlLm1vZGlmaWVyLGM9cy5oaWVyTm9kZS5tb2RpZmllcjtzPU54KHMpLGE9T3goYSkscyYmYTspe289Tngobykscj1PeChyKSxvLmhpZXJOb2RlLmFuY2VzdG9yPXQ7dmFyIGQ9cy5oaWVyTm9kZS5wcmVsaW0rYy1hLmhpZXJOb2RlLnByZWxpbS11K24ocyxhKTswPGQmJihSeCgocD10LGc9aSwoZj1zKS5oaWVyTm9kZS5hbmNlc3Rvci5wYXJlbnROb2RlPT09cC5wYXJlbnROb2RlP2YuaGllck5vZGUuYW5jZXN0b3I6ZyksdCxkKSx1Kz1kLGwrPWQpLGMrPXMuaGllck5vZGUubW9kaWZpZXIsdSs9YS5oaWVyTm9kZS5tb2RpZmllcixsKz1vLmhpZXJOb2RlLm1vZGlmaWVyLGgrPXIuaGllck5vZGUubW9kaWZpZXJ9cyYmIU54KG8pJiYoby5oaWVyTm9kZS50aHJlYWQ9cyxvLmhpZXJOb2RlLm1vZGlmaWVyKz1jLWwpLGEmJiFPeChyKSYmKHIuaGllck5vZGUudGhyZWFkPWEsci5oaWVyTm9kZS5tb2RpZmllcis9dS1oLGk9dCl9dmFyIGYscCxnO3JldHVybiBpfSh0LG8sdC5wYXJlbnROb2RlLmhpZXJOb2RlLmRlZmF1bHRBbmNlc3Rvcnx8blswXSxlKX1mdW5jdGlvbiBMeCh0KXt2YXIgZT10LmhpZXJOb2RlLnByZWxpbSt0LnBhcmVudE5vZGUuaGllck5vZGUubW9kaWZpZXI7dC5zZXRMYXlvdXQoe3g6ZX0sITApLHQuaGllck5vZGUubW9kaWZpZXIrPXQucGFyZW50Tm9kZS5oaWVyTm9kZS5tb2RpZmllcn1mdW5jdGlvbiBreCh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90Onp4fWZ1bmN0aW9uIFB4KHQsZSl7dmFyIGk9e307cmV0dXJuIHQtPU1hdGguUEkvMixpLng9ZSpNYXRoLmNvcyh0KSxpLnk9ZSpNYXRoLnNpbih0KSxpfWZ1bmN0aW9uIE54KHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGUubGVuZ3RoJiZ0LmlzRXhwYW5kP2VbZS5sZW5ndGgtMV06dC5oaWVyTm9kZS50aHJlYWR9ZnVuY3Rpb24gT3godCl7dmFyIGU9dC5jaGlsZHJlbjtyZXR1cm4gZS5sZW5ndGgmJnQuaXNFeHBhbmQ/ZVswXTp0LmhpZXJOb2RlLnRocmVhZH1mdW5jdGlvbiBSeCh0LGUsaSl7dmFyIG49aS8oZS5oaWVyTm9kZS5pLXQuaGllck5vZGUuaSk7ZS5oaWVyTm9kZS5jaGFuZ2UtPW4sZS5oaWVyTm9kZS5zaGlmdCs9aSxlLmhpZXJOb2RlLm1vZGlmaWVyKz1pLGUuaGllck5vZGUucHJlbGltKz1pLHQuaGllck5vZGUuY2hhbmdlKz1ufWZ1bmN0aW9uIHp4KHQsZSl7cmV0dXJuIHQucGFyZW50Tm9kZT09PWUucGFyZW50Tm9kZT8xOjJ9VHgucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUeCxpc1JlbW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhSW5kZXg8MH0sZWFjaE5vZGU6ZnVuY3Rpb24odCxlLGkpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYoaT1lLGU9dCx0PW51bGwpLHoodD10fHx7fSkmJih0PXtvcmRlcjp0fSk7dmFyIG4sbz10Lm9yZGVyfHwicHJlb3JkZXIiLGE9dGhpc1t0LmF0dHJ8fCJjaGlsZHJlbiJdOyJwcmVvcmRlciI9PT1vJiYobj1lLmNhbGwoaSx0aGlzKSk7Zm9yKHZhciByPTA7IW4mJnI8YS5sZW5ndGg7cisrKWFbcl0uZWFjaE5vZGUodCxlLGkpOyJwb3N0b3JkZXIiPT09byYmZS5jYWxsKGksdGhpcyl9LHVwZGF0ZURlcHRoQW5kSGVpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBlPTA7dGhpcy5kZXB0aD10O2Zvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgbj10aGlzLmNoaWxkcmVuW2ldO24udXBkYXRlRGVwdGhBbmRIZWlnaHQodCsxKSxuLmhlaWdodD5lJiYoZT1uLmhlaWdodCl9dGhpcy5oZWlnaHQ9ZSsxfSxnZXROb2RlQnlJZDpmdW5jdGlvbih0KXtpZih0aGlzLmdldElkKCk9PT10KXJldHVybiB0aGlzO2Zvcih2YXIgZT0wLGk9dGhpcy5jaGlsZHJlbixuPWkubGVuZ3RoO2U8bjtlKyspe3ZhciBvPWlbZV0uZ2V0Tm9kZUJ5SWQodCk7aWYobylyZXR1cm4gb319LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXJldHVybiEwO2Zvcih2YXIgZT0wLGk9dGhpcy5jaGlsZHJlbixuPWkubGVuZ3RoO2U8bjtlKyspe3ZhciBvPWlbZV0uY29udGFpbnModCk7aWYobylyZXR1cm4gb319LGdldEFuY2VzdG9yczpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT10P3RoaXM6dGhpcy5wYXJlbnROb2RlO2k7KWUucHVzaChpKSxpPWkucGFyZW50Tm9kZTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0VHJlZS5kYXRhO3JldHVybiBlLmdldChlLmdldERpbWVuc2lvbih0fHwidmFsdWUiKSx0aGlzLmRhdGFJbmRleCl9LHNldExheW91dDpmdW5jdGlvbih0LGUpezA8PXRoaXMuZGF0YUluZGV4JiZ0aGlzLmhvc3RUcmVlLmRhdGEuc2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCx0LGUpfSxnZXRMYXlvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgpfSxnZXRNb2RlbDpmdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXJldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX0sc2V0VmlzdWFsOmZ1bmN0aW9uKHQsZSl7MDw9dGhpcy5kYXRhSW5kZXgmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldFZpc3VhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0LGUpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SWQodGhpcy5kYXRhSW5kZXgpfSxpc0FuY2VzdG9yT2Y6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucGFyZW50Tm9kZTtlOyl7aWYoZT09PXRoaXMpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9cmV0dXJuITF9LGlzRGVzY2VuZGFudE9mOmZ1bmN0aW9uKHQpe3JldHVybiB0IT09dGhpcyYmdC5pc0FuY2VzdG9yT2YodGhpcyl9fSxBeC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkF4LHR5cGU6InRyZWUiLGVhY2hOb2RlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnJvb3QuZWFjaE5vZGUodCxlLGkpfSxnZXROb2RlQnlEYXRhSW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLl9ub2Rlc1tlXX0sZ2V0Tm9kZUJ5TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290LmdldE5vZGVCeU5hbWUodCl9LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9ub2RlcyxpPTAsbj1lLmxlbmd0aDtpPG47aSsrKWVbaV0uZGF0YUluZGV4PS0xO2ZvcihpPTAsbj10LmNvdW50KCk7aTxuO2krKyllW3QuZ2V0UmF3SW5kZXgoaSldLmRhdGFJbmRleD1pfSxjbGVhckxheW91dHM6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuY2xlYXJJdGVtTGF5b3V0cygpfX0sQXguY3JlYXRlVHJlZT1mdW5jdGlvbih0LGUsaSl7dmFyIHM9bmV3IEF4KGUpLGw9W10sdT0xOyFmdW5jdGlvbiB0KGUsaSl7dmFyIG49ZS52YWx1ZTt1PU1hdGgubWF4KHUsTChuKT9uLmxlbmd0aDoxKTtsLnB1c2goZSk7dmFyIG89bmV3IFR4KGUubmFtZSxzKTtpP0R4KG8saSk6cy5yb290PW87cy5fbm9kZXMucHVzaChvKTt2YXIgYT1lLmNoaWxkcmVuO2lmKGEpZm9yKHZhciByPTA7cjxhLmxlbmd0aDtyKyspdChhW3JdLG8pfSh0KSxzLnJvb3QudXBkYXRlRGVwdGhBbmRIZWlnaHQoMCk7dmFyIG49bHAobCx7Y29vcmREaW1lbnNpb25zOlsidmFsdWUiXSxkaW1lbnNpb25zQ291bnQ6dX0pLG89bmV3IFlmKG4sZSk7cmV0dXJuIG8uaW5pdERhdGEobCksaSYmaShvKSx5eCh7bWFpbkRhdGE6byxzdHJ1Y3Q6cyxzdHJ1Y3RBdHRyOiJ0cmVlIn0pLHMudXBkYXRlKCksc30sc2MuZXh0ZW5kKHt0eXBlOiJzZXJpZXMudHJlZSIsbGF5b3V0SW5mbzpudWxsLGxheW91dE1vZGU6ImJveCIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dC5uYW1lLGNoaWxkcmVuOnQuZGF0YX0sbj1uZXcgQ2wodC5sZWF2ZXN8fHt9LHRoaXMsdGhpcy5lY01vZGVsKSxvPUF4LmNyZWF0ZVRyZWUoZSx0aGlzLGZ1bmN0aW9uKHQpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIixmdW5jdGlvbih0LGUpe3ZhciBpPW8uZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBpLmNoaWxkcmVuLmxlbmd0aCYmaS5pc0V4cGFuZHx8KHQucGFyZW50TW9kZWw9biksdH0pfSk7dmFyIGk9MDtvLmVhY2hOb2RlKCJwcmVvcmRlciIsZnVuY3Rpb24odCl7dC5kZXB0aD5pJiYoaT10LmRlcHRoKX0pO3ZhciBhPXQuZXhwYW5kQW5kQ29sbGFwc2UmJjA8PXQuaW5pdGlhbFRyZWVEZXB0aD90LmluaXRpYWxUcmVlRGVwdGg6aTtyZXR1cm4gby5yb290LmVhY2hOb2RlKCJwcmVvcmRlciIsZnVuY3Rpb24odCl7dmFyIGU9dC5ob3N0VHJlZS5kYXRhLmdldFJhd0RhdGFJdGVtKHQuZGF0YUluZGV4KTt0LmlzRXhwYW5kPWUmJm51bGwhPWUuY29sbGFwc2VkPyFlLmNvbGxhcHNlZDp0LmRlcHRoPD1hfSksby5kYXRhfSxnZXRPcmllbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgib3JpZW50Iik7cmV0dXJuImhvcml6b250YWwiPT09dD90PSJMUiI6InZlcnRpY2FsIj09PXQmJih0PSJUQiIpLHR9LHNldFpvb206ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxzZXRDZW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0RGF0YSgpLnRyZWUsaT1lLnJvb3QuY2hpbGRyZW5bMF0sbj1lLmdldE5vZGVCeURhdGFJbmRleCh0KSxvPW4uZ2V0VmFsdWUoKSxhPW4ubmFtZTtuJiZuIT09aTspYT1uLnBhcmVudE5vZGUubmFtZSsiLiIrYSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gYXUoYSsoaXNOYU4obyl8fG51bGw9PW8/IiI6IiA6ICIrbykpfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToidmlldyIsbGVmdDoiMTIlIix0b3A6IjEyJSIscmlnaHQ6IjEyJSIsYm90dG9tOiIxMiUiLGxheW91dDoib3J0aG9nb25hbCIsZWRnZVNoYXBlOiJjdXJ2ZSIsZWRnZUZvcmtQb3NpdGlvbjoiNTAlIixyb2FtOiExLG5vZGVTY2FsZVJhdGlvOi40LGNlbnRlcjpudWxsLHpvb206MSxvcmllbnQ6IkxSIixzeW1ib2w6ImVtcHR5Q2lyY2xlIixzeW1ib2xTaXplOjcsZXhwYW5kQW5kQ29sbGFwc2U6ITAsaW5pdGlhbFRyZWVEZXB0aDoyLGxpbmVTdHlsZTp7Y29sb3I6IiNjY2MiLHdpZHRoOjEuNSxjdXJ2ZW5lc3M6LjV9LGl0ZW1TdHlsZTp7Y29sb3I6ImxpZ2h0c3RlZWxibHVlIixib3JkZXJDb2xvcjoiI2MyMzUzMSIsYm9yZGVyV2lkdGg6MS41fSxsYWJlbDp7c2hvdzohMCxjb2xvcjoiIzU1NSJ9LGxlYXZlczp7bGFiZWw6e3Nob3c6ITB9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246NzAwLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjFlM319KTt2YXIgRXg9Q3Moe3NoYXBlOntwYXJlbnRQb2ludDpbXSxjaGlsZFBvaW50czpbXSxvcmllbnQ6IiIsZm9ya1Bvc2l0aW9uOiIifSxzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY2hpbGRQb2ludHMsbj1pLmxlbmd0aCxvPWUucGFyZW50UG9pbnQsYT1pWzBdLHI9aVtuLTFdO2lmKDE9PT1uKXJldHVybiB0Lm1vdmVUbyhvWzBdLG9bMV0pLHZvaWQgdC5saW5lVG8oYVswXSxhWzFdKTt2YXIgcz1lLm9yaWVudCxsPSJUQiI9PT1zfHwiQlQiPT09cz8wOjEsdT0xLWwsaD16bChlLmZvcmtQb3NpdGlvbiwxKSxjPVtdO2NbbF09b1tsXSxjW3VdPW9bdV0rKHJbdV0tb1t1XSkqaCx0Lm1vdmVUbyhvWzBdLG9bMV0pLHQubGluZVRvKGNbMF0sY1sxXSksdC5tb3ZlVG8oYVswXSxhWzFdKSxjW2xdPWFbbF0sdC5saW5lVG8oY1swXSxjWzFdKSxjW2xdPXJbbF0sdC5saW5lVG8oY1swXSxjWzFdKSx0LmxpbmVUbyhyWzBdLHJbMV0pO2Zvcih2YXIgZD0xO2Q8bi0xO2QrKyl7dmFyIGY9aVtkXTt0Lm1vdmVUbyhmWzBdLGZbMV0pLGNbbF09ZltsXSx0LmxpbmVUbyhjWzBdLGNbMV0pfX19KTtmdW5jdGlvbiBCeCh0LGUpe3ZhciBpPXQuZ2V0SXRlbUxheW91dChlKTtyZXR1cm4gaSYmIWlzTmFOKGkueCkmJiFpc05hTihpLnkpJiYibm9uZSIhPT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIil9ZnVuY3Rpb24gVngodCxlLGkpe3JldHVybiBpLml0ZW1Nb2RlbD1lLGkuaXRlbVN0eWxlPWUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGkuaG92ZXJJdGVtU3R5bGU9ZS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksaS5saW5lU3R5bGU9ZS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksaS5sYWJlbE1vZGVsPWUuZ2V0TW9kZWwoImxhYmVsIiksaS5ob3ZlckxhYmVsTW9kZWw9ZS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSwhMT09PXQuaXNFeHBhbmQmJjAhPT10LmNoaWxkcmVuLmxlbmd0aD9pLnN5bWJvbElubmVyQ29sb3I9aS5pdGVtU3R5bGUuZmlsbDppLnN5bWJvbElubmVyQ29sb3I9IiNmZmYiLGl9ZnVuY3Rpb24gR3godCxlLGksbixvLGEpe3ZhciByPSFpLHM9dC50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKSxsPXMuZ2V0TW9kZWwoKSx1PShhPVZ4KHMsbCxhKSx0LnRyZWUucm9vdCksaD1zLnBhcmVudE5vZGU9PT11P3M6cy5wYXJlbnROb2RlfHxzLGM9dC5nZXRJdGVtR3JhcGhpY0VsKGguZGF0YUluZGV4KSxkPWguZ2V0TGF5b3V0KCksZj1jP3t4OmMucG9zaXRpb25bMF0seTpjLnBvc2l0aW9uWzFdLHJhd1g6Yy5fX3JhZGlhbE9sZFJhd1gscmF3WTpjLl9fcmFkaWFsT2xkUmF3WX06ZCxwPXMuZ2V0TGF5b3V0KCk7cj8oaT1uZXcgWGcodCxlLGEpKS5hdHRyKCJwb3NpdGlvbiIsW2YueCxmLnldKTppLnVwZGF0ZURhdGEodCxlLGEpLGkuX19yYWRpYWxPbGRSYXdYPWkuX19yYWRpYWxSYXdYLGkuX19yYWRpYWxPbGRSYXdZPWkuX19yYWRpYWxSYXdZLGkuX19yYWRpYWxSYXdYPXAucmF3WCxpLl9fcmFkaWFsUmF3WT1wLnJhd1ksbi5hZGQoaSksdC5zZXRJdGVtR3JhcGhpY0VsKGUsaSksY2woaSx7cG9zaXRpb246W3AueCxwLnldfSxvKTt2YXIgZz1pLmdldFN5bWJvbFBhdGgoKTtpZigicmFkaWFsIj09PWEubGF5b3V0KXt2YXIgbSx2LHk9dS5jaGlsZHJlblswXSx4PXkuZ2V0TGF5b3V0KCksXz15LmNoaWxkcmVuLmxlbmd0aDtpZihwLng9PT14LngmJiEwPT09cy5pc0V4cGFuZCl7dmFyIHc9e307dy54PSh5LmNoaWxkcmVuWzBdLmdldExheW91dCgpLngreS5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLngpLzIsdy55PSh5LmNoaWxkcmVuWzBdLmdldExheW91dCgpLnkreS5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLnkpLzIsKG09TWF0aC5hdGFuMih3LnkteC55LHcueC14LngpKTwwJiYobT0yKk1hdGguUEkrbSksKHY9dy54PHgueCkmJihtLT1NYXRoLlBJKX1lbHNlKG09TWF0aC5hdGFuMihwLnkteC55LHAueC14LngpKTwwJiYobT0yKk1hdGguUEkrbSksMD09PXMuY2hpbGRyZW4ubGVuZ3RofHwwIT09cy5jaGlsZHJlbi5sZW5ndGgmJiExPT09cy5pc0V4cGFuZD8odj1wLng8eC54KSYmKG0tPU1hdGguUEkpOih2PXAueD54LngpfHwobS09TWF0aC5QSSk7dmFyIGI9dj8ibGVmdCI6InJpZ2h0IixTPWEubGFiZWxNb2RlbC5nZXQoInJvdGF0ZSIpLE09UyooTWF0aC5QSS8xODApO2cuc2V0U3R5bGUoe3RleHRQb3NpdGlvbjphLmxhYmVsTW9kZWwuZ2V0KCJwb3NpdGlvbiIpfHxiLHRleHRSb3RhdGlvbjpudWxsPT1TPy1tOk0sdGV4dE9yaWdpbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSl9IWZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdT1sLmVkZ2VTaGFwZSxoPW4uX19lZGdlO2lmKCJjdXJ2ZSI9PT11KWUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlIT09aSYmY2woaD1ofHwobi5fX2VkZ2U9bmV3IGRzKHtzaGFwZTpXeChsLG8sbyksc3R5bGU6RCh7b3BhY2l0eTowLHN0cm9rZU5vU2NhbGU6ITB9LGwubGluZVN0eWxlKX0pKSx7c2hhcGU6V3gobCxhLHIpLHN0eWxlOkQoe29wYWNpdHk6MX0sbC5saW5lU3R5bGUpfSx0KTtlbHNlIGlmKCJwb2x5bGluZSI9PT11JiYib3J0aG9nb25hbCI9PT1sLmxheW91dCYmZSE9PWkmJmUuY2hpbGRyZW4mJjAhPT1lLmNoaWxkcmVuLmxlbmd0aCYmITA9PT1lLmlzRXhwYW5kKXtmb3IodmFyIGM9ZS5jaGlsZHJlbixkPVtdLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIHA9Y1tmXS5nZXRMYXlvdXQoKTtkLnB1c2goW3AueCxwLnldKX1jbChoPWh8fChuLl9fZWRnZT1uZXcgRXgoe3NoYXBlOntwYXJlbnRQb2ludDpbci54LHIueV0sY2hpbGRQb2ludHM6W1tyLngsci55XV0sb3JpZW50Omwub3JpZW50LGZvcmtQb3NpdGlvbjpsLmVkZ2VGb3JrUG9zaXRpb259LHN0eWxlOkQoe29wYWNpdHk6MCxzdHJva2VOb1NjYWxlOiEwfSxsLmxpbmVTdHlsZSl9KSkse3NoYXBlOntwYXJlbnRQb2ludDpbci54LHIueV0sY2hpbGRQb2ludHM6ZH0sc3R5bGU6RCh7b3BhY2l0eToxfSxsLmxpbmVTdHlsZSl9LHQpfXMuYWRkKGgpfShvLHMsdSxpLGYsZCxwLG4sYSl9ZnVuY3Rpb24gRngodCxlLGksbixvLGEpe2Zvcih2YXIgcixzPXQudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSksbD10LnRyZWUucm9vdCx1PXMuZ2V0TW9kZWwoKSxoPShhPVZ4KHMsdSxhKSxzLnBhcmVudE5vZGU9PT1sP3M6cy5wYXJlbnROb2RlfHxzKSxjPWEuZWRnZVNoYXBlO251bGw9PShyPWguZ2V0TGF5b3V0KCkpOyloPWgucGFyZW50Tm9kZT09PWw/aDpoLnBhcmVudE5vZGV8fGg7Y2woaSx7cG9zaXRpb246W3IueCsxLHIueSsxXX0sbyxmdW5jdGlvbigpe24ucmVtb3ZlKGkpLHQuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpfSksaS5mYWRlT3V0KG51bGwse2tlZXBMYWJlbDohMH0pO3ZhciBkPXQuZ2V0SXRlbUdyYXBoaWNFbChoLmRhdGFJbmRleCkuX19lZGdlLGY9aS5fX2VkZ2V8fCghMT09PWguaXNFeHBhbmR8fDE9PT1oLmNoaWxkcmVuLmxlbmd0aD9kOnZvaWQgMCk7Yz1hLmVkZ2VTaGFwZTtmJiYoImN1cnZlIj09PWM/Y2woZix7c2hhcGU6V3goYSxyLHIpLHN0eWxlOntvcGFjaXR5OjB9fSxvLGZ1bmN0aW9uKCl7bi5yZW1vdmUoZil9KToicG9seWxpbmUiPT09YyYmIm9ydGhvZ29uYWwiPT09YS5sYXlvdXQmJmNsKGYse3NoYXBlOntwYXJlbnRQb2ludDpbci54LHIueV0sY2hpbGRQb2ludHM6W1tyLngsci55XV19LHN0eWxlOntvcGFjaXR5OjB9fSxvLGZ1bmN0aW9uKCl7bi5yZW1vdmUoZil9KSl9ZnVuY3Rpb24gV3godCxlLGkpe3ZhciBuLG8sYSxyLHMsbCx1LGgsYz10Lm9yaWVudDtpZigicmFkaWFsIiE9PXQubGF5b3V0KXJldHVybiBzPWUueCx1PWUueSxsPWkueCxoPWkueSwiTFIiIT09YyYmIlJMIiE9PWN8fChuPXMrKGwtcykqdC5jdXJ2YXR1cmUsbz11LGE9bCsocy1sKSp0LmN1cnZhdHVyZSxyPWgpLCJUQiIhPT1jJiYiQlQiIT09Y3x8KG49cyxvPXUrKGgtdSkqdC5jdXJ2YXR1cmUsYT1sLHI9aCsodS1oKSp0LmN1cnZhdHVyZSkse3gxOnMseTE6dSx4MjpsLHkyOmgsY3B4MTpuLGNweTE6byxjcHgyOmEsY3B5MjpyfTtzPWUucmF3WCx1PWUucmF3WSxsPWkucmF3WCxoPWkucmF3WTt2YXIgZD1QeChzLHUpLGY9UHgocyx1KyhoLXUpKnQuY3VydmF0dXJlKSxwPVB4KGwsaCsodS1oKSp0LmN1cnZhdHVyZSksZz1QeChsLGgpO3JldHVybnt4MTpkLngseTE6ZC55LHgyOmcueCx5MjpnLnksY3B4MTpmLngsY3B5MTpmLnksY3B4MjpwLngsY3B5MjpwLnl9fWZ1bmN0aW9uIEh4KHQsZSl7Zm9yKHZhciBpLG49W3RdO2k9bi5wb3AoKTspaWYoZShpKSxpLmlzRXhwYW5kKXt2YXIgbz1pLmNoaWxkcmVuO2lmKG8ubGVuZ3RoKWZvcih2YXIgYT1vLmxlbmd0aC0xOzA8PWE7YS0tKW4ucHVzaChvW2FdKX19Q2Yoe3R5cGU6InRyZWUiLGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLl9vbGRUcmVlLHRoaXMuX21haW5Hcm91cD1uZXcgQ2ksdGhpcy5fY29udHJvbGxlcj1uZXcgVnkoZS5nZXRacigpKSx0aGlzLl9jb250cm9sbGVySG9zdD17dGFyZ2V0OnRoaXMuZ3JvdXB9LHRoaXMuZ3JvdXAuYWRkKHRoaXMuX21haW5Hcm91cCl9LHJlbmRlcjpmdW5jdGlvbihuLHQsaSxlKXt2YXIgbz1uLmdldERhdGEoKSxhPW4ubGF5b3V0SW5mbyxyPXRoaXMuX21haW5Hcm91cCxzPW4uZ2V0KCJsYXlvdXQiKTsicmFkaWFsIj09PXM/ci5hdHRyKCJwb3NpdGlvbiIsW2EueCthLndpZHRoLzIsYS55K2EuaGVpZ2h0LzJdKTpyLmF0dHIoInBvc2l0aW9uIixbYS54LGEueV0pLHRoaXMuX3VwZGF0ZVZpZXdDb29yZFN5cyhuLGEscyksdGhpcy5fdXBkYXRlQ29udHJvbGxlcihuLHQsaSk7dmFyIGw9dGhpcy5fZGF0YSx1PXtleHBhbmRBbmRDb2xsYXBzZTpuLmdldCgiZXhwYW5kQW5kQ29sbGFwc2UiKSxsYXlvdXQ6cyxlZGdlU2hhcGU6bi5nZXQoImVkZ2VTaGFwZSIpLGVkZ2VGb3JrUG9zaXRpb246bi5nZXQoImVkZ2VGb3JrUG9zaXRpb24iKSxvcmllbnQ6bi5nZXRPcmllbnQoKSxjdXJ2YXR1cmU6bi5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKSxzeW1ib2xSb3RhdGU6bi5nZXQoInN5bWJvbFJvdGF0ZSIpLHN5bWJvbE9mZnNldDpuLmdldCgic3ltYm9sT2Zmc2V0IiksaG92ZXJBbmltYXRpb246bi5nZXQoImhvdmVyQW5pbWF0aW9uIiksdXNlTmFtZUxhYmVsOiEwLGZhZGVJbjohMH07by5kaWZmKGwpLmFkZChmdW5jdGlvbih0KXtCeChvLHQpJiZHeChvLHQsbnVsbCxyLG4sdSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1sLmdldEl0ZW1HcmFwaGljRWwoZSk7Qngobyx0KT9HeChvLHQsaSxyLG4sdSk6aSYmRngobCxlLGkscixuLHUpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWwuZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZGeChsLHQsZSxyLG4sdSl9KS5leGVjdXRlKCksdGhpcy5fbm9kZVNjYWxlUmF0aW89bi5nZXQoIm5vZGVTY2FsZVJhdGlvIiksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZShuKSwhMD09PXUuZXhwYW5kQW5kQ29sbGFwc2UmJm8uZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxlKXt0Lm9mZigiY2xpY2siKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7aS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZUV4cGFuZEFuZENvbGxhcHNlIixzZXJpZXNJZDpuLmlkLGRhdGFJbmRleDplfSl9KX0pLHRoaXMuX2RhdGE9b30sX3VwZGF0ZVZpZXdDb29yZFN5czpmdW5jdGlvbih0KXt2YXIgaT10LmdldERhdGEoKSxuPVtdO2kuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1pLmdldEl0ZW1MYXlvdXQodCk7IWV8fGlzTmFOKGUueCl8fGlzTmFOKGUueSl8fG4ucHVzaChbK2UueCwrZS55XSl9KTt2YXIgZT1bXSxvPVtdO1dhKG4sZSxvKTt2YXIgYT10aGlzLl9taW4scj10aGlzLl9tYXg7b1swXS1lWzBdPT0wJiYoZVswXT1hP2FbMF06ZVswXS0xLG9bMF09cj9yWzBdOm9bMF0rMSksb1sxXS1lWzFdPT0wJiYoZVsxXT1hP2FbMV06ZVsxXS0xLG9bMV09cj9yWzFdOm9bMV0rMSk7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtPW5ldyBseDtzLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLHMuc2V0Qm91bmRpbmdSZWN0KGVbMF0sZVsxXSxvWzBdLWVbMF0sb1sxXS1lWzFdKSxzLnNldENlbnRlcih0LmdldCgiY2VudGVyIikpLHMuc2V0Wm9vbSh0LmdldCgiem9vbSIpKSx0aGlzLmdyb3VwLmF0dHIoe3Bvc2l0aW9uOnMucG9zaXRpb24sc2NhbGU6cy5zY2FsZX0pLHRoaXMuX3ZpZXdDb29yZFN5cz1zLHRoaXMuX21pbj1lLHRoaXMuX21heD1vfSxfdXBkYXRlQ29udHJvbGxlcjpmdW5jdGlvbihvLHQsYSl7dmFyIGU9dGhpcy5fY29udHJvbGxlcixpPXRoaXMuX2NvbnRyb2xsZXJIb3N0LHI9dGhpcy5ncm91cDtlLnNldFBvaW50ZXJDaGVja2VyKGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1yLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiBuLmFwcGx5VHJhbnNmb3JtKHIudHJhbnNmb3JtKSxuLmNvbnRhaW4oZSxpKSYmISR5KHQsYSxvKX0pLGUuZW5hYmxlKG8uZ2V0KCJyb2FtIikpLGkuem9vbUxpbWl0PW8uZ2V0KCJzY2FsZUxpbWl0IiksaS56b29tPW8uY29vcmRpbmF0ZVN5c3RlbS5nZXRab29tKCksZS5vZmYoInBhbiIpLm9mZigiem9vbSIpLm9uKCJwYW4iLGZ1bmN0aW9uKHQpe2p5KGksdC5keCx0LmR5KSxhLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDpvLmlkLHR5cGU6InRyZWVSb2FtIixkeDp0LmR4LGR5OnQuZHl9KX0sdGhpcykub24oInpvb20iLGZ1bmN0aW9uKHQpe3F5KGksdC5zY2FsZSx0Lm9yaWdpblgsdC5vcmlnaW5ZKSxhLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDpvLmlkLHR5cGU6InRyZWVSb2FtIix6b29tOnQuc2NhbGUsb3JpZ2luWDp0Lm9yaWdpblgsb3JpZ2luWTp0Lm9yaWdpbll9KSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKG8pfSx0aGlzKX0sX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10aGlzLl9nZXROb2RlR2xvYmFsU2NhbGUodCksbj1baSxpXTtlLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC5hdHRyKCJzY2FsZSIsbil9KX0sX2dldE5vZGVHbG9iYWxTY2FsZTpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoInZpZXciIT09ZS50eXBlKXJldHVybiAxO3ZhciBpPXRoaXMuX25vZGVTY2FsZVJhdGlvLG49ZS5zY2FsZSxvPW4mJm5bMF18fDE7cmV0dXJuKChlLmdldFpvb20oKS0xKSppKzEpL299LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD17fX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbWFpbkdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH19KSxfZih7dHlwZToidHJlZUV4cGFuZEFuZENvbGxhcHNlIixldmVudDoidHJlZUV4cGFuZEFuZENvbGxhcHNlIix1cGRhdGU6InVwZGF0ZSJ9LGZ1bmN0aW9uKG4sdCl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlIixxdWVyeTpufSxmdW5jdGlvbih0KXt2YXIgZT1uLmRhdGFJbmRleCxpPXQuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO2kuaXNFeHBhbmQ9IWkuaXNFeHBhbmR9KX0pLF9mKHt0eXBlOiJ0cmVlUm9hbSIsZXZlbnQ6InRyZWVSb2FtIix1cGRhdGU6Im5vbmUifSxmdW5jdGlvbihpLHQpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZSIscXVlcnk6aX0sZnVuY3Rpb24odCl7dmFyIGU9YXgodC5jb29yZGluYXRlU3lzdGVtLGkpO3Quc2V0Q2VudGVyJiZ0LnNldENlbnRlcihlLmNlbnRlciksdC5zZXRab29tJiZ0LnNldFpvb20oZS56b29tKX0pfSk7ZnVuY3Rpb24gWngodCxlLGkpe2lmKHQmJjA8PV8oZSx0LnR5cGUpKXt2YXIgbj1pLmdldERhdGEoKS50cmVlLnJvb3Qsbz10LnRhcmdldE5vZGU7aWYoInN0cmluZyI9PXR5cGVvZiBvJiYobz1uLmdldE5vZGVCeUlkKG8pKSxvJiZuLmNvbnRhaW5zKG8pKXJldHVybntub2RlOm99O3ZhciBhPXQudGFyZ2V0Tm9kZUlkO2lmKG51bGwhPWEmJihvPW4uZ2V0Tm9kZUJ5SWQoYSkpKXJldHVybntub2RlOm99fX1mdW5jdGlvbiBVeCh0KXtmb3IodmFyIGU9W107dDspKHQ9dC5wYXJlbnROb2RlKSYmZS5wdXNoKHQpO3JldHVybiBlLnJldmVyc2UoKX1mdW5jdGlvbiBYeCh0LGUpe3JldHVybiAwPD1fKFV4KHQpLGUpfWZ1bmN0aW9uIFl4KHQsZSl7Zm9yKHZhciBpPVtdO3Q7KXt2YXIgbj10LmRhdGFJbmRleDtpLnB1c2goe25hbWU6dC5uYW1lLGRhdGFJbmRleDpuLHZhbHVlOmUuZ2V0UmF3VmFsdWUobil9KSx0PXQucGFyZW50Tm9kZX1yZXR1cm4gaS5yZXZlcnNlKCksaX1TZihMbSgidHJlZSIsImNpcmNsZSIpKSxiZihmdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgidHJlZSIsZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYnUodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsZSk7dC5sYXlvdXRJbmZvPWk7dmFyIG49dC5nZXQoImxheW91dCIpLG89MCxhPTAscj1udWxsO3I9InJhZGlhbCI9PT1uPyhvPTIqTWF0aC5QSSxhPU1hdGgubWluKGkuaGVpZ2h0LGkud2lkdGgpLzIsa3goZnVuY3Rpb24odCxlKXtyZXR1cm4odC5wYXJlbnROb2RlPT09ZS5wYXJlbnROb2RlPzE6MikvdC5kZXB0aH0pKToobz1pLndpZHRoLGE9aS5oZWlnaHQsa3goKSk7dmFyIHM9dC5nZXREYXRhKCkudHJlZS5yb290LGw9cy5jaGlsZHJlblswXTtpZihsKXshZnVuY3Rpb24odCl7dC5oaWVyTm9kZT17ZGVmYXVsdEFuY2VzdG9yOm51bGwsYW5jZXN0b3I6dCxwcmVsaW06MCxtb2RpZmllcjowLGNoYW5nZTowLHNoaWZ0OjAsaTowLHRocmVhZDpudWxsfTtmb3IodmFyIGUsaSxuPVt0XTtlPW4ucG9wKCk7KWlmKGk9ZS5jaGlsZHJlbixlLmlzRXhwYW5kJiZpLmxlbmd0aClmb3IodmFyIG89aS5sZW5ndGgtMTswPD1vO28tLSl7dmFyIGE9aVtvXTthLmhpZXJOb2RlPXtkZWZhdWx0QW5jZXN0b3I6bnVsbCxhbmNlc3RvcjphLHByZWxpbTowLG1vZGlmaWVyOjAsY2hhbmdlOjAsc2hpZnQ6MCxpOm8sdGhyZWFkOm51bGx9LG4ucHVzaChhKX19KHMpLGZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG4sbz1bdF0sYT1bXTtuPW8ucG9wKCk7KWlmKGEucHVzaChuKSxuLmlzRXhwYW5kKXt2YXIgcj1uLmNoaWxkcmVuO2lmKHIubGVuZ3RoKWZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKW8ucHVzaChyW3NdKX1mb3IoO249YS5wb3AoKTspZShuLGkpfShsLEN4LHIpLHMuaGllck5vZGUubW9kaWZpZXI9LWwuaGllck5vZGUucHJlbGltLEh4KGwsTHgpO3ZhciB1PWwsaD1sLGM9bDtIeChsLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGF5b3V0KCkueDtlPHUuZ2V0TGF5b3V0KCkueCYmKHU9dCksZT5oLmdldExheW91dCgpLngmJihoPXQpLHQuZGVwdGg+Yy5kZXB0aCYmKGM9dCl9KTt2YXIgZD11PT09aD8xOnIodSxoKS8yLGY9ZC11LmdldExheW91dCgpLngscD0wLGc9MCxtPTAsdj0wO2lmKCJyYWRpYWwiPT09bilwPW8vKGguZ2V0TGF5b3V0KCkueCtkK2YpLGc9YS8oYy5kZXB0aC0xfHwxKSxIeChsLGZ1bmN0aW9uKHQpe209KHQuZ2V0TGF5b3V0KCkueCtmKSpwLHY9KHQuZGVwdGgtMSkqZzt2YXIgZT1QeChtLHYpO3Quc2V0TGF5b3V0KHt4OmUueCx5OmUueSxyYXdYOm0scmF3WTp2fSwhMCl9KTtlbHNle3ZhciB5PXQuZ2V0T3JpZW50KCk7IlJMIj09PXl8fCJMUiI9PT15PyhnPWEvKGguZ2V0TGF5b3V0KCkueCtkK2YpLHA9by8oYy5kZXB0aC0xfHwxKSxIeChsLGZ1bmN0aW9uKHQpe3Y9KHQuZ2V0TGF5b3V0KCkueCtmKSpnLG09IkxSIj09PXk/KHQuZGVwdGgtMSkqcDpvLSh0LmRlcHRoLTEpKnAsdC5zZXRMYXlvdXQoe3g6bSx5OnZ9LCEwKX0pKToiVEIiIT09eSYmIkJUIiE9PXl8fChwPW8vKGguZ2V0TGF5b3V0KCkueCtkK2YpLGc9YS8oYy5kZXB0aC0xfHwxKSxIeChsLGZ1bmN0aW9uKHQpe209KHQuZ2V0TGF5b3V0KCkueCtmKSpwLHY9IlRCIj09PXk/KHQuZGVwdGgtMSkqZzphLSh0LmRlcHRoLTEpKmcsdC5zZXRMYXlvdXQoe3g6bSx5OnZ9LCEwKX0pKX19fSh0LGUpfSl9KSxzYy5leHRlbmQoe3R5cGU6InNlcmllcy50cmVlbWFwIixsYXlvdXRNb2RlOiJib3giLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciJdLHByZXZlbnRVc2luZ0hvdmVyTGF5ZXI6ITAsX3ZpZXdSb290Om51bGwsZGVmYXVsdE9wdGlvbjp7cHJvZ3Jlc3NpdmU6MCxsZWZ0OiJjZW50ZXIiLHRvcDoibWlkZGxlIixyaWdodDpudWxsLGJvdHRvbTpudWxsLHdpZHRoOiI4MCUiLGhlaWdodDoiODAlIixzb3J0OiEwLGNsaXBXaW5kb3c6Im9yaWdpbiIsc3F1YXJlUmF0aW86LjUqKDErTWF0aC5zcXJ0KDUpKSxsZWFmRGVwdGg6bnVsbCxkcmlsbERvd25JY29uOiLilrYiLHpvb21Ub05vZGVSYXRpbzouMTAyNCxyb2FtOiEwLG5vZGVDbGljazoiem9vbVRvTm9kZSIsYW5pbWF0aW9uOiEwLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjkwMCxhbmltYXRpb25FYXNpbmc6InF1aW50aWNJbk91dCIsYnJlYWRjcnVtYjp7c2hvdzohMCxoZWlnaHQ6MjIsbGVmdDoiY2VudGVyIix0b3A6ImJvdHRvbSIsZW1wdHlJdGVtV2lkdGg6MjUsaXRlbVN0eWxlOntjb2xvcjoicmdiYSgwLDAsMCwwLjcpIixib3JkZXJDb2xvcjoicmdiYSgyNTUsMjU1LDI1NSwwLjcpIixib3JkZXJXaWR0aDoxLHNoYWRvd0NvbG9yOiJyZ2JhKDE1MCwxNTAsMTUwLDEpIixzaGFkb3dCbHVyOjMsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCx0ZXh0U3R5bGU6e2NvbG9yOiIjZmZmIn19LGVtcGhhc2lzOnt0ZXh0U3R5bGU6e319fSxsYWJlbDp7c2hvdzohMCxkaXN0YW5jZTowLHBhZGRpbmc6NSxwb3NpdGlvbjoiaW5zaWRlIixjb2xvcjoiI2ZmZiIsZWxsaXBzaXM6ITB9LHVwcGVyTGFiZWw6e3Nob3c6ITEscG9zaXRpb246WzAsIjUwJSJdLGhlaWdodDoyMCxjb2xvcjoiI2ZmZiIsZWxsaXBzaXM6ITAsdmVydGljYWxBbGlnbjoibWlkZGxlIn0saXRlbVN0eWxlOntjb2xvcjpudWxsLGNvbG9yQWxwaGE6bnVsbCxjb2xvclNhdHVyYXRpb246bnVsbCxib3JkZXJXaWR0aDowLGdhcFdpZHRoOjAsYm9yZGVyQ29sb3I6IiNmZmYiLGJvcmRlckNvbG9yU2F0dXJhdGlvbjpudWxsfSxlbXBoYXNpczp7dXBwZXJMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpbMCwiNTAlIl0sY29sb3I6IiNmZmYiLGVsbGlwc2lzOiEwLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fSx2aXN1YWxEaW1lbnNpb246MCx2aXN1YWxNaW46bnVsbCx2aXN1YWxNYXg6bnVsbCxjb2xvcjpbXSxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsY29sb3JNYXBwaW5nQnk6ImluZGV4Iix2aXNpYmxlTWluOjEwLGNoaWxkcmVuVmlzaWJsZU1pbjpudWxsLGxldmVsczpbXX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTshZnVuY3Rpb24gaSh0KXt2YXIgbj0wO1IodC5jaGlsZHJlbixmdW5jdGlvbih0KXtpKHQpO3ZhciBlPXQudmFsdWU7TChlKSYmKGU9ZVswXSksbis9ZX0pO3ZhciBlPXQudmFsdWU7TChlKSYmKGU9ZVswXSk7bnVsbCE9ZSYmIWlzTmFOKGUpfHwoZT1uKTtlPDAmJihlPTApO0wodC52YWx1ZSk/dC52YWx1ZVswXT1lOnQudmFsdWU9ZX0oaSk7dmFyIG49dC5sZXZlbHN8fFtdLG89bmV3IENsKHtpdGVtU3R5bGU6dGhpcy5kZXNpZ25hdGVkVmlzdWFsSXRlbVN0eWxlPXt9fSx0aGlzLGUpLGE9Tygobj10LmxldmVscz1mdW5jdGlvbih0LGUpe3ZhciBuLGk9ZS5nZXQoImNvbG9yIik7aWYoIWkpcmV0dXJuO2lmKFIodD10fHxbXSxmdW5jdGlvbih0KXt2YXIgZT1uZXcgQ2wodCksaT1lLmdldCgiY29sb3IiKTsoZS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxpJiYibm9uZSIhPT1pKSYmKG49ITApfSksIW4peyh0WzBdfHwodFswXT17fSkpLmNvbG9yPWkuc2xpY2UoKX1yZXR1cm4gdH0obixlKSl8fFtdLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQ2wodCxvLGUpfSx0aGlzKSxyPUF4LmNyZWF0ZVRyZWUoaSx0aGlzLGZ1bmN0aW9uKHQpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIixmdW5jdGlvbih0LGUpe3ZhciBpPXIuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLG49YVtpLmRlcHRoXTtyZXR1cm4gdC5wYXJlbnRNb2RlbD1ufHxvLHR9KX0pO3JldHVybiByLmRhdGF9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPXRoaXMuZ2V0UmF3VmFsdWUodCksbj1MKGkpP3R1KGlbMF0pOnR1KGkpO3JldHVybiBhdShlLmdldE5hbWUodCkrIjogIituKX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT1zYy5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleCh0KTtyZXR1cm4gZS50cmVlUGF0aEluZm89WXgoaSx0aGlzKSxlfSxzZXRMYXlvdXRJbmZvOmZ1bmN0aW9uKHQpe3RoaXMubGF5b3V0SW5mbz10aGlzLmxheW91dEluZm98fHt9LFAodGhpcy5sYXlvdXRJbmZvLHQpfSxtYXBJZFRvSW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faWRJbmRleE1hcDtlfHwoZT10aGlzLl9pZEluZGV4TWFwPVEoKSx0aGlzLl9pZEluZGV4TWFwQ291bnQ9MCk7dmFyIGk9ZS5nZXQodCk7cmV0dXJuIG51bGw9PWkmJmUuc2V0KHQsaT10aGlzLl9pZEluZGV4TWFwQ291bnQrKyksaX0sZ2V0Vmlld1Jvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LHJlc2V0Vmlld1Jvb3Q6ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX19KTt2YXIgang9NTtmdW5jdGlvbiBxeCh0KXt0aGlzLmdyb3VwPW5ldyBDaSx0LmFkZCh0aGlzLmdyb3VwKX1mdW5jdGlvbiBLeCh0LGUsaSxuLG8sYSl7dmFyIHI9W1tvP3Q6dC1qeCxlXSxbdCtpLGVdLFt0K2ksZStuXSxbbz90OnQtangsZStuXV07cmV0dXJuIGF8fHIuc3BsaWNlKDIsMCxbdCtpK2p4LGUrbi8yXSksb3x8ci5wdXNoKFt0LGUrbi8yXSkscn1xeC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnF4LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJicmVhZGNydW1iIiksYT10aGlzLmdyb3VwO2lmKGEucmVtb3ZlQWxsKCksby5nZXQoInNob3ciKSYmaSl7dmFyIHI9by5nZXRNb2RlbCgiaXRlbVN0eWxlIikscz1yLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxsPXtwb3M6e2xlZnQ6by5nZXQoImxlZnQiKSxyaWdodDpvLmdldCgicmlnaHQiKSx0b3A6by5nZXQoInRvcCIpLGJvdHRvbTpvLmdldCgiYm90dG9tIil9LGJveDp7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxlbXB0eUl0ZW1XaWR0aDpvLmdldCgiZW1wdHlJdGVtV2lkdGgiKSx0b3RhbFdpZHRoOjAscmVuZGVyTGlzdDpbXX07dGhpcy5fcHJlcGFyZShpLGwscyksdGhpcy5fcmVuZGVyQ29udGVudCh0LGwscixzLG4pLFN1KGEsbC5wb3MsbC5ib3gpfX0sX3ByZXBhcmU6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10O247bj1uLnBhcmVudE5vZGUpe3ZhciBvPW4uZ2V0TW9kZWwoKS5nZXQoIm5hbWUiKSxhPWkuZ2V0VGV4dFJlY3Qobykscj1NYXRoLm1heChhLndpZHRoKzE2LGUuZW1wdHlJdGVtV2lkdGgpO2UudG90YWxXaWR0aCs9cis4LGUucmVuZGVyTGlzdC5wdXNoKHtub2RlOm4sdGV4dDpvLHdpZHRoOnJ9KX19LF9yZW5kZXJDb250ZW50OmZ1bmN0aW9uKHQsZSxpLG4sbyl7Zm9yKHZhciBhLHIscz0wLGw9ZS5lbXB0eUl0ZW1XaWR0aCx1PXQuZ2V0KCJicmVhZGNydW1iLmhlaWdodCIpLGg9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUud2lkdGgsbz1lLmhlaWdodCxhPXpsKHQueCxuKSxyPXpsKHQueSxvKSxzPXpsKHQueDIsbiksbD16bCh0LnkyLG8pO3JldHVybihpc05hTihhKXx8aXNOYU4ocGFyc2VGbG9hdCh0LngpKSkmJihhPTApLChpc05hTihzKXx8aXNOYU4ocGFyc2VGbG9hdCh0LngyKSkpJiYocz1uKSwoaXNOYU4ocil8fGlzTmFOKHBhcnNlRmxvYXQodC55KSkpJiYocj0wKSwoaXNOYU4obCl8fGlzTmFOKHBhcnNlRmxvYXQodC55MikpKSYmKGw9byksaT1pdShpfHwwKSx7d2lkdGg6TWF0aC5tYXgocy1hLWlbMV0taVszXSwwKSxoZWlnaHQ6TWF0aC5tYXgobC1yLWlbMF0taVsyXSwwKX19KGUucG9zLGUuYm94KSxjPWUudG90YWxXaWR0aCxkPWUucmVuZGVyTGlzdCxmPWQubGVuZ3RoLTE7MDw9ZjtmLS0pe3ZhciBwPWRbZl0sZz1wLm5vZGUsbT1wLndpZHRoLHY9cC50ZXh0O2M+aC53aWR0aCYmKGMtPW0tbCxtPWwsdj1udWxsKTt2YXIgeT1uZXcgUXIoe3NoYXBlOntwb2ludHM6S3gocywwLG0sdSxmPT09ZC5sZW5ndGgtMSwwPT09Zil9LHN0eWxlOkQoaS5nZXRJdGVtU3R5bGUoKSx7bGluZUpvaW46ImJldmVsIix0ZXh0OnYsdGV4dEZpbGw6bi5nZXRUZXh0Q29sb3IoKSx0ZXh0Rm9udDpuLmdldEZvbnQoKX0pLHo6MTAsb25jbGljazpUKG8sZyl9KTt0aGlzLmdyb3VwLmFkZCh5KSxhPXQscj1nLHkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJzZXJpZXMiLGNvbXBvbmVudFN1YlR5cGU6InRyZWVtYXAiLGNvbXBvbmVudEluZGV4OmEuY29tcG9uZW50SW5kZXgsc2VyaWVzSW5kZXg6YS5jb21wb25lbnRJbmRleCxzZXJpZXNOYW1lOmEubmFtZSxzZXJpZXNUeXBlOiJ0cmVlbWFwIixzZWxmVHlwZToiYnJlYWRjcnVtYiIsbm9kZURhdGE6e2RhdGFJbmRleDpyJiZyLmRhdGFJbmRleCxuYW1lOnImJnIubmFtZX0sdHJlZVBhdGhJbmZvOnImJll4KHIsYSl9LHMrPW0rOH19LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9fTtmdW5jdGlvbiAkeCh0KXt2YXIgZT1zXyh0KTtyZXR1cm4gZS5zdHJva2U9ZS5maWxsPWUubGluZVdpZHRoPW51bGwsZX12YXIgSng9QSxReD1DaSx0Xz1ycyxlXz1SLGlfPVsibGFiZWwiXSxuXz1bImVtcGhhc2lzIiwibGFiZWwiXSxvXz1bInVwcGVyTGFiZWwiXSxhXz1bImVtcGhhc2lzIiwidXBwZXJMYWJlbCJdLHJfPTEwLHNfPWhhKFtbImZpbGwiLCJjb2xvciJdLFsic3Ryb2tlIiwic3Ryb2tlQ29sb3IiXSxbImxpbmVXaWR0aCIsInN0cm9rZVdpZHRoIl0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdXSk7ZnVuY3Rpb24gbF8oaCxyLHMsbCx1LGUsYyx0LGksbil7aWYoYyl7dmFyIGQ9Yy5nZXRMYXlvdXQoKSxvPWguZ2V0RGF0YSgpO2lmKG8uc2V0SXRlbUdyYXBoaWNFbChjLmRhdGFJbmRleCxudWxsKSxkJiZkLmlzSW5WaWV3KXt2YXIgZj1kLndpZHRoLHA9ZC5oZWlnaHQsZz1kLmJvcmRlcldpZHRoLG09ZC5pbnZpc2libGUsdj1jLmdldFJhd0luZGV4KCkseT10JiZ0LmdldFJhd0luZGV4KCksYT1jLnZpZXdDaGlsZHJlbix4PWQudXBwZXJIZWlnaHQsXz1hJiZhLmxlbmd0aCx3PWMuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGI9Yy5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIiksUz1MKCJub2RlR3JvdXAiLFF4KTtpZihTKXtpZihpLmFkZChTKSxTLmF0dHIoInBvc2l0aW9uIixbZC54fHwwLGQueXx8MF0pLFMuX190bU5vZGVXaWR0aD1mLFMuX190bU5vZGVIZWlnaHQ9cCxkLmlzQWJvdmVWaWV3Um9vdClyZXR1cm4gUzt2YXIgTT1jLmdldE1vZGVsKCksST1MKCJiYWNrZ3JvdW5kIix0XyxuLDEpO2lmKEkmJmZ1bmN0aW9uKHQsZSxpKXtpZihlLmRhdGFJbmRleD1jLmRhdGFJbmRleCxlLnNlcmllc0luZGV4PWguc2VyaWVzSW5kZXgsZS5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDpmLGhlaWdodDpwfSksbSlBKGUpO2Vsc2V7ZS5pbnZpc2libGU9ITE7dmFyIG49Yy5nZXRWaXN1YWwoImJvcmRlckNvbG9yIiwhMCksbz1iLmdldCgiYm9yZGVyQ29sb3IiKSxhPSR4KHcpO2EuZmlsbD1uO3ZhciByPXNfKGIpO2lmKHIuZmlsbD1vLGkpe3ZhciBzPWYtMipnO0QoYSxyLG4scyx4LHt4OmcseTowLHdpZHRoOnMsaGVpZ2h0Onh9KX1lbHNlIGEudGV4dD1yLnRleHQ9bnVsbDtlLnNldFN0eWxlKGEpLFVzKGUscil9dC5hZGQoZSl9KFMsSSxfJiZkLnVwcGVyTGFiZWxIZWlnaHQpLF8pUXMoUykmJkpzKFMsITEpLEkmJihKcyhJLCEwKSxvLnNldEl0ZW1HcmFwaGljRWwoYy5kYXRhSW5kZXgsSSkpO2Vsc2V7dmFyIFQ9TCgiY29udGVudCIsdF8sbiwyKTtUJiZmdW5jdGlvbih0LGUpe2UuZGF0YUluZGV4PWMuZGF0YUluZGV4LGUuc2VyaWVzSW5kZXg9aC5zZXJpZXNJbmRleDt2YXIgaT1NYXRoLm1heChmLTIqZywwKSxuPU1hdGgubWF4KHAtMipnLDApO2lmKGUuY3VsbGluZz0hMCxlLnNldFNoYXBlKHt4OmcseTpnLHdpZHRoOmksaGVpZ2h0Om59KSxtKUEoZSk7ZWxzZXtlLmludmlzaWJsZT0hMTt2YXIgbz1jLmdldFZpc3VhbCgiY29sb3IiLCEwKSxhPSR4KHcpO2EuZmlsbD1vO3ZhciByPXNfKGIpO0QoYSxyLG8saSxuKSxlLnNldFN0eWxlKGEpLFVzKGUscil9dC5hZGQoZSl9KFMsVCksSSYmUXMoSSkmJkpzKEksITEpLEpzKFMsITApLG8uc2V0SXRlbUdyYXBoaWNFbChjLmRhdGFJbmRleCxTKX1yZXR1cm4gU319fWZ1bmN0aW9uIEEodCl7dC5pbnZpc2libGV8fGUucHVzaCh0KX1mdW5jdGlvbiBEKHQsZSxpLG4sbyxhKXt2YXIgcj1NLmdldCgibmFtZSIpLHM9TS5nZXRNb2RlbChhP29fOmlfKSxsPU0uZ2V0TW9kZWwoYT9hXzpuXyksdT1zLmdldFNoYWxsb3coInNob3ciKTtlbCh0LGUscyxsLHtkZWZhdWx0VGV4dDp1P3I6bnVsbCxhdXRvQ29sb3I6aSxpc1JlY3RUZXh0OiEwLGxhYmVsRmV0Y2hlcjpoLGxhYmVsRGF0YUluZGV4OmMuZGF0YUluZGV4LGxhYmVsUHJvcDphPyJ1cHBlckxhYmVsIjoibGFiZWwifSksQyh0LGEsZCksQyhlLGEsZCksYSYmKHQudGV4dFJlY3Q9ayhhKSksdC50cnVuY2F0ZT11JiZzLmdldCgiZWxsaXBzaXMiKT97b3V0ZXJXaWR0aDpuLG91dGVySGVpZ2h0Om8sbWluQ2hhcjoyfTpudWxsfWZ1bmN0aW9uIEModCxlLGkpe3ZhciBuPXQudGV4dDtpZighZSYmaS5pc0xlYWZSb290JiZudWxsIT1uKXt2YXIgbz1oLmdldCgiZHJpbGxEb3duSWNvbiIsITApO3QudGV4dD1vP28rIiAiK246bn19ZnVuY3Rpb24gTCh0LGUsaSxuKXt2YXIgbz1udWxsIT15JiZzW3RdW3ldLGE9dVt0XTtyZXR1cm4gbz8oc1t0XVt5XT1udWxsLGZ1bmN0aW9uKHQsZSxpKXsodFt2XT17fSkub2xkPSJub2RlR3JvdXAiPT09aT9lLnBvc2l0aW9uLnNsaWNlKCk6UCh7fSxlLnNoYXBlKX0oYSxvLHQpKTptfHwoKG89bmV3IGUoe3o6ZnVuY3Rpb24odCxlKXt2YXIgaT10KnJfK2U7cmV0dXJuKGktMSkvaX0oaSxuKX0pKS5fX3RtRGVwdGg9aSxmdW5jdGlvbih0LGUsaSl7dmFyIG49dFt2XT17fSxvPWMucGFyZW50Tm9kZTtpZihvJiYoIWx8fCJkcmlsbERvd24iPT09bC5kaXJlY3Rpb24pKXt2YXIgYT0wLHI9MCxzPXUuYmFja2dyb3VuZFtvLmdldFJhd0luZGV4KCldOyFsJiZzJiZzLm9sZCYmKGE9cy5vbGQud2lkdGgscj1zLm9sZC5oZWlnaHQpLG4ub2xkPSJub2RlR3JvdXAiPT09aT9bMCxyXTp7eDphLHk6cix3aWR0aDowLGhlaWdodDowfX1uLmZhZGVpbj0ibm9kZUdyb3VwIiE9PWl9KGEsMCxvLl9fdG1TdG9yYWdlTmFtZT10KSksclt0XVt2XT1vfX1DZih7dHlwZToidHJlZW1hcCIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX2NvbnRhaW5lckdyb3VwLHRoaXMuX3N0b3JhZ2U9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHRoaXMuX29sZFRyZWUsdGhpcy5fYnJlYWRjcnVtYix0aGlzLl9jb250cm9sbGVyLHRoaXMuX3N0YXRlPSJyZWFkeSJ9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtpZighKF8oZS5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZW1hcCIscXVlcnk6bn0pLHQpPDApKXt0aGlzLnNlcmllc01vZGVsPXQsdGhpcy5hcGk9aSx0aGlzLmVjTW9kZWw9ZTt2YXIgbz1aeChuLFsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUm9vdFRvTm9kZSJdLHQpLGE9biYmbi50eXBlLHI9dC5sYXlvdXRJbmZvLHM9IXRoaXMuX29sZFRyZWUsbD10aGlzLl9zdG9yYWdlLHU9InRyZWVtYXBSb290VG9Ob2RlIj09PWEmJm8mJmw/e3Jvb3ROb2RlR3JvdXA6bC5ub2RlR3JvdXBbby5ub2RlLmdldFJhd0luZGV4KCldLGRpcmVjdGlvbjpuLmRpcmVjdGlvbn06bnVsbCxoPXRoaXMuX2dpdmVDb250YWluZXJHcm91cChyKSxjPXRoaXMuX2RvUmVuZGVyKGgsdCx1KTtzfHxhJiYidHJlZW1hcFpvb21Ub05vZGUiIT09YSYmInRyZWVtYXBSb290VG9Ob2RlIiE9PWE/Yy5yZW5kZXJGaW5hbGx5KCk6dGhpcy5fZG9BbmltYXRpb24oaCxjLHQsdSksdGhpcy5fcmVzZXRDb250cm9sbGVyKGkpLHRoaXMuX3JlbmRlckJyZWFkY3J1bWIodCxpLG8pfX0sX2dpdmVDb250YWluZXJHcm91cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250YWluZXJHcm91cDtyZXR1cm4gZXx8KGU9dGhpcy5fY29udGFpbmVyR3JvdXA9bmV3IFF4LHRoaXMuX2luaXRFdmVudHMoZSksdGhpcy5ncm91cC5hZGQoZSkpLGUuYXR0cigicG9zaXRpb24iLFt0LngsdC55XSksZX0sX2RvUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmdldERhdGEoKS50cmVlLG89dGhpcy5fb2xkVHJlZSxhPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxyPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxzPXRoaXMuX3N0b3JhZ2UsbD1bXSxjPVQobF8sZSxyLHMsaSxhLGwpOyFmdW5jdGlvbiBhKHIscyxsLHUsaCl7dT9lXyhzPXIsZnVuY3Rpb24odCxlKXt0LmlzUmVtb3ZlZCgpfHxpKGUsZSl9KTpuZXcga2YocyxyLHQsdCkuYWRkKGkpLnVwZGF0ZShpKS5yZW1vdmUoVChpLG51bGwpKS5leGVjdXRlKCk7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdC5nZXRJZCgpfWZ1bmN0aW9uIGkodCxlKXt2YXIgaT1udWxsIT10P3JbdF06bnVsbCxuPW51bGwhPWU/c1tlXTpudWxsLG89YyhpLG4sbCxoKTtvJiZhKGkmJmkudmlld0NoaWxkcmVufHxbXSxuJiZuLnZpZXdDaGlsZHJlbnx8W10sbyx1LGgrMSl9fShuLnJvb3Q/W24ucm9vdF06W10sbyYmby5yb290P1tvLnJvb3RdOltdLHQsbj09PW98fCFvLDApO3ZhciB1LGgsZD0oaD17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0sKHU9cykmJmVfKHUsZnVuY3Rpb24odCxlKXt2YXIgaT1oW2VdO2VfKHQsZnVuY3Rpb24odCl7dCYmKGkucHVzaCh0KSx0Ll9fdG1XaWxsRGVsZXRlPTEpfSl9KSxoKTtyZXR1cm4gdGhpcy5fb2xkVHJlZT1uLHRoaXMuX3N0b3JhZ2U9cix7bGFzdHNGb3JBbmltYXRpb246YSx3aWxsRGVsZXRlRWxzOmQscmVuZGVyRmluYWxseTpmdW5jdGlvbigpe2VfKGQsZnVuY3Rpb24odCl7ZV8odCxmdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpfSl9KSxlXyhsLGZ1bmN0aW9uKHQpe3QuaW52aXNpYmxlPSEwLHQuZGlydHkoKX0pfX19LF9kb0FuaW1hdGlvbjpmdW5jdGlvbih0LGEsZSxzKXtpZihlLmdldCgiYW5pbWF0aW9uIikpe3ZhciBsPWUuZ2V0KCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSIpLHU9ZS5nZXQoImFuaW1hdGlvbkVhc2luZyIpLGg9ZnVuY3Rpb24oKXt2YXIgYSxyPVtdLHM9e307cmV0dXJue2FkZDpmdW5jdGlvbih0LGUsaSxuLG8pe3JldHVybiB6KG4pJiYobz1uLG49MCksIXNbdC5pZF0mJihzW3QuaWRdPTEsci5wdXNoKHtlbDp0LHRhcmdldDplLHRpbWU6aSxkZWxheTpuLGVhc2luZzpvfSksITApfSxkb25lOmZ1bmN0aW9uKHQpe3JldHVybiBhPXQsdGhpc30sc3RhcnQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ci5sZW5ndGgsZT0wLGk9ci5sZW5ndGg7ZTxpO2UrKyl7dmFyIG49cltlXTtuLmVsLmFuaW1hdGVUbyhuLnRhcmdldCxuLnRpbWUsbi5kZWxheSxuLmVhc2luZyxvKX1yZXR1cm4gdGhpcztmdW5jdGlvbiBvKCl7LS10fHwoci5sZW5ndGg9MCxzPXt9LGEmJmEoKSl9fX19KCk7ZV8oYS53aWxsRGVsZXRlRWxzLGZ1bmN0aW9uKHQscil7ZV8odCxmdW5jdGlvbih0LGUpe2lmKCF0LmludmlzaWJsZSl7dmFyIGksbj10LnBhcmVudDtpZihzJiYiZHJpbGxEb3duIj09PXMuZGlyZWN0aW9uKWk9bj09PXMucm9vdE5vZGVHcm91cD97c2hhcGU6e3g6MCx5OjAsd2lkdGg6bi5fX3RtTm9kZVdpZHRoLGhlaWdodDpuLl9fdG1Ob2RlSGVpZ2h0fSxzdHlsZTp7b3BhY2l0eTowfX06e3N0eWxlOntvcGFjaXR5OjB9fTtlbHNle3ZhciBvPTAsYT0wO24uX190bVdpbGxEZWxldGV8fChvPW4uX190bU5vZGVXaWR0aC8yLGE9bi5fX3RtTm9kZUhlaWdodC8yKSxpPSJub2RlR3JvdXAiPT09cj97cG9zaXRpb246W28sYV0sc3R5bGU6e29wYWNpdHk6MH19OntzaGFwZTp7eDpvLHk6YSx3aWR0aDowLGhlaWdodDowfSxzdHlsZTp7b3BhY2l0eTowfX19aSYmaC5hZGQodCxpLGwsdSl9fSl9KSxlXyh0aGlzLl9zdG9yYWdlLGZ1bmN0aW9uKHQsbyl7ZV8odCxmdW5jdGlvbih0LGUpe3ZhciBpPWEubGFzdHNGb3JBbmltYXRpb25bb11bZV0sbj17fTtpJiYoIm5vZGVHcm91cCI9PT1vP2kub2xkJiYobi5wb3NpdGlvbj10LnBvc2l0aW9uLnNsaWNlKCksdC5hdHRyKCJwb3NpdGlvbiIsaS5vbGQpKTooaS5vbGQmJihuLnNoYXBlPVAoe30sdC5zaGFwZSksdC5zZXRTaGFwZShpLm9sZCkpLGkuZmFkZWluPyh0LnNldFN0eWxlKCJvcGFjaXR5IiwwKSxuLnN0eWxlPXtvcGFjaXR5OjF9KToxIT09dC5zdHlsZS5vcGFjaXR5JiYobi5zdHlsZT17b3BhY2l0eToxfSkpLGguYWRkKHQsbixsLHUpKX0pfSx0aGlzKSx0aGlzLl9zdGF0ZT0iYW5pbWF0aW5nIixoLmRvbmUoSngoZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZT0icmVhZHkiLGEucmVuZGVyRmluYWxseSgpfSx0aGlzKSkuc3RhcnQoKX19LF9yZXNldENvbnRyb2xsZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udHJvbGxlcjtlfHwoKGU9dGhpcy5fY29udHJvbGxlcj1uZXcgVnkodC5nZXRacigpKSkuZW5hYmxlKHRoaXMuc2VyaWVzTW9kZWwuZ2V0KCJyb2FtIikpLGUub24oInBhbiIsSngodGhpcy5fb25QYW4sdGhpcykpLGUub24oInpvb20iLEp4KHRoaXMuX29uWm9vbSx0aGlzKSkpO3ZhciBuPW5ldyBEaSgwLDAsdC5nZXRXaWR0aCgpLHQuZ2V0SGVpZ2h0KCkpO2Uuc2V0UG9pbnRlckNoZWNrZXIoZnVuY3Rpb24odCxlLGkpe3JldHVybiBuLmNvbnRhaW4oZSxpKX0pfSxfY2xlYXJDb250cm9sbGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udHJvbGxlcjt0JiYodC5kaXNwb3NlKCksdD1udWxsKX0sX29uUGFuOmZ1bmN0aW9uKHQpe2lmKCJhbmltYXRpbmciIT09dGhpcy5fc3RhdGUmJigzPE1hdGguYWJzKHQuZHgpfHwzPE1hdGguYWJzKHQuZHkpKSl7dmFyIGU9dGhpcy5zZXJpZXNNb2RlbC5nZXREYXRhKCkudHJlZS5yb290O2lmKCFlKXJldHVybjt2YXIgaT1lLmdldExheW91dCgpO2lmKCFpKXJldHVybjt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcE1vdmUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCxyb290UmVjdDp7eDppLngrdC5keCx5OmkueSt0LmR5LHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fX0pfX0sX29uWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10Lm9yaWdpblgsaT10Lm9yaWdpblk7aWYoImFuaW1hdGluZyIhPT10aGlzLl9zdGF0ZSl7dmFyIG49dGhpcy5zZXJpZXNNb2RlbC5nZXREYXRhKCkudHJlZS5yb290O2lmKCFuKXJldHVybjt2YXIgbz1uLmdldExheW91dCgpO2lmKCFvKXJldHVybjt2YXIgYT1uZXcgRGkoby54LG8ueSxvLndpZHRoLG8uaGVpZ2h0KSxyPXRoaXMuc2VyaWVzTW9kZWwubGF5b3V0SW5mbztlLT1yLngsaS09ci55O3ZhciBzPWFlKCk7dWUocyxzLFstZSwtaV0pLGNlKHMscyxbdC5zY2FsZSx0LnNjYWxlXSksdWUocyxzLFtlLGldKSxhLmFwcGx5VHJhbnNmb3JtKHMpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlbWFwUmVuZGVyIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQscm9vdFJlY3Q6e3g6YS54LHk6YS55LHdpZHRoOmEud2lkdGgsaGVpZ2h0OmEuaGVpZ2h0fX0pfX0sX2luaXRFdmVudHM6ZnVuY3Rpb24odCl7dC5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe2lmKCJyZWFkeSI9PT10aGlzLl9zdGF0ZSl7dmFyIGU9dGhpcy5zZXJpZXNNb2RlbC5nZXQoIm5vZGVDbGljayIsITApO2lmKGUpe3ZhciBpPXRoaXMuZmluZFRhcmdldCh0Lm9mZnNldFgsdC5vZmZzZXRZKTtpZihpKXt2YXIgbj1pLm5vZGU7aWYobi5nZXRMYXlvdXQoKS5pc0xlYWZSb290KXRoaXMuX3Jvb3RUb05vZGUoaSk7ZWxzZSBpZigiem9vbVRvTm9kZSI9PT1lKXRoaXMuX3pvb21Ub05vZGUoaSk7ZWxzZSBpZigibGluayI9PT1lKXt2YXIgbz1uLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbU1vZGVsKG4uZGF0YUluZGV4KSxhPW8uZ2V0KCJsaW5rIiwhMCkscj1vLmdldCgidGFyZ2V0IiwhMCl8fCJibGFuayI7YSYmZ3UoYSxyKX19fX19LHRoaXMpfSxfcmVuZGVyQnJlYWRjcnVtYjpmdW5jdGlvbihlLHQsaSl7aT1pfHwoKGk9bnVsbCE9ZS5nZXQoImxlYWZEZXB0aCIsITApP3tub2RlOmUuZ2V0Vmlld1Jvb3QoKX06dGhpcy5maW5kVGFyZ2V0KHQuZ2V0V2lkdGgoKS8yLHQuZ2V0SGVpZ2h0KCkvMikpfHx7bm9kZTplLmdldERhdGEoKS50cmVlLnJvb3R9KSwodGhpcy5fYnJlYWRjcnVtYnx8KHRoaXMuX2JyZWFkY3J1bWI9bmV3IHF4KHRoaXMuZ3JvdXApKSkucmVuZGVyKGUsdCxpLm5vZGUsSngoZnVuY3Rpb24odCl7ImFuaW1hdGluZyIhPT10aGlzLl9zdGF0ZSYmKFh4KGUuZ2V0Vmlld1Jvb3QoKSx0KT90aGlzLl9yb290VG9Ob2RlKHtub2RlOnR9KTp0aGlzLl96b29tVG9Ob2RlKHtub2RlOnR9KSl9LHRoaXMpKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJDb250cm9sbGVyKCksdGhpcy5fY29udGFpbmVyR3JvdXAmJnRoaXMuX2NvbnRhaW5lckdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3N0b3JhZ2U9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHRoaXMuX3N0YXRlPSJyZWFkeSIsdGhpcy5fYnJlYWRjcnVtYiYmdGhpcy5fYnJlYWRjcnVtYi5yZW1vdmUoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29udHJvbGxlcigpfSxfem9vbVRvTm9kZTpmdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFpvb21Ub05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxfcm9vdFRvTm9kZTpmdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFJvb3RUb05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKG8sYSl7dmFyIHI7cmV0dXJuIHRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKS5lYWNoTm9kZSh7YXR0cjoidmlld0NoaWxkcmVuIixvcmRlcjoicHJlb3JkZXIifSxmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yYWdlLmJhY2tncm91bmRbdC5nZXRSYXdJbmRleCgpXTtpZihlKXt2YXIgaT1lLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChvLGEpLG49ZS5zaGFwZTtpZighKG4ueDw9aVswXSYmaVswXTw9bi54K24ud2lkdGgmJm4ueTw9aVsxXSYmaVsxXTw9bi55K24uaGVpZ2h0KSlyZXR1cm4hMTtyPXtub2RlOnQsb2Zmc2V0WDppWzBdLG9mZnNldFk6aVsxXX19fSx0aGlzKSxyfX0pO2Zvcih2YXIgdV89ZnVuY3Rpb24oKXt9LGhfPVsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUmVuZGVyIiwidHJlZW1hcE1vdmUiXSxjXz0wO2NfPGhfLmxlbmd0aDtjXysrKV9mKHt0eXBlOmhfW2NfXSx1cGRhdGU6InVwZGF0ZVZpZXcifSx1Xyk7X2Yoe3R5cGU6InRyZWVtYXBSb290VG9Ob2RlIix1cGRhdGU6InVwZGF0ZVZpZXcifSxmdW5jdGlvbihvLHQpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZW1hcCIscXVlcnk6b30sZnVuY3Rpb24odCxlKXt2YXIgaT1aeChvLFsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUm9vdFRvTm9kZSJdLHQpO2lmKGkpe3ZhciBuPXQuZ2V0Vmlld1Jvb3QoKTtuJiYoby5kaXJlY3Rpb249WHgobixpLm5vZGUpPyJyb2xsVXAiOiJkcmlsbERvd24iKSx0LnJlc2V0Vmlld1Jvb3QoaS5ub2RlKX19KX0pO3ZhciBkXz1SLGZfPUUscF89LTEsZ189ZnVuY3Rpb24odCl7dmFyIGU9dC5tYXBwaW5nTWV0aG9kLGk9dC50eXBlLG49dGhpcy5vcHRpb249ayh0KTt0aGlzLnR5cGU9aSx0aGlzLm1hcHBpbmdNZXRob2Q9ZSx0aGlzLl9ub3JtYWxpemVEYXRhPVRfW2VdO3ZhciBvPW1fW2ldO3RoaXMuYXBwbHlWaXN1YWw9by5hcHBseVZpc3VhbCx0aGlzLmdldENvbG9yTWFwcGVyPW8uZ2V0Q29sb3JNYXBwZXIsdGhpcy5fZG9NYXA9by5fZG9NYXBbZV0sInBpZWNld2lzZSI9PT1lPyh2XyhuKSxmdW5jdGlvbihpKXt2YXIgdD1pLnBpZWNlTGlzdDtpLmhhc1NwZWNpYWxWaXN1YWw9ITEsUih0LGZ1bmN0aW9uKHQsZSl7dC5vcmlnaW5JbmRleD1lLG51bGwhPXQudmlzdWFsJiYoaS5oYXNTcGVjaWFsVmlzdWFsPSEwKX0pfShuKSk6ImNhdGVnb3J5Ij09PWU/bi5jYXRlZ29yaWVzP2Z1bmN0aW9uKHQpe3ZhciBlPXQuY2F0ZWdvcmllcyxpPXQudmlzdWFsLG49dC5jYXRlZ29yeU1hcD17fTtpZihkXyhlLGZ1bmN0aW9uKHQsZSl7blt0XT1lfSksIUwoaSkpe3ZhciBvPVtdO0UoaSk/ZF8oaSxmdW5jdGlvbih0LGUpe3ZhciBpPW5bZV07b1tudWxsIT1pP2k6cF9dPXR9KTpvW3BfXT1pLGk9SV8odCxvKX1mb3IodmFyIGE9ZS5sZW5ndGgtMTswPD1hO2EtLSludWxsPT1pW2FdJiYoZGVsZXRlIG5bZVthXV0sZS5wb3AoKSl9KG4pOnZfKG4sITApOihZKCJsaW5lYXIiIT09ZXx8bi5kYXRhRXh0ZW50KSx2XyhuKSl9O2dfLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Z18sbWFwVmFsdWVUb1Zpc3VhbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9ub3JtYWxpemVEYXRhKHQpO3JldHVybiB0aGlzLl9kb01hcChlLHQpfSxnZXROb3JtYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIEEodGhpcy5fbm9ybWFsaXplRGF0YSx0aGlzKX19O3ZhciBtXz1nXy52aXN1YWxIYW5kbGVycz17Y29sb3I6e2FwcGx5VmlzdWFsOl9fKCJjb2xvciIpLGdldENvbG9yTWFwcGVyOmZ1bmN0aW9uKCl7dmFyIG89dGhpcy5vcHRpb247cmV0dXJuIEEoImNhdGVnb3J5Ij09PW8ubWFwcGluZ01ldGhvZD9mdW5jdGlvbih0LGUpe3JldHVybiBlfHwodD10aGlzLl9ub3JtYWxpemVEYXRhKHQpKSx3Xy5jYWxsKHRoaXMsdCl9OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0hIWk7cmV0dXJuIGV8fCh0PXRoaXMuX25vcm1hbGl6ZURhdGEodCkpLGk9VWUodCxvLnBhcnNlZFZpc3VhbCxpKSxuP2k6JGUoaSwicmdiYSIpfSx0aGlzKX0sX2RvTWFwOntsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuICRlKFVlKHQsdGhpcy5vcHRpb24ucGFyc2VkVmlzdWFsKSwicmdiYSIpfSxjYXRlZ29yeTp3XyxwaWVjZXdpc2U6ZnVuY3Rpb24odCxlKXt2YXIgaT1NXy5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGw9PWkmJihpPSRlKFVlKHQsdGhpcy5vcHRpb24ucGFyc2VkVmlzdWFsKSwicmdiYSIpKSxpfSxmaXhlZDpiX319LGNvbG9ySHVlOnlfKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFlKHQsZSl9KSxjb2xvclNhdHVyYXRpb246eV8oZnVuY3Rpb24odCxlKXtyZXR1cm4gcWUodCxudWxsLGUpfSksY29sb3JMaWdodG5lc3M6eV8oZnVuY3Rpb24odCxlKXtyZXR1cm4gcWUodCxudWxsLG51bGwsZSl9KSxjb2xvckFscGhhOnlfKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEtlKHQsZSl9KSxvcGFjaXR5OnthcHBseVZpc3VhbDpfXygib3BhY2l0eSIpLF9kb01hcDpTXyhbMCwxXSl9LGxpZnRaOnthcHBseVZpc3VhbDpfXygibGlmdFoiKSxfZG9NYXA6e2xpbmVhcjpiXyxjYXRlZ29yeTpiXyxwaWVjZXdpc2U6Yl8sZml4ZWQ6Yl99fSxzeW1ib2w6e2FwcGx5VmlzdWFsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLm1hcFZhbHVlVG9WaXN1YWwodCk7aWYoeihuKSlpKCJzeW1ib2wiLG4pO2Vsc2UgaWYoZl8obikpZm9yKHZhciBvIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShvKSYmaShvLG5bb10pfSxfZG9NYXA6e2xpbmVhcjp4XyxjYXRlZ29yeTp3XyxwaWVjZXdpc2U6ZnVuY3Rpb24odCxlKXt2YXIgaT1NXy5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGw9PWkmJihpPXhfLmNhbGwodGhpcyx0KSksaX0sZml4ZWQ6Yl99fSxzeW1ib2xTaXplOnthcHBseVZpc3VhbDpfXygic3ltYm9sU2l6ZSIpLF9kb01hcDpTXyhbMCwxXSl9fTtmdW5jdGlvbiB2Xyh0LGUpe3ZhciBpPXQudmlzdWFsLG49W107RShpKT9kXyhpLGZ1bmN0aW9uKHQpe24ucHVzaCh0KX0pOm51bGwhPWkmJm4ucHVzaChpKTtlfHwxIT09bi5sZW5ndGh8fHtjb2xvcjoxLHN5bWJvbDoxfS5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpfHwoblsxXT1uWzBdKSxJXyh0LG4pfWZ1bmN0aW9uIHlfKG4pe3JldHVybnthcHBseVZpc3VhbDpmdW5jdGlvbih0LGUsaSl7dD10aGlzLm1hcFZhbHVlVG9WaXN1YWwodCksaSgiY29sb3IiLG4oZSgiY29sb3IiKSx0KSl9LF9kb01hcDpTXyhbMCwxXSl9fWZ1bmN0aW9uIHhfKHQpe3ZhciBlPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gZVtNYXRoLnJvdW5kKFJsKHQsWzAsMV0sWzAsZS5sZW5ndGgtMV0sITApKV18fHt9fWZ1bmN0aW9uIF9fKG4pe3JldHVybiBmdW5jdGlvbih0LGUsaSl7aShuLHRoaXMubWFwVmFsdWVUb1Zpc3VhbCh0KSl9fWZ1bmN0aW9uIHdfKHQpe3ZhciBlPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gZVt0aGlzLm9wdGlvbi5sb29wJiZ0IT09cF8/dCVlLmxlbmd0aDp0XX1mdW5jdGlvbiBiXygpe3JldHVybiB0aGlzLm9wdGlvbi52aXN1YWxbMF19ZnVuY3Rpb24gU18obil7cmV0dXJue2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gUmwodCxuLHRoaXMub3B0aW9uLnZpc3VhbCwhMCl9LGNhdGVnb3J5OndfLHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBpPU1fLmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbD09aSYmKGk9UmwodCxuLHRoaXMub3B0aW9uLnZpc3VhbCwhMCkpLGl9LGZpeGVkOmJffX1mdW5jdGlvbiBNXyh0KXt2YXIgZT10aGlzLm9wdGlvbixpPWUucGllY2VMaXN0O2lmKGUuaGFzU3BlY2lhbFZpc3VhbCl7dmFyIG49aVtnXy5maW5kUGllY2VJbmRleCh0LGkpXTtpZihuJiZuLnZpc3VhbClyZXR1cm4gbi52aXN1YWxbdGhpcy50eXBlXX19ZnVuY3Rpb24gSV8odCxlKXtyZXR1cm4gdC52aXN1YWw9ZSwiY29sb3IiPT09dC50eXBlJiYodC5wYXJzZWRWaXN1YWw9TyhlLGZ1bmN0aW9uKHQpe3JldHVybiBGZSh0KX0pKSxlfXZhciBUXz17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBSbCh0LHRoaXMub3B0aW9uLmRhdGFFeHRlbnQsWzAsMV0sITApfSxwaWVjZXdpc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24ucGllY2VMaXN0LGk9Z18uZmluZFBpZWNlSW5kZXgodCxlLCEwKTtpZihudWxsIT1pKXJldHVybiBSbChpLFswLGUubGVuZ3RoLTFdLFswLDFdLCEwKX0sY2F0ZWdvcnk6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uY2F0ZWdvcmllcz90aGlzLm9wdGlvbi5jYXRlZ29yeU1hcFt0XTp0O3JldHVybiBudWxsPT1lP3BfOmV9LGZpeGVkOmV0fTtmdW5jdGlvbiBBXyh0LGUsaSl7cmV0dXJuIHQ/ZTw9aTplPGl9Z18ubGlzdFZpc3VhbFR5cGVzPWZ1bmN0aW9uKCl7dmFyIGk9W107cmV0dXJuIFIobV8sZnVuY3Rpb24odCxlKXtpLnB1c2goZSl9KSxpfSxnXy5hZGRWaXN1YWxIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7bV9bdF09ZX0sZ18uaXNWYWxpZFR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIG1fLmhhc093blByb3BlcnR5KHQpfSxnXy5lYWNoVmlzdWFsPWZ1bmN0aW9uKHQsZSxpKXtFKHQpP1IodCxlLGkpOmUuY2FsbChpLHQpfSxnXy5tYXBWaXN1YWw9ZnVuY3Rpb24odCxuLG8pe3ZhciBhLHI9TCh0KT9bXTpFKHQpP3t9OihhPSEwLG51bGwpO3JldHVybiBnXy5lYWNoVmlzdWFsKHQsZnVuY3Rpb24odCxlKXt2YXIgaT1uLmNhbGwobyx0LGUpO2E/cj1pOnJbZV09aX0pLHJ9LGdfLnJldHJpZXZlVmlzdWFscz1mdW5jdGlvbihpKXt2YXIgbixvPXt9O3JldHVybiBpJiZkXyhtXyxmdW5jdGlvbih0LGUpe2kuaGFzT3duUHJvcGVydHkoZSkmJihvW2VdPWlbZV0sbj0hMCl9KSxuP286bnVsbH0sZ18ucHJlcGFyZVZpc3VhbFR5cGVzPWZ1bmN0aW9uKHQpe2lmKGZfKHQpKXt2YXIgaT1bXTtkXyh0LGZ1bmN0aW9uKHQsZSl7aS5wdXNoKGUpfSksdD1pfWVsc2V7aWYoIUwodCkpcmV0dXJuW107dD10LnNsaWNlKCl9cmV0dXJuIHQuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiJjb2xvciI9PT1lJiYiY29sb3IiIT09dCYmMD09PXQuaW5kZXhPZigiY29sb3IiKT8xOi0xfSksdH0sZ18uZGVwZW5kc09uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuImNvbG9yIj09PWU/ISghdHx8MCE9PXQuaW5kZXhPZihlKSk6dD09PWV9LGdfLmZpbmRQaWVjZUluZGV4PWZ1bmN0aW9uKG4sdCxlKXtmb3IodmFyIG8sYT0xLzAsaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl7dmFyIHM9dFtpXS52YWx1ZTtpZihudWxsIT1zKXtpZihzPT09bnx8InN0cmluZyI9PXR5cGVvZiBzJiZzPT09bisiIilyZXR1cm4gaTtlJiZjKHMsaSl9fWZvcihpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXt2YXIgbD10W2ldLHU9bC5pbnRlcnZhbCxoPWwuY2xvc2U7aWYodSl7aWYodVswXT09PS0xLzApe2lmKEFfKGhbMV0sbix1WzFdKSlyZXR1cm4gaX1lbHNlIGlmKHVbMV09PT0xLzApe2lmKEFfKGhbMF0sdVswXSxuKSlyZXR1cm4gaX1lbHNlIGlmKEFfKGhbMF0sdVswXSxuKSYmQV8oaFsxXSxuLHVbMV0pKXJldHVybiBpO2UmJmModVswXSxpKSxlJiZjKHVbMV0saSl9fWlmKGUpcmV0dXJuIG49PT0xLzA/dC5sZW5ndGgtMTpuPT09LTEvMD8wOm87ZnVuY3Rpb24gYyh0LGUpe3ZhciBpPU1hdGguYWJzKHQtbik7aTxhJiYoYT1pLG89ZSl9fTt2YXIgRF89TCxDXz0iaXRlbVN0eWxlIixMXz17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCkudHJlZS5yb290O28uaXNSZW1vdmVkKCl8fCFmdW5jdGlvbiBuKHQsZSxvLGEpe3ZhciByPXQuZ2V0TW9kZWwoKTt2YXIgaT10LmdldExheW91dCgpO2lmKCFpfHxpLmludmlzaWJsZXx8IWkuaXNJblZpZXcpcmV0dXJuO3ZhciBzPXQuZ2V0TW9kZWwoQ18pO3ZhciBsPWtfKHMsZSxhKTt2YXIgdT1zLmdldCgiYm9yZGVyQ29sb3IiKTt2YXIgaD1zLmdldCgiYm9yZGVyQ29sb3JTYXR1cmF0aW9uIik7dmFyIGM7bnVsbCE9aCYmKGM9UF8obCksZD1oLHU9bnVsbCE9KGY9Yyk/cWUoZixudWxsLG51bGwsZCk6bnVsbCk7dmFyIGQsZjt0LnNldFZpc3VhbCgiYm9yZGVyQ29sb3IiLHUpO3ZhciBwPXQudmlld0NoaWxkcmVuO2lmKHAmJnAubGVuZ3RoKXt2YXIgZz1PXyh0LHIsaSxzLGwscCk7UihwLGZ1bmN0aW9uKHQsZSl7aWYodC5kZXB0aD49by5sZW5ndGh8fHQ9PT1vW3QuZGVwdGhdKXt2YXIgaT16XyhyLGwsdCxlLGcsYSk7bih0LGksbyxhKX19KX1lbHNlIGM9UF8obCksdC5zZXRWaXN1YWwoImNvbG9yIixjKX0obyx7fSx0LmdldFZpZXdSb290KCkuZ2V0QW5jZXN0b3JzKCksdCl9fTtmdW5jdGlvbiBrXyhpLG4sdCl7dmFyIG89UCh7fSxuKSxhPXQuZGVzaWduYXRlZFZpc3VhbEl0ZW1TdHlsZTtyZXR1cm4gUihbImNvbG9yIiwiY29sb3JBbHBoYSIsImNvbG9yU2F0dXJhdGlvbiJdLGZ1bmN0aW9uKHQpe2FbdF09blt0XTt2YXIgZT1pLmdldCh0KTsoYVt0XT1udWxsKSE9ZSYmKG9bdF09ZSl9KSxvfWZ1bmN0aW9uIFBfKHQpe3ZhciBlPU5fKHQsImNvbG9yIik7aWYoZSl7dmFyIGk9Tl8odCwiY29sb3JBbHBoYSIpLG49Tl8odCwiY29sb3JTYXR1cmF0aW9uIik7cmV0dXJuIG4mJihlPXFlKGUsbnVsbCxudWxsLG4pKSxpJiYoZT1LZShlLGkpKSxlfX1mdW5jdGlvbiBOXyh0LGUpe3ZhciBpPXRbZV07aWYobnVsbCE9aSYmIm5vbmUiIT09aSlyZXR1cm4gaX1mdW5jdGlvbiBPXyh0LGUsaSxuLG8sYSl7aWYoYSYmYS5sZW5ndGgpe3ZhciByPVJfKGUsImNvbG9yIil8fG51bGwhPW8uY29sb3ImJiJub25lIiE9PW8uY29sb3ImJihSXyhlLCJjb2xvckFscGhhIil8fFJfKGUsImNvbG9yU2F0dXJhdGlvbiIpKTtpZihyKXt2YXIgcz1lLmdldCgidmlzdWFsTWluIiksbD1lLmdldCgidmlzdWFsTWF4IiksdT1pLmRhdGFFeHRlbnQuc2xpY2UoKTtudWxsIT1zJiZzPHVbMF0mJih1WzBdPXMpLG51bGwhPWwmJmw+dVsxXSYmKHVbMV09bCk7dmFyIGg9ZS5nZXQoImNvbG9yTWFwcGluZ0J5IiksYz17dHlwZTpyLm5hbWUsZGF0YUV4dGVudDp1LHZpc3VhbDpyLnJhbmdlfTsiY29sb3IiIT09Yy50eXBlfHwiaW5kZXgiIT09aCYmImlkIiE9PWg/Yy5tYXBwaW5nTWV0aG9kPSJsaW5lYXIiOihjLm1hcHBpbmdNZXRob2Q9ImNhdGVnb3J5IixjLmxvb3A9ITApO3ZhciBkPW5ldyBnXyhjKTtyZXR1cm4gZC5fX2RyQ29sb3JNYXBwaW5nQnk9aCxkfX19ZnVuY3Rpb24gUl8odCxlKXt2YXIgaT10LmdldChlKTtyZXR1cm4gRF8oaSkmJmkubGVuZ3RoP3tuYW1lOmUscmFuZ2U6aX06bnVsbH1mdW5jdGlvbiB6Xyh0LGUsaSxuLG8sYSl7dmFyIHI9UCh7fSxlKTtpZihvKXt2YXIgcz1vLnR5cGUsbD0iY29sb3IiPT09cyYmby5fX2RyQ29sb3JNYXBwaW5nQnksdT0iaW5kZXgiPT09bD9uOiJpZCI9PT1sP2EubWFwSWRUb0luZGV4KGkuZ2V0SWQoKSk6aS5nZXRWYWx1ZSh0LmdldCgidmlzdWFsRGltZW5zaW9uIikpO3Jbc109by5tYXBWYWx1ZVRvVmlzdWFsKHUpfXJldHVybiByfXZhciBFXz1NYXRoLm1heCxCXz1NYXRoLm1pbixWXz1XLEdfPVIsRl89WyJpdGVtU3R5bGUiLCJib3JkZXJXaWR0aCJdLFdfPVsiaXRlbVN0eWxlIiwiZ2FwV2lkdGgiXSxIXz1bInVwcGVyTGFiZWwiLCJzaG93Il0sWl89WyJ1cHBlckxhYmVsIiwiaGVpZ2h0Il0sVV89e3Nlcmllc1R5cGU6InRyZWVtYXAiLHJlc2V0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuZ2V0V2lkdGgoKSxhPWkuZ2V0SGVpZ2h0KCkscj10Lm9wdGlvbixzPWJ1KHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmkuZ2V0V2lkdGgoKSxoZWlnaHQ6aS5nZXRIZWlnaHQoKX0pLGw9ci5zaXplfHxbXSx1PXpsKFZfKHMud2lkdGgsbFswXSksbyksaD16bChWXyhzLmhlaWdodCxsWzFdKSxhKSxjPW4mJm4udHlwZSxkPVp4KG4sWyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSb290VG9Ob2RlIl0sdCksZj0idHJlZW1hcFJlbmRlciI9PT1jfHwidHJlZW1hcE1vdmUiPT09Yz9uLnJvb3RSZWN0Om51bGwscD10LmdldFZpZXdSb290KCksZz1VeChwKTtpZigidHJlZW1hcE1vdmUiIT09Yyl7dmFyIG09InRyZWVtYXBab29tVG9Ob2RlIj09PWM/ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYSxyPShlfHx7fSkubm9kZSxzPVtuLG9dO2lmKCFyfHxyPT09aSlyZXR1cm4gczt2YXIgbD1uKm8sdT1sKnQub3B0aW9uLnpvb21Ub05vZGVSYXRpbztmb3IoO2E9ci5wYXJlbnROb2RlOyl7Zm9yKHZhciBoPTAsYz1hLmNoaWxkcmVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspaCs9Y1tkXS5nZXRWYWx1ZSgpO3ZhciBwPXIuZ2V0VmFsdWUoKTtpZigwPT09cClyZXR1cm4gczt1Kj1oL3A7dmFyIGc9YS5nZXRNb2RlbCgpLG09Zy5nZXQoRl8pLHY9TWF0aC5tYXgobSxxXyhnKSk7dSs9NCptKm0rKDMqbSt2KSpNYXRoLnBvdyh1LC41KSxIbDx1JiYodT1IbCkscj1hfXU8bCYmKHU9bCk7dmFyIHk9TWF0aC5wb3codS9sLC41KTtyZXR1cm5bbip5LG8qeV19KHQsZCxwLHUsaCk6Zj9bZi53aWR0aCxmLmhlaWdodF06W3UsaF0sdj1yLnNvcnQ7diYmImFzYyIhPT12JiYiZGVzYyIhPT12JiYodj0iZGVzYyIpO3ZhciB5PXtzcXVhcmVSYXRpbzpyLnNxdWFyZVJhdGlvLHNvcnQ6dixsZWFmRGVwdGg6ci5sZWFmRGVwdGh9O3AuaG9zdFRyZWUuY2xlYXJMYXlvdXRzKCk7dmFyIHg9e3g6MCx5OjAsd2lkdGg6bVswXSxoZWlnaHQ6bVsxXSxhcmVhOm1bMF0qbVsxXX07cC5zZXRMYXlvdXQoeCksZnVuY3Rpb24gdChlLGksbixvKXt2YXIgYTt2YXIgcjtpZihlLmlzUmVtb3ZlZCgpKXJldHVybjt2YXIgcz1lLmdldExheW91dCgpO2E9cy53aWR0aDtyPXMuaGVpZ2h0O3ZhciBsPWUuZ2V0TW9kZWwoKTt2YXIgdT1sLmdldChGXyk7dmFyIGg9bC5nZXQoV18pLzI7dmFyIGM9cV8obCk7dmFyIGQ9TWF0aC5tYXgodSxjKTt2YXIgZj11LWg7dmFyIHA9ZC1oO3ZhciBsPWUuZ2V0TW9kZWwoKTtlLnNldExheW91dCh7Ym9yZGVyV2lkdGg6dSx1cHBlckhlaWdodDpkLHVwcGVyTGFiZWxIZWlnaHQ6Y30sITApO2E9RV8oYS0yKmYsMCk7cj1FXyhyLWYtcCwwKTt2YXIgZz1hKnI7dmFyIG09WF8oZSxsLGcsaSxuLG8pO2lmKCFtLmxlbmd0aClyZXR1cm47dmFyIHY9e3g6Zix5OnAsd2lkdGg6YSxoZWlnaHQ6cn07dmFyIHk9Ql8oYSxyKTt2YXIgeD0xLzA7dmFyIF89W107Xy5hcmVhPTA7Zm9yKHZhciB3PTAsYj1tLmxlbmd0aDt3PGI7KXt2YXIgUz1tW3ddO18ucHVzaChTKSxfLmFyZWErPVMuZ2V0TGF5b3V0KCkuYXJlYTt2YXIgTT1ZXyhfLHksaS5zcXVhcmVSYXRpbyk7eD1NPD14Pyh3KyssTSk6KF8uYXJlYS09Xy5wb3AoKS5nZXRMYXlvdXQoKS5hcmVhLGpfKF8seSx2LGgsITEpLHk9Ql8odi53aWR0aCx2LmhlaWdodCksXy5sZW5ndGg9Xy5hcmVhPTAsMS8wKX1fLmxlbmd0aCYmal8oXyx5LHYsaCwhMCk7aWYoIW4pe3ZhciBJPWwuZ2V0KCJjaGlsZHJlblZpc2libGVNaW4iKTtudWxsIT1JJiZnPEkmJihuPSEwKX1mb3IodmFyIHc9MCxiPW0ubGVuZ3RoO3c8Yjt3KyspdChtW3ddLGksbixvKzEpfShwLHksITEsMCk7eD1wLmdldExheW91dCgpO0dfKGcsZnVuY3Rpb24odCxlKXt2YXIgaT0oZ1tlKzFdfHxwKS5nZXRWYWx1ZSgpO3Quc2V0TGF5b3V0KFAoe2RhdGFFeHRlbnQ6W2ksaV0sYm9yZGVyV2lkdGg6MCx1cHBlckhlaWdodDowfSx4KSl9KX12YXIgXz10LmdldERhdGEoKS50cmVlLnJvb3Q7Xy5zZXRMYXlvdXQoZnVuY3Rpb24odCxlLGkpe2lmKGUpcmV0dXJue3g6ZS54LHk6ZS55fTt2YXIgbj17eDowLHk6MH07aWYoIWkpcmV0dXJuIG47dmFyIG89aS5ub2RlLGE9by5nZXRMYXlvdXQoKTtpZighYSlyZXR1cm4gbjt2YXIgcj1bYS53aWR0aC8yLGEuaGVpZ2h0LzJdLHM9bztmb3IoO3M7KXt2YXIgbD1zLmdldExheW91dCgpO3JbMF0rPWwueCxyWzFdKz1sLnkscz1zLnBhcmVudE5vZGV9cmV0dXJue3g6dC53aWR0aC8yLXJbMF0seTp0LmhlaWdodC8yLXJbMV19fShzLGYsZCksITApLHQuc2V0TGF5b3V0SW5mbyhzKSxmdW5jdGlvbiBlKHQsaSxuLG8sYSl7dmFyIHI9dC5nZXRMYXlvdXQoKTt2YXIgcz1uW2FdO3ZhciBsPXMmJnM9PT10O2lmKHMmJiFsfHxhPT09bi5sZW5ndGgmJnQhPT1vKXJldHVybjt0LnNldExheW91dCh7aXNJblZpZXc6ITAsaW52aXNpYmxlOiFsJiYhaS5pbnRlcnNlY3QociksaXNBYm92ZVZpZXdSb290Omx9LCEwKTt2YXIgdT1uZXcgRGkoaS54LXIueCxpLnktci55LGkud2lkdGgsaS5oZWlnaHQpO0dfKHQudmlld0NoaWxkcmVufHxbXSxmdW5jdGlvbih0KXtlKHQsdSxuLG8sYSsxKX0pfShfLG5ldyBEaSgtcy54LC1zLnksbyxhKSxnLHAsMCl9fTtmdW5jdGlvbiBYXyh0LGUsaSxuLG8sYSl7dmFyIHI9dC5jaGlsZHJlbnx8W10scz1uLnNvcnQ7ImFzYyIhPT1zJiYiZGVzYyIhPT1zJiYocz1udWxsKTt2YXIgbD1udWxsIT1uLmxlYWZEZXB0aCYmbi5sZWFmRGVwdGg8PWE7aWYobyYmIWwpcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdOyFmdW5jdGlvbih0LG4pe24mJnQuc29ydChmdW5jdGlvbih0LGUpe3ZhciBpPSJhc2MiPT09bj90LmdldFZhbHVlKCktZS5nZXRWYWx1ZSgpOmUuZ2V0VmFsdWUoKS10LmdldFZhbHVlKCk7cmV0dXJuIDA9PWk/ImFzYyI9PT1uP3QuZGF0YUluZGV4LWUuZGF0YUluZGV4OmUuZGF0YUluZGV4LXQuZGF0YUluZGV4Oml9KX0ocj1NKHIsZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNSZW1vdmVkKCl9KSxzKTt2YXIgdT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPTAsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyluKz1lW29dLmdldFZhbHVlKCk7dmFyIHI9dC5nZXQoInZpc3VhbERpbWVuc2lvbiIpO2lmKGUmJmUubGVuZ3RoKWlmKCJ2YWx1ZSI9PT1yJiZpKXM9W2VbZS5sZW5ndGgtMV0uZ2V0VmFsdWUoKSxlWzBdLmdldFZhbHVlKCldLCJhc2MiPT09aSYmcy5yZXZlcnNlKCk7ZWxzZXt2YXIgcz1bMS8wLC0xLzBdO0dfKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZShyKTtlPHNbMF0mJihzWzBdPWUpLGU+c1sxXSYmKHNbMV09ZSl9KX1lbHNlIHM9W05hTixOYU5dO3JldHVybntzdW06bixkYXRhRXh0ZW50OnN9fShlLHIscyk7aWYoMD09PXUuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtpZih1LnN1bT1mdW5jdGlvbih0LGUsaSxuLG8pe2lmKCFuKXJldHVybiBpO2Zvcih2YXIgYT10LmdldCgidmlzaWJsZU1pbiIpLHI9by5sZW5ndGgscz1yLGw9ci0xOzA8PWw7bC0tKXt2YXIgdT1vWyJhc2MiPT09bj9yLWwtMTpsXS5nZXRWYWx1ZSgpO3UvaSplPGEmJihzPWwsaS09dSl9cmV0dXJuImFzYyI9PT1uP28uc3BsaWNlKDAsci1zKTpvLnNwbGljZShzLHItcyksaX0oZSxpLHUuc3VtLHMsciksMD09PXUuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtmb3IodmFyIGg9MCxjPXIubGVuZ3RoO2g8YztoKyspe3ZhciBkPXJbaF0uZ2V0VmFsdWUoKS91LnN1bSppO3JbaF0uc2V0TGF5b3V0KHthcmVhOmR9KX1yZXR1cm4gbCYmKHIubGVuZ3RoJiZ0LnNldExheW91dCh7aXNMZWFmUm9vdDohMH0sITApLHIubGVuZ3RoPTApLHQudmlld0NoaWxkcmVuPXIsdC5zZXRMYXlvdXQoe2RhdGFFeHRlbnQ6dS5kYXRhRXh0ZW50fSwhMCkscn1mdW5jdGlvbiBZXyh0LGUsaSl7Zm9yKHZhciBuLG89MCxhPTEvMCxyPTAscz10Lmxlbmd0aDtyPHM7cisrKShuPXRbcl0uZ2V0TGF5b3V0KCkuYXJlYSkmJihuPGEmJihhPW4pLG88biYmKG89bikpO3ZhciBsPXQuYXJlYSp0LmFyZWEsdT1lKmUqaTtyZXR1cm4gbD9FXyh1Km8vbCxsLyh1KmEpKToxLzB9ZnVuY3Rpb24gal8odCxlLGksbixvKXt2YXIgYT1lPT09aS53aWR0aD8wOjEscj0xLWEscz1bIngiLCJ5Il0sbD1bIndpZHRoIiwiaGVpZ2h0Il0sdT1pW3NbYV1dLGg9ZT90LmFyZWEvZTowOyhvfHxoPmlbbFtyXV0pJiYoaD1pW2xbcl1dKTtmb3IodmFyIGM9MCxkPXQubGVuZ3RoO2M8ZDtjKyspe3ZhciBmPXRbY10scD17fSxnPWg/Zi5nZXRMYXlvdXQoKS5hcmVhL2g6MCxtPXBbbFtyXV09RV8oaC0yKm4sMCksdj1pW3NbYV1dK2lbbFthXV0tdSx5PWM9PT1kLTF8fHY8Zz92OmcseD1wW2xbYV1dPUVfKHktMipuLDApO3Bbc1tyXV09aVtzW3JdXStCXyhuLG0vMikscFtzW2FdXT11K0JfKG4seC8yKSx1Kz15LGYuc2V0TGF5b3V0KHAsITApfWlbc1tyXV0rPWgsaVtsW3JdXS09aH1mdW5jdGlvbiBxXyh0KXtyZXR1cm4gdC5nZXQoSF8pP3QuZ2V0KFpfKTowfWZ1bmN0aW9uIEtfKHQpe3JldHVybiJfRUNfIit0fVNmKExfKSxiZihVXyk7ZnVuY3Rpb24gJF8odCl7dGhpcy5fZGlyZWN0ZWQ9dHx8ITEsdGhpcy5ub2Rlcz1bXSx0aGlzLmVkZ2VzPVtdLHRoaXMuX25vZGVzTWFwPXt9LHRoaXMuX2VkZ2VzTWFwPXt9LHRoaXMuZGF0YSx0aGlzLmVkZ2VEYXRhfXZhciBKXz0kXy5wcm90b3R5cGU7ZnVuY3Rpb24gUV8odCxlKXt0aGlzLmlkPW51bGw9PXQ/IiI6dCx0aGlzLmluRWRnZXM9W10sdGhpcy5vdXRFZGdlcz1bXSx0aGlzLmVkZ2VzPVtdLHRoaXMuaG9zdEdyYXBoLHRoaXMuZGF0YUluZGV4PW51bGw9PWU/LTE6ZX1mdW5jdGlvbiB0dyh0LGUsaSl7dGhpcy5ub2RlMT10LHRoaXMubm9kZTI9ZSx0aGlzLmRhdGFJbmRleD1udWxsPT1pPy0xOml9Sl8udHlwZT0iZ3JhcGgiLEpfLmlzRGlyZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0ZWR9LEpfLmFkZE5vZGU9ZnVuY3Rpb24odCxlKXt0PW51bGw9PXQ/IiIrZToiIit0O3ZhciBpPXRoaXMuX25vZGVzTWFwO2lmKCFpW0tfKHQpXSl7dmFyIG49bmV3IFFfKHQsZSk7cmV0dXJuKG4uaG9zdEdyYXBoPXRoaXMpLm5vZGVzLnB1c2gobiksaVtLXyh0KV09bn19LEpfLmdldE5vZGVCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5ub2Rlc1tlXX0sSl8uZ2V0Tm9kZUJ5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25vZGVzTWFwW0tfKHQpXX0sSl8uYWRkRWRnZT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fbm9kZXNNYXAsbz10aGlzLl9lZGdlc01hcDtpZigibnVtYmVyIj09dHlwZW9mIHQmJih0PXRoaXMubm9kZXNbdF0pLCJudW1iZXIiPT10eXBlb2YgZSYmKGU9dGhpcy5ub2Rlc1tlXSksUV8uaXNJbnN0YW5jZSh0KXx8KHQ9bltLXyh0KV0pLFFfLmlzSW5zdGFuY2UoZSl8fChlPW5bS18oZSldKSx0JiZlKXt2YXIgYT10LmlkKyItIitlLmlkLHI9bmV3IHR3KHQsZSxpKTtyZXR1cm4oci5ob3N0R3JhcGg9dGhpcykuX2RpcmVjdGVkJiYodC5vdXRFZGdlcy5wdXNoKHIpLGUuaW5FZGdlcy5wdXNoKHIpKSx0LmVkZ2VzLnB1c2gociksdCE9PWUmJmUuZWRnZXMucHVzaChyKSx0aGlzLmVkZ2VzLnB1c2gociksb1thXT1yfX0sSl8uZ2V0RWRnZUJ5SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lZGdlRGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5lZGdlc1tlXX0sSl8uZ2V0RWRnZT1mdW5jdGlvbih0LGUpe1FfLmlzSW5zdGFuY2UodCkmJih0PXQuaWQpLFFfLmlzSW5zdGFuY2UoZSkmJihlPWUuaWQpO3ZhciBpPXRoaXMuX2VkZ2VzTWFwO3JldHVybiB0aGlzLl9kaXJlY3RlZD9pW3QrIi0iK2VdOmlbdCsiLSIrZV18fGlbZSsiLSIrdF19LEpfLmVhY2hOb2RlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMubm9kZXMsbj1pLmxlbmd0aCxvPTA7bzxuO28rKykwPD1pW29dLmRhdGFJbmRleCYmdC5jYWxsKGUsaVtvXSxvKX0sSl8uZWFjaEVkZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5lZGdlcyxuPWkubGVuZ3RoLG89MDtvPG47bysrKTA8PWlbb10uZGF0YUluZGV4JiYwPD1pW29dLm5vZGUxLmRhdGFJbmRleCYmMDw9aVtvXS5ub2RlMi5kYXRhSW5kZXgmJnQuY2FsbChlLGlbb10sbyl9LEpfLmJyZWFkdGhGaXJzdFRyYXZlcnNlPWZ1bmN0aW9uKHQsZSxpLG4pe2lmKFFfLmlzSW5zdGFuY2UoZSl8fChlPXRoaXMuX25vZGVzTWFwW0tfKGUpXSksZSl7Zm9yKHZhciBvPSJvdXQiPT09aT8ib3V0RWRnZXMiOiJpbiI9PT1pPyJpbkVkZ2VzIjoiZWRnZXMiLGE9MDthPHRoaXMubm9kZXMubGVuZ3RoO2ErKyl0aGlzLm5vZGVzW2FdLl9fdmlzaXRlZD0hMTtpZighdC5jYWxsKG4sZSxudWxsKSlmb3IodmFyIHI9W2VdO3IubGVuZ3RoOyl7dmFyIHM9ci5zaGlmdCgpLGw9c1tvXTtmb3IoYT0wO2E8bC5sZW5ndGg7YSsrKXt2YXIgdT1sW2FdLGg9dS5ub2RlMT09PXM/dS5ub2RlMjp1Lm5vZGUxO2lmKCFoLl9fdmlzaXRlZCl7aWYodC5jYWxsKG4saCxzKSlyZXR1cm47ci5wdXNoKGgpLGguX192aXNpdGVkPSEwfX19fX0sSl8udXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGF0YSxpPXRoaXMuZWRnZURhdGEsZT10aGlzLm5vZGVzLG49dGhpcy5lZGdlcyxvPTAsYT1lLmxlbmd0aDtvPGE7bysrKWVbb10uZGF0YUluZGV4PS0xO2ZvcihvPTAsYT10LmNvdW50KCk7bzxhO28rKyllW3QuZ2V0UmF3SW5kZXgobyldLmRhdGFJbmRleD1vO2kuZmlsdGVyU2VsZihmdW5jdGlvbih0KXt2YXIgZT1uW2kuZ2V0UmF3SW5kZXgodCldO3JldHVybiAwPD1lLm5vZGUxLmRhdGFJbmRleCYmMDw9ZS5ub2RlMi5kYXRhSW5kZXh9KTtmb3Iobz0wLGE9bi5sZW5ndGg7bzxhO28rKyluW29dLmRhdGFJbmRleD0tMTtmb3Iobz0wLGE9aS5jb3VudCgpO288YTtvKyspbltpLmdldFJhd0luZGV4KG8pXS5kYXRhSW5kZXg9b30sSl8uY2xvbmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3ICRfKHRoaXMuX2RpcmVjdGVkKSxlPXRoaXMubm9kZXMsaT10aGlzLmVkZ2VzLG49MDtuPGUubGVuZ3RoO24rKyl0LmFkZE5vZGUoZVtuXS5pZCxlW25dLmRhdGFJbmRleCk7Zm9yKG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTt0LmFkZEVkZ2Uoby5ub2RlMS5pZCxvLm5vZGUyLmlkLG8uZGF0YUluZGV4KX1yZXR1cm4gdH0sUV8ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpRXyxkZWdyZWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlcy5sZW5ndGh9LGluRGVncmVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5FZGdlcy5sZW5ndGh9LG91dERlZ3JlZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm91dEVkZ2VzLmxlbmd0aH0sZ2V0TW9kZWw6ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLmdldE1vZGVsKHQpfX0sdHcucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpcmV0dXJuIHRoaXMuaG9zdEdyYXBoLmVkZ2VEYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9O2Z1bmN0aW9uIGV3KGksbil7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbaV1bbl07cmV0dXJuIGUuZ2V0KGUuZ2V0RGltZW5zaW9uKHR8fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sc2V0VmlzdWFsOmZ1bmN0aW9uKHQsZSl7MDw9dGhpcy5kYXRhSW5kZXgmJnRoaXNbaV1bbl0uc2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0LGUpfSxnZXRWaXN1YWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpc1tpXVtuXS5nZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQsZSl9LHNldExheW91dDpmdW5jdGlvbih0LGUpezA8PXRoaXMuZGF0YUluZGV4JiZ0aGlzW2ldW25dLnNldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgsdCxlKX0sZ2V0TGF5b3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbaV1bbl0uZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldEdyYXBoaWNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzW2ldW25dLmdldEl0ZW1HcmFwaGljRWwodGhpcy5kYXRhSW5kZXgpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzW2ldW25dLmdldFJhd0luZGV4KHRoaXMuZGF0YUluZGV4KX19fWIoUV8sZXcoImhvc3RHcmFwaCIsImRhdGEiKSksYih0dyxldygiaG9zdEdyYXBoIiwiZWRnZURhdGEiKSksJF8uTm9kZT1RXywkXy5FZGdlPXR3LHJhKFFfKSxyYSh0dyk7ZnVuY3Rpb24gaXcodCxlLGksbixvKXtmb3IodmFyIGE9bmV3ICRfKG4pLHI9MDtyPHQubGVuZ3RoO3IrKylhLmFkZE5vZGUoVyh0W3JdLmlkLHRbcl0ubmFtZSxyKSxyKTt2YXIgcz1bXSxsPVtdLHU9MDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaD1lW3JdLGM9aC5zb3VyY2UsZD1oLnRhcmdldDthLmFkZEVkZ2UoYyxkLHUpJiYobC5wdXNoKGgpLHMucHVzaChXKGguaWQsYysiID4gIitkKSksdSsrKX12YXIgZixwPWkuZ2V0KCJjb29yZGluYXRlU3lzdGVtIik7aWYoImNhcnRlc2lhbjJkIj09PXB8fCJwb2xhciI9PT1wKWY9Z3AodCxpKTtlbHNle3ZhciBnPWxoLmdldChwKSxtPWcmJiJ2aWV3IiE9PWcudHlwZSYmZy5kaW1lbnNpb25zfHxbXTtfKG0sInZhbHVlIik8MCYmbS5jb25jYXQoWyJ2YWx1ZSJdKTt2YXIgdj1scCh0LHtjb29yZERpbWVuc2lvbnM6bX0pOyhmPW5ldyBZZih2LGkpKS5pbml0RGF0YSh0KX12YXIgeT1uZXcgWWYoWyJ2YWx1ZSJdLGkpO3JldHVybiB5LmluaXREYXRhKGwscyksbyYmbyhmLHkpLHl4KHttYWluRGF0YTpmLHN0cnVjdDphLHN0cnVjdEF0dHI6ImdyYXBoIixkYXRhczp7bm9kZTpmLGVkZ2U6eX0sZGF0YXNBdHRyOntub2RlOiJkYXRhIixlZGdlOiJlZGdlRGF0YSJ9fSksYS51cGRhdGUoKSxhfXZhciBudz0iLS1ceDNlIixvdz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoImF1dG9DdXJ2ZW5lc3MiKXx8bnVsbH0sYXc9ZnVuY3Rpb24odCxlKXt2YXIgaT1vdyh0KSxuPTIwLG89W107aWYoIm51bWJlciI9PXR5cGVvZiBpKW49aTtlbHNlIGlmKEwoaSkpcmV0dXJuIHZvaWQodC5fX2N1cnZlbmVzc0xpc3Q9aSk7bjxlJiYobj1lKTt2YXIgYT1uJTI/bisyOm4rMztvPVtdO2Zvcih2YXIgcj0wO3I8YTtyKyspby5wdXNoKChyJTI/cisxOnIpLzEwKihyJTI/LTE6MSkpO3QuX19jdXJ2ZW5lc3NMaXN0PW99LHJ3PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1bdC5pZCx0LmRhdGFJbmRleF0uam9pbigiLiIpLG89W2UuaWQsZS5kYXRhSW5kZXhdLmpvaW4oIi4iKTtyZXR1cm5baS51aWQsbixvXS5qb2luKG53KX0sc3c9ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChudyk7cmV0dXJuW2VbMF0sZVsyXSxlWzFdXS5qb2luKG53KX0sbHc9ZnVuY3Rpb24odCxlKXt2YXIgaT1ydyh0Lm5vZGUxLHQubm9kZTIsZSk7cmV0dXJuIGUuX19lZGdlTWFwW2ldfSx1dz1mdW5jdGlvbih0LGUpe3JldHVybiBodyhydyh0Lm5vZGUxLHQubm9kZTIsZSksZSkraHcocncodC5ub2RlMix0Lm5vZGUxLGUpLGUpfSxodz1mdW5jdGlvbih0LGUpe3ZhciBpPWUuX19lZGdlTWFwO3JldHVybiBpW3RdP2lbdF0ubGVuZ3RoOjB9O2Z1bmN0aW9uIGN3KHQsZSxpLG4pe3ZhciBvPW93KGUpLGE9TChvKTtpZighbylyZXR1cm4gbnVsbDt2YXIgcj1sdyh0LGUpO2lmKCFyKXJldHVybiBudWxsO2Zvcih2YXIgcz0tMSxsPTA7bDxyLmxlbmd0aDtsKyspaWYocltsXT09PWkpe3M9bDticmVha312YXIgdT11dyh0LGUpO2F3KGUsdSksdC5saW5lU3R5bGU9dC5saW5lU3R5bGV8fHt9O3ZhciBoPXJ3KHQubm9kZTEsdC5ub2RlMixlKSxjPWUuX19jdXJ2ZW5lc3NMaXN0LGQ9YT8wOnUlMj8wOjE7aWYoci5pc0ZvcndhcmQpcmV0dXJuIGNbZCtzXTt2YXIgZj1zdyhoKSxwPWh3KGYsZSksZz1jW3MrcCtkXTtyZXR1cm4gbj9hP28mJjA9PT1vWzBdPyhwK2QpJTI/ZzotZzooKHAlMj8wOjEpK2QpJTI/ZzotZzoocCtkKSUyP2c6LWc6Y1tzK3ArZF19dmFyIGR3PURmKHt0eXBlOiJzZXJpZXMuZ3JhcGgiLGluaXQ6ZnVuY3Rpb24odCl7ZHcuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpO3ZhciBlPXRoaXM7ZnVuY3Rpb24gaSgpe3JldHVybiBlLl9jYXRlZ29yaWVzRGF0YX10aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyBxdihpLGkpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUodC5lZGdlc3x8dC5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7ZHcuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZWRnZXN8fHQubGlua3MpLHRoaXMuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhKCl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQpe2R3LnN1cGVyQXBwbHkodGhpcywibWVyZ2VEZWZhdWx0QW5kVGhlbWUiLGFyZ3VtZW50cyksR28odCxbImVkZ2VMYWJlbCJdLFsic2hvdyJdKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxzKXt2YXIgZT10LmVkZ2VzfHx0LmxpbmtzfHxbXSxpPXQuZGF0YXx8dC5ub2Rlc3x8W10sbD10aGlzO2lmKGkmJmUpeyFmdW5jdGlvbih0KXtvdyh0KSYmKHQuX19jdXJ2ZW5lc3NMaXN0PVtdLHQuX19lZGdlTWFwPXt9LGF3KHQpKX0odGhpcyk7dmFyIG49aXcoaSxlLHRoaXMsITAsZnVuY3Rpb24odCxlKXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsZnVuY3Rpb24odCl7dmFyIGU9bC5fY2F0ZWdvcmllc01vZGVsc1t0LmdldFNoYWxsb3coImNhdGVnb3J5IildO3JldHVybiBlJiYoZS5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9ZSksdH0pO3ZhciBpPWwuZ2V0TW9kZWwoImVkZ2VMYWJlbCIpLG49bmV3IENsKHtsYWJlbDppLm9wdGlvbn0saS5wYXJlbnRNb2RlbCxzKSxvPWwuZ2V0TW9kZWwoImVtcGhhc2lzLmVkZ2VMYWJlbCIpLGE9bmV3IENsKHtlbXBoYXNpczp7bGFiZWw6by5vcHRpb259fSxvLnBhcmVudE1vZGVsLHMpO2Z1bmN0aW9uIHIodCl7cmV0dXJuKHQ9dGhpcy5wYXJzZVBhdGgodCkpJiYibGFiZWwiPT09dFswXT9uOnQmJiJlbXBoYXNpcyI9PT10WzBdJiYibGFiZWwiPT09dFsxXT9hOnRoaXMucGFyZW50TW9kZWx9ZS53cmFwTWV0aG9kKCJnZXRJdGVtTW9kZWwiLGZ1bmN0aW9uKHQpe3JldHVybiB0LmN1c3RvbWl6ZUdldFBhcmVudChyKSx0fSl9KTtyZXR1cm4gUihuLmVkZ2VzLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsaSxuKXtpZihvdyhpKSl7dmFyIG89cncodCxlLGkpLGE9aS5fX2VkZ2VNYXAscj1hW3N3KG8pXTthW29dJiYhcj9hW29dLmlzRm9yd2FyZD0hMDpyJiZhW29dJiYoci5pc0ZvcndhcmQ9ITAsYVtvXS5pc0ZvcndhcmQ9ITEpLGFbb109YVtvXXx8W10sYVtvXS5wdXNoKG4pfX0odC5ub2RlMSx0Lm5vZGUyLHRoaXMsdC5kYXRhSW5kZXgpfSx0aGlzKSxuLmRhdGF9fSxnZXRHcmFwaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZ2V0RWRnZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxnZXRDYXRlZ29yaWVzRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzRGF0YX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0LGUsaSl7aWYoImVkZ2UiIT09aSlyZXR1cm4gZHcuc3VwZXJBcHBseSh0aGlzLCJmb3JtYXRUb29sdGlwIixhcmd1bWVudHMpO3ZhciBuPXRoaXMuZ2V0RGF0YSgpLG89dGhpcy5nZXREYXRhUGFyYW1zKHQsaSksYT1uLmdyYXBoLmdldEVkZ2VCeUluZGV4KHQpLHI9bi5nZXROYW1lKGEubm9kZTEuZGF0YUluZGV4KSxzPW4uZ2V0TmFtZShhLm5vZGUyLmRhdGFJbmRleCksbD1bXTtyZXR1cm4gbnVsbCE9ciYmbC5wdXNoKHIpLG51bGwhPXMmJmwucHVzaChzKSxsPWF1KGwuam9pbigiID4gIikpLG8udmFsdWUmJihsKz0iIDogIithdShvLnZhbHVlKSksbH0sX3VwZGF0ZUNhdGVnb3JpZXNEYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfHxbXSxmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dC52YWx1ZT90OlAoe3ZhbHVlOjB9LHQpfSksZT1uZXcgWWYoWyJ2YWx1ZSJdLHRoaXMpO2UuaW5pdERhdGEodCksdGhpcy5fY2F0ZWdvcmllc0RhdGE9ZSx0aGlzLl9jYXRlZ29yaWVzTW9kZWxzPWUubWFwQXJyYXkoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKHQsITApfSl9LHNldFpvb206ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxzZXRDZW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGlzQW5pbWF0aW9uRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBkdy5zdXBlckNhbGwodGhpcywiaXNBbmltYXRpb25FbmFibGVkIikmJiEoImZvcmNlIj09PXRoaXMuZ2V0KCJsYXlvdXQiKSYmdGhpcy5nZXQoImZvcmNlLmxheW91dEFuaW1hdGlvbiIpKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxsYXlvdXQ6bnVsbCxmb2N1c05vZGVBZGphY2VuY3k6ITEsY2lyY3VsYXI6e3JvdGF0ZUxhYmVsOiExfSxmb3JjZTp7aW5pdExheW91dDpudWxsLHJlcHVsc2lvbjpbMCw1MF0sZ3Jhdml0eTouMSxmcmljdGlvbjouNixlZGdlTGVuZ3RoOjMwLGxheW91dEFuaW1hdGlvbjohMH0sbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsc3ltYm9sOiJjaXJjbGUiLHN5bWJvbFNpemU6MTAsZWRnZVN5bWJvbDpbIm5vbmUiLCJub25lIl0sZWRnZVN5bWJvbFNpemU6MTAsZWRnZUxhYmVsOntwb3NpdGlvbjoibWlkZGxlIixkaXN0YW5jZTo1fSxkcmFnZ2FibGU6ITEscm9hbTohMSxjZW50ZXI6bnVsbCx6b29tOjEsbm9kZVNjYWxlUmF0aW86LjYsbGFiZWw6e3Nob3c6ITEsZm9ybWF0dGVyOiJ7Yn0ifSxpdGVtU3R5bGU6e30sbGluZVN0eWxlOntjb2xvcjoiI2FhYSIsd2lkdGg6MSxvcGFjaXR5Oi41fSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX19KSxmdz1scy5wcm90b3R5cGUscHc9ZHMucHJvdG90eXBlO2Z1bmN0aW9uIGd3KHQpe3JldHVybiBpc05hTigrdC5jcHgxKXx8aXNOYU4oK3QuY3B5MSl9dmFyIG13PUNzKHt0eXBlOiJlYy1saW5lIixzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LHNoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLHBlcmNlbnQ6MSxjcHgxOm51bGwsY3B5MTpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt0aGlzW2d3KGUpPyJfYnVpbGRQYXRoTGluZSI6Il9idWlsZFBhdGhDdXJ2ZSJdKHQsZSl9LF9idWlsZFBhdGhMaW5lOmZ3LmJ1aWxkUGF0aCxfYnVpbGRQYXRoQ3VydmU6cHcuYnVpbGRQYXRoLHBvaW50QXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbZ3codGhpcy5zaGFwZSk/Il9wb2ludEF0TGluZSI6Il9wb2ludEF0Q3VydmUiXSh0KX0sX3BvaW50QXRMaW5lOmZ3LnBvaW50QXQsX3BvaW50QXRDdXJ2ZTpwdy5wb2ludEF0LHRhbmdlbnRBdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlLGk9Z3coZSk/W2UueDItZS54MSxlLnkyLWUueTFdOnRoaXMuX3RhbmdlbnRBdEN1cnZlKHQpO3JldHVybiBtdChpLGkpfSxfdGFuZ2VudEF0Q3VydmU6cHcudGFuZ2VudEF0fSksdnc9WyJmcm9tU3ltYm9sIiwidG9TeW1ib2wiXTtmdW5jdGlvbiB5dyh0KXtyZXR1cm4iXyIrdCsiVHlwZSJ9ZnVuY3Rpb24geHcodCxlLGkpe3ZhciBuPWUuZ2V0SXRlbVZpc3VhbChpLHQpO2lmKG4mJiJub25lIiE9PW4pe3ZhciBvPWUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLGE9ZS5nZXRJdGVtVmlzdWFsKGksdCsiU2l6ZSIpLHI9ZS5nZXRJdGVtVmlzdWFsKGksdCsiUm90YXRlIik7TChhKXx8KGE9W2EsYV0pO3ZhciBzPXdnKG4sLWFbMF0vMiwtYVsxXS8yLGFbMF0sYVsxXSxvKTtyZXR1cm4gcy5fX3NwZWNpZmllZFJvdGF0aW9uPW51bGw9PXJ8fGlzTmFOKHIpP3ZvaWQgMDorcipNYXRoLlBJLzE4MHx8MCxzLm5hbWU9dCxzfX1mdW5jdGlvbiBfdyh0LGUpe3QueDE9ZVswXVswXSx0LnkxPWVbMF1bMV0sdC54Mj1lWzFdWzBdLHQueTI9ZVsxXVsxXSx0LnBlcmNlbnQ9MTt2YXIgaT1lWzJdO2k/KHQuY3B4MT1pWzBdLHQuY3B5MT1pWzFdKToodC5jcHgxPU5hTix0LmNweTE9TmFOKX1mdW5jdGlvbiB3dyh0LGUsaSl7Q2kuY2FsbCh0aGlzKSx0aGlzLl9jcmVhdGVMaW5lKHQsZSxpKX12YXIgYnc9d3cucHJvdG90eXBlO2Z1bmN0aW9uIFN3KHQpe3RoaXMuX2N0b3I9dHx8d3csdGhpcy5ncm91cD1uZXcgQ2l9YncuYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jaGlsZE9mTmFtZSgiZnJvbVN5bWJvbCIpLGU9dGhpcy5jaGlsZE9mTmFtZSgidG9TeW1ib2wiKSxpPXRoaXMuY2hpbGRPZk5hbWUoImxhYmVsIik7aWYodHx8ZXx8IWkuaWdub3JlKXtmb3IodmFyIG49MSxvPXRoaXMucGFyZW50O287KW8uc2NhbGUmJihuLz1vLnNjYWxlWzBdKSxvPW8ucGFyZW50O3ZhciBhPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKTtpZih0aGlzLl9fZGlydHl8fGEuX19kaXJ0eSl7dmFyIHI9YS5zaGFwZS5wZXJjZW50LHM9YS5wb2ludEF0KDApLGw9YS5wb2ludEF0KHIpLHU9aHQoW10sbCxzKTtpZihtdCh1LHUpLHQpe2lmKHQuYXR0cigicG9zaXRpb24iLHMpLG51bGw9PShjPXQuX19zcGVjaWZpZWRSb3RhdGlvbikpe3ZhciBoPWEudGFuZ2VudEF0KDApO3QuYXR0cigicm90YXRpb24iLE1hdGguUEkvMi1NYXRoLmF0YW4yKGhbMV0saFswXSkpfWVsc2UgdC5hdHRyKCJyb3RhdGlvbiIsYyk7dC5hdHRyKCJzY2FsZSIsW24qcixuKnJdKX1pZihlKXt2YXIgYztpZihlLmF0dHIoInBvc2l0aW9uIixsKSxudWxsPT0oYz1lLl9fc3BlY2lmaWVkUm90YXRpb24pKXtoPWEudGFuZ2VudEF0KDEpO2UuYXR0cigicm90YXRpb24iLC1NYXRoLlBJLzItTWF0aC5hdGFuMihoWzFdLGhbMF0pKX1lbHNlIGUuYXR0cigicm90YXRpb24iLGMpO2UuYXR0cigic2NhbGUiLFtuKnIsbipyXSl9aWYoIWkuaWdub3JlKXt2YXIgZCxmLHAsZztpLmF0dHIoInBvc2l0aW9uIixsKTt2YXIgbT1pLl9fbGFiZWxEaXN0YW5jZSx2PW1bMF0qbix5PW1bMV0qbix4PXIvMixfPVsoaD1hLnRhbmdlbnRBdCh4KSlbMV0sLWhbMF1dLHc9YS5wb2ludEF0KHgpOzA8X1sxXSYmKF9bMF09LV9bMF0sX1sxXT0tX1sxXSk7dmFyIGIsUz1oWzBdPDA/LTE6MTtpZigic3RhcnQiIT09aS5fX3Bvc2l0aW9uJiYiZW5kIiE9PWkuX19wb3NpdGlvbil7dmFyIE09LU1hdGguYXRhbjIoaFsxXSxoWzBdKTtsWzBdPHNbMF0mJihNPU1hdGguUEkrTSksaS5hdHRyKCJyb3RhdGlvbiIsTSl9c3dpdGNoKGkuX19wb3NpdGlvbil7Y2FzZSJpbnNpZGVTdGFydFRvcCI6Y2FzZSJpbnNpZGVNaWRkbGVUb3AiOmNhc2UiaW5zaWRlRW5kVG9wIjpjYXNlIm1pZGRsZSI6Yj0teSxwPSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlU3RhcnRCb3R0b20iOmNhc2UiaW5zaWRlTWlkZGxlQm90dG9tIjpjYXNlImluc2lkZUVuZEJvdHRvbSI6Yj15LHA9InRvcCI7YnJlYWs7ZGVmYXVsdDpiPTAscD0ibWlkZGxlIn1zd2l0Y2goaS5fX3Bvc2l0aW9uKXtjYXNlImVuZCI6ZD1bdVswXSp2K2xbMF0sdVsxXSp5K2xbMV1dLGY9Ljg8dVswXT8ibGVmdCI6dVswXTwtLjg/InJpZ2h0IjoiY2VudGVyIixwPS44PHVbMV0/InRvcCI6dVsxXTwtLjg/ImJvdHRvbSI6Im1pZGRsZSI7YnJlYWs7Y2FzZSJzdGFydCI6ZD1bLXVbMF0qditzWzBdLC11WzFdKnkrc1sxXV0sZj0uODx1WzBdPyJyaWdodCI6dVswXTwtLjg/ImxlZnQiOiJjZW50ZXIiLHA9Ljg8dVsxXT8iYm90dG9tIjp1WzFdPC0uOD8idG9wIjoibWlkZGxlIjticmVhaztjYXNlImluc2lkZVN0YXJ0VG9wIjpjYXNlImluc2lkZVN0YXJ0IjpjYXNlImluc2lkZVN0YXJ0Qm90dG9tIjpkPVt2KlMrc1swXSxzWzFdK2JdLGY9aFswXTwwPyJyaWdodCI6ImxlZnQiLGc9Wy12KlMsLWJdO2JyZWFrO2Nhc2UiaW5zaWRlTWlkZGxlVG9wIjpjYXNlImluc2lkZU1pZGRsZSI6Y2FzZSJpbnNpZGVNaWRkbGVCb3R0b20iOmNhc2UibWlkZGxlIjpkPVt3WzBdLHdbMV0rYl0sZj0iY2VudGVyIixnPVswLC1iXTticmVhaztjYXNlImluc2lkZUVuZFRvcCI6Y2FzZSJpbnNpZGVFbmQiOmNhc2UiaW5zaWRlRW5kQm90dG9tIjpkPVstdipTK2xbMF0sbFsxXStiXSxmPTA8PWhbMF0/InJpZ2h0IjoibGVmdCIsZz1bdipTLC1iXX1pLmF0dHIoe3N0eWxlOnt0ZXh0VmVydGljYWxBbGlnbjppLl9fdmVydGljYWxBbGlnbnx8cCx0ZXh0QWxpZ246aS5fX3RleHRBbGlnbnx8Zn0scG9zaXRpb246ZCxzY2FsZTpbbixuXSxvcmlnaW46Z30pfX19fSxidy5fY3JlYXRlTGluZT1mdW5jdGlvbihpLG4sdCl7dmFyIGU9aS5ob3N0TW9kZWwsbz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbXcoe25hbWU6ImxpbmUiLHN1YlBpeGVsT3B0aW1pemU6ITB9KTtyZXR1cm4gX3coZS5zaGFwZSx0KSxlfShpLmdldEl0ZW1MYXlvdXQobikpO28uc2hhcGUucGVyY2VudD0wLGRsKG8se3NoYXBlOntwZXJjZW50OjF9fSxlLG4pLHRoaXMuYWRkKG8pO3ZhciBhPW5ldyBVcih7bmFtZToibGFiZWwiLGxpbmVMYWJlbE9yaWdpbmFsT3BhY2l0eToxfSk7dGhpcy5hZGQoYSksUih2dyxmdW5jdGlvbih0KXt2YXIgZT14dyh0LGksbik7dGhpcy5hZGQoZSksdGhpc1t5dyh0KV09aS5nZXRJdGVtVmlzdWFsKG4sdCl9LHRoaXMpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bChpLG4sdCl9LGJ3LnVwZGF0ZURhdGE9ZnVuY3Rpb24obyxhLHQpe3ZhciBlPW8uaG9zdE1vZGVsLGk9dGhpcy5jaGlsZE9mTmFtZSgibGluZSIpLG49by5nZXRJdGVtTGF5b3V0KGEpLHI9e3NoYXBlOnt9fTtfdyhyLnNoYXBlLG4pLGNsKGkscixlLGEpLFIodncsZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtVmlzdWFsKGEsdCksaT15dyh0KTtpZih0aGlzW2ldIT09ZSl7dGhpcy5yZW1vdmUodGhpcy5jaGlsZE9mTmFtZSh0KSk7dmFyIG49eHcodCxvLGEpO3RoaXMuYWRkKG4pfXRoaXNbaV09ZX0sdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKG8sYSx0KX0sYncuX3VwZGF0ZUNvbW1vblN0bD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dC5ob3N0TW9kZWwsbz10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIiksYT1pJiZpLmxpbmVTdHlsZSxyPWkmJmkuaG92ZXJMaW5lU3R5bGUscz1pJiZpLmxhYmVsTW9kZWwsbD1pJiZpLmhvdmVyTGFiZWxNb2RlbDtpZighaXx8dC5oYXNJdGVtT3B0aW9uKXt2YXIgdT10LmdldEl0ZW1Nb2RlbChlKTthPXUuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHI9dS5nZXRNb2RlbCgiZW1waGFzaXMubGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkscz11LmdldE1vZGVsKCJsYWJlbCIpLGw9dS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKX12YXIgaD10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKSxjPVoodC5nZXRJdGVtVmlzdWFsKGUsIm9wYWNpdHkiKSxhLm9wYWNpdHksMSk7by51c2VTdHlsZShEKHtzdHJva2VOb1NjYWxlOiEwLGZpbGw6Im5vbmUiLHN0cm9rZTpoLG9wYWNpdHk6Y30sYSkpLG8uaG92ZXJTdHlsZT1yLFIodncsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZE9mTmFtZSh0KTtlJiYoZS5zZXRDb2xvcihoKSxlLnNldFN0eWxlKHtvcGFjaXR5OmN9KSl9LHRoaXMpO3ZhciBkLGYscD1zLmdldFNoYWxsb3coInNob3ciKSxnPWwuZ2V0U2hhbGxvdygic2hvdyIpLG09dGhpcy5jaGlsZE9mTmFtZSgibGFiZWwiKTtpZigocHx8ZykmJihkPWh8fCIjMDAwIixudWxsPT0oZj1uLmdldEZvcm1hdHRlZExhYmVsKGUsIm5vcm1hbCIsdC5kYXRhVHlwZSkpKSl7dmFyIHY9bi5nZXRSYXdWYWx1ZShlKTtmPW51bGw9PXY/dC5nZXROYW1lKGUpOmlzRmluaXRlKHYpP0VsKHYpOnZ9dmFyIHk9cD9mOm51bGwseD1nP0gobi5nZXRGb3JtYXR0ZWRMYWJlbChlLCJlbXBoYXNpcyIsdC5kYXRhVHlwZSksZik6bnVsbCxfPW0uc3R5bGU7aWYobnVsbCE9eXx8bnVsbCE9eCl7bmwobS5zdHlsZSxzLHt0ZXh0Onl9LHthdXRvQ29sb3I6ZH0pLG0uX190ZXh0QWxpZ249Xy50ZXh0QWxpZ24sbS5fX3ZlcnRpY2FsQWxpZ249Xy50ZXh0VmVydGljYWxBbGlnbixtLl9fcG9zaXRpb249cy5nZXQoInBvc2l0aW9uIil8fCJtaWRkbGUiO3ZhciB3PXMuZ2V0KCJkaXN0YW5jZSIpO0wodyl8fCh3PVt3LHddKSxtLl9fbGFiZWxEaXN0YW5jZT13fW0uaG92ZXJTdHlsZT1udWxsIT14P3t0ZXh0OngsdGV4dEZpbGw6bC5nZXRUZXh0Q29sb3IoITApLGZvbnRTdHlsZTpsLmdldFNoYWxsb3coImZvbnRTdHlsZSIpLGZvbnRXZWlnaHQ6bC5nZXRTaGFsbG93KCJmb250V2VpZ2h0IiksZm9udFNpemU6bC5nZXRTaGFsbG93KCJmb250U2l6ZSIpLGZvbnRGYW1pbHk6bC5nZXRTaGFsbG93KCJmb250RmFtaWx5Iil9Ont0ZXh0Om51bGx9LG0uaWdub3JlPSFwJiYhZywkcyh0aGlzKX0sYncuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJlbXBoYXNpcyIpfSxidy5kb3ducGxheT1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibm9ybWFsIil9LGJ3LnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0TGluZVBvaW50cyh0LmdldEl0ZW1MYXlvdXQoZSkpfSxidy5zZXRMaW5lUG9pbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKTtfdyhlLnNoYXBlLHQpLGUuZGlydHkoKX0sdyh3dyxDaSk7dmFyIE13PVN3LnByb3RvdHlwZTtmdW5jdGlvbiBJdyh0KXt2YXIgZT10Lmhvc3RNb2RlbDtyZXR1cm57bGluZVN0eWxlOmUuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGhvdmVyTGluZVN0eWxlOmUuZ2V0TW9kZWwoImVtcGhhc2lzLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgibGFiZWwiKSxob3ZlckxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKX19ZnVuY3Rpb24gVHcodCl7cmV0dXJuIGlzTmFOKHRbMF0pfHxpc05hTih0WzFdKX1mdW5jdGlvbiBBdyh0KXtyZXR1cm4hVHcodFswXSkmJiFUdyh0WzFdKX1mdW5jdGlvbiBEdyh0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoInZpZXciIT09ZS50eXBlKXJldHVybiAxO3ZhciBpPXQub3B0aW9uLm5vZGVTY2FsZVJhdGlvLG49ZS5zY2FsZSxvPW4mJm5bMF18fDE7cmV0dXJuKChlLmdldFpvb20oKS0xKSppKzEpL299ZnVuY3Rpb24gQ3codCl7dmFyIGU9dC5nZXRWaXN1YWwoInN5bWJvbFNpemUiKTtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5JiYoZT0oZVswXStlWzFdKS8yKSwrZX1Ndy5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sTXcudXBkYXRlRGF0YT1mdW5jdGlvbihpKXt2YXIgbj10aGlzLGU9bi5ncm91cCxvPW4uX2xpbmVEYXRhO24uX2xpbmVEYXRhPWksb3x8ZS5yZW1vdmVBbGwoKTt2YXIgYT1JdyhpKTtpLmRpZmYobykuYWRkKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsaSxuKXtpZighQXcoZS5nZXRJdGVtTGF5b3V0KGkpKSlyZXR1cm47dmFyIG89bmV3IHQuX2N0b3IoZSxpLG4pO2Uuc2V0SXRlbUdyYXBoaWNFbChpLG8pLHQuZ3JvdXAuYWRkKG8pfShuLGksdCxhKX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9ZS5nZXRJdGVtR3JhcGhpY0VsKG4pO2lmKCFBdyhpLmdldEl0ZW1MYXlvdXQobykpKXJldHVybiB0Lmdyb3VwLnJlbW92ZShyKTtyP3IudXBkYXRlRGF0YShpLG8sYSk6cj1uZXcgdC5fY3RvcihpLG8sYSk7aS5zZXRJdGVtR3JhcGhpY0VsKG8sciksdC5ncm91cC5hZGQocil9KG4sbyxpLGUsdCxhKX0pLnJlbW92ZShmdW5jdGlvbih0KXtlLnJlbW92ZShvLmdldEl0ZW1HcmFwaGljRWwodCkpfSkuZXhlY3V0ZSgpfSxNdy51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLl9saW5lRGF0YTtpJiZpLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC51cGRhdGVMYXlvdXQoaSxlKX0sdGhpcyl9LE13LmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zZXJpZXNTY29wZT1Jdyh0KSx0aGlzLl9saW5lRGF0YT1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LE13LmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXt0LmlzR3JvdXB8fGZ1bmN0aW9uKHQpe3JldHVybiB0LmFuaW1hdG9ycyYmMDx0LmFuaW1hdG9ycy5sZW5ndGh9KHQpfHwodC5pbmNyZW1lbnRhbD10LnVzZUhvdmVyTGF5ZXI9ITApfWZvcih2YXIgbj10LnN0YXJ0O248dC5lbmQ7bisrKXtpZihBdyhlLmdldEl0ZW1MYXlvdXQobikpKXt2YXIgbz1uZXcgdGhpcy5fY3RvcihlLG4sdGhpcy5fc2VyaWVzU2NvcGUpO28udHJhdmVyc2UoaSksdGhpcy5ncm91cC5hZGQobyksZS5zZXRJdGVtR3JhcGhpY0VsKG4sbyl9fX0sTXcucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHRoaXMuX2luY3JlbWVudGFsPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sTXcuX2NsZWFySW5jcmVtZW50YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbmNyZW1lbnRhbDt0JiZ0LmNsZWFyRGlzcGxheWJsZXMoKX07dmFyIEx3PVtdLGt3PVtdLFB3PVtdLE53PUxhLE93PV90LFJ3PU1hdGguYWJzO2Z1bmN0aW9uIHp3KHQsZSxpKXtmb3IodmFyIG4sbz10WzBdLGE9dFsxXSxyPXRbMl0scz0xLzAsbD1pKmksdT0uMSxoPS4xO2g8PS45O2grPS4xKXtMd1swXT1OdyhvWzBdLGFbMF0sclswXSxoKSxMd1sxXT1OdyhvWzFdLGFbMV0sclsxXSxoKSwoZj1SdyhPdyhMdyxlKS1sKSk8cyYmKHM9ZixuPWgpfWZvcih2YXIgYz0wO2M8MzI7YysrKXt2YXIgZD1uK3U7a3dbMF09Tncob1swXSxhWzBdLHJbMF0sbiksa3dbMV09Tncob1sxXSxhWzFdLHJbMV0sbiksUHdbMF09Tncob1swXSxhWzBdLHJbMF0sZCksUHdbMV09Tncob1sxXSxhWzFdLHJbMV0sZCk7dmFyIGY9T3coa3csZSktbDtpZihSdyhmKTwuMDEpYnJlYWs7dmFyIHA9T3coUHcsZSktbDt1Lz0yLGY8MD8wPD1wP24rPXU6bi09dTowPD1wP24tPXU6bis9dX1yZXR1cm4gbn1mdW5jdGlvbiBFdyh0LGwpe3ZhciB1PVtdLGg9TmEsYz1bW10sW10sW11dLGQ9W1tdLFtdXSxmPVtdO2wvPTIsdC5lYWNoRWRnZShmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0TGF5b3V0KCksbj10LmdldFZpc3VhbCgiZnJvbVN5bWJvbCIpLG89dC5nZXRWaXN1YWwoInRvU3ltYm9sIik7aS5fX29yaWdpbmFsfHwoaS5fX29yaWdpbmFsPVtydChpWzBdKSxydChpWzFdKV0saVsyXSYmaS5fX29yaWdpbmFsLnB1c2gocnQoaVsyXSkpKTt2YXIgYT1pLl9fb3JpZ2luYWw7aWYobnVsbCE9aVsyXSl7aWYoYXQoY1swXSxhWzBdKSxhdChjWzFdLGFbMl0pLGF0KGNbMl0sYVsxXSksbiYmIm5vbmUiIT09bil7dmFyIHI9Q3codC5ub2RlMSkscz16dyhjLGFbMF0scipsKTtoKGNbMF1bMF0sY1sxXVswXSxjWzJdWzBdLHMsdSksY1swXVswXT11WzNdLGNbMV1bMF09dVs0XSxoKGNbMF1bMV0sY1sxXVsxXSxjWzJdWzFdLHMsdSksY1swXVsxXT11WzNdLGNbMV1bMV09dVs0XX1pZihvJiYibm9uZSIhPT1vKXtyPUN3KHQubm9kZTIpLHM9encoYyxhWzFdLHIqbCk7aChjWzBdWzBdLGNbMV1bMF0sY1syXVswXSxzLHUpLGNbMV1bMF09dVsxXSxjWzJdWzBdPXVbMl0saChjWzBdWzFdLGNbMV1bMV0sY1syXVsxXSxzLHUpLGNbMV1bMV09dVsxXSxjWzJdWzFdPXVbMl19YXQoaVswXSxjWzBdKSxhdChpWzFdLGNbMl0pLGF0KGlbMl0sY1sxXSl9ZWxzZXtpZihhdChkWzBdLGFbMF0pLGF0KGRbMV0sYVsxXSksaHQoZixkWzFdLGRbMF0pLG10KGYsZiksbiYmIm5vbmUiIT09bil7cj1Ddyh0Lm5vZGUxKTt1dChkWzBdLGRbMF0sZixyKmwpfWlmKG8mJiJub25lIiE9PW8pe3I9Q3codC5ub2RlMik7dXQoZFsxXSxkWzFdLGYsLXIqbCl9YXQoaVswXSxkWzBdKSxhdChpWzFdLGRbMV0pfX0pfXZhciBCdz0iX19mb2N1c05vZGVBZGphY2VuY3kiLFZ3PSJfX3VuZm9jdXNOb2RlQWRqYWNlbmN5IixHdz1bIml0ZW1TdHlsZSIsIm9wYWNpdHkiXSxGdz1bImxpbmVTdHlsZSIsIm9wYWNpdHkiXTtmdW5jdGlvbiBXdyh0LGUpe3ZhciBpPXQuZ2V0VmlzdWFsKCJvcGFjaXR5Iik7cmV0dXJuIG51bGwhPWk/aTp0LmdldE1vZGVsKCkuZ2V0KGUpfWZ1bmN0aW9uIEh3KHQsZSxpKXt2YXIgbj10LmdldEdyYXBoaWNFbCgpLG89V3codCxlKTtudWxsIT1pJiYobnVsbD09byYmKG89MSksbyo9aSksbi5kb3ducGxheSYmbi5kb3ducGxheSgpLG4udHJhdmVyc2UoZnVuY3Rpb24odCl7aWYoIXQuaXNHcm91cCl7dmFyIGU9dC5saW5lTGFiZWxPcmlnaW5hbE9wYWNpdHk7bnVsbCE9ZSYmbnVsbD09aXx8KGU9byksdC5zZXRTdHlsZSgib3BhY2l0eSIsZSl9fSl9ZnVuY3Rpb24gWncodCxlKXt2YXIgaT1Xdyh0LGUpLG49dC5nZXRHcmFwaGljRWwoKTtuLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8dC5zZXRTdHlsZSgib3BhY2l0eSIsaSl9KSxuLmhpZ2hsaWdodCYmbi5oaWdobGlnaHQoKX1DZih7dHlwZToiZ3JhcGgiLGluaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgaW0sbj1uZXcgU3csbz10aGlzLmdyb3VwO3RoaXMuX2NvbnRyb2xsZXI9bmV3IFZ5KGUuZ2V0WnIoKSksdGhpcy5fY29udHJvbGxlckhvc3Q9e3RhcmdldDpvfSxvLmFkZChpLmdyb3VwKSxvLmFkZChuLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PWksdGhpcy5fbGluZURyYXc9bix0aGlzLl9maXJzdFJlbmRlcj0hMH0scmVuZGVyOmZ1bmN0aW9uKG8sdCxhKXt2YXIgcj10aGlzLGU9by5jb29yZGluYXRlU3lzdGVtO3RoaXMuX21vZGVsPW87dmFyIGk9dGhpcy5fc3ltYm9sRHJhdyxuPXRoaXMuX2xpbmVEcmF3LHM9dGhpcy5ncm91cDtpZigidmlldyI9PT1lLnR5cGUpe3ZhciBsPXtwb3NpdGlvbjplLnBvc2l0aW9uLHNjYWxlOmUuc2NhbGV9O3RoaXMuX2ZpcnN0UmVuZGVyP3MuYXR0cihsKTpjbChzLGwsbyl9RXcoby5nZXRHcmFwaCgpLER3KG8pKTt2YXIgdT1vLmdldERhdGEoKTtpLnVwZGF0ZURhdGEodSk7dmFyIGg9by5nZXRFZGdlRGF0YSgpO24udXBkYXRlRGF0YShoKSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksdGhpcy5fdXBkYXRlQ29udHJvbGxlcihvLHQsYSksY2xlYXJUaW1lb3V0KHRoaXMuX2xheW91dFRpbWVvdXQpO3ZhciBjPW8uZm9yY2VMYXlvdXQsZD1vLmdldCgiZm9yY2UubGF5b3V0QW5pbWF0aW9uIik7YyYmdGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihjLGQpLHUuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxlKXt2YXIgaT11LmdldEl0ZW1Nb2RlbChlKTt0Lm9mZigiZHJhZyIpLm9mZigiZHJhZ2VuZCIpO3ZhciBuPWkuZ2V0KCJkcmFnZ2FibGUiKTtuJiZ0Lm9uKCJkcmFnIixmdW5jdGlvbigpe2MmJihjLndhcm1VcCgpLHRoaXMuX2xheW91dGluZ3x8dGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihjLGQpLGMuc2V0Rml4ZWQoZSksdS5zZXRJdGVtTGF5b3V0KGUsdC5wb3NpdGlvbikpfSx0aGlzKS5vbigiZHJhZ2VuZCIsZnVuY3Rpb24oKXtjJiZjLnNldFVuZml4ZWQoZSl9LHRoaXMpLHQuc2V0RHJhZ2dhYmxlKG4mJmMpLHRbQnddJiZ0Lm9mZigibW91c2VvdmVyIix0W0J3XSksdFtWd10mJnQub2ZmKCJtb3VzZW91dCIsdFtWd10pLGkuZ2V0KCJmb2N1c05vZGVBZGphY2VuY3kiKSYmKHQub24oIm1vdXNlb3ZlciIsdFtCd109ZnVuY3Rpb24oKXtyLl9jbGVhclRpbWVyKCksYS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZm9jdXNOb2RlQWRqYWNlbmN5IixzZXJpZXNJZDpvLmlkLGRhdGFJbmRleDp0LmRhdGFJbmRleH0pfSksdC5vbigibW91c2VvdXQiLHRbVnddPWZ1bmN0aW9uKCl7ci5fZGlzcGF0Y2hVbmZvY3VzKGEpfSkpfSx0aGlzKSx1LmdyYXBoLmVhY2hFZGdlKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGhpY0VsKCk7ZVtCd10mJmUub2ZmKCJtb3VzZW92ZXIiLGVbQnddKSxlW1Z3XSYmZS5vZmYoIm1vdXNlb3V0IixlW1Z3XSksdC5nZXRNb2RlbCgpLmdldCgiZm9jdXNOb2RlQWRqYWNlbmN5IikmJihlLm9uKCJtb3VzZW92ZXIiLGVbQnddPWZ1bmN0aW9uKCl7ci5fY2xlYXJUaW1lcigpLGEuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImZvY3VzTm9kZUFkamFjZW5jeSIsc2VyaWVzSWQ6by5pZCxlZGdlRGF0YUluZGV4OnQuZGF0YUluZGV4fSl9KSxlLm9uKCJtb3VzZW91dCIsZVtWd109ZnVuY3Rpb24oKXtyLl9kaXNwYXRjaFVuZm9jdXMoYSl9KSl9KTt2YXIgZj0iY2lyY3VsYXIiPT09by5nZXQoImxheW91dCIpJiZvLmdldCgiY2lyY3VsYXIucm90YXRlTGFiZWwiKSxwPXUuZ2V0TGF5b3V0KCJjeCIpLGc9dS5nZXRMYXlvdXQoImN5Iik7dS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3ZhciBpPXUuZ2V0SXRlbU1vZGVsKGUpLmdldCgibGFiZWwucm90YXRlIil8fDAsbj10LmdldFN5bWJvbFBhdGgoKTtpZihmKXt2YXIgbz11LmdldEl0ZW1MYXlvdXQoZSksYT1NYXRoLmF0YW4yKG9bMV0tZyxvWzBdLXApO2E8MCYmKGE9MipNYXRoLlBJK2EpO3ZhciByPW9bMF08cDtyJiYoYS09TWF0aC5QSSk7dmFyIHM9cj8ibGVmdCI6InJpZ2h0IjtpbChuLHt0ZXh0Um90YXRpb246LWEsdGV4dFBvc2l0aW9uOnMsdGV4dE9yaWdpbjoiY2VudGVyIn0se3RleHRQb3NpdGlvbjpzfSl9ZWxzZSBpbChuLHt0ZXh0Um90YXRpb246aSo9TWF0aC5QSS8xODB9KX0pLHRoaXMuX2ZpcnN0UmVuZGVyPSExfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fY29udHJvbGxlckhvc3Q9e30sdGhpcy5fY2xlYXJUaW1lcigpfSxfZGlzcGF0Y2hVbmZvY3VzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpczt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5fdW5mb2N1c0RlbGF5VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2kuX3VuZm9jdXNEZWxheVRpbWVyPW51bGwsdC5kaXNwYXRjaEFjdGlvbih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOmkuX21vZGVsLmlkfSl9LDUwMCl9LF9jbGVhclRpbWVyOmZ1bmN0aW9uKCl7dGhpcy5fdW5mb2N1c0RlbGF5VGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fdW5mb2N1c0RlbGF5VGltZXIpLHRoaXMuX3VuZm9jdXNEZWxheVRpbWVyPW51bGwpfSxmb2N1c05vZGVBZGphY2VuY3k6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCkuZ3JhcGgsYT1uLmRhdGFJbmRleCxyPW4uZWRnZURhdGFJbmRleCxzPW8uZ2V0Tm9kZUJ5SW5kZXgoYSksbD1vLmdldEVkZ2VCeUluZGV4KHIpOyhzfHxsKSYmKG8uZWFjaE5vZGUoZnVuY3Rpb24odCl7SHcodCxHdywuMSl9KSxvLmVhY2hFZGdlKGZ1bmN0aW9uKHQpe0h3KHQsRncsLjEpfSkscyYmKFp3KHMsR3cpLFIocy5lZGdlcyxmdW5jdGlvbih0KXt0LmRhdGFJbmRleDwwfHwoWncodCxGdyksWncodC5ub2RlMSxHdyksWncodC5ub2RlMixHdykpfSkpLGwmJihadyhsLEZ3KSxadyhsLm5vZGUxLEd3KSxadyhsLm5vZGUyLEd3KSkpfSx1bmZvY3VzTm9kZUFkamFjZW5jeTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldERhdGEoKS5ncmFwaDtvLmVhY2hOb2RlKGZ1bmN0aW9uKHQpe0h3KHQsR3cpfSksby5lYWNoRWRnZShmdW5jdGlvbih0KXtIdyh0LEZ3KX0pfSxfc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uIGUoKXt0LnN0ZXAoZnVuY3Rpb24odCl7bi51cGRhdGVMYXlvdXQobi5fbW9kZWwpLChuLl9sYXlvdXRpbmc9IXQpJiYoaT9uLl9sYXlvdXRUaW1lb3V0PXNldFRpbWVvdXQoZSwxNik6ZSgpKX0pfSgpfSxfdXBkYXRlQ29udHJvbGxlcjpmdW5jdGlvbihvLHQsYSl7dmFyIGU9dGhpcy5fY29udHJvbGxlcixpPXRoaXMuX2NvbnRyb2xsZXJIb3N0LHI9dGhpcy5ncm91cDtlLnNldFBvaW50ZXJDaGVja2VyKGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1yLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiBuLmFwcGx5VHJhbnNmb3JtKHIudHJhbnNmb3JtKSxuLmNvbnRhaW4oZSxpKSYmISR5KHQsYSxvKX0pLCJ2aWV3Ij09PW8uY29vcmRpbmF0ZVN5c3RlbS50eXBlPyhlLmVuYWJsZShvLmdldCgicm9hbSIpKSxpLnpvb21MaW1pdD1vLmdldCgic2NhbGVMaW1pdCIpLGkuem9vbT1vLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Wm9vbSgpLGUub2ZmKCJwYW4iKS5vZmYoInpvb20iKS5vbigicGFuIixmdW5jdGlvbih0KXtqeShpLHQuZHgsdC5keSksYS5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6by5pZCx0eXBlOiJncmFwaFJvYW0iLGR4OnQuZHgsZHk6dC5keX0pfSkub24oInpvb20iLGZ1bmN0aW9uKHQpe3F5KGksdC5zY2FsZSx0Lm9yaWdpblgsdC5vcmlnaW5ZKSxhLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDpvLmlkLHR5cGU6ImdyYXBoUm9hbSIsem9vbTp0LnNjYWxlLG9yaWdpblg6dC5vcmlnaW5YLG9yaWdpblk6dC5vcmlnaW5ZfSksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSgpLEV3KG8uZ2V0R3JhcGgoKSxEdyhvKSksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCl9LHRoaXMpKTplLmRpc2FibGUoKX0sX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tb2RlbCxlPXQuZ2V0RGF0YSgpLGk9RHcodCksbj1baSxpXTtlLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC5hdHRyKCJzY2FsZSIsbil9KX0sdXBkYXRlTGF5b3V0OmZ1bmN0aW9uKHQpe0V3KHQuZ2V0R3JhcGgoKSxEdyh0KSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCl9fSksX2Yoe3R5cGU6ImZvY3VzTm9kZUFkamFjZW5jeSIsZXZlbnQ6ImZvY3VzTm9kZUFkamFjZW5jeSIsdXBkYXRlOiJzZXJpZXM6Zm9jdXNOb2RlQWRqYWNlbmN5In0sZnVuY3Rpb24oKXt9KSxfZih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLGV2ZW50OiJ1bmZvY3VzTm9kZUFkamFjZW5jeSIsdXBkYXRlOiJzZXJpZXM6dW5mb2N1c05vZGVBZGphY2VuY3kifSxmdW5jdGlvbigpe30pO19mKHt0eXBlOiJncmFwaFJvYW0iLGV2ZW50OiJncmFwaFJvYW0iLHVwZGF0ZToibm9uZSJ9LGZ1bmN0aW9uKGksdCl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixxdWVyeTppfSxmdW5jdGlvbih0KXt2YXIgZT1heCh0LmNvb3JkaW5hdGVTeXN0ZW0saSk7dC5zZXRDZW50ZXImJnQuc2V0Q2VudGVyKGUuY2VudGVyKSx0LnNldFpvb20mJnQuc2V0Wm9vbShlLnpvb20pfSl9KTtmdW5jdGlvbiBVdyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH1mdW5jdGlvbiBYdyh0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fCJ2aWV3Ij09PWUudHlwZSl7dmFyIGk9dC5nZXRHcmFwaCgpO2kuZWFjaE5vZGUoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpO3Quc2V0TGF5b3V0KFsrZS5nZXQoIngiKSwrZS5nZXQoInkiKV0pfSksWXcoaSx0KX19ZnVuY3Rpb24gWXcodCxyKXt0LmVhY2hFZGdlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9Wih0LmdldE1vZGVsKCkuZ2V0KCJsaW5lU3R5bGUuY3VydmVuZXNzIiksLWN3KHQscixlLCEwKSwwKSxuPXJ0KHQubm9kZTEuZ2V0TGF5b3V0KCkpLG89cnQodC5ub2RlMi5nZXRMYXlvdXQoKSksYT1bbixvXTsraSYmYS5wdXNoKFsoblswXStvWzBdKS8yLShuWzFdLW9bMV0pKmksKG5bMV0rb1sxXSkvMi0ob1swXS1uWzBdKSppXSksdC5zZXRMYXlvdXQoYSl9KX12YXIganc9TWF0aC5QSSxxdz1bXTtmdW5jdGlvbiBLdyhsLHQpe3ZhciBlPWwuY29vcmRpbmF0ZVN5c3RlbTtpZighZXx8InZpZXciPT09ZS50eXBlKXt2YXIgaT1lLmdldEJvdW5kaW5nUmVjdCgpLG49bC5nZXREYXRhKCksbz1uLmdyYXBoLHU9aS53aWR0aC8yK2kueCxoPWkuaGVpZ2h0LzIraS55LGE9TWF0aC5taW4oaS53aWR0aCxpLmhlaWdodCkvMixyPW4uY291bnQoKTtuLnNldExheW91dCh7Y3g6dSxjeTpofSksciYmKCR3W3RdKGwsZSxvLG4sYSx1LGgsciksby5lYWNoRWRnZShmdW5jdGlvbih0LGUpe3ZhciBpLG49Wih0LmdldE1vZGVsKCkuZ2V0KCJsaW5lU3R5bGUuY3VydmVuZXNzIiksY3codCxsLGUpLDApLG89cnQodC5ub2RlMS5nZXRMYXlvdXQoKSksYT1ydCh0Lm5vZGUyLmdldExheW91dCgpKSxyPShvWzBdK2FbMF0pLzIscz0ob1sxXSthWzFdKS8yOytuJiYoaT1bdSoobio9MykrciooMS1uKSxoKm4rcyooMS1uKV0pLHQuc2V0TGF5b3V0KFtvLGEsaV0pfSkpfX12YXIgJHc9e3ZhbHVlOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9MCx1PW4uZ2V0U3VtKCJ2YWx1ZSIpLGg9MipNYXRoLlBJLyh1fHxzKTtpLmVhY2hOb2RlKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VmFsdWUoInZhbHVlIiksaT1oKih1P2U6MSkvMjtsKz1pLHQuc2V0TGF5b3V0KFtvKk1hdGguY29zKGwpK2EsbypNYXRoLnNpbihsKStyXSksbCs9aX0pfSxzeW1ib2xTaXplOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9MDtxdy5sZW5ndGg9czt2YXIgdT1Edyh0KTtpLmVhY2hOb2RlKGZ1bmN0aW9uKHQpe3ZhciBlPUN3KHQpO2lzTmFOKGUpJiYoZT0yKSxlPDAmJihlPTApLGUqPXU7dmFyIGk9TWF0aC5hc2luKGUvMi9vKTtpc05hTihpKSYmKGk9ancvMikscXdbdC5kYXRhSW5kZXhdPWksbCs9MippfSk7dmFyIGg9KDIqanctbCkvcy8yLGM9MDtpLmVhY2hOb2RlKGZ1bmN0aW9uKHQpe3ZhciBlPWgrcXdbdC5kYXRhSW5kZXhdO2MrPWUsdC5zZXRMYXlvdXQoW28qTWF0aC5jb3MoYykrYSxvKk1hdGguc2luKGMpK3JdKSxjKz1lfSl9fSxKdz11dDt4ZihmdW5jdGlvbih0KXt2YXIgYT10LmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2EmJmEubGVuZ3RoJiZ0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgZT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldEdyYXBoKCkuZGF0YSxvPWUubWFwQXJyYXkoZS5nZXROYW1lKTtuLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRJdGVtTW9kZWwodCkuZ2V0U2hhbGxvdygiY2F0ZWdvcnkiKTtpZihudWxsIT1lKXsibnVtYmVyIj09dHlwZW9mIGUmJihlPW9bZV0pO2Zvcih2YXIgaT0wO2k8YS5sZW5ndGg7aSsrKWlmKCFhW2ldLmlzU2VsZWN0ZWQoZSkpcmV0dXJuITF9cmV0dXJuITB9KX0sdGhpcyl9KSxTZihMbSgiZ3JhcGgiLCJjaXJjbGUiLG51bGwpKSxTZihmdW5jdGlvbih0KXt2YXIgaD17fTt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbihzKXt2YXIgbD1zLmdldENhdGVnb3JpZXNEYXRhKCksbz1zLmdldERhdGEoKSx1PXt9O2wuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1sLmdldE5hbWUodCk7dVsiZWMtIitlXT10O3ZhciBpPWwuZ2V0SXRlbU1vZGVsKHQpLG49aS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxzLmdldENvbG9yRnJvbVBhbGV0dGUoZSxoKTtsLnNldEl0ZW1WaXN1YWwodCwiY29sb3IiLG4pO2Zvcih2YXIgbz1bIm9wYWNpdHkiLCJzeW1ib2wiLCJzeW1ib2xTaXplIiwic3ltYm9sS2VlcEFzcGVjdCJdLGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHI9aS5nZXRTaGFsbG93KG9bYV0sITApO251bGwhPXImJmwuc2V0SXRlbVZpc3VhbCh0LG9bYV0scil9fSksbC5jb3VudCgpJiZvLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtTW9kZWwodCkuZ2V0U2hhbGxvdygiY2F0ZWdvcnkiKTtpZihudWxsIT1lKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXVbImVjLSIrZV0pO2Zvcih2YXIgaT1bImNvbG9yIiwib3BhY2l0eSIsInN5bWJvbCIsInN5bWJvbFNpemUiLCJzeW1ib2xLZWVwQXNwZWN0Il0sbj0wO248aS5sZW5ndGg7bisrKW51bGw9PW8uZ2V0SXRlbVZpc3VhbCh0LGlbbl0sITApJiZvLnNldEl0ZW1WaXN1YWwodCxpW25dLGwuZ2V0SXRlbVZpc3VhbChlLGlbbl0pKX19KX0pfSksU2YoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIHM9dC5nZXRHcmFwaCgpLGw9dC5nZXRFZGdlRGF0YSgpLGU9VXcodC5nZXQoImVkZ2VTeW1ib2wiKSksaT1Vdyh0LmdldCgiZWRnZVN5bWJvbFNpemUiKSksdT0ibGluZVN0eWxlLmNvbG9yIi5zcGxpdCgiLiIpLGg9ImxpbmVTdHlsZS5vcGFjaXR5Ii5zcGxpdCgiLiIpO2wuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixlJiZlWzBdKSxsLnNldFZpc3VhbCgidG9TeW1ib2wiLGUmJmVbMV0pLGwuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsaSYmaVswXSksbC5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsaSYmaVsxXSksbC5zZXRWaXN1YWwoImNvbG9yIix0LmdldCh1KSksbC5zZXRWaXN1YWwoIm9wYWNpdHkiLHQuZ2V0KGgpKSxsLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9bC5nZXRJdGVtTW9kZWwodCksaT1zLmdldEVkZ2VCeUluZGV4KHQpLG49VXcoZS5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSksbz1VdyhlLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSksYT1lLmdldCh1KSxyPWUuZ2V0KGgpO3N3aXRjaChhKXtjYXNlInNvdXJjZSI6YT1pLm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKTticmVhaztjYXNlInRhcmdldCI6YT1pLm5vZGUyLmdldFZpc3VhbCgiY29sb3IiKX1uWzBdJiZpLnNldFZpc3VhbCgiZnJvbVN5bWJvbCIsblswXSksblsxXSYmaS5zZXRWaXN1YWwoInRvU3ltYm9sIixuWzFdKSxvWzBdJiZpLnNldFZpc3VhbCgiZnJvbVN5bWJvbFNpemUiLG9bMF0pLG9bMV0mJmkuc2V0VmlzdWFsKCJ0b1N5bWJvbFNpemUiLG9bMV0pLGkuc2V0VmlzdWFsKCJjb2xvciIsYSksaS5zZXRWaXN1YWwoIm9wYWNpdHkiLHIpfSl9KX0pLGJmKGZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImxheW91dCIpLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkmJiJ2aWV3IiE9PWkudHlwZSl7dmFyIG49dC5nZXREYXRhKCksbz1bXTtSKGkuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtvPW8uY29uY2F0KG4ubWFwRGltZW5zaW9uKHQsITApKX0pO2Zvcih2YXIgYT0wO2E8bi5jb3VudCgpO2ErKyl7Zm9yKHZhciByPVtdLHM9ITEsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1uLmdldChvW2xdLGEpO2lzTmFOKHUpfHwocz0hMCksci5wdXNoKHUpfXM/bi5zZXRJdGVtTGF5b3V0KGEsaS5kYXRhVG9Qb2ludChyKSk6bi5zZXRJdGVtTGF5b3V0KGEsW05hTixOYU5dKX1ZdyhuLmdyYXBoLHQpfWVsc2UgZSYmIm5vbmUiIT09ZXx8WHcodCl9KX0pLGJmKExkLlZJU1VBTC5QT1NUX0NIQVJUX0xBWU9VVCxmdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXsiY2lyY3VsYXIiPT09dC5nZXQoImxheW91dCIpJiZLdyh0LCJzeW1ib2xTaXplIil9KX0pLGJmKGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLGZ1bmN0aW9uKHIpe2lmKCEobj1yLmNvb3JkaW5hdGVTeXN0ZW0pfHwidmlldyI9PT1uLnR5cGUpaWYoImZvcmNlIj09PXIuZ2V0KCJsYXlvdXQiKSl7dmFyIGM9ci5wcmVzZXJ2ZWRQb2ludHN8fHt9LGQ9ci5nZXRHcmFwaCgpLGY9ZC5kYXRhLHQ9ZC5lZGdlRGF0YSxlPXIuZ2V0TW9kZWwoImZvcmNlIiksaT1lLmdldCgiaW5pdExheW91dCIpO3IucHJlc2VydmVkUG9pbnRzP2YuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1mLmdldElkKHQpO2Yuc2V0SXRlbUxheW91dCh0LGNbZV18fFtOYU4sTmFOXSl9KTppJiYibm9uZSIhPT1pPyJjaXJjdWxhciI9PT1pJiZLdyhyLCJ2YWx1ZSIpOlh3KHIpO3ZhciBvPWYuZ2V0RGF0YUV4dGVudCgidmFsdWUiKSxzPXQuZ2V0RGF0YUV4dGVudCgidmFsdWUiKSxhPWUuZ2V0KCJyZXB1bHNpb24iKSxsPWUuZ2V0KCJlZGdlTGVuZ3RoIik7TChhKXx8KGE9W2EsYV0pLEwobCl8fChsPVtsLGxdKSxsPVtsWzFdLGxbMF1dO3ZhciBuLHU9Zi5tYXBBcnJheSgidmFsdWUiLGZ1bmN0aW9uKHQsZSl7dmFyIGk9Zi5nZXRJdGVtTGF5b3V0KGUpLG49UmwodCxvLGEpO3JldHVybiBpc05hTihuKSYmKG49KGFbMF0rYVsxXSkvMikse3c6bixyZXA6bixmaXhlZDpmLmdldEl0ZW1Nb2RlbChlKS5nZXQoImZpeGVkIikscDohaXx8aXNOYU4oaVswXSl8fGlzTmFOKGlbMV0pP251bGw6aX19KSxoPXQubWFwQXJyYXkoInZhbHVlIixmdW5jdGlvbih0LGUpe3ZhciBpPWQuZ2V0RWRnZUJ5SW5kZXgoZSksbj1SbCh0LHMsbCk7aXNOYU4obikmJihuPShsWzBdK2xbMV0pLzIpO3ZhciBvPWkuZ2V0TW9kZWwoKSxhPVooby5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKSwtY3coaSxyLGUsITApLDApO3JldHVybntuMTp1W2kubm9kZTEuZGF0YUluZGV4XSxuMjp1W2kubm9kZTIuZGF0YUluZGV4XSxkOm4sY3VydmVuZXNzOmEsaWdub3JlRm9yY2VMYXlvdXQ6by5nZXQoImlnbm9yZUZvcmNlTGF5b3V0Iil9fSkscD0obj1yLmNvb3JkaW5hdGVTeXN0ZW0pLmdldEJvdW5kaW5nUmVjdCgpLGc9ZnVuY3Rpb24oZixwLHQpe2Zvcih2YXIgZT10LnJlY3QsaT1lLndpZHRoLG49ZS5oZWlnaHQsZz1bZS54K2kvMixlLnkrbi8yXSxtPW51bGw9PXQuZ3Jhdml0eT8uMTp0LmdyYXZpdHksbz0wO288Zi5sZW5ndGg7bysrKXt2YXIgYT1mW29dO2EucHx8KGEucD1vdChpKihNYXRoLnJhbmRvbSgpLS41KStnWzBdLG4qKE1hdGgucmFuZG9tKCktLjUpK2dbMV0pKSxhLnBwPXJ0KGEucCksYS5lZGdlcz1udWxsfXZhciByPW51bGw9PXQuZnJpY3Rpb24/LjY6dC5mcmljdGlvbix2PXI7cmV0dXJue3dhcm1VcDpmdW5jdGlvbigpe3Y9Ljgqcn0sc2V0Rml4ZWQ6ZnVuY3Rpb24odCl7Zlt0XS5maXhlZD0hMH0sc2V0VW5maXhlZDpmdW5jdGlvbih0KXtmW3RdLmZpeGVkPSExfSxzdGVwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPWYubGVuZ3RoLG49MDtuPHAubGVuZ3RoO24rKyl7dmFyIG89cFtuXTtpZighby5pZ25vcmVGb3JjZUxheW91dCl7dmFyIGE9by5uMTtodChlLCh1PW8ubjIpLnAsYS5wKTt2YXIgcj1jdChlKS1vLmQscz11LncvKGEudyt1LncpO2lzTmFOKHMpJiYocz0wKSxtdChlLGUpLGEuZml4ZWR8fEp3KGEucCxhLnAsZSxzKnIqdiksdS5maXhlZHx8SncodS5wLHUucCxlLC0oMS1zKSpyKnYpfX1mb3Iobj0wO248aTtuKyspeyhkPWZbbl0pLmZpeGVkfHwoaHQoZSxnLGQucCksSncoZC5wLGQucCxlLG0qdikpfWZvcihuPTA7bjxpO24rKyl7YT1mW25dO2Zvcih2YXIgbD1uKzE7bDxpO2wrKyl7dmFyIHU7aHQoZSwodT1mW2xdKS5wLGEucCksMD09PShyPWN0KGUpKSYmKHN0KGUsTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxyPTEpO3ZhciBoPShhLnJlcCt1LnJlcCkvci9yO2EuZml4ZWR8fEp3KGEucHAsYS5wcCxlLGgpLHUuZml4ZWR8fEp3KHUucHAsdS5wcCxlLC1oKX19dmFyIGM9W107Zm9yKG49MDtuPGk7bisrKXt2YXIgZDsoZD1mW25dKS5maXhlZHx8KGh0KGMsZC5wLGQucHApLEp3KGQucCxkLnAsYyx2KSxhdChkLnBwLGQucCkpfXYqPS45OTIsdCYmdChmLHAsdjwuMDEpfX19KHUsaCx7cmVjdDpwLGdyYXZpdHk6ZS5nZXQoImdyYXZpdHkiKSxmcmljdGlvbjplLmdldCgiZnJpY3Rpb24iKX0pLG09Zy5zdGVwO2cuc3RlcD1mdW5jdGlvbihoKXtmb3IodmFyIHQ9MCxlPXUubGVuZ3RoO3Q8ZTt0KyspdVt0XS5maXhlZCYmYXQodVt0XS5wLGQuZ2V0Tm9kZUJ5SW5kZXgodCkuZ2V0TGF5b3V0KCkpO20oZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKyl0W25dLmZpeGVkfHxkLmdldE5vZGVCeUluZGV4KG4pLnNldExheW91dCh0W25dLnApLGNbZi5nZXRJZChuKV09dFtuXS5wO2ZvcihuPTAsbz1lLmxlbmd0aDtuPG87bisrKXt2YXIgYT1lW25dLHI9ZC5nZXRFZGdlQnlJbmRleChuKSxzPWEubjEucCxsPWEubjIucCx1PXIuZ2V0TGF5b3V0KCk7KHU9dT91LnNsaWNlKCk6W10pWzBdPXVbMF18fFtdLHVbMV09dVsxXXx8W10sYXQodVswXSxzKSxhdCh1WzFdLGwpLCthLmN1cnZlbmVzcyYmKHVbMl09WyhzWzBdK2xbMF0pLzItKHNbMV0tbFsxXSkqYS5jdXJ2ZW5lc3MsKHNbMV0rbFsxXSkvMi0obFswXS1zWzBdKSphLmN1cnZlbmVzc10pLHIuc2V0TGF5b3V0KHUpfWgmJmgoaSl9KX0sci5mb3JjZUxheW91dD1nLHIucHJlc2VydmVkUG9pbnRzPWMsZy5zdGVwKCl9ZWxzZSByLmZvcmNlTGF5b3V0PW51bGx9KX0pLHdmKCJncmFwaFZpZXciLHtjcmVhdGU6ZnVuY3Rpb24odCxkKXt2YXIgZj1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKTtpZighZXx8InZpZXciPT09ZSl7dmFyIGk9dC5nZXREYXRhKCksbj1bXSxvPVtdO1dhKGkubWFwQXJyYXkoZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRJdGVtTW9kZWwodCk7cmV0dXJuWytlLmdldCgieCIpLCtlLmdldCgieSIpXX0pLG4sbyksb1swXS1uWzBdPT0wJiYob1swXSs9MSxuWzBdLT0xKSxvWzFdLW5bMV09PTAmJihvWzFdKz0xLG5bMV0tPTEpO3ZhciBhPShvWzBdLW5bMF0pLyhvWzFdLW5bMV0pLHI9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7cmV0dXJuIG4uYXNwZWN0PWksYnUobix7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsZCxhKTtpc05hTihhKSYmKG49W3IueCxyLnldLG89W3IueCtyLndpZHRoLHIueStyLmhlaWdodF0pO3ZhciBzPW9bMF0tblswXSxsPW9bMV0tblsxXSx1PXIud2lkdGgsaD1yLmhlaWdodCxjPXQuY29vcmRpbmF0ZVN5c3RlbT1uZXcgbHg7Yy56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxjLnNldEJvdW5kaW5nUmVjdChuWzBdLG5bMV0scyxsKSxjLnNldFZpZXdSZWN0KHIueCxyLnksdSxoKSxjLnNldENlbnRlcih0LmdldCgiY2VudGVyIikpLGMuc2V0Wm9vbSh0LmdldCgiem9vbSIpKSxmLnB1c2goYyl9fSksZn19KTtzYy5leHRlbmQoe3R5cGU6InNlcmllcy5nYXVnZSIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gWXYodGhpcyxbInZhbHVlIl0pfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY2VudGVyOlsiNTAlIiwiNTAlIl0sbGVnZW5kSG92ZXJMaW5rOiEwLHJhZGl1czoiNzUlIixzdGFydEFuZ2xlOjIyNSxlbmRBbmdsZTotNDUsY2xvY2t3aXNlOiEwLG1pbjowLG1heDoxMDAsc3BsaXROdW1iZXI6MTAsYXhpc0xpbmU6e3Nob3c6ITAsbGluZVN0eWxlOntjb2xvcjpbWy4yLCIjOTFjN2FlIl0sWy44LCIjNjM4NjllIl0sWzEsIiNjMjM1MzEiXV0sd2lkdGg6MzB9fSxzcGxpdExpbmU6e3Nob3c6ITAsbGVuZ3RoOjMwLGxpbmVTdHlsZTp7Y29sb3I6IiNlZWUiLHdpZHRoOjIsdHlwZToic29saWQifX0sYXhpc1RpY2s6e3Nob3c6ITAsc3BsaXROdW1iZXI6NSxsZW5ndGg6OCxsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIix3aWR0aDoxLHR5cGU6InNvbGlkIn19LGF4aXNMYWJlbDp7c2hvdzohMCxkaXN0YW5jZTo1LGNvbG9yOiJhdXRvIn0scG9pbnRlcjp7c2hvdzohMCxsZW5ndGg6IjgwJSIsd2lkdGg6OH0saXRlbVN0eWxlOntjb2xvcjoiYXV0byJ9LHRpdGxlOntzaG93OiEwLG9mZnNldENlbnRlcjpbMCwiLTQwJSJdLGNvbG9yOiIjMzMzIixmb250U2l6ZToxNX0sZGV0YWlsOntzaG93OiEwLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyV2lkdGg6MCxib3JkZXJDb2xvcjoiI2NjYyIsd2lkdGg6MTAwLGhlaWdodDpudWxsLHBhZGRpbmc6WzUsMTBdLG9mZnNldENlbnRlcjpbMCwiNDAlIl0sY29sb3I6ImF1dG8iLGZvbnRTaXplOjMwfX19KTt2YXIgUXc9QXIuZXh0ZW5kKHt0eXBlOiJlY2hhcnRzR2F1Z2VQb2ludGVyIixzaGFwZTp7YW5nbGU6MCx3aWR0aDoxMCxyOjEwLHg6MCx5OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPU1hdGguY29zLG49TWF0aC5zaW4sbz1lLnIsYT1lLndpZHRoLHI9ZS5hbmdsZSxzPWUueC1pKHIpKmEqKG8vMzw9YT8xOjIpLGw9ZS55LW4ocikqYSooby8zPD1hPzE6Mik7cj1lLmFuZ2xlLU1hdGguUEkvMix0Lm1vdmVUbyhzLGwpLHQubGluZVRvKGUueCtpKHIpKmEsZS55K24ocikqYSksdC5saW5lVG8oZS54K2koZS5hbmdsZSkqbyxlLnkrbihlLmFuZ2xlKSpvKSx0LmxpbmVUbyhlLngtaShyKSphLGUueS1uKHIpKmEpLHQubGluZVRvKHMsbCl9fSk7ZnVuY3Rpb24gdGIodCxlKXtyZXR1cm4gZSYmKCJzdHJpbmciPT10eXBlb2YgZT90PWUucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9dD90OiIiKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSh0KSkpLHR9dmFyIGViPTIqTWF0aC5QSSxpYj0oX2MuZXh0ZW5kKHt0eXBlOiJnYXVnZSIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBuPXQuZ2V0KCJheGlzTGluZS5saW5lU3R5bGUuY29sb3IiKSxvPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXQoImNlbnRlciIpLG49ZS5nZXRXaWR0aCgpLG89ZS5nZXRIZWlnaHQoKSxhPU1hdGgubWluKG4sbyk7cmV0dXJue2N4OnpsKGlbMF0sZS5nZXRXaWR0aCgpKSxjeTp6bChpWzFdLGUuZ2V0SGVpZ2h0KCkpLHI6emwodC5nZXQoInJhZGl1cyIpLGEvMil9fSh0LGkpO3RoaXMuX3JlbmRlck1haW4odCxlLGksbixvKX0sZGlzcG9zZTpmdW5jdGlvbigpe30sX3JlbmRlck1haW46ZnVuY3Rpb24odCxlLGksbixvKXtmb3IodmFyIGE9dGhpcy5ncm91cCxyPXQuZ2V0TW9kZWwoImF4aXNMaW5lIikscz1yLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPXQuZ2V0KCJjbG9ja3dpc2UiKSx1PS10LmdldCgic3RhcnRBbmdsZSIpLzE4MCpNYXRoLlBJLGg9KChnPS10LmdldCgiZW5kQW5nbGUiKS8xODAqTWF0aC5QSSktdSklZWIsYz11LGQ9cy5nZXQoIndpZHRoIiksZj1yLmdldCgic2hvdyIpLHA9MDtmJiZwPG4ubGVuZ3RoO3ArKyl7dmFyIGcsbT1NYXRoLm1pbihNYXRoLm1heChuW3BdWzBdLDApLDEpLHY9bmV3IHFyKHtzaGFwZTp7c3RhcnRBbmdsZTpjLGVuZEFuZ2xlOmc9dStoKm0sY3g6by5jeCxjeTpvLmN5LGNsb2Nrd2lzZTpsLHIwOm8uci1kLHI6by5yfSxzaWxlbnQ6ITB9KTt2LnNldFN0eWxlKHtmaWxsOm5bcF1bMV19KSx2LnNldFN0eWxlKHMuZ2V0TGluZVN0eWxlKFsiY29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIl0pKSxhLmFkZCh2KSxjPWd9ZnVuY3Rpb24geSh0KXtpZih0PD0wKXJldHVybiBuWzBdWzFdO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKG5bZV1bMF0+PXQmJigwPT09ZT8wOm5bZS0xXVswXSk8dClyZXR1cm4gbltlXVsxXTtyZXR1cm4gbltlLTFdWzFdfWlmKCFsKXt2YXIgeD11O3U9ZyxnPXh9dGhpcy5fcmVuZGVyVGlja3ModCxlLGkseSxvLHUsZyxsKSx0aGlzLl9yZW5kZXJQb2ludGVyKHQsZSxpLHksbyx1LGcsbCksdGhpcy5fcmVuZGVyVGl0bGUodCxlLGkseSxvKSx0aGlzLl9yZW5kZXJEZXRhaWwodCxlLGkseSxvKX0sX3JlbmRlclRpY2tzOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7Zm9yKHZhciBsPXRoaXMuZ3JvdXAsdT1vLmN4LGg9by5jeSxjPW8ucixkPSt0LmdldCgibWluIiksZj0rdC5nZXQoIm1heCIpLHA9dC5nZXRNb2RlbCgic3BsaXRMaW5lIiksZz10LmdldE1vZGVsKCJheGlzVGljayIpLG09dC5nZXRNb2RlbCgiYXhpc0xhYmVsIiksdj10LmdldCgic3BsaXROdW1iZXIiKSx5PWcuZ2V0KCJzcGxpdE51bWJlciIpLHg9emwocC5nZXQoImxlbmd0aCIpLGMpLF89emwoZy5nZXQoImxlbmd0aCIpLGMpLHc9YSxiPShyLWEpL3YsUz1iL3ksTT1wLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxJPWcuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLFQ9MDtUPD12O1QrKyl7dmFyIEE9TWF0aC5jb3ModyksRD1NYXRoLnNpbih3KTtpZihwLmdldCgic2hvdyIpKXt2YXIgQz1uZXcgbHMoe3NoYXBlOnt4MTpBKmMrdSx5MTpEKmMraCx4MjpBKihjLXgpK3UseTI6RCooYy14KStofSxzdHlsZTpNLHNpbGVudDohMH0pOyJhdXRvIj09PU0uc3Ryb2tlJiZDLnNldFN0eWxlKHtzdHJva2U6bihUL3YpfSksbC5hZGQoQyl9aWYobS5nZXQoInNob3ciKSl7dmFyIEw9dGIoRWwoVC92KihmLWQpK2QpLG0uZ2V0KCJmb3JtYXR0ZXIiKSksaz1tLmdldCgiZGlzdGFuY2UiKSxQPW4oVC92KTtsLmFkZChuZXcgVXIoe3N0eWxlOm5sKHt9LG0se3RleHQ6TCx4OkEqKGMteC1rKSt1LHk6RCooYy14LWspK2gsdGV4dFZlcnRpY2FsQWxpZ246RDwtLjQ/InRvcCI6LjQ8RD8iYm90dG9tIjoibWlkZGxlIix0ZXh0QWxpZ246QTwtLjQ/ImxlZnQiOi40PEE/InJpZ2h0IjoiY2VudGVyIn0se2F1dG9Db2xvcjpQfSksc2lsZW50OiEwfSkpfWlmKGcuZ2V0KCJzaG93IikmJlQhPT12KXtmb3IodmFyIE49MDtOPD15O04rKyl7QT1NYXRoLmNvcyh3KSxEPU1hdGguc2luKHcpO3ZhciBPPW5ldyBscyh7c2hhcGU6e3gxOkEqYyt1LHkxOkQqYytoLHgyOkEqKGMtXykrdSx5MjpEKihjLV8pK2h9LHNpbGVudDohMCxzdHlsZTpJfSk7ImF1dG8iPT09SS5zdHJva2UmJk8uc2V0U3R5bGUoe3N0cm9rZTpuKChUK04veSkvdil9KSxsLmFkZChPKSx3Kz1TfXctPVN9ZWxzZSB3Kz1ifX0sX3JlbmRlclBvaW50ZXI6ZnVuY3Rpb24obix0LGUsbyxhLGkscixzKXt2YXIgbD10aGlzLmdyb3VwLHU9dGhpcy5fZGF0YTtpZihuLmdldCgicG9pbnRlci5zaG93Iikpe3ZhciBoPVsrbi5nZXQoIm1pbiIpLCtuLmdldCgibWF4IildLGM9W2kscl0sZD1uLmdldERhdGEoKSxmPWQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpO2QuZGlmZih1KS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9bmV3IFF3KHtzaGFwZTp7YW5nbGU6aX19KTtkbChlLHtzaGFwZTp7YW5nbGU6UmwoZC5nZXQoZix0KSxoLGMsITApfX0sbiksbC5hZGQoZSksZC5zZXRJdGVtR3JhcGhpY0VsKHQsZSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT11LmdldEl0ZW1HcmFwaGljRWwoZSk7Y2woaSx7c2hhcGU6e2FuZ2xlOlJsKGQuZ2V0KGYsdCksaCxjLCEwKX19LG4pLGwuYWRkKGkpLGQuc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPXUuZ2V0SXRlbUdyYXBoaWNFbCh0KTtsLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSxkLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZC5nZXRJdGVtTW9kZWwoZSksbj1pLmdldE1vZGVsKCJwb2ludGVyIik7dC5zZXRTaGFwZSh7eDphLmN4LHk6YS5jeSx3aWR0aDp6bChuLmdldCgid2lkdGgiKSxhLnIpLHI6emwobi5nZXQoImxlbmd0aCIpLGEucil9KSx0LnVzZVN0eWxlKGkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpKSwiYXV0byI9PT10LnN0eWxlLmZpbGwmJnQuc2V0U3R5bGUoImZpbGwiLG8oUmwoZC5nZXQoZixlKSxoLFswLDFdLCEwKSkpLCRzKHQsaS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpfSksdGhpcy5fZGF0YT1kfWVsc2UgdSYmdS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXtsLnJlbW92ZSh0KX0pfSxfcmVuZGVyVGl0bGU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldERhdGEoKSxyPWEubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHM9dC5nZXRNb2RlbCgidGl0bGUiKTtpZihzLmdldCgic2hvdyIpKXt2YXIgbD1zLmdldCgib2Zmc2V0Q2VudGVyIiksdT1vLmN4K3psKGxbMF0sby5yKSxoPW8uY3kremwobFsxXSxvLnIpLGM9K3QuZ2V0KCJtaW4iKSxkPSt0LmdldCgibWF4IiksZj1uKFJsKHQuZ2V0RGF0YSgpLmdldChyLDApLFtjLGRdLFswLDFdLCEwKSk7dGhpcy5ncm91cC5hZGQobmV3IFVyKHtzaWxlbnQ6ITAsc3R5bGU6bmwoe30scyx7eDp1LHk6aCx0ZXh0OmEuZ2V0TmFtZSgwKSx0ZXh0QWxpZ246ImNlbnRlciIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LHthdXRvQ29sb3I6Zixmb3JjZVJpY2g6ITB9KX0pKX19LF9yZW5kZXJEZXRhaWw6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldE1vZGVsKCJkZXRhaWwiKSxyPSt0LmdldCgibWluIikscz0rdC5nZXQoIm1heCIpO2lmKGEuZ2V0KCJzaG93Iikpe3ZhciBsPWEuZ2V0KCJvZmZzZXRDZW50ZXIiKSx1PW8uY3gremwobFswXSxvLnIpLGg9by5jeSt6bChsWzFdLG8uciksYz16bChhLmdldCgid2lkdGgiKSxvLnIpLGQ9emwoYS5nZXQoImhlaWdodCIpLG8uciksZj10LmdldERhdGEoKSxwPWYuZ2V0KGYubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLDApLGc9bihSbChwLFtyLHNdLFswLDFdLCEwKSk7dGhpcy5ncm91cC5hZGQobmV3IFVyKHtzaWxlbnQ6ITAsc3R5bGU6bmwoe30sYSx7eDp1LHk6aCx0ZXh0OnRiKHAsYS5nZXQoImZvcm1hdHRlciIpKSx0ZXh0V2lkdGg6aXNOYU4oYyk/bnVsbDpjLHRleHRIZWlnaHQ6aXNOYU4oZCk/bnVsbDpkLHRleHRBbGlnbjoiY2VudGVyIix0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0se2F1dG9Db2xvcjpnLGZvcmNlUmljaDohMH0pfSkpfX19KSxEZih7dHlwZToic2VyaWVzLmZ1bm5lbCIsaW5pdDpmdW5jdGlvbih0KXtpYi5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyksdGhpcy5sZWdlbmRWaXN1YWxQcm92aWRlcj1uZXcgcXYoQSh0aGlzLmdldERhdGEsdGhpcyksQSh0aGlzLmdldFJhd0RhdGEsdGhpcykpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUodCl9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFl2KHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOlQoSnUsdGhpcyl9KX0sX2RlZmF1bHRMYWJlbExpbmU6ZnVuY3Rpb24odCl7R28odCwibGFiZWxMaW5lIixbInNob3ciXSk7dmFyIGU9dC5sYWJlbExpbmUsaT10LmVtcGhhc2lzLmxhYmVsTGluZTtlLnNob3c9ZS5zaG93JiZ0LmxhYmVsLnNob3csaS5zaG93PWkuc2hvdyYmdC5lbXBoYXNpcy5sYWJlbC5zaG93fSxnZXREYXRhUGFyYW1zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9aWIuc3VwZXJDYWxsKHRoaXMsImdldERhdGFQYXJhbXMiLHQpLG49ZS5tYXBEaW1lbnNpb24oInZhbHVlIiksbz1lLmdldFN1bShuKTtyZXR1cm4gaS5wZXJjZW50PW8/KyhlLmdldChuLHQpL28qMTAwKS50b0ZpeGVkKDIpOjAsaS4kdmFycy5wdXNoKCJwZXJjZW50IiksaX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxsZWZ0OjgwLHRvcDo2MCxyaWdodDo4MCxib3R0b206NjAsbWluU2l6ZToiMCUiLG1heFNpemU6IjEwMCUiLHNvcnQ6ImRlc2NlbmRpbmciLG9yaWVudDoidmVydGljYWwiLGdhcDowLGZ1bm5lbEFsaWduOiJjZW50ZXIiLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJvdXRlciJ9LGxhYmVsTGluZTp7c2hvdzohMCxsZW5ndGg6MjAsbGluZVN0eWxlOnt3aWR0aDoxLHR5cGU6InNvbGlkIn19LGl0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fX0pKTtmdW5jdGlvbiBuYih0LGUpe0NpLmNhbGwodGhpcyk7dmFyIGk9bmV3IFFyLG49bmV3IHRzLG89bmV3IFVyO3RoaXMuYWRkKGkpLHRoaXMuYWRkKG4pLHRoaXMuYWRkKG8pLHRoaXMuaGlnaERvd25PblVwZGF0ZT1mdW5jdGlvbih0LGUpeyJlbXBoYXNpcyI9PT1lPyhuLmlnbm9yZT1uLmhvdmVySWdub3JlLG8uaWdub3JlPW8uaG92ZXJJZ25vcmUpOihuLmlnbm9yZT1uLm5vcm1hbElnbm9yZSxvLmlnbm9yZT1vLm5vcm1hbElnbm9yZSl9LHRoaXMudXBkYXRlRGF0YSh0LGUsITApfXZhciBvYj1uYi5wcm90b3R5cGUsYWI9WyJpdGVtU3R5bGUiLCJvcGFjaXR5Il07b2IudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jaGlsZEF0KDApLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxyPXQuZ2V0SXRlbUxheW91dChlKSxzPXQuZ2V0SXRlbU1vZGVsKGUpLmdldChhYik7cz1udWxsPT1zPzE6cyxuLnVzZVN0eWxlKHt9KSxpPyhuLnNldFNoYXBlKHtwb2ludHM6ci5wb2ludHN9KSxuLnNldFN0eWxlKHtvcGFjaXR5OjB9KSxkbChuLHtzdHlsZTp7b3BhY2l0eTpzfX0sbyxlKSk6Y2wobix7c3R5bGU6e29wYWNpdHk6c30sc2hhcGU6e3BvaW50czpyLnBvaW50c319LG8sZSk7dmFyIGw9YS5nZXRNb2RlbCgiaXRlbVN0eWxlIiksdT10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTtuLnNldFN0eWxlKEQoe2xpbmVKb2luOiJyb3VuZCIsZmlsbDp1fSxsLmdldEl0ZW1TdHlsZShbIm9wYWNpdHkiXSkpKSxuLmhvdmVyU3R5bGU9bC5nZXRNb2RlbCgiZW1waGFzaXMiKS5nZXRJdGVtU3R5bGUoKSx0aGlzLl91cGRhdGVMYWJlbCh0LGUpLCRzKHRoaXMpfSxvYi5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoaWxkQXQoMSksbj10aGlzLmNoaWxkQXQoMiksbz10Lmhvc3RNb2RlbCxhPXQuZ2V0SXRlbU1vZGVsKGUpLHI9dC5nZXRJdGVtTGF5b3V0KGUpLmxhYmVsLHM9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7Y2woaSx7c2hhcGU6e3BvaW50czpyLmxpbmVQb2ludHN8fHIubGluZVBvaW50c319LG8sZSksY2wobix7c3R5bGU6e3g6ci54LHk6ci55fX0sbyxlKSxuLmF0dHIoe3JvdGF0aW9uOnIucm90YXRpb24sb3JpZ2luOltyLngsci55XSx6MjoxMH0pO3ZhciBsPWEuZ2V0TW9kZWwoImxhYmVsIiksdT1hLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLGg9YS5nZXRNb2RlbCgibGFiZWxMaW5lIiksYz1hLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbExpbmUiKTtzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO2VsKG4uc3R5bGUsbi5ob3ZlclN0eWxlPXt9LGwsdSx7bGFiZWxGZXRjaGVyOnQuaG9zdE1vZGVsLGxhYmVsRGF0YUluZGV4OmUsZGVmYXVsdFRleHQ6dC5nZXROYW1lKGUpLGF1dG9Db2xvcjpzLHVzZUluc2lkZVN0eWxlOiEhci5pbnNpZGV9LHt0ZXh0QWxpZ246ci50ZXh0QWxpZ24sdGV4dFZlcnRpY2FsQWxpZ246ci52ZXJ0aWNhbEFsaWdufSksbi5pZ25vcmU9bi5ub3JtYWxJZ25vcmU9IWwuZ2V0KCJzaG93Iiksbi5ob3Zlcklnbm9yZT0hdS5nZXQoInNob3ciKSxpLmlnbm9yZT1pLm5vcm1hbElnbm9yZT0haC5nZXQoInNob3ciKSxpLmhvdmVySWdub3JlPSFjLmdldCgic2hvdyIpLGkuc2V0U3R5bGUoe3N0cm9rZTpzfSksaS5zZXRTdHlsZShoLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSksaS5ob3ZlclN0eWxlPWMuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpfSx3KG5iLENpKTtfYy5leHRlbmQoe3R5cGU6ImZ1bm5lbCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXRoaXMuX2RhdGEsYT10aGlzLmdyb3VwO24uZGlmZihvKS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9bmV3IG5iKG4sdCk7bi5zZXRJdGVtR3JhcGhpY0VsKHQsZSksYS5hZGQoZSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1vLmdldEl0ZW1HcmFwaGljRWwoZSk7aS51cGRhdGVEYXRhKG4sdCksYS5hZGQoaSksbi5zZXRJdGVtR3JhcGhpY0VsKHQsaSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtR3JhcGhpY0VsKHQpO2EucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9bn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSk7U2YoaXkoImZ1bm5lbCIpKSxiZihmdW5jdGlvbih0LEEsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJmdW5uZWwiLGZ1bmN0aW9uKHQpe3ZhciByPXQuZ2V0RGF0YSgpLHM9ci5tYXBEaW1lbnNpb24oInZhbHVlIiksZT10LmdldCgic29ydCIpLGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYnUodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsQSksbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxuPXQubWFwQXJyYXkoaSxmdW5jdGlvbih0KXtyZXR1cm4gdH0pLG89W10sYT0iYXNjZW5kaW5nIj09PWUscj0wLHM9dC5jb3VudCgpO3I8cztyKyspb1tyXT1yO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP28uc29ydChlKToibm9uZSIhPT1lJiZvLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gYT9uW3RdLW5bZV06bltlXS1uW3RdfSksb30ocixlKSxsPXQuZ2V0KCJvcmllbnQiKSx1PWkud2lkdGgsaD1pLmhlaWdodCxjPWkueCxkPWkueSxmPSJob3Jpem9udGFsIj09PWw/W3psKHQuZ2V0KCJtaW5TaXplIiksaCksemwodC5nZXQoIm1heFNpemUiKSxoKV06W3psKHQuZ2V0KCJtaW5TaXplIiksdSksemwodC5nZXQoIm1heFNpemUiKSx1KV0sbz1yLmdldERhdGFFeHRlbnQocykscD10LmdldCgibWluIiksZz10LmdldCgibWF4Iik7bnVsbD09cCYmKHA9TWF0aC5taW4ob1swXSwwKSksbnVsbD09ZyYmKGc9b1sxXSk7ZnVuY3Rpb24gYSh0LGUpe2lmKCJob3Jpem9udGFsIj09PWwpe3ZhciBpLG49Umwoci5nZXQocyx0KXx8MCxbcCxnXSxmLCEwKTtzd2l0Y2gobSl7Y2FzZSJ0b3AiOmk9ZDticmVhaztjYXNlImNlbnRlciI6aT1kKyhoLW4pLzI7YnJlYWs7Y2FzZSJib3R0b20iOmk9ZCsoaC1uKX1yZXR1cm5bW2UsaV0sW2UsaStuXV19dmFyIG8sYT1SbChyLmdldChzLHQpfHwwLFtwLGddLGYsITApO3N3aXRjaChtKXtjYXNlImxlZnQiOm89YzticmVhaztjYXNlImNlbnRlciI6bz1jKyh1LWEpLzI7YnJlYWs7Y2FzZSJyaWdodCI6bz1jK3UtYX1yZXR1cm5bW28sZV0sW28rYSxlXV19dmFyIG09dC5nZXQoImZ1bm5lbEFsaWduIiksdj10LmdldCgiZ2FwIikseT0oKCJob3Jpem9udGFsIj09PWw/dTpoKS12KihyLmNvdW50KCktMSkpL3IuY291bnQoKTsiYXNjZW5kaW5nIj09PWUmJih5PS15LHY9LXYsImhvcml6b250YWwiPT09bD9jKz11OmQrPWgsbj1uLnJldmVyc2UoKSk7Zm9yKHZhciB4PTA7eDxuLmxlbmd0aDt4Kyspe3ZhciBfPW5beF0sdz1uW3grMV0sYj1yLmdldEl0ZW1Nb2RlbChfKTtpZigiaG9yaXpvbnRhbCI9PT1sKXt2YXIgUz1iLmdldCgiaXRlbVN0eWxlLndpZHRoIik7bnVsbD09Uz9TPXk6KFM9emwoUyx1KSwiYXNjZW5kaW5nIj09PWUmJihTPS1TKSk7dmFyIE09YShfLGMpLEk9YSh3LGMrUyk7Yys9Uyt2LHIuc2V0SXRlbUxheW91dChfLHtwb2ludHM6TS5jb25jYXQoSS5zbGljZSgpLnJldmVyc2UoKSl9KX1lbHNle3ZhciBUPWIuZ2V0KCJpdGVtU3R5bGUuaGVpZ2h0Iik7bnVsbD09VD9UPXk6KFQ9emwoVCxoKSwiYXNjZW5kaW5nIj09PWUmJihUPS1UKSk7TT1hKF8sImhvcml6b250YWwiPT09bD9jOmQpLEk9YSh3LCJob3Jpem9udGFsIj09PWw/YytTOmQrVCk7ZCs9VCt2LHIuc2V0SXRlbUxheW91dChfLHtwb2ludHM6TS5jb25jYXQoSS5zbGljZSgpLnJldmVyc2UoKSl9KX19IWZ1bmN0aW9uKHYpe3YuZWFjaChmdW5jdGlvbih0KXt2YXIgZSxpLG4sbyxhPXYuZ2V0SXRlbU1vZGVsKHQpLHI9YS5nZXRNb2RlbCgibGFiZWwiKS5nZXQoInBvc2l0aW9uIikscz1hLmdldCgib3JpZW50IiksbD1hLmdldE1vZGVsKCJsYWJlbExpbmUiKSx1PXYuZ2V0SXRlbUxheW91dCh0KSxoPXUucG9pbnRzLGM9ImlubmVyIj09PXJ8fCJpbnNpZGUiPT09cnx8ImNlbnRlciI9PT1yfHwiaW5zaWRlTGVmdCI9PT1yfHwiaW5zaWRlUmlnaHQiPT09cjtpZihjKWU9Imluc2lkZUxlZnQiPT09cj8oaT0oaFswXVswXStoWzNdWzBdKS8yKzUsbj0oaFswXVsxXStoWzNdWzFdKS8yLCJsZWZ0Iik6Imluc2lkZVJpZ2h0Ij09PXI/KGk9KGhbMV1bMF0raFsyXVswXSkvMi01LG49KGhbMV1bMV0raFsyXVsxXSkvMiwicmlnaHQiKTooaT0oaFswXVswXStoWzFdWzBdK2hbMl1bMF0raFszXVswXSkvNCxuPShoWzBdWzFdK2hbMV1bMV0raFsyXVsxXStoWzNdWzFdKS80LCJjZW50ZXIiKSxvPVtbaSxuXSxbaSxuXV07ZWxzZXt2YXIgZCxmLHAsZyxtPWwuZ2V0KCJsZW5ndGgiKTtlPSJsZWZ0Ij09PXI/KGQ9KGhbM11bMF0raFswXVswXSkvMixmPShoWzNdWzFdK2hbMF1bMV0pLzIsaT0ocD1kLW0pLTUsInJpZ2h0Iik6InJpZ2h0Ij09PXI/KGQ9KGhbMV1bMF0raFsyXVswXSkvMixmPShoWzFdWzFdK2hbMl1bMV0pLzIsaT0ocD1kK20pKzUsImxlZnQiKToidG9wIj09PXI/KGQ9KGhbM11bMF0raFswXVswXSkvMixuPShnPShmPShoWzNdWzFdK2hbMF1bMV0pLzIpLW0pLTUsImNlbnRlciIpOiJib3R0b20iPT09cj8oZD0oaFsxXVswXStoWzJdWzBdKS8yLG49KGc9KGY9KGhbMV1bMV0raFsyXVsxXSkvMikrbSkrNSwiY2VudGVyIik6InJpZ2h0VG9wIj09PXI/KGQ9Imhvcml6b250YWwiPT09cz9oWzNdWzBdOmhbMV1bMF0sZj0iaG9yaXpvbnRhbCI9PT1zP2hbM11bMV06aFsxXVsxXSwiaG9yaXpvbnRhbCI9PT1zPyhuPShnPWYtbSktNSwiY2VudGVyIik6KGk9KHA9ZCttKSs1LCJ0b3AiKSk6InJpZ2h0Qm90dG9tIj09PXI/KGQ9aFsyXVswXSxmPWhbMl1bMV0sImhvcml6b250YWwiPT09cz8obj0oZz1mK20pKzUsImNlbnRlciIpOihpPShwPWQrbSkrNSwiYm90dG9tIikpOiJsZWZ0VG9wIj09PXI/KGQ9aFswXVswXSxmPSJob3Jpem9udGFsIj09PXM/aFswXVsxXTpoWzFdWzFdLCJob3Jpem9udGFsIj09PXM/KG49KGc9Zi1tKS01LCJjZW50ZXIiKTooaT0ocD1kLW0pLTUsInJpZ2h0IikpOiJsZWZ0Qm90dG9tIj09PXI/KGQ9Imhvcml6b250YWwiPT09cz9oWzFdWzBdOmhbM11bMF0sZj0iaG9yaXpvbnRhbCI9PT1zP2hbMV1bMV06aFsyXVsxXSwiaG9yaXpvbnRhbCI9PT1zPyhuPShnPWYrbSkrNSwiY2VudGVyIik6KGk9KHA9ZC1tKS01LCJyaWdodCIpKTooZD0oaFsxXVswXStoWzJdWzBdKS8yLGY9KGhbMV1bMV0raFsyXVsxXSkvMiwiaG9yaXpvbnRhbCI9PT1zPyhuPShnPWYrbSkrNSwiY2VudGVyIik6KGk9KHA9ZCttKSs1LCJsZWZ0IikpLCJob3Jpem9udGFsIj09PXM/aT1wPWQ6bj1nPWYsbz1bW2QsZl0sW3AsZ11dfXUubGFiZWw9e2xpbmVQb2ludHM6byx4OmkseTpuLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOmUsaW5zaWRlOmN9fSl9KHIpfSl9KSx4Zih1eSgiZnVubmVsIikpO2Z1bmN0aW9uIHJiKHQsZSxpLG4sbyl7R2cuY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9bnx8InZhbHVlIix0aGlzLmF4aXNJbmRleD1vfXJiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cmIsbW9kZWw6bnVsbCxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm4iaG9yaXpvbnRhbCIhPT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0TW9kZWwoKS5nZXQoImxheW91dCIpfX0sdyhyYixHZyk7ZnVuY3Rpb24gc2IodCxlLGksbixvLGEpe3Q9dHx8MDt2YXIgcj1pWzFdLWlbMF07aWYobnVsbCE9byYmKG89dWIobyxbMCxyXSkpLG51bGwhPWEmJihhPU1hdGgubWF4KGEsbnVsbCE9bz9vOjApKSwiYWxsIj09PW4pe3ZhciBzPU1hdGguYWJzKGVbMV0tZVswXSk7bz1hPXViKHM9dWIocyxbMCxyXSksW28sYV0pLG49MH1lWzBdPXViKGVbMF0saSksZVsxXT11YihlWzFdLGkpO3ZhciBsPWxiKGUsbik7ZVtuXSs9dDt2YXIgdT1vfHwwLGg9aS5zbGljZSgpO2wuc2lnbjwwP2hbMF0rPXU6aFsxXS09dSxlW25dPXViKGVbbl0saCk7dmFyIGM9bGIoZSxuKTtyZXR1cm4gbnVsbCE9byYmKGMuc2lnbiE9PWwuc2lnbnx8Yy5zcGFuPG8pJiYoZVsxLW5dPWVbbl0rbC5zaWduKm8pLGM9bGIoZSxuKSxudWxsIT1hJiZjLnNwYW4+YSYmKGVbMS1uXT1lW25dK2Muc2lnbiphKSxlfWZ1bmN0aW9uIGxiKHQsZSl7dmFyIGk9dFtlXS10WzEtZV07cmV0dXJue3NwYW46TWF0aC5hYnMoaSksc2lnbjowPGk/LTE6aTwwPzE6ZT8tMToxfX1mdW5jdGlvbiB1Yih0LGUpe3JldHVybiBNYXRoLm1pbihudWxsIT1lWzFdP2VbMV06MS8wLE1hdGgubWF4KG51bGwhPWVbMF0/ZVswXTotMS8wLHQpKX12YXIgaGI9UixjYj1NYXRoLm1pbixkYj1NYXRoLm1heCxmYj1NYXRoLmZsb29yLHBiPU1hdGguY2VpbCxnYj1FbCxtYj1NYXRoLlBJO2Z1bmN0aW9uIHZiKHQsZSxpKXt0aGlzLl9heGVzTWFwPVEoKSx0aGlzLl9heGVzTGF5b3V0PXt9LHRoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5fcmVjdCx0aGlzLl9tb2RlbD10LHRoaXMuX2luaXQodCxlLGkpfWZ1bmN0aW9uIHliKHQsZSl7cmV0dXJuIGNiKGRiKHQsZVswXSksZVsxXSl9dmIucHJvdG90eXBlPXt0eXBlOiJwYXJhbGxlbCIsY29uc3RydWN0b3I6dmIsX2luaXQ6ZnVuY3Rpb24odCxyLGUpe3ZhciBpPXQuZGltZW5zaW9ucyxzPXQucGFyYWxsZWxBeGlzSW5kZXg7aGIoaSxmdW5jdGlvbih0LGUpe3ZhciBpPXNbZV0sbj1yLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIixpKSxvPXRoaXMuX2F4ZXNNYXAuc2V0KHQsbmV3IHJiKHQsc2cobiksWzAsMF0sbi5nZXQoInR5cGUiKSxpKSksYT0iY2F0ZWdvcnkiPT09by50eXBlO28ub25CYW5kPWEmJm4uZ2V0KCJib3VuZGFyeUdhcCIpLG8uaW52ZXJzZT1uLmdldCgiaW52ZXJzZSIpLChuLmF4aXM9bykubW9kZWw9bixvLmNvb3JkaW5hdGVTeXN0ZW09bi5jb29yZGluYXRlU3lzdGVtPXRoaXN9LHRoaXMpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt0aGlzLl91cGRhdGVBeGVzRnJvbVNlcmllcyh0aGlzLl9tb2RlbCx0KX0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksaT1lLmF4aXNCYXNlLG49ZS5sYXlvdXRCYXNlLG89ZS5waXhlbERpbUluZGV4LGE9dFsxLW9dLHI9dFtvXTtyZXR1cm4gaTw9YSYmYTw9aStlLmF4aXNMZW5ndGgmJm48PXImJnI8PW4rZS5sYXlvdXRMZW5ndGh9LGdldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxfdXBkYXRlQXhlc0Zyb21TZXJpZXM6ZnVuY3Rpb24oZSxuKXtuLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoZS5jb250YWlucyh0LG4pKXt2YXIgaT10LmdldERhdGEoKTtoYih0aGlzLmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXhlc01hcC5nZXQodCk7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGksaS5tYXBEaW1lbnNpb24odCkpLHJnKGUuc2NhbGUsZS5tb2RlbCl9LHRoaXMpfX0sdGhpcyl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9YnUodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSksdGhpcy5fbGF5b3V0QXhlcygpfSxnZXRSZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LF9tYWtlTGF5b3V0SW5mbzpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fbW9kZWwsaT10aGlzLl9yZWN0LG49WyJ4IiwieSJdLG89WyJ3aWR0aCIsImhlaWdodCJdLGE9ZS5nZXQoImxheW91dCIpLHI9Imhvcml6b250YWwiPT09YT8wOjEscz1pW29bcl1dLGw9WzAsc10sdT10aGlzLmRpbWVuc2lvbnMubGVuZ3RoLGg9eWIoZS5nZXQoImF4aXNFeHBhbmRXaWR0aCIpLGwpLGM9eWIoZS5nZXQoImF4aXNFeHBhbmRDb3VudCIpfHwwLFswLHVdKSxkPWUuZ2V0KCJheGlzRXhwYW5kYWJsZSIpJiYzPHUmJmM8dSYmMTxjJiYwPGgmJjA8cyxmPWUuZ2V0KCJheGlzRXhwYW5kV2luZG93Iik7Zj8odD15YihmWzFdLWZbMF0sbCksZlsxXT1mWzBdK3QpOih0PXliKGgqKGMtMSksbCksKGY9W2gqKGUuZ2V0KCJheGlzRXhwYW5kQ2VudGVyIil8fGZiKHUvMikpLXQvMl0pWzFdPWZbMF0rdCk7dmFyIHA9KHMtdCkvKHUtYyk7cDwzJiYocD0wKTt2YXIgZz1bZmIoZ2IoZlswXS9oLDEpKSsxLHBiKGdiKGZbMV0vaCwxKSktMV0sbT1wL2gqZlswXTtyZXR1cm57bGF5b3V0OmEscGl4ZWxEaW1JbmRleDpyLGxheW91dEJhc2U6aVtuW3JdXSxsYXlvdXRMZW5ndGg6cyxheGlzQmFzZTppW25bMS1yXV0sYXhpc0xlbmd0aDppW29bMS1yXV0sYXhpc0V4cGFuZGFibGU6ZCxheGlzRXhwYW5kV2lkdGg6aCxheGlzQ29sbGFwc2VXaWR0aDpwLGF4aXNFeHBhbmRXaW5kb3c6ZixheGlzQ291bnQ6dSx3aW5Jbm5lckluZGljZXM6ZyxheGlzRXhwYW5kV2luZG93MFBvczptfX0sX2xheW91dEF4ZXM6ZnVuY3Rpb24oKXt2YXIgbD10aGlzLl9yZWN0LHQ9dGhpcy5fYXhlc01hcCxlPXRoaXMuZGltZW5zaW9ucyx1PXRoaXMuX21ha2VMYXlvdXRJbmZvKCksaD11LmxheW91dDt0LmVhY2goZnVuY3Rpb24odCl7dmFyIGU9WzAsdS5heGlzTGVuZ3RoXSxpPXQuaW52ZXJzZT8xOjA7dC5zZXRFeHRlbnQoZVtpXSxlWzEtaV0pfSksaGIoZSxmdW5jdGlvbih0LGUpe3ZhciBpPSh1LmF4aXNFeHBhbmRhYmxlP2Z1bmN0aW9uKHQsZSl7dmFyIGksbixvPWUubGF5b3V0TGVuZ3RoLGE9ZS5heGlzRXhwYW5kV2lkdGgscj1lLmF4aXNDb3VudCxzPWUuYXhpc0NvbGxhcHNlV2lkdGgsbD1lLndpbklubmVySW5kaWNlcyx1PXMsaD0hMTt0PGxbMF0/KGk9dCpzLG49cyk6dDw9bFsxXT8oaT1lLmF4aXNFeHBhbmRXaW5kb3cwUG9zK3QqYS1lLmF4aXNFeHBhbmRXaW5kb3dbMF0sdT1hLGg9ITApOihpPW8tKHItMS10KSpzLG49cyk7cmV0dXJue3Bvc2l0aW9uOmksYXhpc05hbWVBdmFpbGFibGVXaWR0aDp1LGF4aXNMYWJlbFNob3c6aCxuYW1lVHJ1bmNhdGVNYXhXaWR0aDpufX06ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmxheW91dExlbmd0aC8oZS5heGlzQ291bnQtMSk7cmV0dXJue3Bvc2l0aW9uOmkqdCxheGlzTmFtZUF2YWlsYWJsZVdpZHRoOmksYXhpc0xhYmVsU2hvdzohMH19KShlLHUpLG49e2hvcml6b250YWw6e3g6aS5wb3NpdGlvbix5OnUuYXhpc0xlbmd0aH0sdmVydGljYWw6e3g6MCx5OmkucG9zaXRpb259fSxvPXtob3Jpem9udGFsOm1iLzIsdmVydGljYWw6MH0sYT1bbltoXS54K2wueCxuW2hdLnkrbC55XSxyPW9baF0scz1hZSgpO2hlKHMscyxyKSx1ZShzLHMsYSksdGhpcy5fYXhlc0xheW91dFt0XT17cG9zaXRpb246YSxyb3RhdGlvbjpyLHRyYW5zZm9ybTpzLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6aS5heGlzTmFtZUF2YWlsYWJsZVdpZHRoLGF4aXNMYWJlbFNob3c6aS5heGlzTGFiZWxTaG93LG5hbWVUcnVuY2F0ZU1heFdpZHRoOmkubmFtZVRydW5jYXRlTWF4V2lkdGgsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjF9fSx0aGlzKX0sZ2V0QXhpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc01hcC5nZXQodCl9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXhpc0Nvb3JkVG9Qb2ludCh0aGlzLl9heGVzTWFwLmdldChlKS5kYXRhVG9Db29yZCh0KSxlKX0sZWFjaEFjdGl2ZVN0YXRlOmZ1bmN0aW9uKGUsdCxpLG4pe251bGw9PWkmJihpPTApLG51bGw9PW4mJihuPWUuY291bnQoKSk7dmFyIG89dGhpcy5fYXhlc01hcCxhPXRoaXMuZGltZW5zaW9ucyxyPVtdLHM9W107UihhLGZ1bmN0aW9uKHQpe3IucHVzaChlLm1hcERpbWVuc2lvbih0KSkscy5wdXNoKG8uZ2V0KHQpLm1vZGVsKX0pO2Zvcih2YXIgbD10aGlzLmhhc0F4aXNCcnVzaGVkKCksdT1pO3U8bjt1Kyspe3ZhciBoO2lmKGwpe2g9ImFjdGl2ZSI7Zm9yKHZhciBjPWUuZ2V0VmFsdWVzKHIsdSksZD0wLGY9YS5sZW5ndGg7ZDxmO2QrKyl7aWYoImluYWN0aXZlIj09PXNbZF0uZ2V0QWN0aXZlU3RhdGUoY1tkXSkpe2g9ImluYWN0aXZlIjticmVha319fWVsc2UgaD0ibm9ybWFsIjt0KGgsdSl9fSxoYXNBeGlzQnJ1c2hlZDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRpbWVuc2lvbnMsZT10aGlzLl9heGVzTWFwLGk9ITEsbj0wLG89dC5sZW5ndGg7bjxvO24rKykibm9ybWFsIiE9PWUuZ2V0KHRbbl0pLm1vZGVsLmdldEFjdGl2ZVN0YXRlKCkmJihpPSEwKTtyZXR1cm4gaX0sYXhpc0Nvb3JkVG9Qb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiBwbChbdCwwXSx0aGlzLl9heGVzTGF5b3V0W2VdLnRyYW5zZm9ybSl9LGdldEF4aXNMYXlvdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGsodGhpcy5fYXhlc0xheW91dFt0XSl9LGdldFNsaWRlZEF4aXNFeHBhbmRXaW5kb3c6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFrZUxheW91dEluZm8oKSxpPWUucGl4ZWxEaW1JbmRleCxuPWUuYXhpc0V4cGFuZFdpbmRvdy5zbGljZSgpLG89blsxXS1uWzBdLGE9WzAsZS5heGlzRXhwYW5kV2lkdGgqKGUuYXhpc0NvdW50LTEpXTtpZighdGhpcy5jb250YWluUG9pbnQodCkpcmV0dXJue2JlaGF2aW9yOiJub25lIixheGlzRXhwYW5kV2luZG93Om59O3ZhciByLHM9dFtpXS1lLmxheW91dEJhc2UtZS5heGlzRXhwYW5kV2luZG93MFBvcyxsPSJzbGlkZSIsdT1lLmF4aXNDb2xsYXBzZVdpZHRoLGg9dGhpcy5fbW9kZWwuZ2V0KCJheGlzRXhwYW5kU2xpZGVUcmlnZ2VyQXJlYSIpLGM9bnVsbCE9aFswXTtpZih1KWMmJnUmJnM8bypoWzBdPyhsPSJqdW1wIixyPXMtbypoWzJdKTpjJiZ1JiZzPm8qKDEtaFswXSk/KGw9Imp1bXAiLHI9cy1vKigxLWhbMl0pKTowPD0ocj1zLW8qaFsxXSkmJihyPXMtbyooMS1oWzFdKSk8PTAmJihyPTApLChyKj1lLmF4aXNFeHBhbmRXaWR0aC91KT9zYihyLG4sYSwiYWxsIik6bD0ibm9uZSI7ZWxzZXtvPW5bMV0tblswXTsobj1bZGIoMCxhWzFdKnMvby1vLzIpXSlbMV09Y2IoYVsxXSxuWzBdK28pLG5bMF09blsxXS1vfXJldHVybntheGlzRXhwYW5kV2luZG93Om4sYmVoYXZpb3I6bH19fSxsaC5yZWdpc3RlcigicGFyYWxsZWwiLHtjcmVhdGU6ZnVuY3Rpb24obixvKXt2YXIgYT1bXTtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KCJwYXJhbGxlbCIsZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgdmIodCxuLG8pO2kubmFtZT0icGFyYWxsZWxfIitlLGkucmVzaXplKHQsbyksKHQuY29vcmRpbmF0ZVN5c3RlbT1pKS5tb2RlbD10LGEucHVzaChpKX0pLG4uZWFjaFNlcmllcyhmdW5jdGlvbih0KXtpZigicGFyYWxsZWwiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGU9bi5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJwYXJhbGxlbCIsaW5kZXg6dC5nZXQoInBhcmFsbGVsSW5kZXgiKSxpZDp0LmdldCgicGFyYWxsZWxJZCIpfSlbMF07dC5jb29yZGluYXRlU3lzdGVtPWUuY29vcmRpbmF0ZVN5c3RlbX19KSxhfX0pO3ZhciB4Yj1rdS5leHRlbmQoe3R5cGU6ImJhc2VQYXJhbGxlbEF4aXMiLGF4aXM6bnVsbCxhY3RpdmVJbnRlcnZhbHM6W10sZ2V0QXJlYVNlbGVjdFN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJuIGhhKFtbImZpbGwiLCJjb2xvciJdLFsibGluZVdpZHRoIiwiYm9yZGVyV2lkdGgiXSxbInN0cm9rZSIsImJvcmRlckNvbG9yIl0sWyJ3aWR0aCIsIndpZHRoIl0sWyJvcGFjaXR5Iiwib3BhY2l0eSJdXSkodGhpcy5nZXRNb2RlbCgiYXJlYVNlbGVjdFN0eWxlIikpfSxzZXRBY3RpdmVJbnRlcnZhbHM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmVJbnRlcnZhbHM9ayh0KTtpZihlKWZvcih2YXIgaT1lLmxlbmd0aC0xOzA8PWk7aS0tKUJsKGVbaV0pfSxnZXRBY3RpdmVTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscztpZighZS5sZW5ndGgpcmV0dXJuIm5vcm1hbCI7aWYobnVsbD09dHx8aXNOYU4odCkpcmV0dXJuImluYWN0aXZlIjtpZigxPT09ZS5sZW5ndGgpe3ZhciBpPWVbMF07aWYoaVswXTw9dCYmdDw9aVsxXSlyZXR1cm4iYWN0aXZlIn1lbHNlIGZvcih2YXIgbj0wLG89ZS5sZW5ndGg7bjxvO24rKylpZihlW25dWzBdPD10JiZ0PD1lW25dWzFdKXJldHVybiJhY3RpdmUiO3JldHVybiJpbmFjdGl2ZSJ9fSk7bSh4Yi5wcm90b3R5cGUsZGcpLEdtKCJwYXJhbGxlbCIseGIsZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50eXBlfHwoZS5kYXRhPyJjYXRlZ29yeSI6InZhbHVlIil9LHt0eXBlOiJ2YWx1ZSIsZGltOm51bGwsYXJlYVNlbGVjdFN0eWxlOnt3aWR0aDoyMCxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiJyZ2JhKDE2MCwxOTcsMjMyKSIsY29sb3I6InJnYmEoMTYwLDE5NywyMzIpIixvcGFjaXR5Oi4zfSxyZWFsdGltZTohMCx6OjEwfSksa3UuZXh0ZW5kKHt0eXBlOiJwYXJhbGxlbCIsZGVwZW5kZW5jaWVzOlsicGFyYWxsZWxBeGlzIl0sY29vcmRpbmF0ZVN5c3RlbTpudWxsLGRpbWVuc2lvbnM6bnVsbCxwYXJhbGxlbEF4aXNJbmRleDpudWxsLGxheW91dE1vZGU6ImJveCIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejowLGxlZnQ6ODAsdG9wOjYwLHJpZ2h0OjgwLGJvdHRvbTo2MCxsYXlvdXQ6Imhvcml6b250YWwiLGF4aXNFeHBhbmRhYmxlOiExLGF4aXNFeHBhbmRDZW50ZXI6bnVsbCxheGlzRXhwYW5kQ291bnQ6MCxheGlzRXhwYW5kV2lkdGg6NTAsYXhpc0V4cGFuZFJhdGU6MTcsYXhpc0V4cGFuZERlYm91bmNlOjUwLGF4aXNFeHBhbmRTbGlkZVRyaWdnZXJBcmVhOlstLjE1LC4wNSwuNF0sYXhpc0V4cGFuZFRyaWdnZXJPbjoiY2xpY2siLHBhcmFsbGVsQXhpc0RlZmF1bHQ6bnVsbH0saW5pdDpmdW5jdGlvbigpe2t1LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm1lcmdlT3B0aW9uKHt9KX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247dCYmbShlLHQsITApLHRoaXMuX2luaXREaW1lbnNpb25zKCl9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXQoInBhcmFsbGVsSW5kZXgiKTtyZXR1cm4gbnVsbCE9aSYmZS5nZXRDb21wb25lbnQoInBhcmFsbGVsIixpKT09PXRoaXN9LHNldEF4aXNFeHBhbmQ6ZnVuY3Rpb24oZSl7UihbImF4aXNFeHBhbmRhYmxlIiwiYXhpc0V4cGFuZENlbnRlciIsImF4aXNFeHBhbmRDb3VudCIsImF4aXNFeHBhbmRXaWR0aCIsImF4aXNFeHBhbmRXaW5kb3ciXSxmdW5jdGlvbih0KXtlLmhhc093blByb3BlcnR5KHQpJiYodGhpcy5vcHRpb25bdF09ZVt0XSl9LHRoaXMpfSxfaW5pdERpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRpbWVuc2lvbnM9W10saT10aGlzLnBhcmFsbGVsQXhpc0luZGV4PVtdO1IoTSh0aGlzLmRlcGVuZGVudE1vZGVscy5wYXJhbGxlbEF4aXMsZnVuY3Rpb24odCl7cmV0dXJuKHQuZ2V0KCJwYXJhbGxlbEluZGV4Iil8fDApPT09dGhpcy5jb21wb25lbnRJbmRleH0sdGhpcyksZnVuY3Rpb24odCl7ZS5wdXNoKCJkaW0iK3QuZ2V0KCJkaW0iKSksaS5wdXNoKHQuY29tcG9uZW50SW5kZXgpfSl9fSk7X2Yoe3R5cGU6ImF4aXNBcmVhU2VsZWN0IixldmVudDoiYXhpc0FyZWFTZWxlY3RlZCJ9LGZ1bmN0aW9uKGUsdCl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToicGFyYWxsZWxBeGlzIixxdWVyeTplfSxmdW5jdGlvbih0KXt0LmF4aXMubW9kZWwuc2V0QWN0aXZlSW50ZXJ2YWxzKGUuaW50ZXJ2YWxzKX0pfSksX2YoInBhcmFsbGVsQXhpc0V4cGFuZCIsZnVuY3Rpb24oZSx0KXt0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJwYXJhbGxlbCIscXVlcnk6ZX0sZnVuY3Rpb24odCl7dC5zZXRBeGlzRXhwYW5kKGUpfSl9KTt2YXIgX2I9VCx3Yj1SLGJiPU8sU2I9TWF0aC5taW4sTWI9TWF0aC5tYXgsSWI9TWF0aC5wb3csVGI9MWU0LEFiPTYsRGI9NixDYj0iZ2xvYmFsUGFuIixMYj17dzpbMCwwXSxlOlswLDFdLG46WzEsMF0sczpbMSwxXX0sa2I9e3c6ImV3IixlOiJldyIsbjoibnMiLHM6Im5zIixuZToibmVzdyIsc3c6Im5lc3ciLG53OiJud3NlIixzZToibndzZSJ9LFBiPXticnVzaFN0eWxlOntsaW5lV2lkdGg6MixzdHJva2U6InJnYmEoMCwwLDAsMC4zKSIsZmlsbDoicmdiYSgwLDAsMCwwLjEpIn0sdHJhbnNmb3JtYWJsZTohMCxicnVzaE1vZGU6InNpbmdsZSIscmVtb3ZlT25DbGljazohMX0sTmI9MDtmdW5jdGlvbiBPYih0KXtDdC5jYWxsKHRoaXMpLHRoaXMuX3pyPXQsdGhpcy5ncm91cD1uZXcgQ2ksdGhpcy5fYnJ1c2hUeXBlLHRoaXMuX2JydXNoT3B0aW9uLHRoaXMuX3BhbmVscyx0aGlzLl90cmFjaz1bXSx0aGlzLl9kcmFnZ2luZyx0aGlzLl9jb3ZlcnM9W10sdGhpcy5fY3JlYXRpbmdDb3Zlcix0aGlzLl9jcmVhdGluZ1BhbmVsLHRoaXMuX2VuYWJsZUdsb2JhbFBhbix0aGlzLl91aWQ9ImJydXNoQ29udHJvbGxlcl8iK05iKyssdGhpcy5faGFuZGxlcnM9e30sd2IoclMsZnVuY3Rpb24odCxlKXt0aGlzLl9oYW5kbGVyc1tlXT1BKHQsdGhpcyl9LHRoaXMpfWZ1bmN0aW9uIFJiKHQsZSl7dmFyIGk9bFNbZS5icnVzaFR5cGVdLmNyZWF0ZUNvdmVyKHQsZSk7cmV0dXJuIGkuX19icnVzaE9wdGlvbj1lLEJiKGksZSksdC5ncm91cC5hZGQoaSksaX1mdW5jdGlvbiB6Yih0LGUpe3ZhciBpPUdiKGUpO3JldHVybiBpLmVuZENyZWF0aW5nJiYoaS5lbmRDcmVhdGluZyh0LGUpLEJiKGUsZS5fX2JydXNoT3B0aW9uKSksZX1mdW5jdGlvbiBFYih0LGUpe3ZhciBpPWUuX19icnVzaE9wdGlvbjtHYihlKS51cGRhdGVDb3ZlclNoYXBlKHQsZSxpLnJhbmdlLGkpfWZ1bmN0aW9uIEJiKHQsZSl7dmFyIGk9ZS56O251bGw9PWkmJihpPVRiKSx0LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3Quej1pLHQuejI9aX0pfWZ1bmN0aW9uIFZiKHQsZSl7R2IoZSkudXBkYXRlQ29tbW9uKHQsZSksRWIodCxlKX1mdW5jdGlvbiBHYih0KXtyZXR1cm4gbFNbdC5fX2JydXNoT3B0aW9uLmJydXNoVHlwZV19ZnVuY3Rpb24gRmIodCxlLGkpe3ZhciBuLG89dC5fcGFuZWxzO2lmKCFvKXJldHVybiEwO3ZhciBhPXQuX3RyYW5zZm9ybTtyZXR1cm4gd2IobyxmdW5jdGlvbih0KXt0LmlzVGFyZ2V0QnlDdXJzb3IoZSxpLGEpJiYobj10KX0pLG59ZnVuY3Rpb24gV2IodCxlKXt2YXIgaT10Ll9wYW5lbHM7aWYoIWkpcmV0dXJuITA7dmFyIG49ZS5fX2JydXNoT3B0aW9uLnBhbmVsSWQ7cmV0dXJuIG51bGw9PW58fGlbbl19ZnVuY3Rpb24gSGIoZSl7dmFyIHQ9ZS5fY292ZXJzLGk9dC5sZW5ndGg7cmV0dXJuIHdiKHQsZnVuY3Rpb24odCl7ZS5ncm91cC5yZW1vdmUodCl9LGUpLHQubGVuZ3RoPTAsISFpfWZ1bmN0aW9uIFpiKHQsZSl7dmFyIGk9YmIodC5fY292ZXJzLGZ1bmN0aW9uKHQpe3ZhciBlPXQuX19icnVzaE9wdGlvbixpPWsoZS5yYW5nZSk7cmV0dXJue2JydXNoVHlwZTplLmJydXNoVHlwZSxwYW5lbElkOmUucGFuZWxJZCxyYW5nZTppfX0pO3QudHJpZ2dlcigiYnJ1c2giLGkse2lzRW5kOiEhZS5pc0VuZCxyZW1vdmVPbkNsaWNrOiEhZS5yZW1vdmVPbkNsaWNrfSl9ZnVuY3Rpb24gVWIodCl7dmFyIGU9dC5sZW5ndGgtMTtyZXR1cm4gZTwwJiYoZT0wKSxbdFswXSx0W2VdXX1mdW5jdGlvbiBYYihlLGksdCxuKXt2YXIgbz1uZXcgQ2k7cmV0dXJuIG8uYWRkKG5ldyBycyh7bmFtZToibWFpbiIsc3R5bGU6S2IodCksc2lsZW50OiEwLGRyYWdnYWJsZTohMCxjdXJzb3I6Im1vdmUiLGRyaWZ0Ol9iKGUsaSxvLCJuc3dlIiksb25kcmFnZW5kOl9iKFpiLGkse2lzRW5kOiEwfSl9KSksd2IobixmdW5jdGlvbih0KXtvLmFkZChuZXcgcnMoe25hbWU6dCxzdHlsZTp7b3BhY2l0eTowfSxkcmFnZ2FibGU6ITAsc2lsZW50OiEwLGludmlzaWJsZTohMCxkcmlmdDpfYihlLGksbyx0KSxvbmRyYWdlbmQ6X2IoWmIsaSx7aXNFbmQ6ITB9KX0pKX0pLG99ZnVuY3Rpb24gWWIodCxlLGksbil7dmFyIG89bi5icnVzaFN0eWxlLmxpbmVXaWR0aHx8MCxhPU1iKG8sRGIpLHI9aVswXVswXSxzPWlbMV1bMF0sbD1yLW8vMix1PXMtby8yLGg9aVswXVsxXSxjPWlbMV1bMV0sZD1oLWErby8yLGY9Yy1hK28vMixwPWgtcixnPWMtcyxtPXArbyx2PWcrbztxYih0LGUsIm1haW4iLHIscyxwLGcpLG4udHJhbnNmb3JtYWJsZSYmKHFiKHQsZSwidyIsbCx1LGEsdikscWIodCxlLCJlIixkLHUsYSx2KSxxYih0LGUsIm4iLGwsdSxtLGEpLHFiKHQsZSwicyIsbCxmLG0sYSkscWIodCxlLCJudyIsbCx1LGEsYSkscWIodCxlLCJuZSIsZCx1LGEsYSkscWIodCxlLCJzdyIsbCxmLGEsYSkscWIodCxlLCJzZSIsZCxmLGEsYSkpfWZ1bmN0aW9uIGpiKG4sbyl7dmFyIHQ9by5fX2JydXNoT3B0aW9uLGE9dC50cmFuc2Zvcm1hYmxlLGU9by5jaGlsZEF0KDApO2UudXNlU3R5bGUoS2IodCkpLGUuYXR0cih7c2lsZW50OiFhLGN1cnNvcjphPyJtb3ZlIjoiZGVmYXVsdCJ9KSx3YihbInciLCJlIiwibiIsInMiLCJzZSIsInN3IiwibmUiLCJudyJdLGZ1bmN0aW9uKHQpe3ZhciBlPW8uY2hpbGRPZk5hbWUodCksaT1mdW5jdGlvbiB0KGUsaSl7e2lmKDE8aS5sZW5ndGgpe2k9aS5zcGxpdCgiIik7dmFyIG49W3QoZSxpWzBdKSx0KGUsaVsxXSldO3JldHVybiJlIiE9PW5bMF0mJiJ3IiE9PW5bMF18fG4ucmV2ZXJzZSgpLG4uam9pbigiIil9dmFyIG89e3c6ImxlZnQiLGU6InJpZ2h0IixuOiJ0b3AiLHM6ImJvdHRvbSJ9LGE9e2xlZnQ6InciLHJpZ2h0OiJlIix0b3A6Im4iLGJvdHRvbToicyJ9LG49Z2wob1tpXSxmbChlLmdyb3VwKSk7cmV0dXJuIGFbbl19fShuLHQpO2UmJmUuYXR0cih7c2lsZW50OiFhLGludmlzaWJsZTohYSxjdXJzb3I6YT9rYltpXSsiLXJlc2l6ZSI6bnVsbH0pfSl9ZnVuY3Rpb24gcWIodCxlLGksbixvLGEscil7dmFyIHM9ZS5jaGlsZE9mTmFtZShpKTtzJiZzLnNldFNoYXBlKGZ1bmN0aW9uKHQpe3ZhciBlPVNiKHRbMF1bMF0sdFsxXVswXSksaT1TYih0WzBdWzFdLHRbMV1bMV0pLG49TWIodFswXVswXSx0WzFdWzBdKSxvPU1iKHRbMF1bMV0sdFsxXVsxXSk7cmV0dXJue3g6ZSx5Omksd2lkdGg6bi1lLGhlaWdodDpvLWl9fShlUyh0LGUsW1tuLG9dLFtuK2EsbytyXV0pKSl9ZnVuY3Rpb24gS2IodCl7cmV0dXJuIEQoe3N0cm9rZU5vU2NhbGU6ITB9LHQuYnJ1c2hTdHlsZSl9ZnVuY3Rpb24gJGIodCxlLGksbil7dmFyIG89W1NiKHQsaSksU2IoZSxuKV0sYT1bTWIodCxpKSxNYihlLG4pXTtyZXR1cm5bW29bMF0sYVswXV0sW29bMV0sYVsxXV1dfWZ1bmN0aW9uIEpiKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9bi5fX2JydXNoT3B0aW9uLHU9dChsLnJhbmdlKSxoPXRTKGksYSxyKTt3YihvLnNwbGl0KCIiKSxmdW5jdGlvbih0KXt2YXIgZT1MYlt0XTt1W2VbMF1dW2VbMV1dKz1oW2VbMF1dfSksbC5yYW5nZT1lKCRiKHVbMF1bMF0sdVsxXVswXSx1WzBdWzFdLHVbMV1bMV0pKSxWYihpLG4pLFpiKGkse2lzRW5kOiExfSl9ZnVuY3Rpb24gUWIodCxlLGksbixvKXt2YXIgYT1lLl9fYnJ1c2hPcHRpb24ucmFuZ2Uscj10Uyh0LGksbik7d2IoYSxmdW5jdGlvbih0KXt0WzBdKz1yWzBdLHRbMV0rPXJbMV19KSxWYih0LGUpLFpiKHQse2lzRW5kOiExfSl9ZnVuY3Rpb24gdFModCxlLGkpe3ZhciBuPXQuZ3JvdXAsbz1uLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChlLGkpLGE9bi50cmFuc2Zvcm1Db29yZFRvTG9jYWwoMCwwKTtyZXR1cm5bb1swXS1hWzBdLG9bMV0tYVsxXV19ZnVuY3Rpb24gZVModCxlLGkpe3ZhciBuPVdiKHQsZSk7cmV0dXJuIG4mJiEwIT09bj9uLmNsaXBQYXRoKGksdC5fdHJhbnNmb3JtKTprKGkpfWZ1bmN0aW9uIGlTKHQpe3ZhciBlPXQuZXZlbnQ7ZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIG5TKHQsZSxpKXtyZXR1cm4gdC5jaGlsZE9mTmFtZSgibWFpbiIpLmNvbnRhaW4oZSxpKX1mdW5jdGlvbiBvUyh0LGUsaSxuKXt2YXIgbyxhPXQuX2NyZWF0aW5nQ292ZXIscj10Ll9jcmVhdGluZ1BhbmVsLHM9dC5fYnJ1c2hPcHRpb247aWYodC5fdHJhY2sucHVzaChpLnNsaWNlKCkpLGZ1bmN0aW9uKHQpe3ZhciBlPXQuX3RyYWNrO2lmKCFlLmxlbmd0aClyZXR1cm4hMTt2YXIgaT1lW2UubGVuZ3RoLTFdLG49ZVswXSxvPWlbMF0tblswXSxhPWlbMV0tblsxXSxyPUliKG8qbythKmEsLjUpO3JldHVybiBBYjxyfSh0KXx8YSl7aWYociYmIWEpeyJzaW5nbGUiPT09cy5icnVzaE1vZGUmJkhiKHQpO3ZhciBsPWsocyk7bC5icnVzaFR5cGU9YVMobC5icnVzaFR5cGUsciksbC5wYW5lbElkPSEwPT09cj9udWxsOnIucGFuZWxJZCxhPXQuX2NyZWF0aW5nQ292ZXI9UmIodCxsKSx0Ll9jb3ZlcnMucHVzaChhKX1pZihhKXt2YXIgdT1sU1thUyh0Ll9icnVzaFR5cGUscildO2EuX19icnVzaE9wdGlvbi5yYW5nZT11LmdldENyZWF0aW5nUmFuZ2UoZVModCxhLHQuX3RyYWNrKSksbiYmKHpiKHQsYSksdS51cGRhdGVDb21tb24odCxhKSksRWIodCxhKSxvPXtpc0VuZDpufX19ZWxzZSBuJiYic2luZ2xlIj09PXMuYnJ1c2hNb2RlJiZzLnJlbW92ZU9uQ2xpY2smJkZiKHQsZSxpKSYmSGIodCkmJihvPXtpc0VuZDpuLHJlbW92ZU9uQ2xpY2s6ITB9KTtyZXR1cm4gb31mdW5jdGlvbiBhUyh0LGUpe3JldHVybiJhdXRvIj09PXQ/ZS5kZWZhdWx0QnJ1c2hUeXBlOnR9T2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpPYixlbmFibGVCcnVzaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnJ1c2hUeXBlJiZmdW5jdGlvbih0KXt2YXIgZT10Ll96cjsoZnVuY3Rpb24odCxlLGkpe3ZhciBuPUJ5KHQpO25bZV09PT1pJiYobltlXT1udWxsKX0pKGUsQ2IsdC5fdWlkKSxmdW5jdGlvbihpLHQpe3diKHQsZnVuY3Rpb24odCxlKXtpLm9mZihlLHQpfSl9KGUsdC5faGFuZGxlcnMpLHQuX2JydXNoVHlwZT10Ll9icnVzaE9wdGlvbj1udWxsfSh0aGlzKSx0LmJydXNoVHlwZSYmZnVuY3Rpb24odCxlKXt2YXIgaT10Ll96cjt0Ll9lbmFibGVHbG9iYWxQYW58fGZ1bmN0aW9uKHQsZSxpKXtCeSh0KVtlXT1pfShpLENiLHQuX3VpZCk7KGZ1bmN0aW9uKGksdCl7d2IodCxmdW5jdGlvbih0LGUpe2kub24oZSx0KX0pfSkoaSx0Ll9oYW5kbGVycyksdC5fYnJ1c2hUeXBlPWUuYnJ1c2hUeXBlLHQuX2JydXNoT3B0aW9uPW0oayhQYiksZSwhMCl9KHRoaXMsdCksdGhpc30sc2V0UGFuZWxzOmZ1bmN0aW9uKHQpe2lmKHQmJnQubGVuZ3RoKXt2YXIgZT10aGlzLl9wYW5lbHM9e307Uih0LGZ1bmN0aW9uKHQpe2VbdC5wYW5lbElkXT1rKHQpfSl9ZWxzZSB0aGlzLl9wYW5lbHM9bnVsbDtyZXR1cm4gdGhpc30sbW91bnQ6ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLl9lbmFibGVHbG9iYWxQYW49dC5lbmFibGVHbG9iYWxQYW47dmFyIGU9dGhpcy5ncm91cDtyZXR1cm4gdGhpcy5fenIuYWRkKGUpLGUuYXR0cih7cG9zaXRpb246dC5wb3NpdGlvbnx8WzAsMF0scm90YXRpb246dC5yb3RhdGlvbnx8MCxzY2FsZTp0LnNjYWxlfHxbMSwxXX0pLHRoaXMuX3RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpc30sZWFjaENvdmVyOmZ1bmN0aW9uKHQsZSl7d2IodGhpcy5fY292ZXJzLHQsZSl9LHVwZGF0ZUNvdmVyczpmdW5jdGlvbihvKXtvPU8obyxmdW5jdGlvbih0KXtyZXR1cm4gbShrKFBiKSx0LCEwKX0pO3ZhciBpPSJcMC1icnVzaC1pbmRleC0iLGE9dGhpcy5fY292ZXJzLHI9dGhpcy5fY292ZXJzPVtdLHM9dGhpcyxsPXRoaXMuX2NyZWF0aW5nQ292ZXI7cmV0dXJuIG5ldyBrZihhLG8sZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0Ll9fYnJ1c2hPcHRpb24sZSl9LG4pLmFkZCh0KS51cGRhdGUodCkucmVtb3ZlKGZ1bmN0aW9uKHQpe2FbdF0hPT1sJiZzLmdyb3VwLnJlbW92ZShhW3RdKX0pLmV4ZWN1dGUoKSx0aGlzO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4obnVsbCE9dC5pZD90LmlkOmkrZSkrIi0iK3QuYnJ1c2hUeXBlfWZ1bmN0aW9uIHQodCxlKXt2YXIgaT1vW3RdO2lmKG51bGwhPWUmJmFbZV09PT1sKXJbdF09YVtlXTtlbHNle3ZhciBuPXJbdF09bnVsbCE9ZT8oYVtlXS5fX2JydXNoT3B0aW9uPWksYVtlXSk6emIocyxSYihzLGkpKTtWYihzLG4pfX19LHVubW91bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVCcnVzaCghMSksSGIodGhpcyksdGhpcy5fenIucmVtb3ZlKHRoaXMuZ3JvdXApLHRoaXN9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnVubW91bnQoKSx0aGlzLm9mZigpfX0sYihPYixDdCk7dmFyIHJTPXttb3VzZWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5fZHJhZ2dpbmcpc1ModGhpcyx0KTtlbHNlIGlmKCF0LnRhcmdldHx8IXQudGFyZ2V0LmRyYWdnYWJsZSl7aVModCk7dmFyIGU9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7dGhpcy5fY3JlYXRpbmdDb3Zlcj1udWxsLCh0aGlzLl9jcmVhdGluZ1BhbmVsPUZiKHRoaXMsdCxlKSkmJih0aGlzLl9kcmFnZ2luZz0hMCx0aGlzLl90cmFjaz1bZS5zbGljZSgpXSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC5vZmZzZXRYLGk9dC5vZmZzZXRZLG49dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwoZSxpKTtpZihmdW5jdGlvbih0LGUsaSl7aWYodC5fYnJ1c2hUeXBlJiYhZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuX3pyO3JldHVybiBlPDB8fGU+bi5nZXRXaWR0aCgpfHxpPDB8fGk+bi5nZXRIZWlnaHQoKX0odCxlKSl7dmFyIG49dC5fenIsbz10Ll9jb3ZlcnMsYT1GYih0LGUsaSk7aWYoIXQuX2RyYWdnaW5nKWZvcih2YXIgcj0wO3I8by5sZW5ndGg7cisrKXt2YXIgcz1vW3JdLl9fYnJ1c2hPcHRpb247aWYoYSYmKCEwPT09YXx8cy5wYW5lbElkPT09YS5wYW5lbElkKSYmbFNbcy5icnVzaFR5cGVdLmNvbnRhaW4ob1tyXSxpWzBdLGlbMV0pKXJldHVybn1hJiZuLnNldEN1cnNvclN0eWxlKCJjcm9zc2hhaXIiKX19KHRoaXMsdCxuKSx0aGlzLl9kcmFnZ2luZyl7aVModCk7dmFyIG89b1ModGhpcyx0LG4sITEpO28mJlpiKHRoaXMsbyl9fSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3NTKHRoaXMsdCl9fTtmdW5jdGlvbiBzUyh0LGUpe2lmKHQuX2RyYWdnaW5nKXtpUyhlKTt2YXIgaT1lLm9mZnNldFgsbj1lLm9mZnNldFksbz10Lmdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChpLG4pLGE9b1ModCxlLG8sITApO3QuX2RyYWdnaW5nPSExLHQuX3RyYWNrPVtdLHQuX2NyZWF0aW5nQ292ZXI9bnVsbCxhJiZaYih0LGEpfX12YXIgbFM9e2xpbmVYOnVTKDApLGxpbmVZOnVTKDEpLHJlY3Q6e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhiKF9iKEpiLGZ1bmN0aW9uKHQpe3JldHVybiB0fSxmdW5jdGlvbih0KXtyZXR1cm4gdH0pLHQsZSxbInciLCJlIiwibiIsInMiLCJzZSIsInN3IiwibmUiLCJudyJdKX0sZ2V0Q3JlYXRpbmdSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT1VYih0KTtyZXR1cm4gJGIoZVsxXVswXSxlWzFdWzFdLGVbMF1bMF0sZVswXVsxXSl9LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24odCxlLGksbil7WWIodCxlLGksbil9LHVwZGF0ZUNvbW1vbjpqYixjb250YWluOm5TfSxwb2x5Z29uOntjcmVhdGVDb3ZlcjpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBDaTtyZXR1cm4gaS5hZGQobmV3IHRzKHtuYW1lOiJtYWluIixzdHlsZTpLYihlKSxzaWxlbnQ6ITB9KSksaX0sZ2V0Q3JlYXRpbmdSYW5nZTpmdW5jdGlvbih0KXtyZXR1cm4gdH0sZW5kQ3JlYXRpbmc6ZnVuY3Rpb24odCxlKXtlLnJlbW92ZShlLmNoaWxkQXQoMCkpLGUuYWRkKG5ldyBRcih7bmFtZToibWFpbiIsZHJhZ2dhYmxlOiEwLGRyaWZ0Ol9iKFFiLHQsZSksb25kcmFnZW5kOl9iKFpiLHQse2lzRW5kOiEwfSl9KSl9LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24odCxlLGksbil7ZS5jaGlsZEF0KDApLnNldFNoYXBlKHtwb2ludHM6ZVModCxlLGkpfSl9LHVwZGF0ZUNvbW1vbjpqYixjb250YWluOm5TfX07ZnVuY3Rpb24gdVMobCl7cmV0dXJue2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhiKF9iKEpiLGZ1bmN0aW9uKHQpe3ZhciBlPVt0LFswLDEwMF1dO3JldHVybiBsJiZlLnJldmVyc2UoKSxlfSxmdW5jdGlvbih0KXtyZXR1cm4gdFtsXX0pLHQsZSxbWyJ3IiwiZSJdLFsibiIsInMiXV1bbF0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPVViKHQpO3JldHVybltTYihlWzBdW2xdLGVbMV1bbF0pLE1iKGVbMF1bbF0sZVsxXVtsXSldfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLGE9V2IodCxlKTtpZighMCE9PWEmJmEuZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudClvPWEuZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudChsLHQuX3RyYW5zZm9ybSk7ZWxzZXt2YXIgcj10Ll96cjtvPVswLFtyLmdldFdpZHRoKCksci5nZXRIZWlnaHQoKV1bMS1sXV19dmFyIHM9W2ksb107bCYmcy5yZXZlcnNlKCksWWIodCxlLHMsbil9LHVwZGF0ZUNvbW1vbjpqYixjb250YWluOm5TfX1mdW5jdGlvbiBoUyhpKXtyZXR1cm4gaT1mUyhpKSxmdW5jdGlvbih0LGUpe3JldHVybiB2bCh0LGkpfX1mdW5jdGlvbiBjUyhvLGEpe3JldHVybiBvPWZTKG8pLGZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPWE/YTp0LGk9ZT9vLndpZHRoOm8uaGVpZ2h0LG49ZT9vLng6by55O3JldHVybltuLG4rKGl8fDApXX19ZnVuY3Rpb24gZFMobixvLGEpe3JldHVybiBuPWZTKG4pLGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbi5jb250YWluKGVbMF0sZVsxXSkmJiEkeSh0LG8sYSl9fWZ1bmN0aW9uIGZTKHQpe3JldHVybiBEaS5jcmVhdGUodCl9dmFyIHBTPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxnUz1BZih7dHlwZToicGFyYWxsZWxBeGlzIixpbml0OmZ1bmN0aW9uKHQsZSl7Z1Muc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IE9iKGUuZ2V0WnIoKSkpLm9uKCJicnVzaCIsQSh0aGlzLl9vbkJydXNoLHRoaXMpKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGkmJiJheGlzQXJlYVNlbGVjdCI9PT1pLnR5cGUmJmUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJwYXJhbGxlbEF4aXMiLHF1ZXJ5Oml9KVswXT09PXR9KHQsZSxuKSl7dGhpcy5heGlzTW9kZWw9dCx0aGlzLmFwaT1pLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIG89dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgQ2ksdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSx0LmdldCgic2hvdyIpKXt2YXIgYT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldENvbXBvbmVudCgicGFyYWxsZWwiLHQuZ2V0KCJwYXJhbGxlbEluZGV4IikpfSh0LGUpLHI9YS5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRBcmVhU2VsZWN0U3R5bGUoKSxsPXMud2lkdGgsdT10LmF4aXMuZGltLGg9UCh7c3Ryb2tlQ29udGFpblRocmVzaG9sZDpsfSxyLmdldEF4aXNMYXlvdXQodSkpLGM9bmV3IFFtKHQsaCk7UihwUyxjLmFkZCxjKSx0aGlzLl9heGlzR3JvdXAuYWRkKGMuZ2V0R3JvdXAoKSksdGhpcy5fcmVmcmVzaEJydXNoQ29udHJvbGxlcihoLHMsdCxhLGwsaSk7dmFyIGQ9biYmITE9PT1uLmFuaW1hdGlvbj9udWxsOnQ7bWwobyx0aGlzLl9heGlzR3JvdXAsZCl9fX0sX3JlZnJlc2hCcnVzaENvbnRyb2xsZXI6ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByPWkuYXhpcy5nZXRFeHRlbnQoKSxzPXJbMV0tclswXSxsPU1hdGgubWluKDMwLC4xKk1hdGguYWJzKHMpKSx1PURpLmNyZWF0ZSh7eDpyWzBdLHk6LW8vMix3aWR0aDpzLGhlaWdodDpvfSk7dS54LT1sLHUud2lkdGgrPTIqbCx0aGlzLl9icnVzaENvbnRyb2xsZXIubW91bnQoe2VuYWJsZUdsb2JhbFBhbjohMCxyb3RhdGlvbjp0LnJvdGF0aW9uLHBvc2l0aW9uOnQucG9zaXRpb259KS5zZXRQYW5lbHMoW3twYW5lbElkOiJwbCIsY2xpcFBhdGg6aFModSksaXNUYXJnZXRCeUN1cnNvcjpkUyh1LGEsbiksZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudDpjUyh1LDApfV0pLmVuYWJsZUJydXNoKHticnVzaFR5cGU6ImxpbmVYIixicnVzaFN0eWxlOmUscmVtb3ZlT25DbGljazohMH0pLnVwZGF0ZUNvdmVycyhmdW5jdGlvbih0KXt2YXIgZT10LmF4aXM7cmV0dXJuIE8odC5hY3RpdmVJbnRlcnZhbHMsZnVuY3Rpb24odCl7cmV0dXJue2JydXNoVHlwZToibGluZVgiLHBhbmVsSWQ6InBsIixyYW5nZTpbZS5kYXRhVG9Db29yZCh0WzBdLCEwKSxlLmRhdGFUb0Nvb3JkKHRbMV0sITApXX19KX0oaSkpfSxfb25CcnVzaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuYXhpc01vZGVsLG49aS5heGlzLG89Tyh0LGZ1bmN0aW9uKHQpe3JldHVybltuLmNvb3JkVG9EYXRhKHQucmFuZ2VbMF0sITApLG4uY29vcmRUb0RhdGEodC5yYW5nZVsxXSwhMCldfSk7IWkub3B0aW9uLnJlYWx0aW1lIT09ZS5pc0VuZCYmIWUucmVtb3ZlT25DbGlja3x8dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImF4aXNBcmVhU2VsZWN0IixwYXJhbGxlbEF4aXNJZDppLmlkLGludGVydmFsczpvfSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfX0pO0FmKHt0eXBlOiJwYXJhbGxlbCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9tb2RlbD10LHRoaXMuX2FwaT1pLHRoaXMuX2hhbmRsZXJzfHwodGhpcy5faGFuZGxlcnM9e30sUihtUyxmdW5jdGlvbih0LGUpe2kuZ2V0WnIoKS5vbihlLHRoaXMuX2hhbmRsZXJzW2VdPUEodCx0aGlzKSl9LHRoaXMpKSxrYyh0aGlzLCJfdGhyb3R0bGVkRGlzcGF0Y2hFeHBhbmQiLHQuZ2V0KCJheGlzRXhwYW5kUmF0ZSIpLCJmaXhSYXRlIil9LGRpc3Bvc2U6ZnVuY3Rpb24odCxpKXtSKHRoaXMuX2hhbmRsZXJzLGZ1bmN0aW9uKHQsZSl7aS5nZXRacigpLm9mZihlLHQpfSksdGhpcy5faGFuZGxlcnM9bnVsbH0sX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kOmZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3BhdGNoRXhwYW5kKHQpfSxfZGlzcGF0Y2hFeHBhbmQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKFAoe3R5cGU6InBhcmFsbGVsQXhpc0V4cGFuZCJ9LHQpKX19KTt2YXIgbVM9e21vdXNlZG93bjpmdW5jdGlvbih0KXt2Uyh0aGlzLCJjbGljayIpJiYodGhpcy5fbW91c2VEb3duUG9pbnQ9W3Qub2Zmc2V0WCx0Lm9mZnNldFldKX0sbW91c2V1cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb3VzZURvd25Qb2ludDtpZih2Uyh0aGlzLCJjbGljayIpJiZlKXt2YXIgaT1bdC5vZmZzZXRYLHQub2Zmc2V0WV07aWYoNTxNYXRoLnBvdyhlWzBdLWlbMF0sMikrTWF0aC5wb3coZVsxXS1pWzFdLDIpKXJldHVybjt2YXIgbj10aGlzLl9tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFNsaWRlZEF4aXNFeHBhbmRXaW5kb3coW3Qub2Zmc2V0WCx0Lm9mZnNldFldKTsibm9uZSIhPT1uLmJlaGF2aW9yJiZ0aGlzLl9kaXNwYXRjaEV4cGFuZCh7YXhpc0V4cGFuZFdpbmRvdzpuLmF4aXNFeHBhbmRXaW5kb3d9KX10aGlzLl9tb3VzZURvd25Qb2ludD1udWxsfSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX21vdXNlRG93blBvaW50JiZ2Uyh0aGlzLCJtb3VzZW1vdmUiKSl7dmFyIGU9dGhpcy5fbW9kZWwsaT1lLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdyhbdC5vZmZzZXRYLHQub2Zmc2V0WV0pLG49aS5iZWhhdmlvcjsianVtcCI9PT1uJiZ0aGlzLl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZC5kZWJvdW5jZU5leHRDYWxsKGUuZ2V0KCJheGlzRXhwYW5kRGVib3VuY2UiKSksdGhpcy5fdGhyb3R0bGVkRGlzcGF0Y2hFeHBhbmQoIm5vbmUiPT09bj9udWxsOntheGlzRXhwYW5kV2luZG93OmkuYXhpc0V4cGFuZFdpbmRvdyxhbmltYXRpb246Imp1bXAiPT09biYmbnVsbH0pfX19O2Z1bmN0aW9uIHZTKHQsZSl7dmFyIGk9dC5fbW9kZWw7cmV0dXJuIGkuZ2V0KCJheGlzRXhwYW5kYWJsZSIpJiZpLmdldCgiYXhpc0V4cGFuZFRyaWdnZXJPbiIpPT09ZX15ZihmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7aWYodC5wYXJhbGxlbClyZXR1cm47dmFyIGU9ITE7Uih0LnNlcmllcyxmdW5jdGlvbih0KXt0JiYicGFyYWxsZWwiPT09dC50eXBlJiYoZT0hMCl9KSxlJiYodC5wYXJhbGxlbD1be31dKX0odCksZnVuY3Rpb24obil7UihWbyhuLnBhcmFsbGVsQXhpcyksZnVuY3Rpb24odCl7aWYoRSh0KSl7dmFyIGU9dC5wYXJhbGxlbEluZGV4fHwwLGk9Vm8obi5wYXJhbGxlbClbZV07aSYmaS5wYXJhbGxlbEF4aXNEZWZhdWx0JiZtKHQsaS5wYXJhbGxlbEF4aXNEZWZhdWx0LCExKX19KX0odCl9KSxzYy5leHRlbmQoe3R5cGU6InNlcmllcy5wYXJhbGxlbCIsZGVwZW5kZW5jaWVzOlsicGFyYWxsZWwiXSx2aXN1YWxDb2xvckFjY2Vzc1BhdGg6ImxpbmVTdHlsZS5jb2xvciIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNvdXJjZSgpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKHQuZW5jb2RlRGVmaW5lKXJldHVybjt2YXIgaT1lLmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsZS5nZXQoInBhcmFsbGVsSW5kZXgiKSk7aWYoIWkpcmV0dXJuO3ZhciBuPXQuZW5jb2RlRGVmaW5lPVEoKTtSKGkuZGltZW5zaW9ucyxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4rdC5yZXBsYWNlKCJkaW0iLCIiKX0odCk7bi5zZXQodCxlKX0pfShpLHRoaXMpLGdwKGksdGhpcyl9LGdldFJhd0luZGljZXNCeUFjdGl2ZVN0YXRlOmZ1bmN0aW9uKGkpe3ZhciB0PXRoaXMuY29vcmRpbmF0ZVN5c3RlbSxuPXRoaXMuZ2V0RGF0YSgpLG89W107cmV0dXJuIHQuZWFjaEFjdGl2ZVN0YXRlKG4sZnVuY3Rpb24odCxlKXtpPT09dCYmby5wdXNoKG4uZ2V0UmF3SW5kZXgoZSkpfSksb30sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InBhcmFsbGVsIixwYXJhbGxlbEluZGV4OjAsbGFiZWw6e3Nob3c6ITF9LGluYWN0aXZlT3BhY2l0eTouMDUsYWN0aXZlT3BhY2l0eToxLGxpbmVTdHlsZTp7d2lkdGg6MSxvcGFjaXR5Oi40NSx0eXBlOiJzb2xpZCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMX19LHByb2dyZXNzaXZlOjUwMCxzbW9vdGg6ITEsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIifX0pO19jLmV4dGVuZCh7dHlwZToicGFyYWxsZWwiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhR3JvdXA9bmV3IENpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2RhdGFHcm91cCksdGhpcy5fZGF0YSx0aGlzLl9pbml0aWFsaXplZH0scmVuZGVyOmZ1bmN0aW9uKGEsdCxlLHIpe3ZhciBpPXRoaXMuX2RhdGFHcm91cCxzPWEuZ2V0RGF0YSgpLGw9dGhpcy5fZGF0YSx1PWEuY29vcmRpbmF0ZVN5c3RlbSxoPXUuZGltZW5zaW9ucyxjPV9TKGEpO2lmKHMuZGlmZihsKS5hZGQoZnVuY3Rpb24odCl7d1MoeFMocyxpLHQsaCx1KSxzLHQsYyl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1sLmdldEl0ZW1HcmFwaGljRWwoZSksbj15UyhzLHQsaCx1KTtzLnNldEl0ZW1HcmFwaGljRWwodCxpKTt2YXIgbz1yJiYhMT09PXIuYW5pbWF0aW9uP251bGw6YTtjbChpLHtzaGFwZTp7cG9pbnRzOm59fSxvLHQpLHdTKGkscyx0LGMpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWwuZ2V0SXRlbUdyYXBoaWNFbCh0KTtpLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSwhdGhpcy5faW5pdGlhbGl6ZWQpe3RoaXMuX2luaXRpYWxpemVkPSEwO3ZhciBuPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lm1vZGVsLG89dC5nZXRSZWN0KCksYT1uZXcgcnMoe3NoYXBlOnt4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19KSxyPSJob3Jpem9udGFsIj09PW4uZ2V0KCJsYXlvdXQiKT8id2lkdGgiOiJoZWlnaHQiO3JldHVybiBhLnNldFNoYXBlKHIsMCksZGwoYSx7c2hhcGU6e3dpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0fX0sZSxpKSxhfSh1LGEsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGlwUGF0aCgpfSl9KTtpLnNldENsaXBQYXRoKG4pfXRoaXMuX2RhdGE9c30saW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9kYXRhPW51bGwsdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpfSxpbmNyZW1lbnRhbFJlbmRlcjpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPWUuZ2V0RGF0YSgpLG89ZS5jb29yZGluYXRlU3lzdGVtLGE9by5kaW1lbnNpb25zLHI9X1MoZSkscz10LnN0YXJ0O3M8dC5lbmQ7cysrKXt2YXIgbD14UyhuLHRoaXMuX2RhdGFHcm91cCxzLGEsbyk7bC5pbmNyZW1lbnRhbD0hMCx3UyhsLG4scyxyKX19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2RhdGFHcm91cCYmdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH19KTtmdW5jdGlvbiB5Uyh0LGUsaSxuKXtmb3IodmFyIG8sYT1bXSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl0sbD10LmdldCh0Lm1hcERpbWVuc2lvbihzKSxlKTtvPWwsKCJjYXRlZ29yeSI9PT1uLmdldEF4aXMocykudHlwZT9udWxsPT1vOm51bGw9PW98fGlzTmFOKG8pKXx8YS5wdXNoKG4uZGF0YVRvUG9pbnQobCxzKSl9cmV0dXJuIGF9ZnVuY3Rpb24geFModCxlLGksbixvKXt2YXIgYT15Uyh0LGksbixvKSxyPW5ldyB0cyh7c2hhcGU6e3BvaW50czphfSxzaWxlbnQ6ITAsejI6MTB9KTtyZXR1cm4gZS5hZGQociksdC5zZXRJdGVtR3JhcGhpY0VsKGkscikscn1mdW5jdGlvbiBfUyh0KXt2YXIgZT10LmdldCgic21vb3RoIiwhMCk7cmV0dXJuITA9PT1lJiYoZT0uMykse2xpbmVTdHlsZTp0LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxzbW9vdGg6bnVsbCE9ZT9lOi4zfX1mdW5jdGlvbiB3Uyh0LGUsaSxuKXt2YXIgbz1uLmxpbmVTdHlsZTtlLmhhc0l0ZW1PcHRpb24mJihvPWUuZ2V0SXRlbU1vZGVsKGkpLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSk7dC51c2VTdHlsZShvKTt2YXIgYT10LnN0eWxlO2EuZmlsbD1udWxsLGEuc3Ryb2tlPWUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLGEub3BhY2l0eT1lLmdldEl0ZW1WaXN1YWwoaSwib3BhY2l0eSIpLG4uc21vb3RoJiYodC5zaGFwZS5zbW9vdGg9bi5zbW9vdGgpfXZhciBiUz1bImxpbmVTdHlsZSIsIm5vcm1hbCIsIm9wYWNpdHkiXTtTZih7c2VyaWVzVHlwZToicGFyYWxsZWwiLHJlc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldE1vZGVsKCJpdGVtU3R5bGUiKSxvPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGE9ZS5nZXQoImNvbG9yIikscj1vLmdldCgiY29sb3IiKXx8bi5nZXQoImNvbG9yIil8fGFbdC5zZXJpZXNJbmRleCVhLmxlbmd0aF0scz10LmdldCgiaW5hY3RpdmVPcGFjaXR5IiksbD10LmdldCgiYWN0aXZlT3BhY2l0eSIpLHU9dC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksaD10LmNvb3JkaW5hdGVTeXN0ZW0sYz10LmdldERhdGEoKSxkPXtub3JtYWw6dS5vcGFjaXR5LGFjdGl2ZTpsLGluYWN0aXZlOnN9O3JldHVybiBjLnNldFZpc3VhbCgiY29sb3IiLHIpLHtwcm9ncmVzczpmdW5jdGlvbih0LG8pe2guZWFjaEFjdGl2ZVN0YXRlKG8sZnVuY3Rpb24odCxlKXt2YXIgaT1kW3RdO2lmKCJub3JtYWwiPT09dCYmby5oYXNJdGVtT3B0aW9uKXt2YXIgbj1vLmdldEl0ZW1Nb2RlbChlKS5nZXQoYlMsITApO251bGwhPW4mJihpPW4pfW8uc2V0SXRlbVZpc3VhbChlLCJvcGFjaXR5IixpKX0sdC5zdGFydCx0LmVuZCl9fX19KTt2YXIgU1M9c2MuZXh0ZW5kKHt0eXBlOiJzZXJpZXMuc2Fua2V5IixsYXlvdXRJbmZvOm51bGwsbGV2ZWxNb2RlbHM6bnVsbCxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LmVkZ2VzfHx0LmxpbmtzLG49dC5kYXRhfHx0Lm5vZGVzLG89dC5sZXZlbHMsYT10aGlzLmxldmVsTW9kZWxzPXt9LHI9MDtyPG8ubGVuZ3RoO3IrKyludWxsIT1vW3JdLmRlcHRoJiYwPD1vW3JdLmRlcHRoJiYoYVtvW3JdLmRlcHRoXT1uZXcgQ2wob1tyXSx0aGlzLGUpKTtpZihuJiZpKXJldHVybiBpdyhuLGksdGhpcywhMCxmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIixmdW5jdGlvbih0LG4pe3JldHVybiB0LmN1c3RvbWl6ZUdldFBhcmVudChmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcmVudE1vZGVsLGk9ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dChuKS5kZXB0aDtyZXR1cm4gZS5sZXZlbE1vZGVsc1tpXXx8dGhpcy5wYXJlbnRNb2RlbH0pLHR9KSxlLndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5jdXN0b21pemVHZXRQYXJlbnQoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJlbnRNb2RlbCxpPWUuZ2V0R3JhcGgoKS5nZXRFZGdlQnlJbmRleChuKS5ub2RlMS5nZXRMYXlvdXQoKS5kZXB0aDtyZXR1cm4gZS5sZXZlbE1vZGVsc1tpXXx8dGhpcy5wYXJlbnRNb2RlbH0pLHR9KX0pLmRhdGF9LHNldE5vZGVQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLmRhdGFbdF07aS5sb2NhbFg9ZVswXSxpLmxvY2FsWT1lWzFdfSxnZXRHcmFwaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZ2V0RWRnZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpKXtpZigiZWRnZSI9PT1pKXt2YXIgbj10aGlzLmdldERhdGFQYXJhbXModCxpKSxvPW4uZGF0YSxhPW8uc291cmNlKyIgLS0gIitvLnRhcmdldDtyZXR1cm4gbi52YWx1ZSYmKGErPSIgOiAiK24udmFsdWUpLGF1KGEpfWlmKCJub2RlIiE9PWkpcmV0dXJuIFNTLnN1cGVyQ2FsbCh0aGlzLCJmb3JtYXRUb29sdGlwIix0LGUpO3ZhciByPXRoaXMuZ2V0R3JhcGgoKS5nZXROb2RlQnlJbmRleCh0KS5nZXRMYXlvdXQoKS52YWx1ZSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LGkpLmRhdGEubmFtZTtpZihyKWE9cysiIDogIityO3JldHVybiBhdShhKX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uOyEwPT09dC5mb2N1c05vZGVBZGphY2VuY3kmJih0LmZvY3VzTm9kZUFkamFjZW5jeT0iYWxsRWRnZXMiKX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0LGUpe3ZhciBpPVNTLnN1cGVyQ2FsbCh0aGlzLCJnZXREYXRhUGFyYW1zIix0LGUpO2lmKG51bGw9PWkudmFsdWUmJiJub2RlIj09PWUpe3ZhciBuPXRoaXMuZ2V0R3JhcGgoKS5nZXROb2RlQnlJbmRleCh0KS5nZXRMYXlvdXQoKS52YWx1ZTtpLnZhbHVlPW59cmV0dXJuIGl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJ2aWV3IixsYXlvdXQ6bnVsbCxsZWZ0OiI1JSIsdG9wOiI1JSIscmlnaHQ6IjIwJSIsYm90dG9tOiI1JSIsb3JpZW50OiJob3Jpem9udGFsIixub2RlV2lkdGg6MjAsbm9kZUdhcDo4LGRyYWdnYWJsZTohMCxmb2N1c05vZGVBZGphY2VuY3k6ITEsbGF5b3V0SXRlcmF0aW9uczozMixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoicmlnaHQiLGNvbG9yOiIjMDAwIixmb250U2l6ZToxMn0sbGV2ZWxzOltdLG5vZGVBbGlnbjoianVzdGlmeSIsaXRlbVN0eWxlOntib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiIjMzMzIn0sbGluZVN0eWxlOntjb2xvcjoiIzMxNDY1NiIsb3BhY2l0eTouMixjdXJ2ZW5lc3M6LjV9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH0sbGluZVN0eWxlOntvcGFjaXR5Oi41fX0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGFuaW1hdGlvbkR1cmF0aW9uOjFlM319KSxNUz1bIml0ZW1TdHlsZSIsIm9wYWNpdHkiXSxJUz1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIiwib3BhY2l0eSJdLFRTPVsibGluZVN0eWxlIiwib3BhY2l0eSJdLEFTPVsiZW1waGFzaXMiLCJsaW5lU3R5bGUiLCJvcGFjaXR5Il07ZnVuY3Rpb24gRFModCxlKXtyZXR1cm4gdC5nZXRWaXN1YWwoIm9wYWNpdHkiKXx8dC5nZXRNb2RlbCgpLmdldChlKX1mdW5jdGlvbiBDUyh0LGUsaSl7dmFyIG49dC5nZXRHcmFwaGljRWwoKSxvPURTKHQsZSk7bnVsbCE9aSYmKG51bGw9PW8mJihvPTEpLG8qPWkpLG4uZG93bnBsYXkmJm4uZG93bnBsYXkoKSxuLnRyYXZlcnNlKGZ1bmN0aW9uKHQpeyJncm91cCIhPT10LnR5cGUmJnQuc2V0U3R5bGUoIm9wYWNpdHkiLG8pfSl9ZnVuY3Rpb24gTFModCxlKXt2YXIgaT1EUyh0LGUpLG49dC5nZXRHcmFwaGljRWwoKTtuLnRyYXZlcnNlKGZ1bmN0aW9uKHQpeyJncm91cCIhPT10LnR5cGUmJnQuc2V0U3R5bGUoIm9wYWNpdHkiLGkpfSksbi5oaWdobGlnaHQmJm4uaGlnaGxpZ2h0KCl9dmFyIGtTPUNzKHtzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxjcHgxOjAsY3B5MTowLGNweDI6MCxjcHkyOjAsZXh0ZW50OjAsb3JpZW50OiIifSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmV4dGVudDt0Lm1vdmVUbyhlLngxLGUueTEpLHQuYmV6aWVyQ3VydmVUbyhlLmNweDEsZS5jcHkxLGUuY3B4MixlLmNweTIsZS54MixlLnkyKSwidmVydGljYWwiPT09ZS5vcmllbnQ/KHQubGluZVRvKGUueDIraSxlLnkyKSx0LmJlemllckN1cnZlVG8oZS5jcHgyK2ksZS5jcHkyLGUuY3B4MStpLGUuY3B5MSxlLngxK2ksZS55MSkpOih0LmxpbmVUbyhlLngyLGUueTIraSksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MixlLmNweTIraSxlLmNweDEsZS5jcHkxK2ksZS54MSxlLnkxK2kpKSx0LmNsb3NlUGF0aCgpfSxoaWdobGlnaHQ6ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImVtcGhhc2lzIil9LGRvd25wbGF5OmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJub3JtYWwiKX19KTtDZih7dHlwZToic2Fua2V5IixfbW9kZWw6bnVsbCxfZm9jdXNBZGphY2VuY3lEaXNhYmxlZDohMSxyZW5kZXI6ZnVuY3Rpb24odyx0LG4pe3ZhciBvPXRoaXMsZT13LmdldEdyYXBoKCksYj10aGlzLmdyb3VwLGk9dy5sYXlvdXRJbmZvLFM9aS53aWR0aCxNPWkuaGVpZ2h0LHU9dy5nZXREYXRhKCksST13LmdldERhdGEoImVkZ2UiKSxUPXcuZ2V0KCJvcmllbnQiKTt0aGlzLl9tb2RlbD13LGIucmVtb3ZlQWxsKCksYi5hdHRyKCJwb3NpdGlvbiIsW2kueCxpLnldKSxlLmVhY2hFZGdlKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBrUztlLmRhdGFJbmRleD10LmRhdGFJbmRleCxlLnNlcmllc0luZGV4PXcuc2VyaWVzSW5kZXgsZS5kYXRhVHlwZT0iZWRnZSI7dmFyIGksbixvLGEscixzLGwsdSxoPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGM9aC5nZXQoImN1cnZlbmVzcyIpLGQ9dC5ub2RlMS5nZXRMYXlvdXQoKSxmPXQubm9kZTEuZ2V0TW9kZWwoKSxwPWYuZ2V0KCJsb2NhbFgiKSxnPWYuZ2V0KCJsb2NhbFkiKSxtPXQubm9kZTIuZ2V0TGF5b3V0KCksdj10Lm5vZGUyLmdldE1vZGVsKCkseT12LmdldCgibG9jYWxYIikseD12LmdldCgibG9jYWxZIiksXz10LmdldExheW91dCgpO3N3aXRjaChlLnNoYXBlLmV4dGVudD1NYXRoLm1heCgxLF8uZHkpLHU9InZlcnRpY2FsIj09PShlLnNoYXBlLm9yaWVudD1UKT8oaT0obnVsbCE9cD9wKlM6ZC54KStfLnN5LG49KG51bGwhPWc/ZypNOmQueSkrZC5keSxvPShudWxsIT15P3kqUzptLngpK18udHkscj1pLHM9biooMS1jKSsoYT1udWxsIT14P3gqTTptLnkpKmMsbD1vLG4qYythKigxLWMpKTooaT0obnVsbCE9cD9wKlM6ZC54KStkLmR4LG49KG51bGwhPWc/ZypNOmQueSkrXy5zeSxyPWkqKDEtYykrKG89bnVsbCE9eT95KlM6bS54KSpjLHM9bixsPWkqYytvKigxLWMpLGE9KG51bGwhPXg/eCpNOm0ueSkrXy50eSksZS5zZXRTaGFwZSh7eDE6aSx5MTpuLHgyOm8seTI6YSxjcHgxOnIsY3B5MTpzLGNweDI6bCxjcHkyOnV9KSxlLnNldFN0eWxlKGguZ2V0SXRlbVN0eWxlKCkpLGUuc3R5bGUuZmlsbCl7Y2FzZSJzb3VyY2UiOmUuc3R5bGUuZmlsbD10Lm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKTticmVhaztjYXNlInRhcmdldCI6ZS5zdHlsZS5maWxsPXQubm9kZTIuZ2V0VmlzdWFsKCJjb2xvciIpfSRzKGUsdC5nZXRNb2RlbCgiZW1waGFzaXMubGluZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLGIuYWRkKGUpLEkuc2V0SXRlbUdyYXBoaWNFbCh0LmRhdGFJbmRleCxlKX0pLGUuZWFjaE5vZGUoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYXlvdXQoKSxpPXQuZ2V0TW9kZWwoKSxuPWkuZ2V0KCJsb2NhbFgiKSxvPWkuZ2V0KCJsb2NhbFkiKSxhPWkuZ2V0TW9kZWwoImxhYmVsIikscj1pLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLHM9bmV3IHJzKHtzaGFwZTp7eDpudWxsIT1uP24qUzplLngseTpudWxsIT1vP28qTTplLnksd2lkdGg6ZS5keCxoZWlnaHQ6ZS5keX0sc3R5bGU6aS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCl9KSxsPXQuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO2VsKHMuc3R5bGUsbCxhLHIse2xhYmVsRmV0Y2hlcjp3LGxhYmVsRGF0YUluZGV4OnQuZGF0YUluZGV4LGRlZmF1bHRUZXh0OnQuaWQsaXNSZWN0VGV4dDohMH0pLHMuc2V0U3R5bGUoImZpbGwiLHQuZ2V0VmlzdWFsKCJjb2xvciIpKSwkcyhzLGwpLGIuYWRkKHMpLHUuc2V0SXRlbUdyYXBoaWNFbCh0LmRhdGFJbmRleCxzKSxzLmRhdGFUeXBlPSJub2RlIn0pLHUuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxpKXt2YXIgZT11LmdldEl0ZW1Nb2RlbChpKTtlLmdldCgiZHJhZ2dhYmxlIikmJih0LmRyaWZ0PWZ1bmN0aW9uKHQsZSl7by5fZm9jdXNBZGphY2VuY3lEaXNhYmxlZD0hMCx0aGlzLnNoYXBlLngrPXQsdGhpcy5zaGFwZS55Kz1lLHRoaXMuZGlydHkoKSxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkcmFnTm9kZSIsc2VyaWVzSWQ6dy5pZCxkYXRhSW5kZXg6dS5nZXRSYXdJbmRleChpKSxsb2NhbFg6dGhpcy5zaGFwZS54L1MsbG9jYWxZOnRoaXMuc2hhcGUueS9NfSl9LHQub25kcmFnZW5kPWZ1bmN0aW9uKCl7by5fZm9jdXNBZGphY2VuY3lEaXNhYmxlZD0hMX0sdC5kcmFnZ2FibGU9ITAsdC5jdXJzb3I9Im1vdmUiKSx0LmhpZ2hsaWdodD1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigiZW1waGFzaXMiKX0sdC5kb3ducGxheT1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibm9ybWFsIil9LHQuZm9jdXNOb2RlQWRqSGFuZGxlciYmdC5vZmYoIm1vdXNlb3ZlciIsdC5mb2N1c05vZGVBZGpIYW5kbGVyKSx0LnVuZm9jdXNOb2RlQWRqSGFuZGxlciYmdC5vZmYoIm1vdXNlb3V0Iix0LnVuZm9jdXNOb2RlQWRqSGFuZGxlciksZS5nZXQoImZvY3VzTm9kZUFkamFjZW5jeSIpJiYodC5vbigibW91c2VvdmVyIix0LmZvY3VzTm9kZUFkakhhbmRsZXI9ZnVuY3Rpb24oKXtvLl9mb2N1c0FkamFjZW5jeURpc2FibGVkfHwoby5fY2xlYXJUaW1lcigpLG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImZvY3VzTm9kZUFkamFjZW5jeSIsc2VyaWVzSWQ6dy5pZCxkYXRhSW5kZXg6dC5kYXRhSW5kZXh9KSl9KSx0Lm9uKCJtb3VzZW91dCIsdC51bmZvY3VzTm9kZUFkakhhbmRsZXI9ZnVuY3Rpb24oKXtvLl9mb2N1c0FkamFjZW5jeURpc2FibGVkfHxvLl9kaXNwYXRjaFVuZm9jdXMobil9KSl9KSxJLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9SS5nZXRJdGVtTW9kZWwoZSk7dC5mb2N1c05vZGVBZGpIYW5kbGVyJiZ0Lm9mZigibW91c2VvdmVyIix0LmZvY3VzTm9kZUFkakhhbmRsZXIpLHQudW5mb2N1c05vZGVBZGpIYW5kbGVyJiZ0Lm9mZigibW91c2VvdXQiLHQudW5mb2N1c05vZGVBZGpIYW5kbGVyKSxpLmdldCgiZm9jdXNOb2RlQWRqYWNlbmN5IikmJih0Lm9uKCJtb3VzZW92ZXIiLHQuZm9jdXNOb2RlQWRqSGFuZGxlcj1mdW5jdGlvbigpe28uX2ZvY3VzQWRqYWNlbmN5RGlzYWJsZWR8fChvLl9jbGVhclRpbWVyKCksbi5kaXNwYXRjaEFjdGlvbih7dHlwZToiZm9jdXNOb2RlQWRqYWNlbmN5IixzZXJpZXNJZDp3LmlkLGVkZ2VEYXRhSW5kZXg6dC5kYXRhSW5kZXh9KSl9KSx0Lm9uKCJtb3VzZW91dCIsdC51bmZvY3VzTm9kZUFkakhhbmRsZXI9ZnVuY3Rpb24oKXtvLl9mb2N1c0FkamFjZW5jeURpc2FibGVkfHxvLl9kaXNwYXRjaFVuZm9jdXMobil9KSl9KSwhdGhpcy5fZGF0YSYmdy5nZXQoImFuaW1hdGlvbiIpJiZiLnNldENsaXBQYXRoKGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1uZXcgcnMoe3NoYXBlOnt4OnQueC0xMCx5OnQueS0xMCx3aWR0aDowLGhlaWdodDp0LmhlaWdodCsyMH19KTtyZXR1cm4gZGwobix7c2hhcGU6e3dpZHRoOnQud2lkdGgrMjB9fSxlLGkpLG59KGIuZ2V0Qm91bmRpbmdSZWN0KCksdyxmdW5jdGlvbigpe2IucmVtb3ZlQ2xpcFBhdGgoKX0pKSx0aGlzLl9kYXRhPXcuZ2V0RGF0YSgpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpfSxfZGlzcGF0Y2hVbmZvY3VzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuX3VuZm9jdXNEZWxheVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl91bmZvY3VzRGVsYXlUaW1lcj1udWxsLHQuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InVuZm9jdXNOb2RlQWRqYWNlbmN5IixzZXJpZXNJZDplLl9tb2RlbC5pZH0pfSw1MDApfSxfY2xlYXJUaW1lcjpmdW5jdGlvbigpe3RoaXMuX3VuZm9jdXNEZWxheVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3VuZm9jdXNEZWxheVRpbWVyKSx0aGlzLl91bmZvY3VzRGVsYXlUaW1lcj1udWxsKX0sZm9jdXNOb2RlQWRqYWNlbmN5OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0RGF0YSgpLGE9by5ncmFwaCxyPW4uZGF0YUluZGV4LHM9by5nZXRJdGVtTW9kZWwociksbD1uLmVkZ2VEYXRhSW5kZXg7aWYobnVsbCE9cnx8bnVsbCE9bCl7dmFyIHU9YS5nZXROb2RlQnlJbmRleChyKSxoPWEuZ2V0RWRnZUJ5SW5kZXgobCk7aWYoYS5lYWNoTm9kZShmdW5jdGlvbih0KXtDUyh0LE1TLC4xKX0pLGEuZWFjaEVkZ2UoZnVuY3Rpb24odCl7Q1ModCxUUywuMSl9KSx1KXtMUyh1LElTKTt2YXIgYz1zLmdldCgiZm9jdXNOb2RlQWRqYWNlbmN5Iik7Im91dEVkZ2VzIj09PWM/Uih1Lm91dEVkZ2VzLGZ1bmN0aW9uKHQpe3QuZGF0YUluZGV4PDB8fChMUyh0LEFTKSxMUyh0Lm5vZGUyLElTKSl9KToiaW5FZGdlcyI9PT1jP1IodS5pbkVkZ2VzLGZ1bmN0aW9uKHQpe3QuZGF0YUluZGV4PDB8fChMUyh0LEFTKSxMUyh0Lm5vZGUxLElTKSl9KToiYWxsRWRnZXMiPT09YyYmUih1LmVkZ2VzLGZ1bmN0aW9uKHQpe3QuZGF0YUluZGV4PDB8fChMUyh0LEFTKSx0Lm5vZGUxIT09dSYmTFModC5ub2RlMSxJUyksdC5ub2RlMiE9PXUmJkxTKHQubm9kZTIsSVMpKX0pfWgmJihMUyhoLEFTKSxMUyhoLm5vZGUxLElTKSxMUyhoLm5vZGUyLElTKSl9fSx1bmZvY3VzTm9kZUFkamFjZW5jeTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldEdyYXBoKCk7by5lYWNoTm9kZShmdW5jdGlvbih0KXtDUyh0LE1TKX0pLG8uZWFjaEVkZ2UoZnVuY3Rpb24odCl7Q1ModCxUUyl9KX19KSxfZih7dHlwZToiZHJhZ05vZGUiLGV2ZW50OiJkcmFnbm9kZSIsdXBkYXRlOiJ1cGRhdGUifSxmdW5jdGlvbihlLHQpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToic2Fua2V5IixxdWVyeTplfSxmdW5jdGlvbih0KXt0LnNldE5vZGVQb3NpdGlvbihlLmRhdGFJbmRleCxbZS5sb2NhbFgsZS5sb2NhbFldKX0pfSk7ZnVuY3Rpb24gUFModCl7dmFyIGU9dC5ob3N0R3JhcGguZGF0YS5nZXRSYXdEYXRhSXRlbSh0LmRhdGFJbmRleCk7cmV0dXJuIG51bGwhPWUuZGVwdGgmJjA8PWUuZGVwdGh9ZnVuY3Rpb24gTlModCxsLHUsaCxjKXt2YXIgZD0idmVydGljYWwiPT09Yz8ieCI6InkiO1IodCxmdW5jdGlvbih0KXt2YXIgZSxpLG47dC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0TGF5b3V0KClbZF0tZS5nZXRMYXlvdXQoKVtkXX0pO2Zvcih2YXIgbz0wLGE9dC5sZW5ndGgscj0idmVydGljYWwiPT09Yz8iZHgiOiJkeSIscz0wO3M8YTtzKyspMDwobj1vLShpPXRbc10pLmdldExheW91dCgpW2RdKSYmKGU9aS5nZXRMYXlvdXQoKVtkXStuLCJ2ZXJ0aWNhbCI9PT1jP2kuc2V0TGF5b3V0KHt4OmV9LCEwKTppLnNldExheW91dCh7eTplfSwhMCkpLG89aS5nZXRMYXlvdXQoKVtkXStpLmdldExheW91dCgpW3JdK2w7aWYoMDwobj1vLWwtKCJ2ZXJ0aWNhbCI9PT1jP2g6dSkpKWZvcihlPWkuZ2V0TGF5b3V0KClbZF0tbiwidmVydGljYWwiPT09Yz9pLnNldExheW91dCh7eDplfSwhMCk6aS5zZXRMYXlvdXQoe3k6ZX0sITApLG89ZSxzPWEtMjswPD1zOy0tcykwPChuPShpPXRbc10pLmdldExheW91dCgpW2RdK2kuZ2V0TGF5b3V0KClbcl0rbC1vKSYmKGU9aS5nZXRMYXlvdXQoKVtkXS1uLCJ2ZXJ0aWNhbCI9PT1jP2kuc2V0TGF5b3V0KHt4OmV9LCEwKTppLnNldExheW91dCh7eTplfSwhMCkpLG89aS5nZXRMYXlvdXQoKVtkXX0pfWZ1bmN0aW9uIE9TKHQsYSxyKXtSKHQuc2xpY2UoKS5yZXZlcnNlKCksZnVuY3Rpb24odCl7Uih0LGZ1bmN0aW9uKHQpe2lmKHQub3V0RWRnZXMubGVuZ3RoKXt2YXIgZT1GUyh0Lm91dEVkZ2VzLFJTLHIpL0ZTKHQub3V0RWRnZXMsR1Mscik7aWYoaXNOYU4oZSkpe3ZhciBpPXQub3V0RWRnZXMubGVuZ3RoO2U9aT9GUyh0Lm91dEVkZ2VzLHpTLHIpL2k6MH1pZigidmVydGljYWwiPT09cil7dmFyIG49dC5nZXRMYXlvdXQoKS54KyhlLVZTKHQscikpKmE7dC5zZXRMYXlvdXQoe3g6bn0sITApfWVsc2V7dmFyIG89dC5nZXRMYXlvdXQoKS55KyhlLVZTKHQscikpKmE7dC5zZXRMYXlvdXQoe3k6b30sITApfX19KX0pfWZ1bmN0aW9uIFJTKHQsZSl7cmV0dXJuIFZTKHQubm9kZTIsZSkqdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIHpTKHQsZSl7cmV0dXJuIFZTKHQubm9kZTIsZSl9ZnVuY3Rpb24gRVModCxlKXtyZXR1cm4gVlModC5ub2RlMSxlKSp0LmdldFZhbHVlKCl9ZnVuY3Rpb24gQlModCxlKXtyZXR1cm4gVlModC5ub2RlMSxlKX1mdW5jdGlvbiBWUyh0LGUpe3JldHVybiJ2ZXJ0aWNhbCI9PT1lP3QuZ2V0TGF5b3V0KCkueCt0LmdldExheW91dCgpLmR4LzI6dC5nZXRMYXlvdXQoKS55K3QuZ2V0TGF5b3V0KCkuZHkvMn1mdW5jdGlvbiBHUyh0KXtyZXR1cm4gdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIEZTKHQsZSxpKXtmb3IodmFyIG49MCxvPXQubGVuZ3RoLGE9LTE7KythPG87KXt2YXIgcj0rZS5jYWxsKHQsdFthXSxpKTtpc05hTihyKXx8KG4rPXIpfXJldHVybiBufWZ1bmN0aW9uIFdTKHQsYSxyKXtSKHQsZnVuY3Rpb24odCl7Uih0LGZ1bmN0aW9uKHQpe2lmKHQuaW5FZGdlcy5sZW5ndGgpe3ZhciBlPUZTKHQuaW5FZGdlcyxFUyxyKS9GUyh0LmluRWRnZXMsR1Mscik7aWYoaXNOYU4oZSkpe3ZhciBpPXQuaW5FZGdlcy5sZW5ndGg7ZT1pP0ZTKHQuaW5FZGdlcyxCUyxyKS9pOjB9aWYoInZlcnRpY2FsIj09PXIpe3ZhciBuPXQuZ2V0TGF5b3V0KCkueCsoZS1WUyh0LHIpKSphO3Quc2V0TGF5b3V0KHt4Om59LCEwKX1lbHNle3ZhciBvPXQuZ2V0TGF5b3V0KCkueSsoZS1WUyh0LHIpKSphO3Quc2V0TGF5b3V0KHt5Om99LCEwKX19fSl9KX1iZihmdW5jdGlvbih0LHUsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJzYW5rZXkiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJub2RlV2lkdGgiKSxpPXQuZ2V0KCJub2RlR2FwIiksbj1mdW5jdGlvbih0LGUpe3JldHVybiBidSh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCx1KSxvPSh0LmxheW91dEluZm89bikud2lkdGgsYT1uLmhlaWdodCxyPXQuZ2V0R3JhcGgoKSxzPXIubm9kZXMsbD1yLmVkZ2VzOyFmdW5jdGlvbih0KXtSKHQsZnVuY3Rpb24odCl7dmFyIGU9RlModC5vdXRFZGdlcyxHUyksaT1GUyh0LmluRWRnZXMsR1MpLG49dC5nZXRWYWx1ZSgpfHwwLG89TWF0aC5tYXgoZSxpLG4pO3Quc2V0TGF5b3V0KHt2YWx1ZTpvfSwhMCl9KX0ocyksZnVuY3Rpb24odCxlLGksbixvLGEscixzLGwpeyhmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXtmb3IodmFyIHM9W10sbD1bXSx1PVtdLGg9W10sYz0wLGQ9MDtkPGUubGVuZ3RoO2QrKylzW2RdPTE7Zm9yKGQ9MDtkPHQubGVuZ3RoO2QrKylsW2RdPXRbZF0uaW5FZGdlcy5sZW5ndGgsMD09PWxbZF0mJnUucHVzaCh0W2RdKTt2YXIgZj0tMTtmb3IoO3UubGVuZ3RoOyl7Zm9yKHZhciBwPTA7cDx1Lmxlbmd0aDtwKyspe3ZhciBnPXVbcF0sbT1nLmhvc3RHcmFwaC5kYXRhLmdldFJhd0RhdGFJdGVtKGcuZGF0YUluZGV4KSx2PW51bGwhPW0uZGVwdGgmJjA8PW0uZGVwdGg7diYmbS5kZXB0aD5mJiYoZj1tLmRlcHRoKSxnLnNldExheW91dCh7ZGVwdGg6dj9tLmRlcHRoOmN9LCEwKSwidmVydGljYWwiPT09YT9nLnNldExheW91dCh7ZHk6aX0sITApOmcuc2V0TGF5b3V0KHtkeDppfSwhMCk7Zm9yKHZhciB5PTA7eTxnLm91dEVkZ2VzLmxlbmd0aDt5Kyspe3ZhciB4PWcub3V0RWRnZXNbeV0sXz1lLmluZGV4T2YoeCk7c1tfXT0wO3ZhciB3PXgubm9kZTIsYj10LmluZGV4T2Yodyk7MD09LS1sW2JdJiZoLmluZGV4T2Yodyk8MCYmaC5wdXNoKHcpfX0rK2MsdT1oLGg9W119Zm9yKGQ9MDtkPHMubGVuZ3RoO2QrKylpZigxPT09c1tkXSl0aHJvdyBuZXcgRXJyb3IoIlNhbmtleSBpcyBhIERBRywgdGhlIG9yaWdpbmFsIGRhdGEgaGFzIGN5Y2xlISIpO3ZhciBTPWMtMTxmP2Y6Yy0xO3ImJiJsZWZ0IiE9PXImJmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCJyaWdodCI9PT1lKXtmb3IodmFyIG89W10sYT10LHI9MDthLmxlbmd0aDspe2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO2wuc2V0TGF5b3V0KHtza05vZGVIZWlnaHQ6cn0sITApO2Zvcih2YXIgdT0wO3U8bC5pbkVkZ2VzLmxlbmd0aDt1Kyspe3ZhciBoPWwuaW5FZGdlc1t1XTtvLmluZGV4T2YoaC5ub2RlMSk8MCYmby5wdXNoKGgubm9kZTEpfX1hPW8sbz1bXSwrK3J9Uih0LGZ1bmN0aW9uKHQpe1BTKHQpfHx0LnNldExheW91dCh7ZGVwdGg6TWF0aC5tYXgoMCxuLXQuZ2V0TGF5b3V0KCkuc2tOb2RlSGVpZ2h0KX0sITApfSl9ZWxzZSJqdXN0aWZ5Ij09PWUmJmZ1bmN0aW9uKHQsZSl7Uih0LGZ1bmN0aW9uKHQpe1BTKHQpfHx0Lm91dEVkZ2VzLmxlbmd0aHx8dC5zZXRMYXlvdXQoe2RlcHRoOmV9LCEwKX0pfSh0LG4pfSh0LHIsMCxTKTshZnVuY3Rpb24odCxpLG4pe1IodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLmRlcHRoKmk7InZlcnRpY2FsIj09PW4/dC5zZXRMYXlvdXQoe3k6ZX0sITApOnQuc2V0TGF5b3V0KHt4OmV9LCEwKX0pfSh0LCJ2ZXJ0aWNhbCI9PT1hPyhvLWkpL1M6KG4taSkvUyxhKX0pKHQsZSxpLG8sYSxzLGwpLGZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIpe3ZhciBzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W10sbj0idmVydGljYWwiPT09ZT8ieSI6IngiLG89dGEodCxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRMYXlvdXQoKVtuXX0pO3JldHVybiBvLmtleXMuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSxSKG8ua2V5cyxmdW5jdGlvbih0KXtpLnB1c2goby5idWNrZXRzLmdldCh0KSl9KSxpfSh0LHIpOyhmdW5jdGlvbih0LGUsbyxhLHIscyl7dmFyIGw9MS8wO1IodCxmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPTA7Uih0LGZ1bmN0aW9uKHQpe2krPXQuZ2V0TGF5b3V0KCkudmFsdWV9KTt2YXIgbj0idmVydGljYWwiPT09cz8oYS0oZS0xKSpyKS9pOihvLShlLTEpKnIpL2k7bjxsJiYobD1uKX0pLFIodCxmdW5jdGlvbih0KXtSKHQsZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldExheW91dCgpLnZhbHVlKmw7InZlcnRpY2FsIj09PXM/KHQuc2V0TGF5b3V0KHt4OmV9LCEwKSx0LnNldExheW91dCh7ZHg6aX0sITApKToodC5zZXRMYXlvdXQoe3k6ZX0sITApLHQuc2V0TGF5b3V0KHtkeTppfSwhMCkpfSl9KSxSKGUsZnVuY3Rpb24odCl7dmFyIGU9K3QuZ2V0VmFsdWUoKSpsO3Quc2V0TGF5b3V0KHtkeTplfSwhMCl9KX0pKHMsZSxpLG4sbyxyKSxOUyhzLG8saSxuLHIpO2Zvcih2YXIgbD0xOzA8YTthLS0pT1MocyxsKj0uOTksciksTlMocyxvLGksbixyKSxXUyhzLGwsciksTlMocyxvLGksbixyKX0odCxlLGEsbyxuLHIscyksZnVuY3Rpb24odCxlKXt2YXIgaT0idmVydGljYWwiPT09ZT8ieCI6InkiO1IodCxmdW5jdGlvbih0KXt0Lm91dEVkZ2VzLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ub2RlMi5nZXRMYXlvdXQoKVtpXS1lLm5vZGUyLmdldExheW91dCgpW2ldfSksdC5pbkVkZ2VzLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ub2RlMS5nZXRMYXlvdXQoKVtpXS1lLm5vZGUxLmdldExheW91dCgpW2ldfSl9KSxSKHQsZnVuY3Rpb24odCl7dmFyIGU9MCxpPTA7Uih0Lm91dEVkZ2VzLGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHtzeTplfSwhMCksZSs9dC5nZXRMYXlvdXQoKS5keX0pLFIodC5pbkVkZ2VzLGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHt0eTppfSwhMCksaSs9dC5nZXRMYXlvdXQoKS5keX0pfSl9KHQscyl9KHMsbCxlLGksbyxhLDAhPT1NKHMsZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10LmdldExheW91dCgpLnZhbHVlfSkubGVuZ3RoPzA6dC5nZXQoImxheW91dEl0ZXJhdGlvbnMiKSx0LmdldCgib3JpZW50IiksdC5nZXQoIm5vZGVBbGlnbiIpKX0pfSksU2YoZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoInNhbmtleSIsZnVuY3Rpb24obil7dmFyIHQ9bi5nZXRHcmFwaCgpLm5vZGVzO2lmKHQubGVuZ3RoKXt2YXIgbz0xLzAsYT0tMS8wO1IodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLnZhbHVlO2U8byYmKG89ZSksYTxlJiYoYT1lKX0pLFIodCxmdW5jdGlvbih0KXt2YXIgZT1uZXcgZ18oe3R5cGU6ImNvbG9yIixtYXBwaW5nTWV0aG9kOiJsaW5lYXIiLGRhdGFFeHRlbnQ6W28sYV0sdmlzdWFsOm4uZ2V0KCJjb2xvciIpfSkubWFwVmFsdWVUb1Zpc3VhbCh0LmdldExheW91dCgpLnZhbHVlKSxpPXQuZ2V0TW9kZWwoKS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpO251bGwhPWk/dC5zZXRWaXN1YWwoImNvbG9yIixpKTp0LnNldFZpc3VhbCgiY29sb3IiLGUpfSl9fSl9KTt2YXIgSFM9e19iYXNlQXhpc0RpbTpudWxsLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPWUuZ2V0Q29tcG9uZW50KCJ4QXhpcyIsdGhpcy5nZXQoInhBeGlzSW5kZXgiKSksYT1lLmdldENvbXBvbmVudCgieUF4aXMiLHRoaXMuZ2V0KCJ5QXhpc0luZGV4IikpLHI9by5nZXQoInR5cGUiKSxzPWEuZ2V0KCJ0eXBlIik7ImNhdGVnb3J5Ij09PXI/KHQubGF5b3V0PSJob3Jpem9udGFsIixpPW8uZ2V0T3JkaW5hbE1ldGEoKSxuPSEwKToiY2F0ZWdvcnkiPT09cz8odC5sYXlvdXQ9InZlcnRpY2FsIixpPWEuZ2V0T3JkaW5hbE1ldGEoKSxuPSEwKTp0LmxheW91dD10LmxheW91dHx8Imhvcml6b250YWwiO3ZhciBsPVsieCIsInkiXSx1PSJob3Jpem9udGFsIj09PXQubGF5b3V0PzA6MSxoPXRoaXMuX2Jhc2VBeGlzRGltPWxbdV0sYz1sWzEtdV0sZD1bbyxhXSxmPWRbdV0uZ2V0KCJ0eXBlIikscD1kWzEtdV0uZ2V0KCJ0eXBlIiksZz10LmRhdGE7aWYoZyYmbil7dmFyIG09W107UihnLGZ1bmN0aW9uKHQsZSl7dmFyIGk7dC52YWx1ZSYmTCh0LnZhbHVlKT8oaT10LnZhbHVlLnNsaWNlKCksdC52YWx1ZS51bnNoaWZ0KGUpKTpMKHQpPyhpPXQuc2xpY2UoKSx0LnVuc2hpZnQoZSkpOmk9dCxtLnB1c2goaSl9KSx0LmRhdGE9bX12YXIgdj10aGlzLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnMseT1be25hbWU6aCx0eXBlOlJmKGYpLG9yZGluYWxNZXRhOmksb3RoZXJEaW1zOnt0b29sdGlwOiExLGl0ZW1OYW1lOjB9LGRpbXNEZWY6WyJiYXNlIl19LHtuYW1lOmMsdHlwZTpSZihwKSxkaW1zRGVmOnYuc2xpY2UoKX1dO3JldHVybiBZdih0aGlzLHtjb29yZERpbWVuc2lvbnM6eSxkaW1lbnNpb25zQ291bnQ6di5sZW5ndGgrMSxlbmNvZGVEZWZhdWx0ZXI6VCgkdSx5LHRoaXMpfSl9LGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYmFzZUF4aXNEaW07cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodCsiQXhpcyIsdGhpcy5nZXQodCsiQXhpc0luZGV4IikpLmF4aXN9fTtiKHNjLmV4dGVuZCh7dHlwZToic2VyaWVzLmJveHBsb3QiLGRlcGVuZGVuY2llczpbInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZGVmYXVsdFZhbHVlRGltZW5zaW9uczpbe25hbWU6Im1pbiIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJRMSIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJtZWRpYW4iLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiUTMiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToibWF4IixkZWZhdWx0VG9vbHRpcDohMH1dLGRpbWVuc2lvbnM6bnVsbCxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxsYXlvdXQ6bnVsbCxib3hXaWR0aDpbNyw1MF0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e2l0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjUsc2hhZG93T2Zmc2V0WDoyLHNoYWRvd09mZnNldFk6MixzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjQpIn19LGFuaW1hdGlvbkVhc2luZzoiZWxhc3RpY091dCIsYW5pbWF0aW9uRHVyYXRpb246ODAwfX0pLEhTLCEwKTt2YXIgWlM9WyJpdGVtU3R5bGUiXSxVUz1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0sWFM9KF9jLmV4dGVuZCh7dHlwZToiYm94cGxvdCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10LmdldERhdGEoKSxhPXRoaXMuZ3JvdXAscj10aGlzLl9kYXRhO3RoaXMuX2RhdGF8fGEucmVtb3ZlQWxsKCk7dmFyIHM9Imhvcml6b250YWwiPT09dC5nZXQoImxheW91dCIpPzE6MDtvLmRpZmYocikuYWRkKGZ1bmN0aW9uKHQpe2lmKG8uaGFzVmFsdWUodCkpe3ZhciBlPVlTKG8uZ2V0SXRlbUxheW91dCh0KSxvLHQscywhMCk7by5zZXRJdGVtR3JhcGhpY0VsKHQsZSksYS5hZGQoZSl9fSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ci5nZXRJdGVtR3JhcGhpY0VsKGUpO2lmKG8uaGFzVmFsdWUodCkpe3ZhciBuPW8uZ2V0SXRlbUxheW91dCh0KTtpP2pTKG4saSxvLHQpOmk9WVMobixvLHQscyksYS5hZGQoaSksby5zZXRJdGVtR3JhcGhpY0VsKHQsaSl9ZWxzZSBhLnJlbW92ZShpKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1yLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmYS5yZW1vdmUoZSl9KS5leGVjdXRlKCksdGhpcy5fZGF0YT1vfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxpPXRoaXMuX2RhdGE7dGhpcy5fZGF0YT1udWxsLGkmJmkuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7dCYmZS5yZW1vdmUodCl9KX0sZGlzcG9zZTpldH0pLEFyLmV4dGVuZCh7dHlwZToiYm94cGxvdEJveFBhdGgiLHNoYXBlOnt9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzLG49MDtmb3IodC5tb3ZlVG8oaVtuXVswXSxpW25dWzFdKSxuKys7bjw0O24rKyl0LmxpbmVUbyhpW25dWzBdLGlbbl1bMV0pO2Zvcih0LmNsb3NlUGF0aCgpO248aS5sZW5ndGg7bisrKXQubW92ZVRvKGlbbl1bMF0saVtuXVsxXSksbisrLHQubGluZVRvKGlbbl1bMF0saVtuXVsxXSl9fSkpO2Z1bmN0aW9uIFlTKHQsZSxpLG4sbyl7dmFyIGE9dC5lbmRzLHI9bmV3IFhTKHtzaGFwZTp7cG9pbnRzOm8/ZnVuY3Rpb24odCxlLGkpe3JldHVybiBPKHQsZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5zbGljZSgpKVtlXT1pLmluaXRCYXNlbGluZSx0fSl9KGEsbix0KTphfX0pO3JldHVybiBqUyh0LHIsZSxpLG8pLHJ9ZnVuY3Rpb24galModCxlLGksbixvKXt2YXIgYT1pLmhvc3RNb2RlbDsoMCxibFtvPyJpbml0UHJvcHMiOiJ1cGRhdGVQcm9wcyJdKShlLHtzaGFwZTp7cG9pbnRzOnQuZW5kc319LGEsbik7dmFyIHI9aS5nZXRJdGVtTW9kZWwobikscz1yLmdldE1vZGVsKFpTKSxsPWkuZ2V0SXRlbVZpc3VhbChuLCJjb2xvciIpLHU9cy5nZXRJdGVtU3R5bGUoWyJib3JkZXJDb2xvciJdKTt1LnN0cm9rZT1sLHUuc3Ryb2tlTm9TY2FsZT0hMCxlLnVzZVN0eWxlKHUpLGUuejI9MTAwLCRzKGUsci5nZXRNb2RlbChVUykuZ2V0SXRlbVN0eWxlKCkpfXZhciBxUz1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yIl0sS1M9UjtTZihmdW5jdGlvbihuLHQpe3ZhciBvPW4uZ2V0KCJjb2xvciIpO24uZWFjaFJhd1Nlcmllc0J5VHlwZSgiYm94cGxvdCIsZnVuY3Rpb24odCl7dmFyIGU9b1t0LnNlcmllc0luZGV4JW8ubGVuZ3RoXSxpPXQuZ2V0RGF0YSgpO2kuc2V0VmlzdWFsKHtsZWdlbmRTeW1ib2w6InJvdW5kUmVjdCIsY29sb3I6dC5nZXQocVMpfHxlfSksbi5pc1Nlcmllc0ZpbHRlcmVkKHQpfHxpLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRJdGVtTW9kZWwodCk7aS5zZXRJdGVtVmlzdWFsKHQse2NvbG9yOmUuZ2V0KHFTLCEwKX0pfSl9KX0pLGJmKGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBuPVtdLG89W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgiYm94cGxvdCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRCYXNlQXhpcygpLGk9XyhvLGUpO2k8MCYmKGk9by5sZW5ndGgsb1tpXT1lLG5baV09e2F4aXM6ZSxzZXJpZXNNb2RlbHM6W119KSxuW2ldLnNlcmllc01vZGVscy5wdXNoKHQpfSksbn0odCk7S1MoZSxmdW5jdGlvbihpKXt2YXIgdD1pLnNlcmllc01vZGVsczt0Lmxlbmd0aCYmKGZ1bmN0aW9uKHQpe3ZhciBlLGksbj10LmF4aXMsbz10LnNlcmllc01vZGVscyxhPW8ubGVuZ3RoLHI9dC5ib3hXaWR0aExpc3Q9W10scz10LmJveE9mZnNldExpc3Q9W10sbD1bXTtpZigiY2F0ZWdvcnkiPT09bi50eXBlKWk9bi5nZXRCYW5kV2lkdGgoKTtlbHNle3ZhciB1PTA7S1MobyxmdW5jdGlvbih0KXt1PU1hdGgubWF4KHUsdC5nZXREYXRhKCkuY291bnQoKSl9KSxlPW4uZ2V0RXh0ZW50KCksTWF0aC5hYnMoZVsxXS1lWzBdKX1LUyhvLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJib3hXaWR0aCIpO0woZSl8fChlPVtlLGVdKSxsLnB1c2goW3psKGVbMF0saSl8fDAsemwoZVsxXSxpKXx8MF0pfSk7dmFyIGg9LjgqaS0yLGM9aC9hKi4zLGQ9KGgtYyooYS0xKSkvYSxmPWQvMi1oLzI7S1MobyxmdW5jdGlvbih0LGUpe3MucHVzaChmKSxmKz1jK2Qsci5wdXNoKE1hdGgubWluKE1hdGgubWF4KGQsbFtlXVswXSksbFtlXVsxXSkpfSl9KGkpLEtTKHQsZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxyLGUpe3ZhciBzPXQuY29vcmRpbmF0ZVN5c3RlbSxsPXQuZ2V0RGF0YSgpLGE9ZS8yLHU9Imhvcml6b250YWwiPT09dC5nZXQoImxheW91dCIpPzA6MSxoPTEtdSxpPVsieCIsInkiXSxuPWwubWFwRGltZW5zaW9uKGlbdV0pLG89bC5tYXBEaW1lbnNpb24oaVtoXSwhMCk7aWYobnVsbD09bnx8by5sZW5ndGg8NSlyZXR1cm47Zm9yKHZhciBjPTA7YzxsLmNvdW50KCk7YysrKXt2YXIgZD1sLmdldChuLGMpLGY9eChkLG9bMl0sYykscD14KGQsb1swXSxjKSxnPXgoZCxvWzFdLGMpLG09eChkLG9bM10sYyksdj14KGQsb1s0XSxjKSx5PVtdO18oeSxnLDApLF8oeSxtLDEpLHkucHVzaChwLGcsdixtKSx3KHkscCksdyh5LHYpLHcoeSxmKSxsLnNldEl0ZW1MYXlvdXQoYyx7aW5pdEJhc2VsaW5lOmZbaF0sZW5kczp5fSl9ZnVuY3Rpb24geCh0LGUsaSl7dmFyIG4sbz1sLmdldChlLGkpLGE9W107cmV0dXJuIGFbdV09dCxhW2hdPW8saXNOYU4odCl8fGlzTmFOKG8pP249W05hTixOYU5dOihuPXMuZGF0YVRvUG9pbnQoYSkpW3VdKz1yLG59ZnVuY3Rpb24gXyh0LGUsaSl7dmFyIG49ZS5zbGljZSgpLG89ZS5zbGljZSgpO25bdV0rPWEsb1t1XS09YSxpP3QucHVzaChuLG8pOnQucHVzaChvLG4pfWZ1bmN0aW9uIHcodCxlKXt2YXIgaT1lLnNsaWNlKCksbj1lLnNsaWNlKCk7aVt1XS09YSxuW3VdKz1hLHQucHVzaChpLG4pfX0odCxpLmJveE9mZnNldExpc3RbZV0saS5ib3hXaWR0aExpc3RbZV0pfSkpfSl9KSxiKHNjLmV4dGVuZCh7dHlwZToic2VyaWVzLmNhbmRsZXN0aWNrIixkZXBlbmRlbmNpZXM6WyJ4QXhpcyIsInlBeGlzIiwiZ3JpZCJdLGRlZmF1bHRWYWx1ZURpbWVuc2lvbnM6W3tuYW1lOiJvcGVuIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6ImNsb3NlIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6Imxvd2VzdCIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJoaWdoZXN0IixkZWZhdWx0VG9vbHRpcDohMH1dLGRpbWVuc2lvbnM6bnVsbCxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxsYXlvdXQ6bnVsbCxjbGlwOiEwLGl0ZW1TdHlsZTp7Y29sb3I6IiNjMjM1MzEiLGNvbG9yMDoiIzMxNDY1NiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2MyMzUzMSIsYm9yZGVyQ29sb3IwOiIjMzE0NjU2In0sZW1waGFzaXM6e2l0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn19LGJhck1heFdpZHRoOm51bGwsYmFyTWluV2lkdGg6bnVsbCxiYXJXaWR0aDpudWxsLGxhcmdlOiEwLGxhcmdlVGhyZXNob2xkOjYwMCxwcm9ncmVzc2l2ZTozZTMscHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6MWU0LHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QiLGFuaW1hdGlvblVwZGF0ZTohMSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246MzAwfSxnZXRTaGFkb3dEaW06ZnVuY3Rpb24oKXtyZXR1cm4ib3BlbiJ9LGJydXNoU2VsZWN0b3I6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuZ2V0SXRlbUxheW91dCh0KTtyZXR1cm4gbiYmaS5yZWN0KG4uYnJ1c2hSZWN0KX19KSxIUywhMCk7dmFyICRTPVsiaXRlbVN0eWxlIl0sSlM9WyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdLFFTPVsiY29sb3IiLCJjb2xvcjAiLCJib3JkZXJDb2xvciIsImJvcmRlckNvbG9yMCJdLHRNPShfYy5leHRlbmQoe3R5cGU6ImNhbmRsZXN0aWNrIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KSx0aGlzLl9pc0xhcmdlRHJhdz90aGlzLl9yZW5kZXJMYXJnZSh0KTp0aGlzLl9yZW5kZXJOb3JtYWwodCl9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fY2xlYXIoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KX0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5faXNMYXJnZURyYXc/dGhpcy5faW5jcmVtZW50YWxSZW5kZXJMYXJnZSh0LGUpOnRoaXMuX2luY3JlbWVudGFsUmVuZGVyTm9ybWFsKHQsZSl9LF91cGRhdGVEcmF3TW9kZTpmdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTsobnVsbD09dGhpcy5faXNMYXJnZURyYXd8fGVedGhpcy5faXNMYXJnZURyYXcpJiYodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sX3JlbmRlck5vcm1hbDpmdW5jdGlvbihvKXt2YXIgYT1vLmdldERhdGEoKSxyPXRoaXMuX2RhdGEscz10aGlzLmdyb3VwLGw9YS5nZXRMYXlvdXQoImlzU2ltcGxlQm94IiksdT1vLmdldCgiY2xpcCIsITApLHQ9by5jb29yZGluYXRlU3lzdGVtLGg9dC5nZXRBcmVhJiZ0LmdldEFyZWEoKTt0aGlzLl9kYXRhfHxzLnJlbW92ZUFsbCgpLGEuZGlmZihyKS5hZGQoZnVuY3Rpb24odCl7aWYoYS5oYXNWYWx1ZSh0KSl7dmFyIGUsaT1hLmdldEl0ZW1MYXlvdXQodCk7aWYodSYmaU0oaCxpKSlyZXR1cm47ZGwoZT1lTShpLHQsITApLHtzaGFwZTp7cG9pbnRzOmkuZW5kc319LG8sdCksbk0oZSxhLHQsbCkscy5hZGQoZSksYS5zZXRJdGVtR3JhcGhpY0VsKHQsZSl9fSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ci5nZXRJdGVtR3JhcGhpY0VsKGUpO2lmKGEuaGFzVmFsdWUodCkpe3ZhciBuPWEuZ2V0SXRlbUxheW91dCh0KTt1JiZpTShoLG4pP3MucmVtb3ZlKGkpOihpP2NsKGkse3NoYXBlOntwb2ludHM6bi5lbmRzfX0sbyx0KTppPWVNKG4sdCksbk0oaSxhLHQsbCkscy5hZGQoaSksYS5zZXRJdGVtR3JhcGhpY0VsKHQsaSkpfWVsc2Ugcy5yZW1vdmUoaSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJnMucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9YX0sX3JlbmRlckxhcmdlOmZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCksYU0odCx0aGlzLmdyb3VwKTt2YXIgZT10LmdldCgiY2xpcCIsITApP1NtKHQuY29vcmRpbmF0ZVN5c3RlbSwhMSx0KTpudWxsO2U/dGhpcy5ncm91cC5zZXRDbGlwUGF0aChlKTp0aGlzLmdyb3VwLnJlbW92ZUNsaXBQYXRoKCl9LF9pbmNyZW1lbnRhbFJlbmRlck5vcm1hbDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxuPWUuZ2V0RGF0YSgpLG89bi5nZXRMYXlvdXQoImlzU2ltcGxlQm94Iik7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIGE7bk0oYT1lTShuLmdldEl0ZW1MYXlvdXQoaSksaSksbixpLG8pLGEuaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQoYSl9fSxfaW5jcmVtZW50YWxSZW5kZXJMYXJnZTpmdW5jdGlvbih0LGUpe2FNKGUsdGhpcy5ncm91cCwhMCl9LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLl9jbGVhcigpfSxfY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZGlzcG9zZTpldH0pLEFyLmV4dGVuZCh7dHlwZToibm9ybWFsQ2FuZGxlc3RpY2tCb3giLHNoYXBlOnt9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzO3RoaXMuX19zaW1wbGVCb3g/KHQubW92ZVRvKGlbNF1bMF0saVs0XVsxXSksdC5saW5lVG8oaVs2XVswXSxpWzZdWzFdKSk6KHQubW92ZVRvKGlbMF1bMF0saVswXVsxXSksdC5saW5lVG8oaVsxXVswXSxpWzFdWzFdKSx0LmxpbmVUbyhpWzJdWzBdLGlbMl1bMV0pLHQubGluZVRvKGlbM11bMF0saVszXVsxXSksdC5jbG9zZVBhdGgoKSx0Lm1vdmVUbyhpWzRdWzBdLGlbNF1bMV0pLHQubGluZVRvKGlbNV1bMF0saVs1XVsxXSksdC5tb3ZlVG8oaVs2XVswXSxpWzZdWzFdKSx0LmxpbmVUbyhpWzddWzBdLGlbN11bMV0pKX19KSk7ZnVuY3Rpb24gZU0odCxlLGkpe3ZhciBuPXQuZW5kcztyZXR1cm4gbmV3IHRNKHtzaGFwZTp7cG9pbnRzOmk/ZnVuY3Rpb24odCxlKXtyZXR1cm4gTyh0LGZ1bmN0aW9uKHQpe3JldHVybih0PXQuc2xpY2UoKSlbMV09ZS5pbml0QmFzZWxpbmUsdH0pfShuLHQpOm59LHoyOjEwMH0pfWZ1bmN0aW9uIGlNKHQsZSl7Zm9yKHZhciBpPSEwLG49MDtuPGUuZW5kcy5sZW5ndGg7bisrKWlmKHQuY29udGFpbihlLmVuZHNbbl1bMF0sZS5lbmRzW25dWzFdKSl7aT0hMTticmVha31yZXR1cm4gaX1mdW5jdGlvbiBuTSh0LGUsaSxuKXt2YXIgbz1lLmdldEl0ZW1Nb2RlbChpKSxhPW8uZ2V0TW9kZWwoJFMpLHI9ZS5nZXRJdGVtVmlzdWFsKGksImNvbG9yIikscz1lLmdldEl0ZW1WaXN1YWwoaSwiYm9yZGVyQ29sb3IiKXx8cixsPWEuZ2V0SXRlbVN0eWxlKFFTKTt0LnVzZVN0eWxlKGwpLHQuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCx0LnN0eWxlLmZpbGw9cix0LnN0eWxlLnN0cm9rZT1zLHQuX19zaW1wbGVCb3g9biwkcyh0LG8uZ2V0TW9kZWwoSlMpLmdldEl0ZW1TdHlsZSgpKX12YXIgb009QXIuZXh0ZW5kKHt0eXBlOiJsYXJnZUNhbmRsZXN0aWNrQm94IixzaGFwZTp7fSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9ZS5wb2ludHMsbj0wO248aS5sZW5ndGg7KWlmKHRoaXMuX19zaWduPT09aVtuKytdKXt2YXIgbz1pW24rK107dC5tb3ZlVG8obyxpW24rK10pLHQubGluZVRvKG8saVtuKytdKX1lbHNlIG4rPTN9fSk7ZnVuY3Rpb24gYU0odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpLG89bi5nZXRMYXlvdXQoImxhcmdlUG9pbnRzIiksYT1uZXcgb00oe3NoYXBlOntwb2ludHM6b30sX19zaWduOjF9KTtlLmFkZChhKTt2YXIgcj1uZXcgb00oe3NoYXBlOntwb2ludHM6b30sX19zaWduOi0xfSk7ZS5hZGQociksck0oMSxhLHQsbiksck0oLTEscix0LG4pLGkmJihhLmluY3JlbWVudGFsPSEwLHIuaW5jcmVtZW50YWw9ITApfWZ1bmN0aW9uIHJNKHQsZSxpLG4pe3ZhciBvPTA8dD8iUCI6Ik4iLGE9bi5nZXRWaXN1YWwoImJvcmRlckNvbG9yIitvKXx8bi5nZXRWaXN1YWwoImNvbG9yIitvKSxyPWkuZ2V0TW9kZWwoJFMpLmdldEl0ZW1TdHlsZShRUyk7ZS51c2VTdHlsZShyKSxlLnN0eWxlLmZpbGw9bnVsbCxlLnN0eWxlLnN0cm9rZT1hfXZhciBzTT1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yIl0sbE09WyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvcjAiXSx1TT1bIml0ZW1TdHlsZSIsImNvbG9yIl0saE09WyJpdGVtU3R5bGUiLCJjb2xvcjAiXSxjTT17c2VyaWVzVHlwZToiY2FuZGxlc3RpY2siLHBsYW46dmMoKSxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7aWYodC5nZXREYXRhKCkuc2V0VmlzdWFsKHtsZWdlbmRTeW1ib2w6InJvdW5kUmVjdCIsY29sb3JQOmEoMSx0KSxjb2xvck46YSgtMSx0KSxib3JkZXJDb2xvclA6cigxLHQpLGJvcmRlckNvbG9yTjpyKC0xLHQpfSksIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSlyZXR1cm4hdC5waXBlbGluZUNvbnRleHQubGFyZ2UmJntwcm9ncmVzczpmdW5jdGlvbih0LGUpe3ZhciBpO2Zvcig7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIG49ZS5nZXRJdGVtTW9kZWwoaSksbz1lLmdldEl0ZW1MYXlvdXQoaSkuc2lnbjtlLnNldEl0ZW1WaXN1YWwoaSx7Y29sb3I6YShvLG4pLGJvcmRlckNvbG9yOnIobyxuKX0pfX19O2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4gZS5nZXQoMDx0P3VNOmhNKX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIGUuZ2V0KDA8dD9zTTpsTSl9fX0sZE09InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5LGZNPXtzZXJpZXNUeXBlOiJjYW5kbGVzdGljayIscGxhbjp2YygpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciB4PXQuY29vcmRpbmF0ZVN5c3RlbSxlPXQuZ2V0RGF0YSgpLF89ZnVuY3Rpb24odCxlKXt2YXIgaSxuPXQuZ2V0QmFzZUF4aXMoKSxvPSJjYXRlZ29yeSI9PT1uLnR5cGU/bi5nZXRCYW5kV2lkdGgoKTooaT1uLmdldEV4dGVudCgpLE1hdGguYWJzKGlbMV0taVswXSkvZS5jb3VudCgpKSxhPXpsKEgodC5nZXQoImJhck1heFdpZHRoIiksbyksbykscj16bChIKHQuZ2V0KCJiYXJNaW5XaWR0aCIpLDEpLG8pLHM9dC5nZXQoImJhcldpZHRoIik7cmV0dXJuIG51bGwhPXM/emwocyxvKTpNYXRoLm1heChNYXRoLm1pbihvLzIsYSkscil9KHQsZSksaT1bIngiLCJ5Il0sdz1lLm1hcERpbWVuc2lvbihpWzBdKSxuPWUubWFwRGltZW5zaW9uKGlbMV0sITApLGI9blswXSxTPW5bMV0sTT1uWzJdLEk9blszXTtpZihlLnNldExheW91dCh7Y2FuZGxlV2lkdGg6Xyxpc1NpbXBsZUJveDpfPD0xLjN9KSwhKG51bGw9PXd8fG4ubGVuZ3RoPDQpKXJldHVybntwcm9ncmVzczp0LnBpcGVsaW5lQ29udGV4dC5sYXJnZT9mdW5jdGlvbih0LGUpe3ZhciBpLG4sbz1uZXcgZE0oNCp0LmNvdW50KSxhPTAscj1bXSxzPVtdO2Zvcig7bnVsbCE9KG49dC5uZXh0KCkpOyl7dmFyIGw9ZS5nZXQodyxuKSx1PWUuZ2V0KGIsbiksaD1lLmdldChTLG4pLGM9ZS5nZXQoTSxuKSxkPWUuZ2V0KEksbik7aXNOYU4obCl8fGlzTmFOKGMpfHxpc05hTihkKT8ob1thKytdPU5hTixhKz0zKToob1thKytdPXBNKGUsbix1LGgsUyksclswXT1sLHJbMV09YyxpPXguZGF0YVRvUG9pbnQocixudWxsLHMpLG9bYSsrXT1pP2lbMF06TmFOLG9bYSsrXT1pP2lbMV06TmFOLHJbMV09ZCxpPXguZGF0YVRvUG9pbnQocixudWxsLHMpLG9bYSsrXT1pP2lbMV06TmFOKX1lLnNldExheW91dCgibGFyZ2VQb2ludHMiLG8pfTpmdW5jdGlvbih0LGUpe3ZhciBpO2Zvcig7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIG49ZS5nZXQodyxpKSxvPWUuZ2V0KGIsaSksYT1lLmdldChTLGkpLHI9ZS5nZXQoTSxpKSxzPWUuZ2V0KEksaSksbD1NYXRoLm1pbihvLGEpLHU9TWF0aC5tYXgobyxhKSxoPWcobCxuKSxjPWcodSxuKSxkPWcocixuKSxmPWcocyxuKSxwPVtdO20ocCxjLDApLG0ocCxoLDEpLHAucHVzaCh5KGYpLHkoYykseShkKSx5KGgpKSxlLnNldEl0ZW1MYXlvdXQoaSx7c2lnbjpwTShlLGksbyxhLFMpLGluaXRCYXNlbGluZTphPG8/Y1sxXTpoWzFdLGVuZHM6cCxicnVzaFJlY3Q6dihyLHMsbil9KX1mdW5jdGlvbiBnKHQsZSl7dmFyIGk9W107cmV0dXJuIGlbMF09ZSxpWzFdPXQsaXNOYU4oZSl8fGlzTmFOKHQpP1tOYU4sTmFOXTp4LmRhdGFUb1BvaW50KGkpfWZ1bmN0aW9uIG0odCxlLGkpe3ZhciBuPWUuc2xpY2UoKSxvPWUuc2xpY2UoKTtuWzBdPUVzKG5bMF0rXy8yLDEsITEpLG9bMF09RXMob1swXS1fLzIsMSwhMCksaT90LnB1c2gobixvKTp0LnB1c2gobyxuKX1mdW5jdGlvbiB2KHQsZSxpKXt2YXIgbj1nKHQsaSksbz1nKGUsaSk7cmV0dXJuIG5bMF0tPV8vMixvWzBdLT1fLzIse3g6blswXSx5Om5bMV0sd2lkdGg6XyxoZWlnaHQ6b1sxXS1uWzFdfX1mdW5jdGlvbiB5KHQpe3JldHVybiB0WzBdPUVzKHRbMF0sMSksdH19fX19O2Z1bmN0aW9uIHBNKHQsZSxpLG4sbyl7cmV0dXJuIG48aT8tMTppPG4/MTowPGU/dC5nZXQobyxlLTEpPD1uPzE6LTE6MX15ZihmdW5jdGlvbih0KXt0JiZMKHQuc2VyaWVzKSYmUih0LnNlcmllcyxmdW5jdGlvbih0KXtFKHQpJiYiayI9PT10LnR5cGUmJih0LnR5cGU9ImNhbmRsZXN0aWNrIil9KX0pLFNmKGNNKSxiZihmTSksc2MuZXh0ZW5kKHt0eXBlOiJzZXJpZXMuZWZmZWN0U2NhdHRlciIsZGVwZW5kZW5jaWVzOlsiZ3JpZCIsInBvbGFyIl0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ3AodGhpcy5nZXRTb3VyY2UoKSx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sYnJ1c2hTZWxlY3RvcjoicG9pbnQiLGRlZmF1bHRPcHRpb246e2Nvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGVmZmVjdFR5cGU6InJpcHBsZSIscHJvZ3Jlc3NpdmU6MCxzaG93RWZmZWN0T246InJlbmRlciIscmlwcGxlRWZmZWN0OntwZXJpb2Q6NCxzY2FsZToyLjUsYnJ1c2hUeXBlOiJmaWxsIn0sc3ltYm9sU2l6ZToxMH19KTtmdW5jdGlvbiBnTSh0LGUpe3ZhciBpPWUucmlwcGxlRWZmZWN0Q29sb3J8fGUuY29sb3I7dC5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7dC5hdHRyKHt6OmUueix6bGV2ZWw6ZS56bGV2ZWwsc3R5bGU6e3N0cm9rZToic3Ryb2tlIj09PWUuYnJ1c2hUeXBlP2k6bnVsbCxmaWxsOiJmaWxsIj09PWUuYnJ1c2hUeXBlP2k6bnVsbH19KX0pfWZ1bmN0aW9uIG1NKHQsZSl7Q2kuY2FsbCh0aGlzKTt2YXIgaT1uZXcgWGcodCxlKSxuPW5ldyBDaTt0aGlzLmFkZChpKSx0aGlzLmFkZChuKSxuLmJlZm9yZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuYXR0cihpLmdldFNjYWxlKCkpfSx0aGlzLnVwZGF0ZURhdGEodCxlKX12YXIgdk09bU0ucHJvdG90eXBlO3ZNLnN0b3BFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMSkucmVtb3ZlQWxsKCl9LHZNLnN0YXJ0RWZmZWN0QW5pbWF0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnN5bWJvbFR5cGUsaT10LmNvbG9yLG49dGhpcy5jaGlsZEF0KDEpLG89MDtvPDM7bysrKXt2YXIgYT13ZyhlLC0xLC0xLDIsMixpKTthLmF0dHIoe3N0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6Mjo5OSxzaWxlbnQ6ITAsc2NhbGU6Wy41LC41XX0pO3ZhciByPS1vLzMqdC5wZXJpb2QrdC5lZmZlY3RPZmZzZXQ7YS5hbmltYXRlKCIiLCEwKS53aGVuKHQucGVyaW9kLHtzY2FsZTpbdC5yaXBwbGVTY2FsZS8yLHQucmlwcGxlU2NhbGUvMl19KS5kZWxheShyKS5zdGFydCgpLGEuYW5pbWF0ZVN0eWxlKCEwKS53aGVuKHQucGVyaW9kLHtvcGFjaXR5OjB9KS5kZWxheShyKS5zdGFydCgpLG4uYWRkKGEpfWdNKG4sdCl9LHZNLnVwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZWZmZWN0Q2ZnLGk9dGhpcy5jaGlsZEF0KDEpLG49WyJzeW1ib2xUeXBlIiwicGVyaW9kIiwicmlwcGxlU2NhbGUiXSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107aWYoZVthXSE9PXRbYV0pcmV0dXJuIHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLHZvaWQgdGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbih0KX1nTShpLHQpfSx2TS5oaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImVtcGhhc2lzIil9LHZNLmRvd25wbGF5PWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJub3JtYWwiKX0sdk0udXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuaG9zdE1vZGVsO3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSk7dmFyIG49dGhpcy5jaGlsZEF0KDEpLG89dC5nZXRJdGVtTW9kZWwoZSksYT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIikscj1mdW5jdGlvbih0KXtyZXR1cm4gTCh0KXx8KHQ9Wyt0LCt0XSksdH0odC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKSkscz10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTtuLmF0dHIoInNjYWxlIixyKSxuLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuYXR0cih7ZmlsbDpzfSl9KTt2YXIgbD1vLmdldFNoYWxsb3coInN5bWJvbE9mZnNldCIpO2lmKGwpe3ZhciB1PW4ucG9zaXRpb247dVswXT16bChsWzBdLHJbMF0pLHVbMV09emwobFsxXSxyWzFdKX12YXIgaD10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIik7bi5yb3RhdGlvbj0oaHx8MCkqTWF0aC5QSS8xODB8fDA7dmFyIGM9e307aWYoYy5zaG93RWZmZWN0T249aS5nZXQoInNob3dFZmZlY3RPbiIpLGMucmlwcGxlU2NhbGU9by5nZXQoInJpcHBsZUVmZmVjdC5zY2FsZSIpLGMuYnJ1c2hUeXBlPW8uZ2V0KCJyaXBwbGVFZmZlY3QuYnJ1c2hUeXBlIiksYy5wZXJpb2Q9MWUzKm8uZ2V0KCJyaXBwbGVFZmZlY3QucGVyaW9kIiksYy5lZmZlY3RPZmZzZXQ9ZS90LmNvdW50KCksYy56PW8uZ2V0U2hhbGxvdygieiIpfHwwLGMuemxldmVsPW8uZ2V0U2hhbGxvdygiemxldmVsIil8fDAsYy5zeW1ib2xUeXBlPWEsYy5jb2xvcj1zLGMucmlwcGxlRWZmZWN0Q29sb3I9by5nZXQoInJpcHBsZUVmZmVjdC5jb2xvciIpLHRoaXMub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0Iikub2ZmKCJlbXBoYXNpcyIpLm9mZigibm9ybWFsIiksInJlbmRlciI9PT1jLnNob3dFZmZlY3RPbil0aGlzLl9lZmZlY3RDZmc/dGhpcy51cGRhdGVFZmZlY3RBbmltYXRpb24oYyk6dGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbihjKSx0aGlzLl9lZmZlY3RDZmc9YztlbHNle3RoaXMuX2VmZmVjdENmZz1udWxsLHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpO3ZhciBkPXRoaXMuY2hpbGRBdCgwKSxmPWZ1bmN0aW9uKCl7ZC5oaWdobGlnaHQoKSwicmVuZGVyIiE9PWMuc2hvd0VmZmVjdE9uJiZ0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKGMpfSxwPWZ1bmN0aW9uKCl7ZC5kb3ducGxheSgpLCJyZW5kZXIiIT09Yy5zaG93RWZmZWN0T24mJnRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpfTt0aGlzLm9uKCJtb3VzZW92ZXIiLGYsdGhpcykub24oIm1vdXNlb3V0IixwLHRoaXMpLm9uKCJlbXBoYXNpcyIsZix0aGlzKS5vbigibm9ybWFsIixwLHRoaXMpfXRoaXMuX2VmZmVjdENmZz1jfSx2TS5mYWRlT3V0PWZ1bmN0aW9uKHQpe3RoaXMub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0Iikub2ZmKCJlbXBoYXNpcyIpLm9mZigibm9ybWFsIiksdCYmdCgpfSx3KG1NLENpKSxDZih7dHlwZToiZWZmZWN0U2NhdHRlciIsaW5pdDpmdW5jdGlvbigpe3RoaXMuX3N5bWJvbERyYXc9bmV3IGltKG1NKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXRoaXMuX3N5bWJvbERyYXc7by51cGRhdGVEYXRhKG4pLHRoaXMuZ3JvdXAuYWRkKG8uZ3JvdXApfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpO3RoaXMuZ3JvdXAuZGlydHkoKTt2YXIgbz1rbSgpLnJlc2V0KHQpO28ucHJvZ3Jlc3MmJm8ucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOm4uY291bnQoKX0sbiksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQobil9LF91cGRhdGVHcm91cFRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07ZSYmZS5nZXRSb2FtVHJhbnNmb3JtJiYodGhpcy5ncm91cC50cmFuc2Zvcm09ZmUoZS5nZXRSb2FtVHJhbnNmb3JtKCkpLHRoaXMuZ3JvdXAuZGVjb21wb3NlVHJhbnNmb3JtKCkpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZShlKX0sZGlzcG9zZTpmdW5jdGlvbigpe319KSxTZihMbSgiZWZmZWN0U2NhdHRlciIsImNpcmNsZSIpKSxiZihrbSgiZWZmZWN0U2NhdHRlciIpKTt2YXIgeU09InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50MzJBcnJheT9BcnJheTpVaW50MzJBcnJheSx4TT0idW5kZWZpbmVkIj09dHlwZW9mIEZsb2F0NjRBcnJheT9BcnJheTpGbG9hdDY0QXJyYXk7ZnVuY3Rpb24gX00odCl7dmFyIGU9dC5kYXRhO2UmJmVbMF0mJmVbMF1bMF0mJmVbMF1bMF0uY29vcmQmJih0LmRhdGE9TyhlLGZ1bmN0aW9uKHQpe3ZhciBlPXtjb29yZHM6W3RbMF0uY29vcmQsdFsxXS5jb29yZF19O3JldHVybiB0WzBdLm5hbWUmJihlLmZyb21OYW1lPXRbMF0ubmFtZSksdFsxXS5uYW1lJiYoZS50b05hbWU9dFsxXS5uYW1lKSxwKFtlLHRbMF0sdFsxXV0pfSkpfXZhciB3TT1zYy5leHRlbmQoe3R5cGU6InNlcmllcy5saW5lcyIsZGVwZW5kZW5jaWVzOlsiZ3JpZCIsInBvbGFyIl0sdmlzdWFsQ29sb3JBY2Nlc3NQYXRoOiJsaW5lU3R5bGUuY29sb3IiLGluaXQ6ZnVuY3Rpb24odCl7dC5kYXRhPXQuZGF0YXx8W10sX00odCk7dmFyIGU9dGhpcy5fcHJvY2Vzc0ZsYXRDb29yZHNBcnJheSh0LmRhdGEpO3RoaXMuX2ZsYXRDb29yZHM9ZS5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9ZS5mbGF0Q29vcmRzT2Zmc2V0LGUuZmxhdENvb3JkcyYmKHQuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUuY291bnQpKSx3TS5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe2lmKF9NKHQpLHQuZGF0YSl7dmFyIGU9dGhpcy5fcHJvY2Vzc0ZsYXRDb29yZHNBcnJheSh0LmRhdGEpO3RoaXMuX2ZsYXRDb29yZHM9ZS5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9ZS5mbGF0Q29vcmRzT2Zmc2V0LGUuZmxhdENvb3JkcyYmKHQuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUuY291bnQpKX13TS5zdXBlckFwcGx5KHRoaXMsIm1lcmdlT3B0aW9uIixhcmd1bWVudHMpfSxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTtlLmZsYXRDb29yZHMmJih0aGlzLl9mbGF0Q29vcmRzPyh0aGlzLl9mbGF0Q29vcmRzPXR0KHRoaXMuX2ZsYXRDb29yZHMsZS5mbGF0Q29vcmRzKSx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PXR0KHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQsZS5mbGF0Q29vcmRzT2Zmc2V0KSk6KHRoaXMuX2ZsYXRDb29yZHM9ZS5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9ZS5mbGF0Q29vcmRzT2Zmc2V0KSx0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSksdGhpcy5nZXRSYXdEYXRhKCkuYXBwZW5kRGF0YSh0LmRhdGEpfSxfZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCk7cmV0dXJuIGUub3B0aW9uIGluc3RhbmNlb2YgQXJyYXk/ZS5vcHRpb246ZS5nZXRTaGFsbG93KCJjb29yZHMiKX0sZ2V0TGluZUNvb3Jkc0NvdW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0P3RoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0KzFdOnRoaXMuX2dldENvb3Jkc0Zyb21JdGVtTW9kZWwodCkubGVuZ3RofSxnZXRMaW5lQ29vcmRzOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZmxhdENvb3Jkc09mZnNldCl7Zm9yKHZhciBpPXRoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0XSxuPXRoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0KzFdLG89MDtvPG47bysrKWVbb109ZVtvXXx8W10sZVtvXVswXT10aGlzLl9mbGF0Q29vcmRzW2krMipvXSxlW29dWzFdPXRoaXMuX2ZsYXRDb29yZHNbaSsyKm8rMV07cmV0dXJuIG59dmFyIGE9dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KTtmb3Iobz0wO288YS5sZW5ndGg7bysrKWVbb109ZVtvXXx8W10sZVtvXVswXT1hW29dWzBdLGVbb11bMV09YVtvXVsxXTtyZXR1cm4gYS5sZW5ndGh9LF9wcm9jZXNzRmxhdENvb3Jkc0FycmF5OmZ1bmN0aW9uKHQpe3ZhciBlPTA7aWYodGhpcy5fZmxhdENvb3JkcyYmKGU9dGhpcy5fZmxhdENvb3Jkcy5sZW5ndGgpLCJudW1iZXIiIT10eXBlb2YgdFswXSlyZXR1cm57ZmxhdENvb3Jkc09mZnNldDpudWxsLGZsYXRDb29yZHM6bnVsbCxjb3VudDp0Lmxlbmd0aH07Zm9yKHZhciBpPXQubGVuZ3RoLG49bmV3IHlNKGkpLG89bmV3IHhNKGkpLGE9MCxyPTAscz0wLGw9MDtsPGk7KXtzKys7dmFyIHU9dFtsKytdO25bcisrXT1hK2UsbltyKytdPXU7Zm9yKHZhciBoPTA7aDx1O2grKyl7dmFyIGM9dFtsKytdLGQ9dFtsKytdO29bYSsrXT1jLG9bYSsrXT1kfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpuZXcgVWludDMyQXJyYXkobi5idWZmZXIsMCxyKSxmbGF0Q29vcmRzOm8sY291bnQ6c319LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGE9bmV3IFlmKFsidmFsdWUiXSx0aGlzKTtyZXR1cm4gYS5oYXNJdGVtT3B0aW9uPSExLGEuaW5pdERhdGEodC5kYXRhLFtdLGZ1bmN0aW9uKHQsZSxpLG4pe2lmKHQgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gTmFOO2EuaGFzSXRlbU9wdGlvbj0hMDt2YXIgbz10LnZhbHVlO3JldHVybiBudWxsIT1vP28gaW5zdGFuY2VvZiBBcnJheT9vW25dOm86dm9pZCAwfSksYX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCksaT1lLmdldCgibmFtZSIpO2lmKGkpcmV0dXJuIGk7dmFyIG49ZS5nZXQoImZyb21OYW1lIiksbz1lLmdldCgidG9OYW1lIiksYT1bXTtyZXR1cm4gbnVsbCE9biYmYS5wdXNoKG4pLG51bGwhPW8mJmEucHVzaChvKSxhdShhLmpvaW4oIiA+ICIpKX0scHJldmVudEluY3JlbWVudGFsOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdldCgiZWZmZWN0LnNob3ciKX0sZ2V0UHJvZ3Jlc3NpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlIik6dH0sZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8yZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIik6dH0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiZ2VvIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxMF0sZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsY29uc3RhbnRTcGVlZDowLHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjMsbG9vcDohMCx0cmFpbExlbmd0aDouMn0sbGFyZ2U6ITEsbGFyZ2VUaHJlc2hvbGQ6MmUzLHBvbHlsaW5lOiExLGNsaXA6ITAsbGFiZWw6e3Nob3c6ITEscG9zaXRpb246ImVuZCJ9LGxpbmVTdHlsZTp7b3BhY2l0eTouNX19fSk7ZnVuY3Rpb24gYk0odCxlLGkpe0NpLmNhbGwodGhpcyksdGhpcy5hZGQodGhpcy5jcmVhdGVMaW5lKHQsZSxpKSksdGhpcy5fdXBkYXRlRWZmZWN0U3ltYm9sKHQsZSl9dmFyIFNNPWJNLnByb3RvdHlwZTtmdW5jdGlvbiBNTSh0LGUsaSl7Q2kuY2FsbCh0aGlzKSx0aGlzLl9jcmVhdGVQb2x5bGluZSh0LGUsaSl9U00uY3JlYXRlTGluZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyB3dyh0LGUsaSl9LFNNLl91cGRhdGVFZmZlY3RTeW1ib2w9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbCgiZWZmZWN0Iiksbj1pLmdldCgic3ltYm9sU2l6ZSIpLG89aS5nZXQoInN5bWJvbCIpO0wobil8fChuPVtuLG5dKTt2YXIgYT1pLmdldCgiY29sb3IiKXx8dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIikscj10aGlzLmNoaWxkQXQoMSk7dGhpcy5fc3ltYm9sVHlwZSE9PW8mJih0aGlzLnJlbW92ZShyKSwocj13ZyhvLC0uNSwtLjUsMSwxLGEpKS56Mj0xMDAsci5jdWxsaW5nPSEwLHRoaXMuYWRkKHIpKSxyJiYoci5zZXRTdHlsZSgic2hhZG93Q29sb3IiLGEpLHIuc2V0U3R5bGUoaS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSksci5hdHRyKCJzY2FsZSIsbiksci5zZXRDb2xvcihhKSxyLmF0dHIoInNjYWxlIixuKSx0aGlzLl9zeW1ib2xUeXBlPW8sdGhpcy5fc3ltYm9sU2NhbGU9bix0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxpLGUpKX0sU00uX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5jaGlsZEF0KDEpO2lmKG4pe3ZhciBvPXRoaXMsYT1lLmdldEl0ZW1MYXlvdXQoaSkscj0xZTMqdC5nZXQoInBlcmlvZCIpLHM9dC5nZXQoImxvb3AiKSxsPXQuZ2V0KCJjb25zdGFudFNwZWVkIiksdT1XKHQuZ2V0KCJkZWxheSIpLGZ1bmN0aW9uKHQpe3JldHVybiB0L2UuY291bnQoKSpyLzN9KSxoPSJmdW5jdGlvbiI9PXR5cGVvZiB1O2lmKG4uaWdub3JlPSEwLHRoaXMudXBkYXRlQW5pbWF0aW9uUG9pbnRzKG4sYSksMDxsJiYocj10aGlzLmdldExpbmVMZW5ndGgobikvbCoxZTMpLHIhPT10aGlzLl9wZXJpb2R8fHMhPT10aGlzLl9sb29wKXtuLnN0b3BBbmltYXRpb24oKTt2YXIgYz11O2gmJihjPXUoaSkpLDA8bi5fX3QmJihjPS1yKm4uX190KSxuLl9fdD0wO3ZhciBkPW4uYW5pbWF0ZSgiIixzKS53aGVuKHIse19fdDoxfSkuZGVsYXkoYykuZHVyaW5nKGZ1bmN0aW9uKCl7by51cGRhdGVTeW1ib2xQb3NpdGlvbihuKX0pO3N8fGQuZG9uZShmdW5jdGlvbigpe28ucmVtb3ZlKG4pfSksZC5zdGFydCgpfXRoaXMuX3BlcmlvZD1yLHRoaXMuX2xvb3A9c319LFNNLmdldExpbmVMZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIHl0KHQuX19wMSx0Ll9fY3AxKSt5dCh0Ll9fY3AxLHQuX19wMil9LFNNLnVwZGF0ZUFuaW1hdGlvblBvaW50cz1mdW5jdGlvbih0LGUpe3QuX19wMT1lWzBdLHQuX19wMj1lWzFdLHQuX19jcDE9ZVsyXXx8WyhlWzBdWzBdK2VbMV1bMF0pLzIsKGVbMF1bMV0rZVsxXVsxXSkvMl19LFNNLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSxpKSx0aGlzLl91cGRhdGVFZmZlY3RTeW1ib2wodCxlKX0sU00udXBkYXRlU3ltYm9sUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5fX3AxLGk9dC5fX3AyLG49dC5fX2NwMSxvPXQuX190LGE9dC5wb3NpdGlvbixyPVthWzBdLGFbMV1dLHM9TGEsbD1rYTthWzBdPXMoZVswXSxuWzBdLGlbMF0sbyksYVsxXT1zKGVbMV0sblsxXSxpWzFdLG8pO3ZhciB1PWwoZVswXSxuWzBdLGlbMF0sbyksaD1sKGVbMV0sblsxXSxpWzFdLG8pO2lmKHQucm90YXRpb249LU1hdGguYXRhbjIoaCx1KS1NYXRoLlBJLzIsImxpbmUiPT09dGhpcy5fc3ltYm9sVHlwZXx8InJlY3QiPT09dGhpcy5fc3ltYm9sVHlwZXx8InJvdW5kUmVjdCI9PT10aGlzLl9zeW1ib2xUeXBlKWlmKHZvaWQgMCE9PXQuX19sYXN0VCYmdC5fX2xhc3RUPHQuX190KXt2YXIgYz0xLjA1Knl0KHIsYSk7dC5hdHRyKCJzY2FsZSIsW3Quc2NhbGVbMF0sY10pLDE9PT1vJiYoYVswXT1yWzBdKyhhWzBdLXJbMF0pLzIsYVsxXT1yWzFdKyhhWzFdLXJbMV0pLzIpfWVsc2UgaWYoMT09PXQuX19sYXN0VCl7Yz0yKnl0KGUsYSk7dC5hdHRyKCJzY2FsZSIsW3Quc2NhbGVbMF0sY10pfWVsc2UgdC5hdHRyKCJzY2FsZSIsdGhpcy5fc3ltYm9sU2NhbGUpO3QuX19sYXN0VD10Ll9fdCx0Lmlnbm9yZT0hMX0sU00udXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZUxheW91dCh0LGUpO3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJlZmZlY3QiKTt0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxpLGUpfSx3KGJNLENpKTt2YXIgSU09TU0ucHJvdG90eXBlO2Z1bmN0aW9uIFRNKHQsZSxpKXtiTS5jYWxsKHRoaXMsdCxlLGkpLHRoaXMuX2xhc3RGcmFtZT0wLHRoaXMuX2xhc3RGcmFtZVBlcmNlbnQ9MH1JTS5fY3JlYXRlUG9seWxpbmU9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0SXRlbUxheW91dChlKSxvPW5ldyB0cyh7c2hhcGU6e3BvaW50czpufX0pO3RoaXMuYWRkKG8pLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsaSl9LElNLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuaG9zdE1vZGVsO2NsKHRoaXMuY2hpbGRBdCgwKSx7c2hhcGU6e3BvaW50czp0LmdldEl0ZW1MYXlvdXQoZSl9fSxuLGUpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsaSl9LElNLl91cGRhdGVDb21tb25TdGw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKSxvPXQuZ2V0SXRlbU1vZGVsKGUpLGE9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIikscj1pJiZpLmxpbmVTdHlsZSxzPWkmJmkuaG92ZXJMaW5lU3R5bGU7aSYmIXQuaGFzSXRlbU9wdGlvbnx8KHI9by5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkscz1vLmdldE1vZGVsKCJlbXBoYXNpcy5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSksbi51c2VTdHlsZShEKHtzdHJva2VOb1NjYWxlOiEwLGZpbGw6Im5vbmUiLHN0cm9rZTphfSxyKSksbi5ob3ZlclN0eWxlPXMsJHModGhpcyl9LElNLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuY2hpbGRBdCgwKS5zZXRTaGFwZSgicG9pbnRzIix0LmdldEl0ZW1MYXlvdXQoZSkpfSx3KE1NLENpKTt2YXIgQU09VE0ucHJvdG90eXBlO0FNLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgTU0odCxlLGkpfSxBTS51cGRhdGVBbmltYXRpb25Qb2ludHM9ZnVuY3Rpb24odCxlKXt0aGlzLl9wb2ludHM9ZTtmb3IodmFyIGk9WzBdLG49MCxvPTE7bzxlLmxlbmd0aDtvKyspe3ZhciBhPWVbby0xXSxyPWVbb107bis9eXQoYSxyKSxpLnB1c2gobil9aWYoMCE9PW4pe2ZvcihvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS89bjt0aGlzLl9vZmZzZXRzPWksdGhpcy5fbGVuZ3RoPW59fSxBTS5nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sZW5ndGh9LEFNLnVwZGF0ZVN5bWJvbFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX190LGk9dGhpcy5fcG9pbnRzLG49dGhpcy5fb2Zmc2V0cyxvPWkubGVuZ3RoO2lmKG4pe3ZhciBhPXRoaXMuX2xhc3RGcmFtZTtpZihlPHRoaXMuX2xhc3RGcmFtZVBlcmNlbnQpe2ZvcihyPU1hdGgubWluKGErMSxvLTEpOzA8PXImJiEobltyXTw9ZSk7ci0tKTtyPU1hdGgubWluKHIsby0yKX1lbHNle2Zvcih2YXIgcj1hO3I8byYmIShuW3JdPmUpO3IrKyk7cj1NYXRoLm1pbihyLTEsby0yKX13dCh0LnBvc2l0aW9uLGlbcl0saVtyKzFdLChlLW5bcl0pLyhuW3IrMV0tbltyXSkpO3ZhciBzPWlbcisxXVswXS1pW3JdWzBdLGw9aVtyKzFdWzFdLWlbcl1bMV07dC5yb3RhdGlvbj0tTWF0aC5hdGFuMihsLHMpLU1hdGguUEkvMix0aGlzLl9sYXN0RnJhbWU9cix0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWUsdC5pZ25vcmU9ITF9fSx3KFRNLGJNKTt2YXIgRE09Q3Moe3NoYXBlOntwb2x5bGluZTohMSxjdXJ2ZW5lc3M6MCxzZWdzOltdfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnNlZ3Msbj1lLmN1cnZlbmVzcztpZihlLnBvbHlsaW5lKWZvcih2YXIgbz0wO288aS5sZW5ndGg7KXt2YXIgYT1pW28rK107aWYoMDxhKXt0Lm1vdmVUbyhpW28rK10saVtvKytdKTtmb3IodmFyIHI9MTtyPGE7cisrKXQubGluZVRvKGlbbysrXSxpW28rK10pfX1lbHNlIGZvcihvPTA7bzxpLmxlbmd0aDspe3ZhciBzPWlbbysrXSxsPWlbbysrXSx1PWlbbysrXSxoPWlbbysrXTtpZih0Lm1vdmVUbyhzLGwpLDA8bil7dmFyIGM9KHMrdSkvMi0obC1oKSpuLGQ9KGwraCkvMi0odS1zKSpuO3QucXVhZHJhdGljQ3VydmVUbyhjLGQsdSxoKX1lbHNlIHQubGluZVRvKHUsaCl9fSxmaW5kRGF0YUluZGV4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zaGFwZSxuPWkuc2VncyxvPWkuY3VydmVuZXNzO2lmKGkucG9seWxpbmUpZm9yKHZhciBhPTAscj0wO3I8bi5sZW5ndGg7KXt2YXIgcz1uW3IrK107aWYoMDxzKWZvcih2YXIgbD1uW3IrK10sdT1uW3IrK10saD0xO2g8cztoKyspe2lmKHNyKGwsdSxjPW5bcisrXSxkPW5bcisrXSkpcmV0dXJuIGF9YSsrfWVsc2UgZm9yKGE9MCxyPTA7cjxuLmxlbmd0aDspe2w9bltyKytdLHU9bltyKytdO3ZhciBjPW5bcisrXSxkPW5bcisrXTtpZigwPG8pe2lmKHVyKGwsdSwobCtjKS8yLSh1LWQpKm8sKHUrZCkvMi0oYy1sKSpvLGMsZCkpcmV0dXJuIGF9ZWxzZSBpZihzcihsLHUsYyxkKSlyZXR1cm4gYTthKyt9cmV0dXJuLTF9fSk7ZnVuY3Rpb24gQ00oKXt0aGlzLmdyb3VwPW5ldyBDaX12YXIgTE09Q00ucHJvdG90eXBlO0xNLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sTE0udXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBlPW5ldyBETSh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtlLnNldFNoYXBlKHtzZWdzOnQuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sTE0uaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLDVlNTx0LmNvdW50KCk/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IHZzKHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSxMTS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBETTtpLnNldFNoYXBlKHtzZWdzOmUuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGksZSwhIXRoaXMuX2luY3JlbWVudGFsKSx0aGlzLl9pbmNyZW1lbnRhbD90aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShpLCEwKTooaS5yZWN0SG92ZXI9ITAsaS5jdXJzb3I9ImRlZmF1bHQiLGkuX19zdGFydEluZGV4PXQuc3RhcnQsdGhpcy5ncm91cC5hZGQoaSkpfSxMTS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxMTS5fc2V0Q29tbW9uPWZ1bmN0aW9uKGksdCxlKXt2YXIgbj10Lmhvc3RNb2RlbDtpLnNldFNoYXBlKHtwb2x5bGluZTpuLmdldCgicG9seWxpbmUiKSxjdXJ2ZW5lc3M6bi5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKX0pLGkudXNlU3R5bGUobi5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLGkuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMDt2YXIgbz10LmdldFZpc3VhbCgiY29sb3IiKTtvJiZpLnNldFN0eWxlKCJzdHJva2UiLG8pLGkuc2V0U3R5bGUoImZpbGwiKSxlfHwoaS5zZXJpZXNJbmRleD1uLnNlcmllc0luZGV4LGkub24oIm1vdXNlbW92ZSIsZnVuY3Rpb24odCl7aS5kYXRhSW5kZXg9bnVsbDt2YXIgZT1pLmZpbmREYXRhSW5kZXgodC5vZmZzZXRYLHQub2Zmc2V0WSk7MDxlJiYoaS5kYXRhSW5kZXg9ZStpLl9fc3RhcnRJbmRleCl9KSl9LExNLl9jbGVhckluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5jcmVtZW50YWw7dCYmdC5jbGVhckRpc3BsYXlibGVzKCl9O3ZhciBrTT17c2VyaWVzVHlwZToibGluZXMiLHBsYW46dmMoKSxyZXNldDpmdW5jdGlvbihnKXt2YXIgbT1nLmNvb3JkaW5hdGVTeXN0ZW0sdj1nLmdldCgicG9seWxpbmUiKSx5PWcucGlwZWxpbmVDb250ZXh0LmxhcmdlO3JldHVybntwcm9ncmVzczpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO2lmKHkpe3ZhciBuLG89dC5lbmQtdC5zdGFydDtpZih2KXtmb3IodmFyIGE9MCxyPXQuc3RhcnQ7cjx0LmVuZDtyKyspYSs9Zy5nZXRMaW5lQ29vcmRzQ291bnQocik7bj1uZXcgRmxvYXQzMkFycmF5KG8rMiphKX1lbHNlIG49bmV3IEZsb2F0MzJBcnJheSg0Km8pO3ZhciBzPTAsbD1bXTtmb3Iocj10LnN0YXJ0O3I8dC5lbmQ7cisrKXt2YXIgdT1nLmdldExpbmVDb29yZHMocixpKTt2JiYobltzKytdPXUpO2Zvcih2YXIgaD0wO2g8dTtoKyspbD1tLmRhdGFUb1BvaW50KGlbaF0sITEsbCksbltzKytdPWxbMF0sbltzKytdPWxbMV19ZS5zZXRMYXlvdXQoImxpbmVzUG9pbnRzIixuKX1lbHNlIGZvcihyPXQuc3RhcnQ7cjx0LmVuZDtyKyspe3ZhciBjPWUuZ2V0SXRlbU1vZGVsKHIpLGQ9KHU9Zy5nZXRMaW5lQ29vcmRzKHIsaSksW10pO2lmKHYpZm9yKHZhciBmPTA7Zjx1O2YrKylkLnB1c2gobS5kYXRhVG9Qb2ludChpW2ZdKSk7ZWxzZXtkWzBdPW0uZGF0YVRvUG9pbnQoaVswXSksZFsxXT1tLmRhdGFUb1BvaW50KGlbMV0pO3ZhciBwPWMuZ2V0KCJsaW5lU3R5bGUuY3VydmVuZXNzIik7K3AmJihkWzJdPVsoZFswXVswXStkWzFdWzBdKS8yLShkWzBdWzFdLWRbMV1bMV0pKnAsKGRbMF1bMV0rZFsxXVsxXSkvMi0oZFsxXVswXS1kWzBdWzBdKSpwXSl9ZS5zZXRJdGVtTGF5b3V0KHIsZCl9fX19fTtmdW5jdGlvbiBQTSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH1DZih7dHlwZToibGluZXMiLGluaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10aGlzLl91cGRhdGVMaW5lRHJhdyhuLHQpLGE9dC5nZXQoInpsZXZlbCIpLHI9dC5nZXQoImVmZmVjdC50cmFpbExlbmd0aCIpLHM9aS5nZXRacigpLGw9InN2ZyI9PT1zLnBhaW50ZXIuZ2V0VHlwZSgpO2x8fHMucGFpbnRlci5nZXRMYXllcihhKS5jbGVhcighMCksbnVsbD09dGhpcy5fbGFzdFpsZXZlbHx8bHx8cy5jb25maWdMYXllcih0aGlzLl9sYXN0WmxldmVsLHttb3Rpb25CbHVyOiExfSksdGhpcy5fc2hvd0VmZmVjdCh0KSYmciYmKGx8fHMuY29uZmlnTGF5ZXIoYSx7bW90aW9uQmx1cjohMCxsYXN0RnJhbWVBbHBoYTpNYXRoLm1heChNYXRoLm1pbihyLzEwKy45LDEpLDApfSkpLG8udXBkYXRlRGF0YShuKTt2YXIgdT10LmdldCgiY2xpcCIsITApJiZTbSh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk7dT90aGlzLmdyb3VwLnNldENsaXBQYXRoKHUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9sYXN0WmxldmVsPWEsdGhpcy5fZmluaXNoZWQ9ITB9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlTGluZURyYXcobix0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUobiksdGhpcy5fY2xlYXJMYXllcihpKSx0aGlzLl9maW5pc2hlZD0hMX0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2xpbmVEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkpLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXQucGlwZWxpbmVDb250ZXh0O2lmKCF0aGlzLl9maW5pc2hlZHx8by5sYXJnZXx8by5wcm9ncmVzc2l2ZVJlbmRlcilyZXR1cm57dXBkYXRlOiEwfTt2YXIgYT1rTS5yZXNldCh0KTthLnByb2dyZXNzJiZhLnByb2dyZXNzKHtzdGFydDowLGVuZDpuLmNvdW50KCl9LG4pLHRoaXMuX2xpbmVEcmF3LnVwZGF0ZUxheW91dCgpLHRoaXMuX2NsZWFyTGF5ZXIoaSl9LF91cGRhdGVMaW5lRHJhdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xpbmVEcmF3LG49dGhpcy5fc2hvd0VmZmVjdChlKSxvPSEhZS5nZXQoInBvbHlsaW5lIiksYT1lLnBpcGVsaW5lQ29udGV4dC5sYXJnZTtyZXR1cm4gaSYmbj09PXRoaXMuX2hhc0VmZmV0JiZvPT09dGhpcy5faXNQb2x5bGluZSYmYT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwoaSYmaS5yZW1vdmUoKSxpPXRoaXMuX2xpbmVEcmF3PWE/bmV3IENNOm5ldyBTdyhvP24/VE06TU06bj9iTTp3dyksdGhpcy5faGFzRWZmZXQ9bix0aGlzLl9pc1BvbHlsaW5lPW8sdGhpcy5faXNMYXJnZURyYXc9YSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpKSx0aGlzLmdyb3VwLmFkZChpLmdyb3VwKSxpfSxfc2hvd0VmZmVjdDpmdW5jdGlvbih0KXtyZXR1cm4hIXQuZ2V0KCJlZmZlY3Quc2hvdyIpfSxfY2xlYXJMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10LmdldFpyKCk7InN2ZyI9PT1lLnBhaW50ZXIuZ2V0VHlwZSgpfHxudWxsPT10aGlzLl9sYXN0WmxldmVsfHxlLnBhaW50ZXIuZ2V0TGF5ZXIodGhpcy5fbGFzdFpsZXZlbCkuY2xlYXIoITApfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCksdGhpcy5fbGluZURyYXc9bnVsbCx0aGlzLl9jbGVhckxheWVyKGUpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO3ZhciBOTT0ibGluZVN0eWxlLm9wYWNpdHkiLnNwbGl0KCIuIiksT009e3Nlcmllc1R5cGU6ImxpbmVzIixyZXNldDpmdW5jdGlvbih0LGUsaSl7dmFyIG49UE0odC5nZXQoInN5bWJvbCIpKSxvPVBNKHQuZ2V0KCJzeW1ib2xTaXplIikpLGE9dC5nZXREYXRhKCk7cmV0dXJuIGEuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixuJiZuWzBdKSxhLnNldFZpc3VhbCgidG9TeW1ib2wiLG4mJm5bMV0pLGEuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsbyYmb1swXSksYS5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsbyYmb1sxXSksYS5zZXRWaXN1YWwoIm9wYWNpdHkiLHQuZ2V0KE5NKSkse2RhdGFFYWNoOmEuaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLG49UE0oaS5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSksbz1QTShpLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSksYT1pLmdldChOTSk7blswXSYmdC5zZXRJdGVtVmlzdWFsKGUsImZyb21TeW1ib2wiLG5bMF0pLG5bMV0mJnQuc2V0SXRlbVZpc3VhbChlLCJ0b1N5bWJvbCIsblsxXSksb1swXSYmdC5zZXRJdGVtVmlzdWFsKGUsImZyb21TeW1ib2xTaXplIixvWzBdKSxvWzFdJiZ0LnNldEl0ZW1WaXN1YWwoZSwidG9TeW1ib2xTaXplIixvWzFdKSx0LnNldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIsYSl9Om51bGx9fX07YmYoa00pLFNmKE9NKSxzYy5leHRlbmQoe3R5cGU6InNlcmllcy5oZWF0bWFwIixnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBncCh0aGlzLmdldFNvdXJjZSgpLHRoaXMse2dlbmVyYXRlQ29vcmQ6InZhbHVlIn0pfSxwcmV2ZW50SW5jcmVtZW50YWw6ZnVuY3Rpb24oKXt2YXIgdD1saC5nZXQodGhpcy5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSk7aWYodCYmdC5kaW1lbnNpb25zKXJldHVybiJsbmciPT09dC5kaW1lbnNpb25zWzBdJiYibGF0Ij09PXQuZGltZW5zaW9uc1sxXX0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixnZW9JbmRleDowLGJsdXJTaXplOjMwLHBvaW50U2l6ZToyMCxtYXhPcGFjaXR5OjEsbWluT3BhY2l0eTowfX0pO2Z1bmN0aW9uIFJNKCl7dmFyIHQ9eSgpO3RoaXMuY2FudmFzPXQsdGhpcy5ibHVyU2l6ZT0zMCx0aGlzLnBvaW50U2l6ZT0yMCx0aGlzLm1heE9wYWNpdHk9MSx0aGlzLm1pbk9wYWNpdHk9MCx0aGlzLl9ncmFkaWVudFBpeGVscz17fX1STS5wcm90b3R5cGU9e3VwZGF0ZTpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9dGhpcy5fZ2V0QnJ1c2goKSxzPXRoaXMuX2dldEdyYWRpZW50KHQsbywiaW5SYW5nZSIpLGw9dGhpcy5fZ2V0R3JhZGllbnQodCxvLCJvdXRPZlJhbmdlIiksdT10aGlzLnBvaW50U2l6ZSt0aGlzLmJsdXJTaXplLGg9dGhpcy5jYW52YXMsYz1oLmdldENvbnRleHQoIjJkIiksZD10Lmxlbmd0aDtoLndpZHRoPWUsaC5oZWlnaHQ9aTtmb3IodmFyIGY9MDtmPGQ7KytmKXt2YXIgcD10W2ZdLGc9cFswXSxtPXBbMV0sdj1uKHBbMl0pO2MuZ2xvYmFsQWxwaGE9dixjLmRyYXdJbWFnZShyLGctdSxtLXUpfWlmKCFoLndpZHRofHwhaC5oZWlnaHQpcmV0dXJuIGg7Zm9yKHZhciB5PWMuZ2V0SW1hZ2VEYXRhKDAsMCxoLndpZHRoLGguaGVpZ2h0KSx4PXkuZGF0YSxfPTAsdz14Lmxlbmd0aCxiPXRoaXMubWluT3BhY2l0eSxTPXRoaXMubWF4T3BhY2l0eS1iO188dzspe3Y9eFtfKzNdLzI1Njt2YXIgTT00Kk1hdGguZmxvb3IoMjU1KnYpO2lmKDA8dil7dmFyIEk9YSh2KT9zOmw7MDx2JiYodj12KlMrYikseFtfKytdPUlbTV0seFtfKytdPUlbMStNXSx4W18rK109SVsyK01dLHhbXysrXT1JWzMrTV0qdioyNTZ9ZWxzZSBfKz00fXJldHVybiBjLnB1dEltYWdlRGF0YSh5LDAsMCksaH0sX2dldEJydXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYnJ1c2hDYW52YXN8fCh0aGlzLl9icnVzaENhbnZhcz15KCkpLGU9dGhpcy5wb2ludFNpemUrdGhpcy5ibHVyU2l6ZSxpPTIqZTt0LndpZHRoPWksdC5oZWlnaHQ9aTt2YXIgbj10LmdldENvbnRleHQoIjJkIik7cmV0dXJuIG4uY2xlYXJSZWN0KDAsMCxpLGkpLG4uc2hhZG93T2Zmc2V0WD1pLG4uc2hhZG93Qmx1cj10aGlzLmJsdXJTaXplLG4uc2hhZG93Q29sb3I9IiMwMDAiLG4uYmVnaW5QYXRoKCksbi5hcmMoLWUsZSx0aGlzLnBvaW50U2l6ZSwwLDIqTWF0aC5QSSwhMCksbi5jbG9zZVBhdGgoKSxuLmZpbGwoKSx0fSxfZ2V0R3JhZGllbnQ6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLl9ncmFkaWVudFBpeGVscyxvPW5baV18fChuW2ldPW5ldyBVaW50OENsYW1wZWRBcnJheSgxMDI0KSksYT1bMCwwLDAsMF0scj0wLHM9MDtzPDI1NjtzKyspZVtpXShzLzI1NSwhMCxhKSxvW3IrK109YVswXSxvW3IrK109YVsxXSxvW3IrK109YVsyXSxvW3IrK109YVszXTtyZXR1cm4gb319LENmKHt0eXBlOiJoZWF0bWFwIixyZW5kZXI6ZnVuY3Rpb24oaSx0LGUpe3ZhciBuO3QuZWFjaENvbXBvbmVudCgidmlzdWFsTWFwIixmdW5jdGlvbihlKXtlLmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24odCl7dD09PWkmJihuPWUpfSl9KSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2luY3JlbWVudGFsRGlzcGxheWFibGU9bnVsbDt2YXIgbz1pLmNvb3JkaW5hdGVTeXN0ZW07ImNhcnRlc2lhbjJkIj09PW8udHlwZXx8ImNhbGVuZGFyIj09PW8udHlwZT90aGlzLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyKGksZSwwLGkuZ2V0RGF0YSgpLmNvdW50KCkpOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGltZW5zaW9ucztyZXR1cm4ibG5nIj09PWVbMF0mJiJsYXQiPT09ZVsxXX0obykmJnRoaXMuX3JlbmRlck9uR2VvKG8saSxuLGUpfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2UuY29vcmRpbmF0ZVN5c3RlbSYmdGhpcy5fcmVuZGVyT25DYXJ0ZXNpYW5BbmRDYWxlbmRhcihlLG4sdC5zdGFydCx0LmVuZCwhMCl9LF9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGEscixzPXQuY29vcmRpbmF0ZVN5c3RlbTtpZigiY2FydGVzaWFuMmQiPT09cy50eXBlKXt2YXIgbD1zLmdldEF4aXMoIngiKSx1PXMuZ2V0QXhpcygieSIpO2E9bC5nZXRCYW5kV2lkdGgoKSxyPXUuZ2V0QmFuZFdpZHRoKCl9Zm9yKHZhciBoPXRoaXMuZ3JvdXAsYz10LmdldERhdGEoKSxkPSJlbXBoYXNpcy5pdGVtU3R5bGUiLGY9ImVtcGhhc2lzLmxhYmVsIixwPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLGc9dC5nZXRNb2RlbChkKS5nZXRJdGVtU3R5bGUoKSxtPXQuZ2V0TW9kZWwoImxhYmVsIiksdj10LmdldE1vZGVsKGYpLHk9cy50eXBlLHg9ImNhcnRlc2lhbjJkIj09PXk/W2MubWFwRGltZW5zaW9uKCJ4IiksYy5tYXBEaW1lbnNpb24oInkiKSxjLm1hcERpbWVuc2lvbigidmFsdWUiKV06W2MubWFwRGltZW5zaW9uKCJ0aW1lIiksYy5tYXBEaW1lbnNpb24oInZhbHVlIildLF89aTtfPG47XysrKXt2YXIgdztpZigiY2FydGVzaWFuMmQiPT09eSl7aWYoaXNOYU4oYy5nZXQoeFsyXSxfKSkpY29udGludWU7dmFyIGI9cy5kYXRhVG9Qb2ludChbYy5nZXQoeFswXSxfKSxjLmdldCh4WzFdLF8pXSk7dz1uZXcgcnMoe3NoYXBlOnt4Ok1hdGguZmxvb3IoTWF0aC5yb3VuZChiWzBdKS1hLzIpLHk6TWF0aC5mbG9vcihNYXRoLnJvdW5kKGJbMV0pLXIvMiksd2lkdGg6TWF0aC5jZWlsKGEpLGhlaWdodDpNYXRoLmNlaWwocil9LHN0eWxlOntmaWxsOmMuZ2V0SXRlbVZpc3VhbChfLCJjb2xvciIpLG9wYWNpdHk6Yy5nZXRJdGVtVmlzdWFsKF8sIm9wYWNpdHkiKX19KX1lbHNle2lmKGlzTmFOKGMuZ2V0KHhbMV0sXykpKWNvbnRpbnVlO3c9bmV3IHJzKHt6MjoxLHNoYXBlOnMuZGF0YVRvUmVjdChbYy5nZXQoeFswXSxfKV0pLmNvbnRlbnRTaGFwZSxzdHlsZTp7ZmlsbDpjLmdldEl0ZW1WaXN1YWwoXywiY29sb3IiKSxvcGFjaXR5OmMuZ2V0SXRlbVZpc3VhbChfLCJvcGFjaXR5Iil9fSl9dmFyIFM9Yy5nZXRJdGVtTW9kZWwoXyk7Yy5oYXNJdGVtT3B0aW9uJiYocD1TLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSxnPVMuZ2V0TW9kZWwoZCkuZ2V0SXRlbVN0eWxlKCksbT1TLmdldE1vZGVsKCJsYWJlbCIpLHY9Uy5nZXRNb2RlbChmKSk7dmFyIE09dC5nZXRSYXdWYWx1ZShfKSxJPSItIjtNJiZudWxsIT1NWzJdJiYoST1NWzJdKSxlbChwLGcsbSx2LHtsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDpfLGRlZmF1bHRUZXh0OkksaXNSZWN0VGV4dDohMH0pLHcuc2V0U3R5bGUocCksJHModyxjLmhhc0l0ZW1PcHRpb24/ZzpQKHt9LGcpKSwody5pbmNyZW1lbnRhbD1vKSYmKHcudXNlSG92ZXJMYXllcj0hMCksaC5hZGQodyksYy5zZXRJdGVtR3JhcGhpY0VsKF8sdyl9fSxfcmVuZGVyT25HZW86ZnVuY3Rpb24obyx0LGUsaSl7dmFyIG49ZS50YXJnZXRWaXN1YWxzLmluUmFuZ2UsYT1lLnRhcmdldFZpc3VhbHMub3V0T2ZSYW5nZSxyPXQuZ2V0RGF0YSgpLHM9dGhpcy5faG1MYXllcnx8dGhpcy5faG1MYXllcnx8bmV3IFJNO3MuYmx1clNpemU9dC5nZXQoImJsdXJTaXplIikscy5wb2ludFNpemU9dC5nZXQoInBvaW50U2l6ZSIpLHMubWluT3BhY2l0eT10LmdldCgibWluT3BhY2l0eSIpLHMubWF4T3BhY2l0eT10LmdldCgibWF4T3BhY2l0eSIpO3ZhciBsPW8uZ2V0Vmlld1JlY3QoKS5jbG9uZSgpLHU9by5nZXRSb2FtVHJhbnNmb3JtKCk7bC5hcHBseVRyYW5zZm9ybSh1KTt2YXIgaD1NYXRoLm1heChsLngsMCksYz1NYXRoLm1heChsLnksMCksZD1NYXRoLm1pbihsLndpZHRoK2wueCxpLmdldFdpZHRoKCkpLGY9TWF0aC5taW4obC5oZWlnaHQrbC55LGkuZ2V0SGVpZ2h0KCkpLHA9ZC1oLGc9Zi1jLG09W3IubWFwRGltZW5zaW9uKCJsbmciKSxyLm1hcERpbWVuc2lvbigibGF0Iiksci5tYXBEaW1lbnNpb24oInZhbHVlIildLHY9ci5tYXBBcnJheShtLGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1vLmRhdGFUb1BvaW50KFt0LGVdKTtyZXR1cm4gblswXS09aCxuWzFdLT1jLG4ucHVzaChpKSxufSkseT1lLmdldEV4dGVudCgpLHg9InZpc3VhbE1hcC5jb250aW51b3VzIj09PWUudHlwZT9mdW5jdGlvbih0LGUpe3ZhciBpPXRbMV0tdFswXTtyZXR1cm4gZT1bKGVbMF0tdFswXSkvaSwoZVsxXS10WzBdKS9pXSxmdW5jdGlvbih0KXtyZXR1cm4gdD49ZVswXSYmdDw9ZVsxXX19KHksZS5vcHRpb24ucmFuZ2UpOmZ1bmN0aW9uKGUsbixvKXt2YXIgaT1lWzFdLWVbMF0sYT0obj1PKG4sZnVuY3Rpb24odCl7cmV0dXJue2ludGVydmFsOlsodC5pbnRlcnZhbFswXS1lWzBdKS9pLCh0LmludGVydmFsWzFdLWVbMF0pL2ldfX0pKS5sZW5ndGgscj0wO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9cjtlPGE7ZSsrKXtpZigoaT1uW2VdLmludGVydmFsKVswXTw9dCYmdDw9aVsxXSl7cj1lO2JyZWFrfX1pZihlPT09YSlmb3IoZT1yLTE7MDw9ZTtlLS0pe3ZhciBpO2lmKChpPW5bZV0uaW50ZXJ2YWwpWzBdPD10JiZ0PD1pWzFdKXtyPWU7YnJlYWt9fXJldHVybiAwPD1lJiZlPGEmJm9bZV19fSh5LGUuZ2V0UGllY2VMaXN0KCksZS5vcHRpb24uc2VsZWN0ZWQpO3MudXBkYXRlKHYscCxnLG4uY29sb3IuZ2V0Tm9ybWFsaXplcigpLHtpblJhbmdlOm4uY29sb3IuZ2V0Q29sb3JNYXBwZXIoKSxvdXRPZlJhbmdlOmEuY29sb3IuZ2V0Q29sb3JNYXBwZXIoKX0seCk7dmFyIF89bmV3IFFuKHtzdHlsZTp7d2lkdGg6cCxoZWlnaHQ6Zyx4OmgseTpjLGltYWdlOnMuY2FudmFzfSxzaWxlbnQ6ITB9KTt0aGlzLmdyb3VwLmFkZChfKX0sZGlzcG9zZTpmdW5jdGlvbigpe319KTt2YXIgek09VHYuZXh0ZW5kKHt0eXBlOiJzZXJpZXMucGljdG9yaWFsQmFyIixkZXBlbmRlbmNpZXM6WyJncmlkIl0sZGVmYXVsdE9wdGlvbjp7c3ltYm9sOiJjaXJjbGUiLHN5bWJvbFNpemU6bnVsbCxzeW1ib2xSb3RhdGU6bnVsbCxzeW1ib2xQb3NpdGlvbjpudWxsLHN5bWJvbE9mZnNldDpudWxsLHN5bWJvbE1hcmdpbjpudWxsLHN5bWJvbFJlcGVhdDohMSxzeW1ib2xSZXBlYXREaXJlY3Rpb246ImVuZCIsc3ltYm9sQ2xpcDohMSxzeW1ib2xCb3VuZGluZ0RhdGE6bnVsbCxzeW1ib2xQYXR0ZXJuU2l6ZTo0MDAsYmFyR2FwOiItMTAwJSIscHJvZ3Jlc3NpdmU6MCxob3ZlckFuaW1hdGlvbjohMX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhY2s9bnVsbCx6TS5zdXBlckFwcGx5KHRoaXMsImdldEluaXRpYWxEYXRhIixhcmd1bWVudHMpfX0pLEVNPVsiaXRlbVN0eWxlIiwiYm9yZGVyV2lkdGgiXSxCTT1be3h5OiJ4Iix3aDoid2lkdGgiLGluZGV4OjAscG9zRGVzYzpbImxlZnQiLCJyaWdodCJdfSx7eHk6InkiLHdoOiJoZWlnaHQiLGluZGV4OjEscG9zRGVzYzpbInRvcCIsImJvdHRvbSJdfV0sVk09bmV3IFlyO0NmKHt0eXBlOiJwaWN0b3JpYWxCYXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5ncm91cCxzPXQuZ2V0RGF0YSgpLGw9dGhpcy5fZGF0YSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPSEhbi5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLGE9bi5ncmlkLmdldFJlY3QoKSx1PXtlY1NpemU6e3dpZHRoOmkuZ2V0V2lkdGgoKSxoZWlnaHQ6aS5nZXRIZWlnaHQoKX0sc2VyaWVzTW9kZWw6dCxjb29yZFN5czpuLGNvb3JkU3lzRXh0ZW50OltbYS54LGEueCthLndpZHRoXSxbYS55LGEueSthLmhlaWdodF1dLGlzSG9yaXpvbnRhbDpvLHZhbHVlRGltOkJNWytvXSxjYXRlZ29yeURpbTpCTVsxLW9dfTtyZXR1cm4gcy5kaWZmKGwpLmFkZChmdW5jdGlvbih0KXtpZihzLmhhc1ZhbHVlKHQpKXt2YXIgZT1ZTShzLHQpLGk9R00ocyx0LGUsdSksbj0kTShzLHUsaSk7cy5zZXRJdGVtR3JhcGhpY0VsKHQsbiksci5hZGQobiksaUkobix1LGkpfX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe3ZhciBpPWwuZ2V0SXRlbUdyYXBoaWNFbChlKTtpZihzLmhhc1ZhbHVlKHQpKXt2YXIgbj1ZTShzLHQpLG89R00ocyx0LG4sdSksYT1RTShzLG8pO2kmJmEhPT1pLl9fcGljdG9yaWFsU2hhcGVTdHImJihyLnJlbW92ZShpKSxzLnNldEl0ZW1HcmFwaGljRWwodCxudWxsKSxpPW51bGwpLGk/ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkuYW5pbWF0aW9uTW9kZWwsbz1pLmRhdGFJbmRleDtjbCh0Ll9fcGljdG9yaWFsQnVuZGxlLHtwb3NpdGlvbjppLmJ1bmRsZVBvc2l0aW9uLnNsaWNlKCl9LG4sbyksaS5zeW1ib2xSZXBlYXQ/SE0odCxlLGksITApOlpNKHQsZSxpLCEwKTtVTSh0LGksITApLFhNKHQsZSxpLCEwKX0oaSx1LG8pOmk9JE0ocyx1LG8sITApLHMuc2V0SXRlbUdyYXBoaWNFbCh0LGkpLGkuX19waWN0b3JpYWxTeW1ib2xNZXRhPW8sci5hZGQoaSksaUkoaSx1LG8pfWVsc2Ugci5yZW1vdmUoaSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9bC5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJkpNKGwsdCxlLl9fcGljdG9yaWFsU3ltYm9sTWV0YS5hbmltYXRpb25Nb2RlbCxlKX0pLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPXMsdGhpcy5ncm91cH0sZGlzcG9zZTpldCxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmdyb3VwLG49dGhpcy5fZGF0YTtlLmdldCgiYW5pbWF0aW9uIik/biYmbi5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXtKTShuLHQuZGF0YUluZGV4LGUsdCl9KTppLnJlbW92ZUFsbCgpfX0pO2Z1bmN0aW9uIEdNKHQsZSxpLG4pe3ZhciBvPXQuZ2V0SXRlbUxheW91dChlKSxhPWkuZ2V0KCJzeW1ib2xSZXBlYXQiKSxyPWkuZ2V0KCJzeW1ib2xDbGlwIikscz1pLmdldCgic3ltYm9sUG9zaXRpb24iKXx8InN0YXJ0IixsPShpLmdldCgic3ltYm9sUm90YXRlIil8fDApKk1hdGguUEkvMTgwfHwwLHU9aS5nZXQoInN5bWJvbFBhdHRlcm5TaXplIil8fDIsaD1pLmlzQW5pbWF0aW9uRW5hYmxlZCgpLGM9e2RhdGFJbmRleDplLGxheW91dDpvLGl0ZW1Nb2RlbDppLHN5bWJvbFR5cGU6dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpfHwiY2lyY2xlIixjb2xvcjp0LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKSxzeW1ib2xDbGlwOnIsc3ltYm9sUmVwZWF0OmEsc3ltYm9sUmVwZWF0RGlyZWN0aW9uOmkuZ2V0KCJzeW1ib2xSZXBlYXREaXJlY3Rpb24iKSxzeW1ib2xQYXR0ZXJuU2l6ZTp1LHJvdGF0aW9uOmwsYW5pbWF0aW9uTW9kZWw6aD9pOm51bGwsaG92ZXJBbmltYXRpb246aCYmaS5nZXQoImhvdmVyQW5pbWF0aW9uIiksejI6aS5nZXRTaGFsbG93KCJ6IiwhMCl8fDB9OyFmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhLHI9bi52YWx1ZURpbSxzPXQuZ2V0KCJzeW1ib2xCb3VuZGluZ0RhdGEiKSxsPW4uY29vcmRTeXMuZ2V0T3RoZXJBeGlzKG4uY29vcmRTeXMuZ2V0QmFzZUF4aXMoKSksdT1sLnRvR2xvYmFsQ29vcmQobC5kYXRhVG9Db29yZCgwKSksaD0xLSsoaVtyLndoXTw9MCk7aWYoTChzKSl7dmFyIGM9W0ZNKGwsc1swXSktdSxGTShsLHNbMV0pLXVdO2NbMV08Y1swXSYmYy5yZXZlcnNlKCksYT1jW2hdfWVsc2UgYT1udWxsIT1zP0ZNKGwscyktdTplP24uY29vcmRTeXNFeHRlbnRbci5pbmRleF1baF0tdTppW3Iud2hdO28uYm91bmRpbmdMZW5ndGg9YSxlJiYoby5yZXBlYXRDdXRMZW5ndGg9aVtyLndoXSk7by5weFNpZ249MDxhPzE6YTwwPy0xOjB9KGksYSxvLG4sYyksZnVuY3Rpb24odCxlLGksbixvLGEscixzLGwsdSl7dmFyIGg9bC52YWx1ZURpbSxjPWwuY2F0ZWdvcnlEaW0sZD1NYXRoLmFicyhpW2Mud2hdKSxmPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIik7Zj1MKGYpP2Yuc2xpY2UoKToobnVsbD09ZiYmKGY9IjEwMCUiKSxbZixmXSk7ZltjLmluZGV4XT16bChmW2MuaW5kZXhdLGQpLGZbaC5pbmRleF09emwoZltoLmluZGV4XSxuP2Q6TWF0aC5hYnMoYSkpLHUuc3ltYm9sU2l6ZT1mLCh1LnN5bWJvbFNjYWxlPVtmWzBdL3MsZlsxXS9zXSlbaC5pbmRleF0qPShsLmlzSG9yaXpvbnRhbD8tMToxKSpyfSh0LGUsbyxhLDAsYy5ib3VuZGluZ0xlbmd0aCxjLnB4U2lnbix1LG4sYyksZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldChFTSl8fDA7YSYmKFZNLmF0dHIoe3NjYWxlOmUuc2xpY2UoKSxyb3RhdGlvbjppfSksVk0udXBkYXRlVHJhbnNmb3JtKCksYS89Vk0uZ2V0TGluZVNjYWxlKCksYSo9ZVtuLnZhbHVlRGltLmluZGV4XSk7by52YWx1ZUxpbmVXaWR0aD1hfShpLGMuc3ltYm9sU2NhbGUsbCxuLGMpO3ZhciBkPWMuc3ltYm9sU2l6ZSxmPWkuZ2V0KCJzeW1ib2xPZmZzZXQiKTtyZXR1cm4gTChmKSYmKGY9W3psKGZbMF0sZFswXSksemwoZlsxXSxkWzFdKV0pLGZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsLHUsaCxjKXt2YXIgZD1oLmNhdGVnb3J5RGltLGY9aC52YWx1ZURpbSxwPWMucHhTaWduLGc9TWF0aC5tYXgoZVtmLmluZGV4XStzLDApLG09ZztpZihuKXt2YXIgdj1NYXRoLmFicyhsKSx5PVcodC5nZXQoInN5bWJvbE1hcmdpbiIpLCIxNSUiKSsiIix4PSExO3kubGFzdEluZGV4T2YoIiEiKT09PXkubGVuZ3RoLTEmJih4PSEwLHk9eS5zbGljZSgwLHkubGVuZ3RoLTEpKSx5PXpsKHksZVtmLmluZGV4XSk7dmFyIF89TWF0aC5tYXgoZysyKnksMCksdz14PzA6Mip5LGI9SmwobiksUz1iP246bkkoKHYrdykvXyk7Xz1nKzIqKHk9KHYtUypnKS8yLyh4P1M6Uy0xKSksdz14PzA6Mip5LGJ8fCJmaXhlZCI9PT1ufHwoUz11P25JKChNYXRoLmFicyh1KSt3KS9fKTowKSxtPVMqXy13LGMucmVwZWF0VGltZXM9UyxjLnN5bWJvbE1hcmdpbj15fXZhciBNPXAqKG0vMiksST1jLnBhdGhQb3NpdGlvbj1bXTtJW2QuaW5kZXhdPWlbZC53aF0vMixJW2YuaW5kZXhdPSJzdGFydCI9PT1yP006ImVuZCI9PT1yP2wtTTpsLzIsYSYmKElbMF0rPWFbMF0sSVsxXSs9YVsxXSk7dmFyIFQ9Yy5idW5kbGVQb3NpdGlvbj1bXTtUW2QuaW5kZXhdPWlbZC54eV0sVFtmLmluZGV4XT1pW2YueHldO3ZhciBBPWMuYmFyUmVjdFNoYXBlPVAoe30saSk7QVtmLndoXT1wKk1hdGgubWF4KE1hdGguYWJzKGlbZi53aF0pLE1hdGguYWJzKElbZi5pbmRleF0rTSkpLEFbZC53aF09aVtkLndoXTt2YXIgRD1jLmNsaXBTaGFwZT17fTtEW2QueHldPS1pW2QueHldLERbZC53aF09aC5lY1NpemVbZC53aF0sRFtmLnh5XT0wLERbZi53aF09aVtmLndoXX0oaSxkLG8sYSwwLGYscyxjLnZhbHVlTGluZVdpZHRoLGMuYm91bmRpbmdMZW5ndGgsYy5yZXBlYXRDdXRMZW5ndGgsbixjKSxjfWZ1bmN0aW9uIEZNKHQsZSl7cmV0dXJuIHQudG9HbG9iYWxDb29yZCh0LmRhdGFUb0Nvb3JkKHQuc2NhbGUucGFyc2UoZSkpKX1mdW5jdGlvbiBXTSh0KXt2YXIgZT10LnN5bWJvbFBhdHRlcm5TaXplLGk9d2codC5zeW1ib2xUeXBlLC1lLzIsLWUvMixlLGUsdC5jb2xvcik7cmV0dXJuIGkuYXR0cih7Y3VsbGluZzohMH0pLCJpbWFnZSIhPT1pLnR5cGUmJmkuc2V0U3R5bGUoe3N0cm9rZU5vU2NhbGU6ITB9KSxpfWZ1bmN0aW9uIEhNKHQsZSxvLGkpe3ZhciBuPXQuX19waWN0b3JpYWxCdW5kbGUsYT1vLnN5bWJvbFNpemUscj1vLnZhbHVlTGluZVdpZHRoLHM9by5wYXRoUG9zaXRpb24sbD1lLnZhbHVlRGltLHU9by5yZXBlYXRUaW1lc3x8MCxoPTAsYz1hW2UudmFsdWVEaW0uaW5kZXhdK3IrMipvLnN5bWJvbE1hcmdpbjtmb3IodEkodCxmdW5jdGlvbih0KXt0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXg9aCx0Ll9fcGljdG9yaWFsUmVwZWF0VGltZXM9dSxoPHU/ZUkodCxudWxsLHAoaCksbyxpKTplSSh0LG51bGwse3NjYWxlOlswLDBdfSxvLGksZnVuY3Rpb24oKXtuLnJlbW92ZSh0KX0pLEtNKHQsbyksaCsrfSk7aDx1O2grKyl7dmFyIGQ9V00obyk7ZC5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4PWgsZC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzPXUsbi5hZGQoZCk7dmFyIGY9cChoKTtlSShkLHtwb3NpdGlvbjpmLnBvc2l0aW9uLHNjYWxlOlswLDBdfSx7c2NhbGU6Zi5zY2FsZSxyb3RhdGlvbjpmLnJvdGF0aW9ufSxvLGkpLGQub24oIm1vdXNlb3ZlciIsZykub24oIm1vdXNlb3V0IixtKSxLTShkLG8pfWZ1bmN0aW9uIHAodCl7dmFyIGU9cy5zbGljZSgpLGk9by5weFNpZ24sbj10O3JldHVybigic3RhcnQiPT09by5zeW1ib2xSZXBlYXREaXJlY3Rpb24/MDxpOmk8MCkmJihuPXUtMS10KSxlW2wuaW5kZXhdPWMqKG4tdS8yKy41KStzW2wuaW5kZXhdLHtwb3NpdGlvbjplLHNjYWxlOm8uc3ltYm9sU2NhbGUuc2xpY2UoKSxyb3RhdGlvbjpvLnJvdGF0aW9ufX1mdW5jdGlvbiBnKCl7dEkodCxmdW5jdGlvbih0KXt0LnRyaWdnZXIoImVtcGhhc2lzIil9KX1mdW5jdGlvbiBtKCl7dEkodCxmdW5jdGlvbih0KXt0LnRyaWdnZXIoIm5vcm1hbCIpfSl9fWZ1bmN0aW9uIFpNKHQsZSxpLG4pe3ZhciBvPXQuX19waWN0b3JpYWxCdW5kbGUsYT10Ll9fcGljdG9yaWFsTWFpblBhdGg7YT9lSShhLG51bGwse3Bvc2l0aW9uOmkucGF0aFBvc2l0aW9uLnNsaWNlKCksc2NhbGU6aS5zeW1ib2xTY2FsZS5zbGljZSgpLHJvdGF0aW9uOmkucm90YXRpb259LGksbik6KGE9dC5fX3BpY3RvcmlhbE1haW5QYXRoPVdNKGkpLG8uYWRkKGEpLGVJKGEse3Bvc2l0aW9uOmkucGF0aFBvc2l0aW9uLnNsaWNlKCksc2NhbGU6WzAsMF0scm90YXRpb246aS5yb3RhdGlvbn0se3NjYWxlOmkuc3ltYm9sU2NhbGUuc2xpY2UoKX0saSxuKSxhLm9uKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJlbXBoYXNpcyIpfSkub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibm9ybWFsIil9KSksS00oYSxpKX1mdW5jdGlvbiBVTSh0LGUsaSl7dmFyIG49UCh7fSxlLmJhclJlY3RTaGFwZSksbz10Ll9fcGljdG9yaWFsQmFyUmVjdDtvP2VJKG8sbnVsbCx7c2hhcGU6bn0sZSxpKToobz10Ll9fcGljdG9yaWFsQmFyUmVjdD1uZXcgcnMoe3oyOjIsc2hhcGU6bixzaWxlbnQ6ITAsc3R5bGU6e3N0cm9rZToidHJhbnNwYXJlbnQiLGZpbGw6InRyYW5zcGFyZW50IixsaW5lV2lkdGg6MH19KSx0LmFkZChvKSl9ZnVuY3Rpb24gWE0odCxlLGksbil7aWYoaS5zeW1ib2xDbGlwKXt2YXIgbz10Ll9fcGljdG9yaWFsQ2xpcFBhdGgsYT1QKHt9LGkuY2xpcFNoYXBlKSxyPWUudmFsdWVEaW0scz1pLmFuaW1hdGlvbk1vZGVsLGw9aS5kYXRhSW5kZXg7aWYobyljbChvLHtzaGFwZTphfSxzLGwpO2Vsc2V7YVtyLndoXT0wLG89bmV3IHJzKHtzaGFwZTphfSksdC5fX3BpY3RvcmlhbEJ1bmRsZS5zZXRDbGlwUGF0aChvKSx0Ll9fcGljdG9yaWFsQ2xpcFBhdGg9bzt2YXIgdT17fTt1W3Iud2hdPWkuY2xpcFNoYXBlW3Iud2hdLGJsW24/InVwZGF0ZVByb3BzIjoiaW5pdFByb3BzIl0obyx7c2hhcGU6dX0scyxsKX19fWZ1bmN0aW9uIFlNKHQsZSl7dmFyIGk9dC5nZXRJdGVtTW9kZWwoZSk7cmV0dXJuIGkuZ2V0QW5pbWF0aW9uRGVsYXlQYXJhbXM9ak0saS5pc0FuaW1hdGlvbkVuYWJsZWQ9cU0saX1mdW5jdGlvbiBqTSh0KXtyZXR1cm57aW5kZXg6dC5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4LGNvdW50OnQuX19waWN0b3JpYWxSZXBlYXRUaW1lc319ZnVuY3Rpb24gcU0oKXtyZXR1cm4gdGhpcy5wYXJlbnRNb2RlbC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmISF0aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpfWZ1bmN0aW9uIEtNKHQsZSl7dC5vZmYoImVtcGhhc2lzIikub2ZmKCJub3JtYWwiKTt2YXIgaT1lLnN5bWJvbFNjYWxlLnNsaWNlKCk7ZS5ob3ZlckFuaW1hdGlvbiYmdC5vbigiZW1waGFzaXMiLGZ1bmN0aW9uKCl7dGhpcy5hbmltYXRlVG8oe3NjYWxlOlsxLjEqaVswXSwxLjEqaVsxXV19LDQwMCwiZWxhc3RpY091dCIpfSkub24oIm5vcm1hbCIsZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGVUbyh7c2NhbGU6aS5zbGljZSgpfSw0MDAsImVsYXN0aWNPdXQiKX0pfWZ1bmN0aW9uICRNKHQsZSxpLG4pe3ZhciBvPW5ldyBDaSxhPW5ldyBDaTtyZXR1cm4gby5hZGQoYSksKG8uX19waWN0b3JpYWxCdW5kbGU9YSkuYXR0cigicG9zaXRpb24iLGkuYnVuZGxlUG9zaXRpb24uc2xpY2UoKSksaS5zeW1ib2xSZXBlYXQ/SE0obyxlLGkpOlpNKG8sMCxpKSxVTShvLGksbiksWE0obyxlLGksbiksby5fX3BpY3RvcmlhbFNoYXBlU3RyPVFNKHQsaSksby5fX3BpY3RvcmlhbFN5bWJvbE1ldGE9aSxvfWZ1bmN0aW9uIEpNKHQsZSxpLG4pe3ZhciBvPW4uX19waWN0b3JpYWxCYXJSZWN0O28mJihvLnN0eWxlLnRleHQ9bnVsbCk7dmFyIGE9W107dEkobixmdW5jdGlvbih0KXthLnB1c2godCl9KSxuLl9fcGljdG9yaWFsTWFpblBhdGgmJmEucHVzaChuLl9fcGljdG9yaWFsTWFpblBhdGgpLG4uX19waWN0b3JpYWxDbGlwUGF0aCYmKGk9bnVsbCksUihhLGZ1bmN0aW9uKHQpe2NsKHQse3NjYWxlOlswLDBdfSxpLGUsZnVuY3Rpb24oKXtuLnBhcmVudCYmbi5wYXJlbnQucmVtb3ZlKG4pfSl9KSx0LnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKX1mdW5jdGlvbiBRTSh0LGUpe3JldHVyblt0LmdldEl0ZW1WaXN1YWwoZS5kYXRhSW5kZXgsInN5bWJvbCIpfHwibm9uZSIsISFlLnN5bWJvbFJlcGVhdCwhIWUuc3ltYm9sQ2xpcF0uam9pbigiOiIpfWZ1bmN0aW9uIHRJKGUsaSxuKXtSKGUuX19waWN0b3JpYWxCdW5kbGUuY2hpbGRyZW4oKSxmdW5jdGlvbih0KXt0IT09ZS5fX3BpY3RvcmlhbEJhclJlY3QmJmkuY2FsbChuLHQpfSl9ZnVuY3Rpb24gZUkodCxlLGksbixvLGEpe2UmJnQuYXR0cihlKSxuLnN5bWJvbENsaXAmJiFvP2kmJnQuYXR0cihpKTppJiZibFtvPyJ1cGRhdGVQcm9wcyI6ImluaXRQcm9wcyJdKHQsaSxuLmFuaW1hdGlvbk1vZGVsLG4uZGF0YUluZGV4LGEpfWZ1bmN0aW9uIGlJKHQsZSxpKXt2YXIgbj1pLmNvbG9yLG89aS5kYXRhSW5kZXgsYT1pLml0ZW1Nb2RlbCxyPWEuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLHM9YS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksbD1hLmdldFNoYWxsb3coImN1cnNvciIpO3RJKHQsZnVuY3Rpb24odCl7dC5zZXRDb2xvcihuKSx0LnNldFN0eWxlKEQoe2ZpbGw6bixvcGFjaXR5Omkub3BhY2l0eX0scikpLCRzKHQscyksbCYmKHQuY3Vyc29yPWwpLHQuejI9aS56Mn0pO3ZhciB1PXt9LGg9KGUudmFsdWVEaW0ucG9zRGVzY1srKDA8aS5ib3VuZGluZ0xlbmd0aCldLHQuX19waWN0b3JpYWxCYXJSZWN0KTtBdihoLnN0eWxlLHUsYSxuLGUuc2VyaWVzTW9kZWwsbyksJHMoaCx1KX1mdW5jdGlvbiBuSSh0KXt2YXIgZT1NYXRoLnJvdW5kKHQpO3JldHVybiBNYXRoLmFicyh0LWUpPDFlLTQ/ZTpNYXRoLmNlaWwodCl9YmYoVChFcCwicGljdG9yaWFsQmFyIikpLFNmKExtKCJwaWN0b3JpYWxCYXIiLCJyb3VuZFJlY3QiKSk7ZnVuY3Rpb24gb0kodCxlLGksbixvKXtHZy5jYWxsKHRoaXMsdCxlLGkpLHRoaXMudHlwZT1ufHwidmFsdWUiLHRoaXMucG9zaXRpb249b3x8ImJvdHRvbSIsdGhpcy5vcmllbnQ9bnVsbH1mdW5jdGlvbiBhSSh0LGUsaSl7dGhpcy5kaW1lbnNpb249InNpbmdsZSIsdGhpcy5kaW1lbnNpb25zPVsic2luZ2xlIl0sdGhpcy5fYXhpcz1udWxsLHRoaXMuX3JlY3QsdGhpcy5faW5pdCh0LGUsaSksdGhpcy5tb2RlbD10fWZ1bmN0aW9uIHJJKHQsZSl7ZT1lfHx7fTt2YXIgaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj10LmF4aXMsbz17fSxhPW4ucG9zaXRpb24scj1uLm9yaWVudCxzPWkuZ2V0UmVjdCgpLGw9W3MueCxzLngrcy53aWR0aCxzLnkscy55K3MuaGVpZ2h0XSx1PXtob3Jpem9udGFsOnt0b3A6bFsyXSxib3R0b206bFszXX0sdmVydGljYWw6e2xlZnQ6bFswXSxyaWdodDpsWzFdfX07by5wb3NpdGlvbj1bInZlcnRpY2FsIj09PXI/dS52ZXJ0aWNhbFthXTpsWzBdLCJob3Jpem9udGFsIj09PXI/dS5ob3Jpem9udGFsW2FdOmxbM11dO28ucm90YXRpb249TWF0aC5QSS8yKntob3Jpem9udGFsOjAsdmVydGljYWw6MX1bcl07by5sYWJlbERpcmVjdGlvbj1vLnRpY2tEaXJlY3Rpb249by5uYW1lRGlyZWN0aW9uPXt0b3A6LTEsYm90dG9tOjEscmlnaHQ6MSxsZWZ0Oi0xfVthXSx0LmdldCgiYXhpc1RpY2suaW5zaWRlIikmJihvLnRpY2tEaXJlY3Rpb249LW8udGlja0RpcmVjdGlvbiksVyhlLmxhYmVsSW5zaWRlLHQuZ2V0KCJheGlzTGFiZWwuaW5zaWRlIikpJiYoby5sYWJlbERpcmVjdGlvbj0tby5sYWJlbERpcmVjdGlvbik7dmFyIGg9ZS5yb3RhdGU7cmV0dXJuIG51bGw9PWgmJihoPXQuZ2V0KCJheGlzTGFiZWwucm90YXRlIikpLG8ubGFiZWxSb3RhdGlvbj0idG9wIj09PWE/LWg6aCxvLnoyPTEsb31vSS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm9JLG1vZGVsOm51bGwsaXNIb3Jpem9udGFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbjtyZXR1cm4idG9wIj09PXR8fCJib3R0b20iPT09dH0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlU3lzdGVtLnBvaW50VG9EYXRhKHQsZSlbMF19LHRvR2xvYmFsQ29vcmQ6bnVsbCx0b0xvY2FsQ29vcmQ6bnVsbH0sdyhvSSxHZyksbGgucmVnaXN0ZXIoInNpbmdsZSIse2NyZWF0ZTpmdW5jdGlvbihuLG8pe3ZhciBhPVtdO3JldHVybiBuLmVhY2hDb21wb25lbnQoInNpbmdsZUF4aXMiLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IGFJKHQsbixvKTtpLm5hbWU9InNpbmdsZV8iK2UsaS5yZXNpemUodCxvKSx0LmNvb3JkaW5hdGVTeXN0ZW09aSxhLnB1c2goaSl9KSxuLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoInNpbmdsZUF4aXMiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGU9bi5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJzaW5nbGVBeGlzIixpbmRleDp0LmdldCgic2luZ2xlQXhpc0luZGV4IiksaWQ6dC5nZXQoInNpbmdsZUF4aXNJZCIpfSlbMF07dC5jb29yZGluYXRlU3lzdGVtPWUmJmUuY29vcmRpbmF0ZVN5c3RlbX19KSxhfSxkaW1lbnNpb25zOihhSS5wcm90b3R5cGU9e3R5cGU6InNpbmdsZUF4aXMiLGF4aXNQb2ludGVyRW5hYmxlZDohMCxjb25zdHJ1Y3RvcjphSSxfaW5pdDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5kaW1lbnNpb24sbz1uZXcgb0kobixzZyh0KSxbMCwwXSx0LmdldCgidHlwZSIpLHQuZ2V0KCJwb3NpdGlvbiIpKSxhPSJjYXRlZ29yeSI9PT1vLnR5cGU7by5vbkJhbmQ9YSYmdC5nZXQoImJvdW5kYXJ5R2FwIiksby5pbnZlcnNlPXQuZ2V0KCJpbnZlcnNlIiksby5vcmllbnQ9dC5nZXQoIm9yaWVudCIpLCh0LmF4aXM9bykubW9kZWw9dCwoby5jb29yZGluYXRlU3lzdGVtPXRoaXMpLl9heGlzPW99LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllcyhmdW5jdGlvbih0KXtpZih0LmNvb3JkaW5hdGVTeXN0ZW09PT10aGlzKXt2YXIgZT10LmdldERhdGEoKTtSKGUubWFwRGltZW5zaW9uKHRoaXMuZGltZW5zaW9uLCEwKSxmdW5jdGlvbih0KXt0aGlzLl9heGlzLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0sdGhpcykscmcodGhpcy5fYXhpcy5zY2FsZSx0aGlzLl9heGlzLm1vZGVsKX19LHRoaXMpfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLl9yZWN0PWJ1KHtsZWZ0OnQuZ2V0KCJsZWZ0IiksdG9wOnQuZ2V0KCJ0b3AiKSxyaWdodDp0LmdldCgicmlnaHQiKSxib3R0b206dC5nZXQoImJvdHRvbSIpLHdpZHRoOnQuZ2V0KCJ3aWR0aCIpLGhlaWdodDp0LmdldCgiaGVpZ2h0Iil9LHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KSx0aGlzLl9hZGp1c3RBeGlzKCl9LGdldFJlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sX2FkanVzdEF4aXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhpcyxpPWUuaXNIb3Jpem9udGFsKCksbj1pP1swLHQud2lkdGhdOlswLHQuaGVpZ2h0XSxvPWUucmV2ZXJzZT8xOjA7ZS5zZXRFeHRlbnQobltvXSxuWzEtb10pLHRoaXMuX3VwZGF0ZUF4aXNUcmFuc2Zvcm0oZSxpP3QueDp0LnkpfSxfdXBkYXRlQXhpc1RyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0RXh0ZW50KCksbj1pWzBdK2lbMV0sbz10LmlzSG9yaXpvbnRhbCgpO3QudG9HbG9iYWxDb29yZD1vP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBuLXQrZX0sdC50b0xvY2FsQ29vcmQ9bz9mdW5jdGlvbih0KXtyZXR1cm4gdC1lfTpmdW5jdGlvbih0KXtyZXR1cm4gbi10K2V9fSxnZXRBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4aXN9LGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4aXN9LGdldEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fYXhpc119LGdldFRvb2x0aXBBeGVzOmZ1bmN0aW9uKCl7cmV0dXJue2Jhc2VBeGVzOlt0aGlzLmdldEF4aXMoKV19fSxjb250YWluUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSZWN0KCksaT10aGlzLmdldEF4aXMoKTtyZXR1cm4iaG9yaXpvbnRhbCI9PT1pLm9yaWVudD9pLmNvbnRhaW4oaS50b0xvY2FsQ29vcmQodFswXSkpJiZ0WzFdPj1lLnkmJnRbMV08PWUueStlLmhlaWdodDppLmNvbnRhaW4oaS50b0xvY2FsQ29vcmQodFsxXSkpJiZ0WzBdPj1lLnkmJnRbMF08PWUueStlLmhlaWdodH0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKCk7cmV0dXJuW2UuY29vcmRUb0RhdGEoZS50b0xvY2FsQ29vcmQodFsiaG9yaXpvbnRhbCI9PT1lLm9yaWVudD8wOjFdKSldfSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoKSxpPXRoaXMuZ2V0UmVjdCgpLG49W10sbz0iaG9yaXpvbnRhbCI9PT1lLm9yaWVudD8wOjE7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheSYmKHQ9dFswXSksbltvXT1lLnRvR2xvYmFsQ29vcmQoZS5kYXRhVG9Db29yZCgrdCkpLG5bMS1vXT0wPT1vP2kueStpLmhlaWdodC8yOmkueCtpLndpZHRoLzIsbn19KS5kaW1lbnNpb25zfSk7dmFyIHNJPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxsST1bInNwbGl0QXJlYSIsInNwbGl0TGluZSJdLHVJPW12LmV4dGVuZCh7dHlwZToic2luZ2xlQXhpcyIsYXhpc1BvaW50ZXJDbGFzczoiU2luZ2xlQXhpc1BvaW50ZXIiLHJlbmRlcjpmdW5jdGlvbihlLHQsaSxuKXt2YXIgbz10aGlzLmdyb3VwO28ucmVtb3ZlQWxsKCk7dmFyIGE9dGhpcy5fYXhpc0dyb3VwO3RoaXMuX2F4aXNHcm91cD1uZXcgQ2k7dmFyIHI9ckkoZSkscz1uZXcgUW0oZSxyKTtSKHNJLHMuYWRkLHMpLG8uYWRkKHRoaXMuX2F4aXNHcm91cCksby5hZGQocy5nZXRHcm91cCgpKSxSKGxJLGZ1bmN0aW9uKHQpe2UuZ2V0KHQrIi5zaG93IikmJnRoaXNbIl8iK3RdKGUpfSx0aGlzKSxtbChhLHRoaXMuX2F4aXNHcm91cCxlKSx1SS5zdXBlckNhbGwodGhpcywicmVuZGVyIixlLHQsaSxuKX0scmVtb3ZlOmZ1bmN0aW9uKCl7YnYodGhpcyl9LF9zcGxpdExpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzO2lmKCFlLnNjYWxlLmlzQmxhbmsoKSl7dmFyIGk9dC5nZXRNb2RlbCgic3BsaXRMaW5lIiksbj1pLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxvPW4uZ2V0KCJ3aWR0aCIpLGE9bi5nZXQoImNvbG9yIik7YT1hIGluc3RhbmNlb2YgQXJyYXk/YTpbYV07Zm9yKHZhciByPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCkscz1lLmlzSG9yaXpvbnRhbCgpLGw9W10sdT0wLGg9ZS5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOml9KSxjPVtdLGQ9W10sZj0wO2Y8aC5sZW5ndGg7KytmKXt2YXIgcD1lLnRvR2xvYmFsQ29vcmQoaFtmXS5jb29yZCk7cz8oY1swXT1wLGNbMV09ci55LGRbMF09cCxkWzFdPXIueStyLmhlaWdodCk6KGNbMF09ci54LGNbMV09cCxkWzBdPXIueCtyLndpZHRoLGRbMV09cCk7dmFyIGc9dSsrJWEubGVuZ3RoO2xbZ109bFtnXXx8W10sbFtnXS5wdXNoKG5ldyBscyh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6Y1swXSx5MTpjWzFdLHgyOmRbMF0seTI6ZFsxXX0sc3R5bGU6e2xpbmVXaWR0aDpvfSxzaWxlbnQ6ITB9KSl9Zm9yKGY9MDtmPGwubGVuZ3RoOysrZil0aGlzLmdyb3VwLmFkZChScyhsW2ZdLHtzdHlsZTp7c3Ryb2tlOmFbZiVhLmxlbmd0aF0sbGluZURhc2g6bi5nZXRMaW5lRGFzaChvKSxsaW5lV2lkdGg6b30sc2lsZW50OiEwfSkpfX0sX3NwbGl0QXJlYTpmdW5jdGlvbih0KXt3dih0aGlzLHRoaXMuX2F4aXNHcm91cCx0LHQpfX0pLGhJPWt1LmV4dGVuZCh7dHlwZToic2luZ2xlQXhpcyIsbGF5b3V0TW9kZToiYm94IixheGlzOm51bGwsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGdldENvb3JkU3lzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KTttKGhJLnByb3RvdHlwZSxkZyksR20oInNpbmdsZSIsaEksZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50eXBlfHwoZS5kYXRhPyJjYXRlZ29yeSI6InZhbHVlIil9LHtsZWZ0OiI1JSIsdG9wOiI1JSIscmlnaHQ6IjUlIixib3R0b206IjUlIix0eXBlOiJ2YWx1ZSIscG9zaXRpb246ImJvdHRvbSIsb3JpZW50OiJob3Jpem9udGFsIixheGlzTGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZToic29saWQifX0sdG9vbHRpcDp7c2hvdzohMH0sYXhpc1RpY2s6e3Nob3c6ITAsbGVuZ3RoOjYsbGluZVN0eWxlOnt3aWR0aDoxfX0sYXhpc0xhYmVsOntzaG93OiEwLGludGVydmFsOiJhdXRvIn0sc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7dHlwZToiZGFzaGVkIixvcGFjaXR5Oi4yfX19KTtmdW5jdGlvbiBjSSh0LGUpe3ZhciBpLG49W10sbz10LnNlcmllc0luZGV4O2lmKG51bGw9PW98fCEoaT1lLmdldFNlcmllc0J5SW5kZXgobykpKXJldHVybntwb2ludDpbXX07dmFyIGE9aS5nZXREYXRhKCkscj1ZbyhhLHQpO2lmKG51bGw9PXJ8fHI8MHx8TChyKSlyZXR1cm57cG9pbnQ6W119O3ZhciBzPWEuZ2V0SXRlbUdyYXBoaWNFbChyKSxsPWkuY29vcmRpbmF0ZVN5c3RlbTtpZihpLmdldFRvb2x0aXBQb3NpdGlvbiluPWkuZ2V0VG9vbHRpcFBvc2l0aW9uKHIpfHxbXTtlbHNlIGlmKGwmJmwuZGF0YVRvUG9pbnQpbj1sLmRhdGFUb1BvaW50KGEuZ2V0VmFsdWVzKE8obC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3JldHVybiBhLm1hcERpbWVuc2lvbih0KX0pLHIsITApKXx8W107ZWxzZSBpZihzKXt2YXIgdT1zLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7dS5hcHBseVRyYW5zZm9ybShzLnRyYW5zZm9ybSksbj1bdS54K3Uud2lkdGgvMix1LnkrdS5oZWlnaHQvMl19cmV0dXJue3BvaW50Om4sZWw6c319dmFyIGRJPVIsZkk9VCxwST1qbygpO2Z1bmN0aW9uIGdJKHQsZSxpLG4sbyl7dmFyIGE9dC5heGlzO2lmKCFhLnNjYWxlLmlzQmxhbmsoKSYmYS5jb250YWluRGF0YShlKSlpZih0Lmludm9sdmVTZXJpZXMpe3ZhciByPWZ1bmN0aW9uKGwsdCl7dmFyIHU9dC5heGlzLGg9dS5kaW0sYz1sLGQ9W10sZj1OdW1iZXIuTUFYX1ZBTFVFLHA9LTE7cmV0dXJuIGRJKHQuc2VyaWVzTW9kZWxzLGZ1bmN0aW9uKGUsdCl7dmFyIGksbixvPWUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbihoLCEwKTtpZihlLmdldEF4aXNUb29sdGlwRGF0YSl7dmFyIGE9ZS5nZXRBeGlzVG9vbHRpcERhdGEobyxsLHUpO249YS5kYXRhSW5kaWNlcyxpPWEubmVzdGVzdFZhbHVlfWVsc2V7aWYoIShuPWUuZ2V0RGF0YSgpLmluZGljZXNPZk5lYXJlc3Qob1swXSxsLCJjYXRlZ29yeSI9PT11LnR5cGU/LjU6bnVsbCkpLmxlbmd0aClyZXR1cm47aT1lLmdldERhdGEoKS5nZXQob1swXSxuWzBdKX1pZihudWxsIT1pJiZpc0Zpbml0ZShpKSl7dmFyIHI9bC1pLHM9TWF0aC5hYnMocik7czw9ZiYmKChzPGZ8fDA8PXImJnA8MCkmJihmPXMscD1yLGM9aSxkLmxlbmd0aD0wKSxkSShuLGZ1bmN0aW9uKHQpe2QucHVzaCh7c2VyaWVzSW5kZXg6ZS5zZXJpZXNJbmRleCxkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXREYXRhKCkuZ2V0UmF3SW5kZXgodCl9KX0pKX19KSx7cGF5bG9hZEJhdGNoOmQsc25hcFRvVmFsdWU6Y319KGUsdCkscz1yLnBheWxvYWRCYXRjaCxsPXIuc25hcFRvVmFsdWU7c1swXSYmbnVsbD09by5zZXJpZXNJbmRleCYmUChvLHNbMF0pLCFuJiZ0LnNuYXAmJmEuY29udGFpbkRhdGEobCkmJm51bGwhPWwmJihlPWwpLGkuc2hvd1BvaW50ZXIodCxlLHMsbyksaS5zaG93VG9vbHRpcCh0LHIsbCl9ZWxzZSBpLnNob3dQb2ludGVyKHQsZSl9ZnVuY3Rpb24gbUkodCxlLGksbil7dFtlLmtleV09e3ZhbHVlOmkscGF5bG9hZEJhdGNoOm59fWZ1bmN0aW9uIHZJKHQsZSxpLG4pe3ZhciBvPWkucGF5bG9hZEJhdGNoLGE9ZS5heGlzLHI9YS5tb2RlbCxzPWUuYXhpc1BvaW50ZXJNb2RlbDtpZihlLnRyaWdnZXJUb29sdGlwJiZvLmxlbmd0aCl7dmFyIGw9ZS5jb29yZFN5cy5tb2RlbCx1PWd2KGwpLGg9dC5tYXBbdV07aHx8KGg9dC5tYXBbdV09e2Nvb3JkU3lzSWQ6bC5pZCxjb29yZFN5c0luZGV4OmwuY29tcG9uZW50SW5kZXgsY29vcmRTeXNUeXBlOmwudHlwZSxjb29yZFN5c01haW5UeXBlOmwubWFpblR5cGUsZGF0YUJ5QXhpczpbXX0sdC5saXN0LnB1c2goaCkpLGguZGF0YUJ5QXhpcy5wdXNoKHtheGlzRGltOmEuZGltLGF4aXNJbmRleDpyLmNvbXBvbmVudEluZGV4LGF4aXNUeXBlOnIudHlwZSxheGlzSWQ6ci5pZCx2YWx1ZTpuLHZhbHVlTGFiZWxPcHQ6e3ByZWNpc2lvbjpzLmdldCgibGFiZWwucHJlY2lzaW9uIiksZm9ybWF0dGVyOnMuZ2V0KCJsYWJlbC5mb3JtYXR0ZXIiKX0sc2VyaWVzRGF0YUluZGljZXM6by5zbGljZSgpfSl9fWZ1bmN0aW9uIHlJKHQpe3ZhciBlPXQuYXhpcy5tb2RlbCxpPXt9LG49aS5heGlzRGltPXQuYXhpcy5kaW07cmV0dXJuIGkuYXhpc0luZGV4PWlbbisiQXhpc0luZGV4Il09ZS5jb21wb25lbnRJbmRleCxpLmF4aXNOYW1lPWlbbisiQXhpc05hbWUiXT1lLm5hbWUsaS5heGlzSWQ9aVtuKyJBeGlzSWQiXT1lLmlkLGl9ZnVuY3Rpb24geEkodCl7cmV0dXJuIXR8fG51bGw9PXRbMF18fGlzTmFOKHRbMF0pfHxudWxsPT10WzFdfHxpc05hTih0WzFdKX1UZih7dHlwZToiYXhpc1BvaW50ZXIiLGNvb3JkU3lzQXhlc0luZm86bnVsbCxkZWZhdWx0T3B0aW9uOntzaG93OiJhdXRvIix0cmlnZ2VyT246bnVsbCx6bGV2ZWw6MCx6OjUwLHR5cGU6ImxpbmUiLHNuYXA6ITEsdHJpZ2dlclRvb2x0aXA6ITAsdmFsdWU6bnVsbCxzdGF0dXM6bnVsbCxsaW5rOltdLGFuaW1hdGlvbjpudWxsLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxsaW5lU3R5bGU6e2NvbG9yOiIjYWFhIix3aWR0aDoxLHR5cGU6InNvbGlkIn0sc2hhZG93U3R5bGU6e2NvbG9yOiJyZ2JhKDE1MCwxNTAsMTUwLDAuMykifSxsYWJlbDp7c2hvdzohMCxmb3JtYXR0ZXI6bnVsbCxwcmVjaXNpb246ImF1dG8iLG1hcmdpbjozLGNvbG9yOiIjZmZmIixwYWRkaW5nOls1LDcsNSw3XSxiYWNrZ3JvdW5kQ29sb3I6ImF1dG8iLGJvcmRlckNvbG9yOm51bGwsYm9yZGVyV2lkdGg6MCxzaGFkb3dCbHVyOjMsc2hhZG93Q29sb3I6IiNhYWEifSxoYW5kbGU6e3Nob3c6ITEsaWNvbjoiTTEwLjcsMTEuOXYtMS4zSDkuM3YxLjNjLTQuOSwwLjMtOC44LDQuNC04LjgsOS40YzAsNSwzLjksOS4xLDguOCw5LjRoMS4zYzQuOS0wLjMsOC44LTQuNCw4LjgtOS40QzE5LjUsMTYuMywxNS42LDEyLjIsMTAuNywxMS45eiBNMTMuMywyNC40SDYuN3YtMS4yaDYuNnogTTEzLjMsMjJINi43di0xLjJoNi42eiBNMTMuMywxOS42SDYuN3YtMS4yaDYuNnoiLHNpemU6NDUsbWFyZ2luOjUwLGNvbG9yOiIjMzMzIixzaGFkb3dCbHVyOjMsc2hhZG93Q29sb3I6IiNhYWEiLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjIsdGhyb3R0bGU6NDB9fX0pO3ZhciBfST1qbygpLHdJPVI7ZnVuY3Rpb24gYkkodCxlLGkpe2lmKCF2Lm5vZGUpe3ZhciBuPWUuZ2V0WnIoKTtfSShuKS5yZWNvcmRzfHwoX0kobikucmVjb3Jkcz17fSksZnVuY3Rpb24obyxhKXtpZihfSShvKS5pbml0aWFsaXplZClyZXR1cm47ZnVuY3Rpb24gdCh0LG4pe28ub24odCxmdW5jdGlvbihlKXt2YXIgaT1mdW5jdGlvbihpKXt2YXIgbj17c2hvd1RpcDpbXSxoaWRlVGlwOltdfSxvPWZ1bmN0aW9uKHQpe3ZhciBlPW5bdC50eXBlXTtlP2UucHVzaCh0KToodC5kaXNwYXRjaEFjdGlvbj1vLGkuZGlzcGF0Y2hBY3Rpb24odCkpfTtyZXR1cm57ZGlzcGF0Y2hBY3Rpb246byxwZW5kaW5nczpufX0oYSk7d0koX0kobykucmVjb3JkcyxmdW5jdGlvbih0KXt0JiZuKHQsZSxpLmRpc3BhdGNoQWN0aW9uKX0pLGZ1bmN0aW9uKHQsZSl7dmFyIGksbj10LnNob3dUaXAubGVuZ3RoLG89dC5oaWRlVGlwLmxlbmd0aDtuP2k9dC5zaG93VGlwW24tMV06byYmKGk9dC5oaWRlVGlwW28tMV0pO2kmJihpLmRpc3BhdGNoQWN0aW9uPW51bGwsZS5kaXNwYXRjaEFjdGlvbihpKSl9KGkucGVuZGluZ3MsYSl9KX1fSShvKS5pbml0aWFsaXplZD0hMCx0KCJjbGljayIsVChNSSwiY2xpY2siKSksdCgibW91c2Vtb3ZlIixUKE1JLCJtb3VzZW1vdmUiKSksdCgiZ2xvYmFsb3V0IixTSSl9KG4sZSksKF9JKG4pLnJlY29yZHNbdF18fChfSShuKS5yZWNvcmRzW3RdPXt9KSkuaGFuZGxlcj1pfX1mdW5jdGlvbiBTSSh0LGUsaSl7dC5oYW5kbGVyKCJsZWF2ZSIsbnVsbCxpKX1mdW5jdGlvbiBNSSh0LGUsaSxuKXtlLmhhbmRsZXIodCxpLG4pfWZ1bmN0aW9uIElJKHQsZSl7aWYoIXYubm9kZSl7dmFyIGk9ZS5nZXRacigpOyhfSShpKS5yZWNvcmRzfHx7fSlbdF0mJihfSShpKS5yZWNvcmRzW3RdPW51bGwpfX12YXIgVEk9QWYoe3R5cGU6ImF4aXNQb2ludGVyIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuZ2V0Q29tcG9uZW50KCJ0b29sdGlwIiksbz10LmdldCgidHJpZ2dlck9uIil8fG4mJm4uZ2V0KCJ0cmlnZ2VyT24iKXx8Im1vdXNlbW92ZXxjbGljayI7YkkoImF4aXNQb2ludGVyIixpLGZ1bmN0aW9uKHQsZSxpKXsibm9uZSIhPT1vJiYoImxlYXZlIj09PXR8fDA8PW8uaW5kZXhPZih0KSkmJmkoe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIixjdXJyVHJpZ2dlcjp0LHg6ZSYmZS5vZmZzZXRYLHk6ZSYmZS5vZmZzZXRZfSl9KX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7SUkoZS5nZXRacigpLCJheGlzUG9pbnRlciIpLFRJLnN1cGVyQXBwbHkodGhpcy5fbW9kZWwsInJlbW92ZSIsYXJndW1lbnRzKX0sZGlzcG9zZTpmdW5jdGlvbih0LGUpe0lJKCJheGlzUG9pbnRlciIsZSksVEkuc3VwZXJBcHBseSh0aGlzLl9tb2RlbCwiZGlzcG9zZSIsYXJndW1lbnRzKX19KSxBST1qbygpLERJPWssQ0k9QTtmdW5jdGlvbiBMSSgpe31mdW5jdGlvbiBrSSh0LGUsaSxuKXshZnVuY3Rpb24gaShuLHQpe3tpZihFKG4pJiZFKHQpKXt2YXIgbz0hMDtyZXR1cm4gUih0LGZ1bmN0aW9uKHQsZSl7bz1vJiZpKG5bZV0sdCl9KSwhIW99cmV0dXJuIG49PT10fX0oQUkoaSkubGFzdFByb3AsbikmJihBSShpKS5sYXN0UHJvcD1uLGU/Y2woaSxuLHQpOihpLnN0b3BBbmltYXRpb24oKSxpLmF0dHIobikpKX1mdW5jdGlvbiBQSSh0LGUpe3RbZS5nZXQoImxhYmVsLnNob3ciKT8ic2hvdyI6ImhpZGUiXSgpfWZ1bmN0aW9uIE5JKHQpe3JldHVybntwb3NpdGlvbjp0LnBvc2l0aW9uLnNsaWNlKCkscm90YXRpb246dC5yb3RhdGlvbnx8MH19ZnVuY3Rpb24gT0kodCxlLGkpe3ZhciBuPWUuZ2V0KCJ6Iiksbz1lLmdldCgiemxldmVsIik7dCYmdC50cmF2ZXJzZShmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiYobnVsbCE9biYmKHQuej1uKSxudWxsIT1vJiYodC56bGV2ZWw9byksdC5zaWxlbnQ9aSl9KX1mdW5jdGlvbiBSSSh0KXt2YXIgZSxpPXQuZ2V0KCJ0eXBlIiksbj10LmdldE1vZGVsKGkrIlN0eWxlIik7cmV0dXJuImxpbmUiPT09aT8oZT1uLmdldExpbmVTdHlsZSgpKS5maWxsPW51bGw6InNoYWRvdyI9PT1pJiYoKGU9bi5nZXRBcmVhU3R5bGUoKSkuc3Ryb2tlPW51bGwpLGV9ZnVuY3Rpb24gekkodCxlLGksbixvKXt2YXIgYT1FSShpLmdldCgidmFsdWUiKSxlLmF4aXMsZS5lY01vZGVsLGkuZ2V0KCJzZXJpZXNEYXRhSW5kaWNlcyIpLHtwcmVjaXNpb246aS5nZXQoImxhYmVsLnByZWNpc2lvbiIpLGZvcm1hdHRlcjppLmdldCgibGFiZWwuZm9ybWF0dGVyIil9KSxyPWkuZ2V0TW9kZWwoImxhYmVsIikscz1pdShyLmdldCgicGFkZGluZyIpfHwwKSxsPXIuZ2V0Rm9udCgpLHU9Z24oYSxsKSxoPW8ucG9zaXRpb24sYz11LndpZHRoK3NbMV0rc1szXSxkPXUuaGVpZ2h0K3NbMF0rc1syXSxmPW8uYWxpZ247InJpZ2h0Ij09PWYmJihoWzBdLT1jKSwiY2VudGVyIj09PWYmJihoWzBdLT1jLzIpO3ZhciBwPW8udmVydGljYWxBbGlnbjsiYm90dG9tIj09PXAmJihoWzFdLT1kKSwibWlkZGxlIj09PXAmJihoWzFdLT1kLzIpLGZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPW4uZ2V0V2lkdGgoKSxhPW4uZ2V0SGVpZ2h0KCk7dFswXT1NYXRoLm1pbih0WzBdK2UsbyktZSx0WzFdPU1hdGgubWluKHRbMV0raSxhKS1pLHRbMF09TWF0aC5tYXgodFswXSwwKSx0WzFdPU1hdGgubWF4KHRbMV0sMCl9KGgsYyxkLG4pO3ZhciBnPXIuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKTtnJiYiYXV0byIhPT1nfHwoZz1lLmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIikpLHQubGFiZWw9e3NoYXBlOnt4OjAseTowLHdpZHRoOmMsaGVpZ2h0OmQscjpyLmdldCgiYm9yZGVyUmFkaXVzIil9LHBvc2l0aW9uOmguc2xpY2UoKSxzdHlsZTp7dGV4dDphLHRleHRGb250OmwsdGV4dEZpbGw6ci5nZXRUZXh0Q29sb3IoKSx0ZXh0UG9zaXRpb246Imluc2lkZSIsdGV4dFBhZGRpbmc6cyxmaWxsOmcsc3Ryb2tlOnIuZ2V0KCJib3JkZXJDb2xvciIpfHwidHJhbnNwYXJlbnQiLGxpbmVXaWR0aDpyLmdldCgiYm9yZGVyV2lkdGgiKXx8MCxzaGFkb3dCbHVyOnIuZ2V0KCJzaGFkb3dCbHVyIiksc2hhZG93Q29sb3I6ci5nZXQoInNoYWRvd0NvbG9yIiksc2hhZG93T2Zmc2V0WDpyLmdldCgic2hhZG93T2Zmc2V0WCIpLHNoYWRvd09mZnNldFk6ci5nZXQoInNoYWRvd09mZnNldFkiKX0sejI6MTB9fWZ1bmN0aW9uIEVJKHQsZSxvLGksbil7dD1lLnNjYWxlLnBhcnNlKHQpO3ZhciBhPWUuc2NhbGUuZ2V0TGFiZWwodCx7cHJlY2lzaW9uOm4ucHJlY2lzaW9ufSkscj1uLmZvcm1hdHRlcjtpZihyKXt2YXIgcz17dmFsdWU6dWcoZSx0KSxheGlzRGltZW5zaW9uOmUuZGltLGF4aXNJbmRleDplLmluZGV4LHNlcmllc0RhdGE6W119O1IoaSxmdW5jdGlvbih0KXt2YXIgZT1vLmdldFNlcmllc0J5SW5kZXgodC5zZXJpZXNJbmRleCksaT10LmRhdGFJbmRleEluc2lkZSxuPWUmJmUuZ2V0RGF0YVBhcmFtcyhpKTtuJiZzLnNlcmllc0RhdGEucHVzaChuKX0pLHoocik/YT1yLnJlcGxhY2UoInt2YWx1ZX0iLGEpOkMocikmJihhPXIocykpfXJldHVybiBhfWZ1bmN0aW9uIEJJKHQsZSxpKXt2YXIgbj1hZSgpO3JldHVybiBoZShuLG4saS5yb3RhdGlvbiksdWUobixuLGkucG9zaXRpb24pLHBsKFt0LmRhdGFUb0Nvb3JkKGUpLChpLmxhYmVsT2Zmc2V0fHwwKSsoaS5sYWJlbERpcmVjdGlvbnx8MSkqKGkubGFiZWxNYXJnaW58fDApXSxuKX1mdW5jdGlvbiBWSSh0LGUsaSxuLG8sYSl7dmFyIHI9UW0uaW5uZXJUZXh0TGF5b3V0KGkucm90YXRpb24sMCxpLmxhYmVsRGlyZWN0aW9uKTtpLmxhYmVsTWFyZ2luPW8uZ2V0KCJsYWJlbC5tYXJnaW4iKSx6SShlLG4sbyxhLHtwb3NpdGlvbjpCSShuLmF4aXMsdCxpKSxhbGlnbjpyLnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnIudGV4dFZlcnRpY2FsQWxpZ259KX1mdW5jdGlvbiBHSSh0LGUsaSl7cmV0dXJue3gxOnRbaT1pfHwwXSx5MTp0WzEtaV0seDI6ZVtpXSx5MjplWzEtaV19fWZ1bmN0aW9uIEZJKHQsZSxpKXtyZXR1cm57eDp0W2k9aXx8MF0seTp0WzEtaV0sd2lkdGg6ZVtpXSxoZWlnaHQ6ZVsxLWldfX1mdW5jdGlvbiBXSSh0LGUsaSxuLG8sYSl7cmV0dXJue2N4OnQsY3k6ZSxyMDppLHI6bixzdGFydEFuZ2xlOm8sZW5kQW5nbGU6YSxjbG9ja3dpc2U6ITB9fW9hKChMSS5wcm90b3R5cGU9e19ncm91cDpudWxsLF9sYXN0R3JhcGhpY0tleTpudWxsLF9oYW5kbGU6bnVsbCxfZHJhZ2dpbmc6ITEsX2xhc3RWYWx1ZTpudWxsLF9sYXN0U3RhdHVzOm51bGwsX3BheWxvYWRJbmZvOm51bGwsYW5pbWF0aW9uVGhyZXNob2xkOjE1LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLmdldCgidmFsdWUiKSxhPWUuZ2V0KCJzdGF0dXMiKTtpZih0aGlzLl9heGlzTW9kZWw9dCx0aGlzLl9heGlzUG9pbnRlck1vZGVsPWUsdGhpcy5fYXBpPWksbnx8dGhpcy5fbGFzdFZhbHVlIT09b3x8dGhpcy5fbGFzdFN0YXR1cyE9PWEpe3RoaXMuX2xhc3RWYWx1ZT1vLHRoaXMuX2xhc3RTdGF0dXM9YTt2YXIgcj10aGlzLl9ncm91cCxzPXRoaXMuX2hhbmRsZTtpZighYXx8ImhpZGUiPT09YSlyZXR1cm4gciYmci5oaWRlKCksdm9pZChzJiZzLmhpZGUoKSk7ciYmci5zaG93KCkscyYmcy5zaG93KCk7dmFyIGw9e307dGhpcy5tYWtlRWxPcHRpb24obCxvLHQsZSxpKTt2YXIgdT1sLmdyYXBoaWNLZXk7dSE9PXRoaXMuX2xhc3RHcmFwaGljS2V5JiZ0aGlzLmNsZWFyKGkpLHRoaXMuX2xhc3RHcmFwaGljS2V5PXU7dmFyIGg9dGhpcy5fbW92ZUFuaW1hdGlvbj10aGlzLmRldGVybWluZUFuaW1hdGlvbih0LGUpO2lmKHIpe3ZhciBjPVQoa0ksZSxoKTt0aGlzLnVwZGF0ZVBvaW50ZXJFbChyLGwsYyxlKSx0aGlzLnVwZGF0ZUxhYmVsRWwocixsLGMsZSl9ZWxzZSByPXRoaXMuX2dyb3VwPW5ldyBDaSx0aGlzLmNyZWF0ZVBvaW50ZXJFbChyLGwsdCxlKSx0aGlzLmNyZWF0ZUxhYmVsRWwocixsLHQsZSksaS5nZXRacigpLmFkZChyKTtPSShyLGUsITApLHRoaXMuX3JlbmRlckhhbmRsZShvKX19LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQpfSxkaXNwb3NlOmZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodCl9LGRldGVybWluZUFuaW1hdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0KCJhbmltYXRpb24iKSxuPXQuYXhpcyxvPSJjYXRlZ29yeSI9PT1uLnR5cGUsYT1lLmdldCgic25hcCIpO2lmKCFhJiYhbylyZXR1cm4hMTtpZigiYXV0byIhPT1pJiZudWxsIT1pKXJldHVybiEwPT09aTt2YXIgcj10aGlzLmFuaW1hdGlvblRocmVzaG9sZDtpZihvJiZuLmdldEJhbmRXaWR0aCgpPnIpcmV0dXJuITA7aWYoYSl7dmFyIHM9ZnYodCkuc2VyaWVzRGF0YUNvdW50LGw9bi5nZXRFeHRlbnQoKTtyZXR1cm4gTWF0aC5hYnMobFswXS1sWzFdKS9zPnJ9cmV0dXJuITF9LG1ha2VFbE9wdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8pe30sY3JlYXRlUG9pbnRlckVsOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWUucG9pbnRlcjtpZihvKXt2YXIgYT1BSSh0KS5wb2ludGVyRWw9bmV3IGJsW28udHlwZV0oREkoZS5wb2ludGVyKSk7dC5hZGQoYSl9fSxjcmVhdGVMYWJlbEVsOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKGUubGFiZWwpe3ZhciBvPUFJKHQpLmxhYmVsRWw9bmV3IHJzKERJKGUubGFiZWwpKTt0LmFkZChvKSxQSShvLG4pfX0sdXBkYXRlUG9pbnRlckVsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1BSSh0KS5wb2ludGVyRWw7biYmZS5wb2ludGVyJiYobi5zZXRTdHlsZShlLnBvaW50ZXIuc3R5bGUpLGkobix7c2hhcGU6ZS5wb2ludGVyLnNoYXBlfSkpfSx1cGRhdGVMYWJlbEVsOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPUFJKHQpLmxhYmVsRWw7byYmKG8uc2V0U3R5bGUoZS5sYWJlbC5zdHlsZSksaShvLHtzaGFwZTplLmxhYmVsLnNoYXBlLHBvc2l0aW9uOmUubGFiZWwucG9zaXRpb259KSxQSShvLG4pKX0sX3JlbmRlckhhbmRsZTpmdW5jdGlvbih0KXtpZighdGhpcy5fZHJhZ2dpbmcmJnRoaXMudXBkYXRlSGFuZGxlVHJhbnNmb3JtKXt2YXIgZSxpPXRoaXMuX2F4aXNQb2ludGVyTW9kZWwsbj10aGlzLl9hcGkuZ2V0WnIoKSxvPXRoaXMuX2hhbmRsZSxhPWkuZ2V0TW9kZWwoImhhbmRsZSIpLHI9aS5nZXQoInN0YXR1cyIpO2lmKCFhLmdldCgic2hvdyIpfHwhcnx8ImhpZGUiPT09cilyZXR1cm4gbyYmbi5yZW1vdmUobyksdm9pZCh0aGlzLl9oYW5kbGU9bnVsbCk7dGhpcy5faGFuZGxlfHwoZT0hMCxvPXRoaXMuX2hhbmRsZT15bChhLmdldCgiaWNvbiIpLHtjdXJzb3I6Im1vdmUiLGRyYWdnYWJsZTohMCxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtYdCh0LmV2ZW50KX0sb25tb3VzZWRvd246Q0kodGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzLDAsMCksZHJpZnQ6Q0kodGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzKSxvbmRyYWdlbmQ6Q0kodGhpcy5fb25IYW5kbGVEcmFnRW5kLHRoaXMpfSksbi5hZGQobykpLE9JKG8saSwhMSk7by5zZXRTdHlsZShhLmdldEl0ZW1TdHlsZShudWxsLFsiY29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwib3BhY2l0eSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIl0pKTt2YXIgcz1hLmdldCgic2l6ZSIpO0wocyl8fChzPVtzLHNdKSxvLmF0dHIoInNjYWxlIixbc1swXS8yLHNbMV0vMl0pLGtjKHRoaXMsIl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXIiLGEuZ2V0KCJ0aHJvdHRsZSIpfHwwLCJmaXhSYXRlIiksdGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUodCxlKX19LF9tb3ZlSGFuZGxlVG9WYWx1ZTpmdW5jdGlvbih0LGUpe2tJKHRoaXMuX2F4aXNQb2ludGVyTW9kZWwsIWUmJnRoaXMuX21vdmVBbmltYXRpb24sdGhpcy5faGFuZGxlLE5JKHRoaXMuZ2V0SGFuZGxlVHJhbnNmb3JtKHQsdGhpcy5fYXhpc01vZGVsLHRoaXMuX2F4aXNQb2ludGVyTW9kZWwpKSl9LF9vbkhhbmRsZURyYWdNb3ZlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5faGFuZGxlO2lmKGkpe3RoaXMuX2RyYWdnaW5nPSEwO3ZhciBuPXRoaXMudXBkYXRlSGFuZGxlVHJhbnNmb3JtKE5JKGkpLFt0LGVdLHRoaXMuX2F4aXNNb2RlbCx0aGlzLl9heGlzUG9pbnRlck1vZGVsKTt0aGlzLl9wYXlsb2FkSW5mbz1uLGkuc3RvcEFuaW1hdGlvbigpLGkuYXR0cihOSShuKSksQUkoaSkubGFzdFByb3A9bnVsbCx0aGlzLl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXIoKX19LF9kb0Rpc3BhdGNoQXhpc1BvaW50ZXI6ZnVuY3Rpb24oKXtpZih0aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMuX3BheWxvYWRJbmZvLGU9dGhpcy5fYXhpc01vZGVsO3RoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHg6dC5jdXJzb3JQb2ludFswXSx5OnQuY3Vyc29yUG9pbnRbMV0sdG9vbHRpcE9wdGlvbjp0LnRvb2x0aXBPcHRpb24sYXhlc0luZm86W3theGlzRGltOmUuYXhpcy5kaW0sYXhpc0luZGV4OmUuY29tcG9uZW50SW5kZXh9XX0pfX0sX29uSGFuZGxlRHJhZ0VuZDpmdW5jdGlvbih0KXtpZih0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl9oYW5kbGUpe3ZhciBlPXRoaXMuX2F4aXNQb2ludGVyTW9kZWwuZ2V0KCJ2YWx1ZSIpO3RoaXMuX21vdmVIYW5kbGVUb1ZhbHVlKGUpLHRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiaGlkZVRpcCJ9KX19LGdldEhhbmRsZVRyYW5zZm9ybTpudWxsLHVwZGF0ZUhhbmRsZVRyYW5zZm9ybTpudWxsLGNsZWFyOmZ1bmN0aW9uKHQpe3RoaXMuX2xhc3RWYWx1ZT1udWxsLHRoaXMuX2xhc3RTdGF0dXM9bnVsbDt2YXIgZT10LmdldFpyKCksaT10aGlzLl9ncm91cCxuPXRoaXMuX2hhbmRsZTtlJiZpJiYodGhpcy5fbGFzdEdyYXBoaWNLZXk9bnVsbCxpJiZlLnJlbW92ZShpKSxuJiZlLnJlbW92ZShuKSx0aGlzLl9ncm91cD1udWxsLHRoaXMuX2hhbmRsZT1udWxsLHRoaXMuX3BheWxvYWRJbmZvPW51bGwpfSxkb0NsZWFyOmZ1bmN0aW9uKCl7fSxidWlsZExhYmVsOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm57eDp0W2k9aXx8MF0seTp0WzEtaV0sd2lkdGg6ZVtpXSxoZWlnaHQ6ZVsxLWldfX19KS5jb25zdHJ1Y3Rvcj1MSSk7dmFyIEhJPUxJLmV4dGVuZCh7bWFrZUVsT3B0aW9uOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9aS5heGlzLHI9YS5ncmlkLHM9bi5nZXQoInR5cGUiKSxsPVpJKHIsYSkuZ2V0T3RoZXJBeGlzKGEpLmdldEdsb2JhbEV4dGVudCgpLHU9YS50b0dsb2JhbENvb3JkKGEuZGF0YVRvQ29vcmQoZSwhMCkpO2lmKHMmJiJub25lIiE9PXMpe3ZhciBoPVJJKG4pLGM9VUlbc10oYSx1LGwpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfVZJKGUsdCxfdihyLm1vZGVsLGkpLGksbixvKX0sZ2V0SGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1fdihlLmF4aXMuZ3JpZC5tb2RlbCxlLHtsYWJlbEluc2lkZTohMX0pO3JldHVybiBuLmxhYmVsTWFyZ2luPWkuZ2V0KCJoYW5kbGUubWFyZ2luIikse3Bvc2l0aW9uOkJJKGUuYXhpcyx0LG4pLHJvdGF0aW9uOm4ucm90YXRpb24rKG4ubGFiZWxEaXJlY3Rpb248MD9NYXRoLlBJOjApfX0sdXBkYXRlSGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuYXhpcyxhPW8uZ3JpZCxyPW8uZ2V0R2xvYmFsRXh0ZW50KCEwKSxzPVpJKGEsbykuZ2V0T3RoZXJBeGlzKG8pLmdldEdsb2JhbEV4dGVudCgpLGw9IngiPT09by5kaW0/MDoxLHU9dC5wb3NpdGlvbjt1W2xdKz1lW2xdLHVbbF09TWF0aC5taW4oclsxXSx1W2xdKSx1W2xdPU1hdGgubWF4KHJbMF0sdVtsXSk7dmFyIGg9KHNbMV0rc1swXSkvMixjPVtoLGhdO2NbbF09dVtsXTtyZXR1cm57cG9zaXRpb246dSxyb3RhdGlvbjp0LnJvdGF0aW9uLGN1cnNvclBvaW50OmMsdG9vbHRpcE9wdGlvbjpbe3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LHthbGlnbjoiY2VudGVyIn1dW2xdfX19KTtmdW5jdGlvbiBaSSh0LGUpe3ZhciBpPXt9O3JldHVybiBpW2UuZGltKyJBeGlzSW5kZXgiXT1lLmluZGV4LHQuZ2V0Q2FydGVzaWFuKGkpfXZhciBVST17bGluZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJue3R5cGU6IkxpbmUiLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6R0koW2UsaVswXV0sW2UsaVsxXV0sWEkodCkpfX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLG89aVsxXS1pWzBdO3JldHVybnt0eXBlOiJSZWN0IixzaGFwZTpGSShbZS1uLzIsaVswXV0sW24sb10sWEkodCkpfX19O2Z1bmN0aW9uIFhJKHQpe3JldHVybiJ4Ij09PXQuZGltPzA6MX1tdi5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3MoIkNhcnRlc2lhbkF4aXNQb2ludGVyIixISSkseWYoZnVuY3Rpb24odCl7aWYodCl7dC5heGlzUG9pbnRlciYmMCE9PXQuYXhpc1BvaW50ZXIubGVuZ3RofHwodC5heGlzUG9pbnRlcj17fSk7dmFyIGU9dC5heGlzUG9pbnRlci5saW5rO2UmJiFMKGUpJiYodC5heGlzUG9pbnRlci5saW5rPVtlXSl9fSkseGYoTGQuUFJPQ0VTU09SLlNUQVRJU1RJQyxmdW5jdGlvbih0LGUpe3QuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm89Y3YodCxlKX0pLF9mKHt0eXBlOiJ1cGRhdGVBeGlzUG9pbnRlciIsZXZlbnQ6InVwZGF0ZUF4aXNQb2ludGVyIix1cGRhdGU6Ijp1cGRhdGVBeGlzUG9pbnRlciJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmN1cnJUcmlnZ2VyLHI9W3QueCx0LnldLG89dCxhPXQuZGlzcGF0Y2hBY3Rpb258fEEoaS5kaXNwYXRjaEFjdGlvbixpKSxzPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm87aWYocyl7eEkocikmJihyPWNJKHtzZXJpZXNJbmRleDpvLnNlcmllc0luZGV4LGRhdGFJbmRleDpvLmRhdGFJbmRleH0sZSkucG9pbnQpO3ZhciBsPXhJKHIpLHU9by5heGVzSW5mbyxoPXMuYXhlc0luZm8sYz0ibGVhdmUiPT09bnx8eEkociksZD17fSxmPXt9LHA9e2xpc3Q6W10sbWFwOnt9fSxnPXtzaG93UG9pbnRlcjpmSShtSSxmKSxzaG93VG9vbHRpcDpmSSh2SSxwKX07ZEkocy5jb29yZFN5c01hcCxmdW5jdGlvbih0LGUpe3ZhciBhPWx8fHQuY29udGFpblBvaW50KHIpO2RJKHMuY29vcmRTeXNBeGVzSW5mb1tlXSxmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpcyxuPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTwodHx8W10pLmxlbmd0aDtpKyspe3ZhciBuPXRbaV07aWYoZS5heGlzLmRpbT09PW4uYXhpc0RpbSYmZS5heGlzLm1vZGVsLmNvbXBvbmVudEluZGV4PT09bi5heGlzSW5kZXgpcmV0dXJuIG59fSh1LHQpO2lmKCFjJiZhJiYoIXV8fG4pKXt2YXIgbz1uJiZuLnZhbHVlO251bGwhPW98fGx8fChvPWkucG9pbnRUb0RhdGEocikpLG51bGwhPW8mJmdJKHQsbyxnLCExLGQpfX0pfSk7dmFyIG09e307cmV0dXJuIGRJKGgsZnVuY3Rpb24obyx0KXt2YXIgYT1vLmxpbmtHcm91cDthJiYhZlt0XSYmZEkoYS5heGVzSW5mbyxmdW5jdGlvbih0LGUpe3ZhciBpPWZbZV07aWYodCE9PW8mJmkpe3ZhciBuPWkudmFsdWU7YS5tYXBwZXImJihuPW8uYXhpcy5zY2FsZS5wYXJzZShhLm1hcHBlcihuLHlJKHQpLHlJKG8pKSkpLG1bby5rZXldPW59fSl9KSxkSShtLGZ1bmN0aW9uKHQsZSl7Z0koaFtlXSx0LGcsITAsZCl9KSxmdW5jdGlvbihvLHQsZSl7dmFyIGE9ZS5heGVzSW5mbz1bXTtkSSh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5heGlzUG9pbnRlck1vZGVsLm9wdGlvbixuPW9bZV07bj8odC51c2VIYW5kbGV8fChpLnN0YXR1cz0ic2hvdyIpLGkudmFsdWU9bi52YWx1ZSxpLnNlcmllc0RhdGFJbmRpY2VzPShuLnBheWxvYWRCYXRjaHx8W10pLnNsaWNlKCkpOnQudXNlSGFuZGxlfHwoaS5zdGF0dXM9ImhpZGUiKSwic2hvdyI9PT1pLnN0YXR1cyYmYS5wdXNoKHtheGlzRGltOnQuYXhpcy5kaW0sYXhpc0luZGV4OnQuYXhpcy5tb2RlbC5jb21wb25lbnRJbmRleCx2YWx1ZTppLnZhbHVlfSl9KX0oZixoLGQpLGZ1bmN0aW9uKHQsZSxpLG4pe2lmKHhJKGUpfHwhdC5saXN0Lmxlbmd0aClyZXR1cm4gbih7dHlwZToiaGlkZVRpcCJ9KTt2YXIgbz0oKHQubGlzdFswXS5kYXRhQnlBeGlzWzBdfHx7fSkuc2VyaWVzRGF0YUluZGljZXN8fFtdKVswXXx8e307bih7dHlwZToic2hvd1RpcCIsZXNjYXBlQ29ubmVjdDohMCx4OmVbMF0seTplWzFdLHRvb2x0aXBPcHRpb246aS50b29sdGlwT3B0aW9uLHBvc2l0aW9uOmkucG9zaXRpb24sZGF0YUluZGV4SW5zaWRlOm8uZGF0YUluZGV4SW5zaWRlLGRhdGFJbmRleDpvLmRhdGFJbmRleCxzZXJpZXNJbmRleDpvLnNlcmllc0luZGV4LGRhdGFCeUNvb3JkU3lzOnQubGlzdH0pfShwLHIsdCxhKSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aS5nZXRacigpLG89ImF4aXNQb2ludGVyTGFzdEhpZ2hsaWdodHMiLGE9cEkobilbb118fHt9LHI9cEkobilbb109e307ZEkodCxmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpc1BvaW50ZXJNb2RlbC5vcHRpb247InNob3ciPT09aS5zdGF0dXMmJmRJKGkuc2VyaWVzRGF0YUluZGljZXMsZnVuY3Rpb24odCl7dmFyIGU9dC5zZXJpZXNJbmRleCsiIHwgIit0LmRhdGFJbmRleDtyW2VdPXR9KX0pO3ZhciBzPVtdLGw9W107UihhLGZ1bmN0aW9uKHQsZSl7cltlXXx8bC5wdXNoKHQpfSksUihyLGZ1bmN0aW9uKHQsZSl7YVtlXXx8cy5wdXNoKHQpfSksbC5sZW5ndGgmJmkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRvd25wbGF5Iixlc2NhcGVDb25uZWN0OiEwLGJhdGNoOmx9KSxzLmxlbmd0aCYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiaGlnaGxpZ2h0Iixlc2NhcGVDb25uZWN0OiEwLGJhdGNoOnN9KX0oaCwwLGkpLGR9fSk7dmFyIFlJPVsieCIsInkiXSxqST1bIndpZHRoIiwiaGVpZ2h0Il0scUk9TEkuZXh0ZW5kKHttYWtlRWxPcHRpb246ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1pLmF4aXMscj1hLmNvb3JkaW5hdGVTeXN0ZW0scz1KSShyLDEtJEkoYSkpLGw9ci5kYXRhVG9Qb2ludChlKVswXSx1PW4uZ2V0KCJ0eXBlIik7aWYodSYmIm5vbmUiIT09dSl7dmFyIGg9UkkobiksYz1LSVt1XShhLGwscyk7Yy5zdHlsZT1oLHQuZ3JhcGhpY0tleT1jLnR5cGUsdC5wb2ludGVyPWN9VkkoZSx0LHJJKGkpLGksbixvKX0sZ2V0SGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1ySShlLHtsYWJlbEluc2lkZTohMX0pO3JldHVybiBuLmxhYmVsTWFyZ2luPWkuZ2V0KCJoYW5kbGUubWFyZ2luIikse3Bvc2l0aW9uOkJJKGUuYXhpcyx0LG4pLHJvdGF0aW9uOm4ucm90YXRpb24rKG4ubGFiZWxEaXJlY3Rpb248MD9NYXRoLlBJOjApfX0sdXBkYXRlSGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuYXhpcyxhPW8uY29vcmRpbmF0ZVN5c3RlbSxyPSRJKG8pLHM9SkkoYSxyKSxsPXQucG9zaXRpb247bFtyXSs9ZVtyXSxsW3JdPU1hdGgubWluKHNbMV0sbFtyXSksbFtyXT1NYXRoLm1heChzWzBdLGxbcl0pO3ZhciB1PUpJKGEsMS1yKSxoPSh1WzFdK3VbMF0pLzIsYz1baCxoXTtyZXR1cm4gY1tyXT1sW3JdLHtwb3NpdGlvbjpsLHJvdGF0aW9uOnQucm90YXRpb24sY3Vyc29yUG9pbnQ6Yyx0b29sdGlwT3B0aW9uOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX19fSksS0k9e2xpbmU6ZnVuY3Rpb24odCxlLGkpe3JldHVybnt0eXBlOiJMaW5lIixzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOkdJKFtlLGlbMF1dLFtlLGlbMV1dLCRJKHQpKX19LHNoYWRvdzpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRCYW5kV2lkdGgoKSxvPWlbMV0taVswXTtyZXR1cm57dHlwZToiUmVjdCIsc2hhcGU6RkkoW2Utbi8yLGlbMF1dLFtuLG9dLCRJKHQpKX19fTtmdW5jdGlvbiAkSSh0KXtyZXR1cm4gdC5pc0hvcml6b250YWwoKT8wOjF9ZnVuY3Rpb24gSkkodCxlKXt2YXIgaT10LmdldFJlY3QoKTtyZXR1cm5baVtZSVtlXV0saVtZSVtlXV0raVtqSVtlXV1dfW12LnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcygiU2luZ2xlQXhpc1BvaW50ZXIiLHFJKSxBZih7dHlwZToic2luZ2xlIn0pO3ZhciBRST1zYy5leHRlbmQoe3R5cGU6InNlcmllcy50aGVtZVJpdmVyIixkZXBlbmRlbmNpZXM6WyJzaW5nbGVBeGlzIl0sbmFtZU1hcDpudWxsLGluaXQ6ZnVuY3Rpb24odCl7UUkuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IHF2KEEodGhpcy5nZXREYXRhLHRoaXMpLEEodGhpcy5nZXRSYXdEYXRhLHRoaXMpKX0sZml4RGF0YTpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPXt9LG49dGEodCxmdW5jdGlvbih0KXtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eSh0WzBdKXx8KGlbdFswXV09LTEpLHRbMl19KSxvPVtdO24uYnVja2V0cy5lYWNoKGZ1bmN0aW9uKHQsZSl7by5wdXNoKHtuYW1lOmUsZGF0YUxpc3Q6dH0pfSk7Zm9yKHZhciBhPW8ubGVuZ3RoLHI9MDtyPGE7KytyKXtmb3IodmFyIHM9b1tyXS5uYW1lLGw9MDtsPG9bcl0uZGF0YUxpc3QubGVuZ3RoOysrbCl7dmFyIHU9b1tyXS5kYXRhTGlzdFtsXVswXTtpW3VdPXJ9Zm9yKHZhciB1IGluIGkpaS5oYXNPd25Qcm9wZXJ0eSh1KSYmaVt1XSE9PXImJihpW3VdPXIsdFtlXT1bXSx0W2VdWzBdPXUsdFtlXVsxXT0wLHRbZV1bMl09cyxlKyspfXJldHVybiB0fSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6InNpbmdsZUF4aXMiLGluZGV4OnRoaXMuZ2V0KCJzaW5nbGVBeGlzSW5kZXgiKSxpZDp0aGlzLmdldCgic2luZ2xlQXhpc0lkIil9KVswXS5nZXQoInR5cGUiKSxuPU0odC5kYXRhLGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10WzJdfSksbz10aGlzLmZpeERhdGEobnx8W10pLGE9W10scj10aGlzLm5hbWVNYXA9USgpLHM9MCxsPTA7bDxvLmxlbmd0aDsrK2wpYS5wdXNoKG9bbF1bMl0pLHIuZ2V0KG9bbF1bMl0pfHwoci5zZXQob1tsXVsyXSxzKSxzKyspO3ZhciB1PWxwKG8se2Nvb3JkRGltZW5zaW9uczpbInNpbmdsZSJdLGRpbWVuc2lvbnNEZWZpbmU6W3tuYW1lOiJ0aW1lIix0eXBlOlJmKGkpfSx7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In0se25hbWU6Im5hbWUiLHR5cGU6Im9yZGluYWwifV0sZW5jb2RlRGVmaW5lOntzaW5nbGU6MCx2YWx1ZToxLGl0ZW1OYW1lOjJ9fSksaD1uZXcgWWYodSx0aGlzKTtyZXR1cm4gaC5pbml0RGF0YShvKSxofSxnZXRMYXllclNlcmllczpmdW5jdGlvbigpe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKSx0PWkuY291bnQoKSxlPVtdLG49MDtuPHQ7KytuKWVbbl09bjt2YXIgbz1pLm1hcERpbWVuc2lvbigic2luZ2xlIiksYT10YShlLGZ1bmN0aW9uKHQpe3JldHVybiBpLmdldCgibmFtZSIsdCl9KSxyPVtdO3JldHVybiBhLmJ1Y2tldHMuZWFjaChmdW5jdGlvbih0LGUpe3Quc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBpLmdldChvLHQpLWkuZ2V0KG8sZSl9KSxyLnB1c2goe25hbWU6ZSxpbmRpY2VzOnR9KX0pLHJ9LGdldEF4aXNUb29sdGlwRGF0YTpmdW5jdGlvbih0LGUsaSl7TCh0KXx8KHQ9dD9bdF06W10pO2Zvcih2YXIgbixvPXRoaXMuZ2V0RGF0YSgpLGE9dGhpcy5nZXRMYXllclNlcmllcygpLHI9W10scz1hLmxlbmd0aCxsPTA7bDxzOysrbCl7Zm9yKHZhciB1PU51bWJlci5NQVhfVkFMVUUsaD0tMSxjPWFbbF0uaW5kaWNlcy5sZW5ndGgsZD0wO2Q8YzsrK2Qpe3ZhciBmPW8uZ2V0KHRbMF0sYVtsXS5pbmRpY2VzW2RdKSxwPU1hdGguYWJzKGYtZSk7cDw9dSYmKG49Zix1PXAsaD1hW2xdLmluZGljZXNbZF0pfXIucHVzaChoKX1yZXR1cm57ZGF0YUluZGljZXM6cixuZXN0ZXN0VmFsdWU6bn19LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCksaT1lLmdldE5hbWUodCksbj1lLmdldChlLm1hcERpbWVuc2lvbigidmFsdWUiKSx0KTtyZXR1cm4haXNOYU4obikmJm51bGwhPW58fChuPSItIiksYXUoaSsiIDogIituKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InNpbmdsZUF4aXMiLGJvdW5kYXJ5R2FwOlsiMTAlIiwiMTAlIl0sc2luZ2xlQXhpc0luZGV4OjAsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGxhYmVsOnttYXJnaW46NCxzaG93OiEwLHBvc2l0aW9uOiJsZWZ0Iixjb2xvcjoiIzAwMCIsZm9udFNpemU6MTF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fX0pO0NmKHt0eXBlOiJ0aGVtZVJpdmVyIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5fbGF5ZXJzPVtdfSxyZW5kZXI6ZnVuY3Rpb24oYix0LGUpe3ZhciBTPWIuZ2V0RGF0YSgpLE09dGhpcy5ncm91cCxJPWIuZ2V0TGF5ZXJTZXJpZXMoKSxpPVMuZ2V0TGF5b3V0KCJsYXlvdXRJbmZvIiksbj1pLnJlY3Qsbz1pLmJvdW5kYXJ5R2FwO2Z1bmN0aW9uIGEodCl7cmV0dXJuIHQubmFtZX1NLmF0dHIoInBvc2l0aW9uIixbMCxuLnkrb1swXV0pO3ZhciByPW5ldyBrZih0aGlzLl9sYXllcnNTZXJpZXN8fFtdLEksYSxhKSxUPXt9O2Z1bmN0aW9uIHModCxlLGkpe3ZhciBuPXRoaXMuX2xheWVycztpZigicmVtb3ZlIiE9PXQpe2Zvcih2YXIgbyxhLHIscz1bXSxsPVtdLHU9SVtlXS5pbmRpY2VzLGg9MDtoPHUubGVuZ3RoO2grKyl7dmFyIGM9Uy5nZXRJdGVtTGF5b3V0KHVbaF0pLGQ9Yy54LGY9Yy55MCxwPWMueTtzLnB1c2goW2QsZl0pLGwucHVzaChbZCxmK3BdKSxvPVMuZ2V0SXRlbVZpc3VhbCh1W2hdLCJjb2xvciIpfXZhciBnPVMuZ2V0SXRlbUxheW91dCh1WzBdKSxtPVMuZ2V0SXRlbU1vZGVsKHVbaC0xXSksdj1tLmdldE1vZGVsKCJsYWJlbCIpLHk9di5nZXQoIm1hcmdpbiIpO2lmKCJhZGQiPT09dCl7dmFyIHg9VFtlXT1uZXcgQ2k7YT1uZXcgX20oe3NoYXBlOntwb2ludHM6cyxzdGFja2VkT25Qb2ludHM6bCxzbW9vdGg6LjQsc3RhY2tlZE9uU21vb3RoOi40LHNtb290aENvbnN0cmFpbnQ6ITF9LHoyOjB9KSxyPW5ldyBVcih7c3R5bGU6e3g6Zy54LXkseTpnLnkwK2cueS8yfX0pLHguYWRkKGEpLHguYWRkKHIpLE0uYWRkKHgpLGEuc2V0Q2xpcFBhdGgoZnVuY3Rpb24odCxlLGkpe3ZhciBuPW5ldyBycyh7c2hhcGU6e3g6dC54LTEwLHk6dC55LTEwLHdpZHRoOjAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0pO3JldHVybiBkbChuLHtzaGFwZTp7d2lkdGg6dC53aWR0aCsyMCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSxlLGkpLG59KGEuZ2V0Qm91bmRpbmdSZWN0KCksYixmdW5jdGlvbigpe2EucmVtb3ZlQ2xpcFBhdGgoKX0pKX1lbHNle3g9bltpXTthPXguY2hpbGRBdCgwKSxyPXguY2hpbGRBdCgxKSxNLmFkZCh4KSxUW2VdPXgsY2woYSx7c2hhcGU6e3BvaW50czpzLHN0YWNrZWRPblBvaW50czpsfX0sYiksY2wocix7c3R5bGU6e3g6Zy54LXkseTpnLnkwK2cueS8yfX0sYil9dmFyIF89bS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIiksdz1tLmdldE1vZGVsKCJpdGVtU3R5bGUiKTtubChyLnN0eWxlLHYse3RleHQ6di5nZXQoInNob3ciKT9iLmdldEZvcm1hdHRlZExhYmVsKHVbaC0xXSwibm9ybWFsIil8fFMuZ2V0TmFtZSh1W2gtMV0pOm51bGwsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KSxhLnNldFN0eWxlKFAoe2ZpbGw6b30sdy5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSkpLCRzKGEsXy5nZXRJdGVtU3R5bGUoKSl9ZWxzZSBNLnJlbW92ZShuW2VdKX1yLmFkZChBKHMsdGhpcywiYWRkIikpLnVwZGF0ZShBKHMsdGhpcywidXBkYXRlIikpLnJlbW92ZShBKHMsdGhpcywicmVtb3ZlIikpLmV4ZWN1dGUoKSx0aGlzLl9sYXllcnNTZXJpZXM9SSx0aGlzLl9sYXllcnM9VH0sZGlzcG9zZTpmdW5jdGlvbigpe319KTtmdW5jdGlvbiB0VChpLHQsZSl7aWYoaS5jb3VudCgpKWZvcih2YXIgbixvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPXQuZ2V0TGF5ZXJTZXJpZXMoKSxyPWkubWFwRGltZW5zaW9uKCJzaW5nbGUiKSxzPWkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGw9TyhhLGZ1bmN0aW9uKHQpe3JldHVybiBPKHQuaW5kaWNlcyxmdW5jdGlvbih0KXt2YXIgZT1vLmRhdGFUb1BvaW50KGkuZ2V0KHIsdCkpO3JldHVybiBlWzFdPWkuZ2V0KHMsdCksZX0pfSksdT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT10WzBdLmxlbmd0aCxuPVtdLG89W10sYT0wLHI9e30scz0wO3M8aTsrK3Mpe2Zvcih2YXIgbD0wLHU9MDtsPGU7KytsKXUrPXRbbF1bc11bMV07YTx1JiYoYT11KSxuLnB1c2godSl9Zm9yKHZhciBoPTA7aDxpOysraClvW2hdPShhLW5baF0pLzI7Zm9yKHZhciBjPWE9MDtjPGk7KytjKXt2YXIgZD1uW2NdK29bY107YTxkJiYoYT1kKX1yZXR1cm4gci55MD1vLHIubWF4PWEscn0obCksaD11LnkwLGM9ZS91Lm1heCxkPWEubGVuZ3RoLGY9YVswXS5pbmRpY2VzLmxlbmd0aCxwPTA7cDxmOysrcCl7bj1oW3BdKmMsaS5zZXRJdGVtTGF5b3V0KGFbMF0uaW5kaWNlc1twXSx7bGF5ZXJJbmRleDowLHg6bFswXVtwXVswXSx5MDpuLHk6bFswXVtwXVsxXSpjfSk7Zm9yKHZhciBnPTE7ZzxkOysrZyluKz1sW2ctMV1bcF1bMV0qYyxpLnNldEl0ZW1MYXlvdXQoYVtnXS5pbmRpY2VzW3BdLHtsYXllckluZGV4OmcseDpsW2ddW3BdWzBdLHkwOm4seTpsW2ddW3BdWzFdKmN9KX19YmYoZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoInRoZW1lUml2ZXIiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtLG49e30sbz1pLmdldFJlY3QoKTtuLnJlY3Q9bzt2YXIgYT10LmdldCgiYm91bmRhcnlHYXAiKSxyPWkuZ2V0QXhpcygpOyhuLmJvdW5kYXJ5R2FwPWEsImhvcml6b250YWwiPT09ci5vcmllbnQpPyhhWzBdPXpsKGFbMF0sby5oZWlnaHQpLGFbMV09emwoYVsxXSxvLmhlaWdodCksdFQoZSx0LG8uaGVpZ2h0LWFbMF0tYVsxXSkpOihhWzBdPXpsKGFbMF0sby53aWR0aCksYVsxXT16bChhWzFdLG8ud2lkdGgpLHRUKGUsdCxvLndpZHRoLWFbMF0tYVsxXSkpO2Uuc2V0TGF5b3V0KCJsYXlvdXRJbmZvIixuKX0pfSksU2YoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0aGVtZVJpdmVyIixmdW5jdGlvbihvKXt2YXIgYT1vLmdldERhdGEoKSxyPW8uZ2V0UmF3RGF0YSgpLHM9by5nZXQoImNvbG9yIiksbD1RKCk7YS5lYWNoKGZ1bmN0aW9uKHQpe2wuc2V0KGEuZ2V0UmF3SW5kZXgodCksdCl9KSxyLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9ci5nZXROYW1lKHQpLGk9c1soby5uYW1lTWFwLmdldChlKS0xKSVzLmxlbmd0aF07ci5zZXRJdGVtVmlzdWFsKHQsImNvbG9yIixpKTt2YXIgbj1sLmdldCh0KTtudWxsIT1uJiZhLnNldEl0ZW1WaXN1YWwobiwiY29sb3IiLGkpfSl9KX0pLHhmKHV5KCJ0aGVtZVJpdmVyIikpLHNjLmV4dGVuZCh7dHlwZToic2VyaWVzLnN1bmJ1cnN0Iixfdmlld1Jvb3Q6bnVsbCxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXtuYW1lOnQubmFtZSxjaGlsZHJlbjp0LmRhdGF9OyFmdW5jdGlvbiBpKHQpe3ZhciBuPTA7Uih0LmNoaWxkcmVuLGZ1bmN0aW9uKHQpe2kodCk7dmFyIGU9dC52YWx1ZTtMKGUpJiYoZT1lWzBdKSxuKz1lfSk7dmFyIGU9dC52YWx1ZTtMKGUpJiYoZT1lWzBdKTtudWxsIT1lJiYhaXNOYU4oZSl8fChlPW4pO2U8MCYmKGU9MCk7TCh0LnZhbHVlKT90LnZhbHVlWzBdPWU6dC52YWx1ZT1lfShpKTt2YXIgbz1PKHQubGV2ZWxzfHxbXSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IENsKHQsdGhpcyxlKX0sdGhpcyksYT1BeC5jcmVhdGVUcmVlKGksdGhpcyxmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsZnVuY3Rpb24odCxlKXt2YXIgaT1hLmdldE5vZGVCeURhdGFJbmRleChlKSxuPW9baS5kZXB0aF07cmV0dXJuIG4mJih0LnBhcmVudE1vZGVsPW4pLHR9KX0pO3JldHVybiBhLmRhdGF9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT1zYy5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleCh0KTtyZXR1cm4gZS50cmVlUGF0aEluZm89WXgoaSx0aGlzKSxlfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOlswLCI3NSUiXSxjbG9ja3dpc2U6ITAsc3RhcnRBbmdsZTo5MCxtaW5BbmdsZTowLHBlcmNlbnRQcmVjaXNpb246MixzdGlsbFNob3daZXJvU3VtOiEwLGhpZ2hsaWdodFBvbGljeToiZGVzY2VuZGFudCIsbm9kZUNsaWNrOiJyb290VG9Ob2RlIixyZW5kZXJMYWJlbEZvclplcm9EYXRhOiExLGxhYmVsOntyb3RhdGU6InJhZGlhbCIsc2hvdzohMCxvcGFjaXR5OjEsYWxpZ246ImNlbnRlciIscG9zaXRpb246Imluc2lkZSIsZGlzdGFuY2U6NSxzaWxlbnQ6ITB9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoid2hpdGUiLGJvcmRlclR5cGU6InNvbGlkIixzaGFkb3dCbHVyOjAsc2hhZG93Q29sb3I6InJnYmEoMCwgMCwgMCwgMC4yKSIsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxvcGFjaXR5OjF9LGhpZ2hsaWdodDp7aXRlbVN0eWxlOntvcGFjaXR5OjF9fSxkb3ducGxheTp7aXRlbVN0eWxlOntvcGFjaXR5Oi41fSxsYWJlbDp7b3BhY2l0eTouNn19LGFuaW1hdGlvblR5cGU6ImV4cGFuc2lvbiIsYW5pbWF0aW9uRHVyYXRpb246MWUzLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjUwMCxhbmltYXRpb25FYXNpbmc6ImN1YmljT3V0IixkYXRhOltdLGxldmVsczpbXSxzb3J0OiJkZXNjIn0sZ2V0Vmlld1Jvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LHJlc2V0Vmlld1Jvb3Q6ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX19KTt2YXIgZVQ9Im5vbmUiLGlUPSJhbmNlc3RvciIsblQ9InNlbGYiLG9UPTIsYVQ9NDtmdW5jdGlvbiByVCh0LGUsaSl7Q2kuY2FsbCh0aGlzKTt2YXIgbj1uZXcgcXIoe3oyOm9UfSk7bi5zZXJpZXNJbmRleD1lLnNlcmllc0luZGV4O3ZhciBvPW5ldyBVcih7ejI6YVQsc2lsZW50OnQuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJzaWxlbnQiKX0pO2Z1bmN0aW9uIGEoKXtvLmlnbm9yZT1vLmhvdmVySWdub3JlfWZ1bmN0aW9uIHIoKXtvLmlnbm9yZT1vLm5vcm1hbElnbm9yZX10aGlzLmFkZChuKSx0aGlzLmFkZChvKSx0aGlzLnVwZGF0ZURhdGEoITAsdCwibm9ybWFsIixlLGkpLHRoaXMub24oImVtcGhhc2lzIixhKS5vbigibm9ybWFsIixyKS5vbigibW91c2VvdmVyIixhKS5vbigibW91c2VvdXQiLHIpfXZhciBzVD1yVC5wcm90b3R5cGU7c1QudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSxuLG8peyh0aGlzLm5vZGU9ZSkucGllY2U9dGhpcyxuPW58fHRoaXMuX3Nlcmllc01vZGVsLG89b3x8dGhpcy5fZWNNb2RlbDt2YXIgYT10aGlzLmNoaWxkQXQoMCk7YS5kYXRhSW5kZXg9ZS5kYXRhSW5kZXg7dmFyIHI9ZS5nZXRNb2RlbCgpLHM9ZS5nZXRMYXlvdXQoKSxsPVAoe30scyk7bC5sYWJlbD1udWxsO3ZhciB1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldFZpc3VhbCgiY29sb3IiKSxvPXQuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIik7byYmMCE9PW8ubGVuZ3RofHwobj1udWxsKTt2YXIgYT10LmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXQoImNvbG9yIik7e2lmKGEpcmV0dXJuIGE7aWYobilyZXR1cm4gbjtpZigwPT09dC5kZXB0aClyZXR1cm4gaS5vcHRpb24uY29sb3JbMF07dmFyIHI9aS5vcHRpb24uY29sb3IubGVuZ3RoO2E9aS5vcHRpb24uY29sb3JbZnVuY3Rpb24odCl7dmFyIGU9dDtmb3IoOzE8ZS5kZXB0aDspZT1lLnBhcmVudE5vZGU7cmV0dXJuIF8odC5nZXRBbmNlc3RvcnMoKVswXS5jaGlsZHJlbixlKX0odCklcl19cmV0dXJuIGF9KGUsMCxvKTshZnVuY3Rpb24odCxlLGkpe2UuZ2V0RGF0YSgpLnNldEl0ZW1WaXN1YWwodC5kYXRhSW5kZXgsImNvbG9yIixpKX0oZSxuLHUpO3ZhciBoLGM9ci5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCk7Im5vcm1hbCI9PT1pP2g9YzpoPW0oci5nZXRNb2RlbChpKyIuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksYyk7aD1EKHtsaW5lSm9pbjoiYmV2ZWwiLGZpbGw6aC5maWxsfHx1fSxoKSx0PyhhLnNldFNoYXBlKGwpLGEuc2hhcGUucj1zLnIwLGNsKGEse3NoYXBlOntyOnMucn19LG4sZS5kYXRhSW5kZXgpLGEudXNlU3R5bGUoaCkpOiJvYmplY3QiPT10eXBlb2YgaC5maWxsJiZoLmZpbGwudHlwZXx8Im9iamVjdCI9PXR5cGVvZiBhLnN0eWxlLmZpbGwmJmEuc3R5bGUuZmlsbC50eXBlPyhjbChhLHtzaGFwZTpsfSxuKSxhLnVzZVN0eWxlKGgpKTpjbChhLHtzaGFwZTpsLHN0eWxlOmh9LG4pLHRoaXMuX3VwZGF0ZUxhYmVsKG4sdSxpKTt2YXIgZD1yLmdldFNoYWxsb3coImN1cnNvciIpO2lmKGQmJmEuYXR0cigiY3Vyc29yIixkKSx0KXt2YXIgZj1uLmdldFNoYWxsb3coImhpZ2hsaWdodFBvbGljeSIpO3RoaXMuX2luaXRFdmVudHMoYSxlLG4sZil9dGhpcy5fc2VyaWVzTW9kZWw9bnx8dGhpcy5fc2VyaWVzTW9kZWwsdGhpcy5fZWNNb2RlbD1vfHx0aGlzLl9lY01vZGVsLCRzKHRoaXMpfSxzVC5vbkVtcGhhc2lzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5ub2RlLmhvc3RUcmVlLnJvb3QuZWFjaE5vZGUoZnVuY3Rpb24odCl7dC5waWVjZSYmKGkubm9kZT09PXQ/dC5waWVjZS51cGRhdGVEYXRhKCExLHQsImVtcGhhc2lzIik6IWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaSE9PWVUJiYoaT09PW5UP3Q9PT1lOmk9PT1pVD90PT09ZXx8dC5pc0FuY2VzdG9yT2YoZSk6dD09PWV8fHQuaXNEZXNjZW5kYW50T2YoZSkpfSh0LGkubm9kZSxlKT9lIT09ZVQmJnQucGllY2UuY2hpbGRBdCgwKS50cmlnZ2VyKCJkb3ducGxheSIpOnQucGllY2UuY2hpbGRBdCgwKS50cmlnZ2VyKCJoaWdobGlnaHQiKSl9KX0sc1Qub25Ob3JtYWw9ZnVuY3Rpb24oKXt0aGlzLm5vZGUuaG9zdFRyZWUucm9vdC5lYWNoTm9kZShmdW5jdGlvbih0KXt0LnBpZWNlJiZ0LnBpZWNlLnVwZGF0ZURhdGEoITEsdCwibm9ybWFsIil9KX0sc1Qub25IaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZURhdGEoITEsdGhpcy5ub2RlLCJoaWdobGlnaHQiKX0sc1Qub25Eb3ducGxheT1mdW5jdGlvbigpe3RoaXMudXBkYXRlRGF0YSghMSx0aGlzLm5vZGUsImRvd25wbGF5Iil9LHNULl91cGRhdGVMYWJlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5ub2RlLmdldE1vZGVsKCksbz1uLmdldE1vZGVsKCJsYWJlbCIpLGE9Im5vcm1hbCI9PT1pfHwiZW1waGFzaXMiPT09aT9vOm4uZ2V0TW9kZWwoaSsiLmxhYmVsIikscj1uLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLHM9YS5nZXQoImZvcm1hdHRlciIpP2k6Im5vcm1hbCIsbD1XKHQuZ2V0Rm9ybWF0dGVkTGFiZWwodGhpcy5ub2RlLmRhdGFJbmRleCxzLG51bGwsbnVsbCwibGFiZWwiKSx0aGlzLm5vZGUubmFtZSk7ITE9PT1NKCJzaG93IikmJihsPSIiKTt2YXIgdT10aGlzLm5vZGUuZ2V0TGF5b3V0KCksaD1hLmdldCgibWluQW5nbGUiKTtudWxsPT1oJiYoaD1vLmdldCgibWluQW5nbGUiKSksaD1oLzE4MCpNYXRoLlBJO3ZhciBjPXUuZW5kQW5nbGUtdS5zdGFydEFuZ2xlO251bGwhPWgmJk1hdGguYWJzKGMpPGgmJihsPSIiKTt2YXIgZD10aGlzLmNoaWxkQXQoMSk7ZWwoZC5zdHlsZSxkLmhvdmVyU3R5bGV8fHt9LG8scix7ZGVmYXVsdFRleHQ6YS5nZXRTaGFsbG93KCJzaG93Iik/bDpudWxsLGF1dG9Db2xvcjplLHVzZUluc2lkZVN0eWxlOiEwfSk7dmFyIGYscD0odS5zdGFydEFuZ2xlK3UuZW5kQW5nbGUpLzIsZz1NYXRoLmNvcyhwKSxtPU1hdGguc2luKHApLHY9TSgicG9zaXRpb24iKSx5PU0oImRpc3RhbmNlIil8fDAseD1NKCJhbGlnbiIpOyJvdXRzaWRlIj09PXY/KGY9dS5yK3kseD1wPk1hdGguUEkvMj8icmlnaHQiOiJsZWZ0Iik6eCYmImNlbnRlciIhPT14PyJsZWZ0Ij09PXg/KGY9dS5yMCt5LHA+TWF0aC5QSS8yJiYoeD0icmlnaHQiKSk6InJpZ2h0Ij09PXgmJihmPXUuci15LHA+TWF0aC5QSS8yJiYoeD0ibGVmdCIpKTooZj0odS5yK3UucjApLzIseD0iY2VudGVyIiksZC5hdHRyKCJzdHlsZSIse3RleHQ6bCx0ZXh0QWxpZ246eCx0ZXh0VmVydGljYWxBbGlnbjpNKCJ2ZXJ0aWNhbEFsaWduIil8fCJtaWRkbGUiLG9wYWNpdHk6TSgib3BhY2l0eSIpfSk7dmFyIF89ZipnK3UuY3gsdz1mKm0rdS5jeTtkLmF0dHIoInBvc2l0aW9uIixbXyx3XSk7dmFyIGI9TSgicm90YXRlIiksUz0wO2Z1bmN0aW9uIE0odCl7dmFyIGU9YS5nZXQodCk7cmV0dXJuIG51bGw9PWU/by5nZXQodCk6ZX0icmFkaWFsIj09PWI/KFM9LXApPC1NYXRoLlBJLzImJihTKz1NYXRoLlBJKToidGFuZ2VudGlhbCI9PT1iPyhTPU1hdGguUEkvMi1wKT5NYXRoLlBJLzI/Uy09TWF0aC5QSTpTPC1NYXRoLlBJLzImJihTKz1NYXRoLlBJKToibnVtYmVyIj09dHlwZW9mIGImJihTPWIqTWF0aC5QSS8xODApLGQuYXR0cigicm90YXRpb24iLFMpfSxzVC5faW5pdEV2ZW50cz1mdW5jdGlvbih0LGUsaSxuKXt0Lm9mZigibW91c2VvdmVyIikub2ZmKCJtb3VzZW91dCIpLm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpO2Z1bmN0aW9uIG8oKXtyLm9uRW1waGFzaXMobil9ZnVuY3Rpb24gYSgpe3Iub25Ob3JtYWwoKX12YXIgcj10aGlzO2kuaXNBbmltYXRpb25FbmFibGVkKCkmJnQub24oIm1vdXNlb3ZlciIsbykub24oIm1vdXNlb3V0IixhKS5vbigiZW1waGFzaXMiLG8pLm9uKCJub3JtYWwiLGEpLm9uKCJkb3ducGxheSIsZnVuY3Rpb24oKXtyLm9uRG93bnBsYXkoKX0pLm9uKCJoaWdobGlnaHQiLGZ1bmN0aW9uKCl7ci5vbkhpZ2hsaWdodCgpfSl9LHcoclQsQ2kpO19jLmV4dGVuZCh7dHlwZToic3VuYnVyc3QiLGluaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbihvLGEsdCxlKXt2YXIgbj10aGlzO3RoaXMuc2VyaWVzTW9kZWw9byx0aGlzLmFwaT10LHRoaXMuZWNNb2RlbD1hO3ZhciByPW8uZ2V0RGF0YSgpLHM9ci50cmVlLnJvb3QsaT1vLmdldFZpZXdSb290KCksbD10aGlzLmdyb3VwLHU9by5nZXQoInJlbmRlckxhYmVsRm9yWmVyb0RhdGEiKSxoPVtdO2kuZWFjaE5vZGUoZnVuY3Rpb24odCl7aC5wdXNoKHQpfSk7dmFyIGM9dGhpcy5fb2xkQ2hpbGRyZW58fFtdO2lmKGZ1bmN0aW9uKGksbil7aWYoMD09PWkubGVuZ3RoJiYwPT09bi5sZW5ndGgpcmV0dXJuO2Z1bmN0aW9uIHQodCl7cmV0dXJuIHQuZ2V0SWQoKX1mdW5jdGlvbiBlKHQsZSl7IWZ1bmN0aW9uKHQsZSl7dXx8IXR8fHQuZ2V0VmFsdWUoKXx8KHQ9bnVsbCk7aWYodCE9PXMmJmUhPT1zKWlmKGUmJmUucGllY2UpdD8oZS5waWVjZS51cGRhdGVEYXRhKCExLHQsIm5vcm1hbCIsbyxhKSxyLnNldEl0ZW1HcmFwaGljRWwodC5kYXRhSW5kZXgsZS5waWVjZSkpOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybjt0LnBpZWNlJiYobC5yZW1vdmUodC5waWVjZSksdC5waWVjZT1udWxsKX0oZSk7ZWxzZSBpZih0KXt2YXIgaT1uZXcgclQodCxvLGEpO2wuYWRkKGkpLHIuc2V0SXRlbUdyYXBoaWNFbCh0LmRhdGFJbmRleCxpKX19KG51bGw9PXQ/bnVsbDppW3RdLG51bGw9PWU/bnVsbDpuW2VdKX1uZXcga2YobixpLHQsdCkuYWRkKGUpLnVwZGF0ZShlKS5yZW1vdmUoVChlLG51bGwpKS5leGVjdXRlKCl9KGgsYyksZnVuY3Rpb24odCxlKXtpZigwPGUuZGVwdGgpe24udmlydHVhbFBpZWNlP24udmlydHVhbFBpZWNlLnVwZGF0ZURhdGEoITEsdCwibm9ybWFsIixvLGEpOihuLnZpcnR1YWxQaWVjZT1uZXcgclQodCxvLGEpLGwuYWRkKG4udmlydHVhbFBpZWNlKSksZS5waWVjZS5fb25jbGlja0V2ZW50JiZlLnBpZWNlLm9mZigiY2xpY2siLGUucGllY2UuX29uY2xpY2tFdmVudCk7dmFyIGk9ZnVuY3Rpb24odCl7bi5fcm9vdFRvTm9kZShlLnBhcmVudE5vZGUpfTtlLnBpZWNlLl9vbmNsaWNrRXZlbnQ9aSxuLnZpcnR1YWxQaWVjZS5vbigiY2xpY2siLGkpfWVsc2Ugbi52aXJ0dWFsUGllY2UmJihsLnJlbW92ZShuLnZpcnR1YWxQaWVjZSksbi52aXJ0dWFsUGllY2U9bnVsbCl9KHMsaSksZSYmZS5oaWdobGlnaHQmJmUuaGlnaGxpZ2h0LnBpZWNlKXt2YXIgZD1vLmdldFNoYWxsb3coImhpZ2hsaWdodFBvbGljeSIpO2UuaGlnaGxpZ2h0LnBpZWNlLm9uRW1waGFzaXMoZCl9ZWxzZSBpZihlJiZlLnVuaGlnaGxpZ2h0KXt2YXIgZj10aGlzLnZpcnR1YWxQaWVjZTshZiYmcy5jaGlsZHJlbi5sZW5ndGgmJihmPXMuY2hpbGRyZW5bMF0ucGllY2UpLGYmJmYub25Ob3JtYWwoKX10aGlzLl9pbml0RXZlbnRzKCksdGhpcy5fb2xkQ2hpbGRyZW49aH0sZGlzcG9zZTpmdW5jdGlvbigpe30sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG8pe3ZhciBhPSExO3Iuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKS5lYWNoTm9kZShmdW5jdGlvbih0KXtpZighYSYmdC5waWVjZSYmdC5waWVjZS5jaGlsZEF0KDApPT09by50YXJnZXQpe3ZhciBlPXQuZ2V0TW9kZWwoKS5nZXQoIm5vZGVDbGljayIpO2lmKCJyb290VG9Ob2RlIj09PWUpci5fcm9vdFRvTm9kZSh0KTtlbHNlIGlmKCJsaW5rIj09PWUpe3ZhciBpPXQuZ2V0TW9kZWwoKSxuPWkuZ2V0KCJsaW5rIik7aWYobilndShuLGkuZ2V0KCJ0YXJnZXQiLCEwKXx8Il9ibGFuayIpfWE9ITB9fSl9dmFyIHI9dGhpczt0aGlzLmdyb3VwLl9vbmNsaWNrRXZlbnQmJnRoaXMuZ3JvdXAub2ZmKCJjbGljayIsdGhpcy5ncm91cC5fb25jbGlja0V2ZW50KSx0aGlzLmdyb3VwLm9uKCJjbGljayIsdCksdGhpcy5ncm91cC5fb25jbGlja0V2ZW50PXR9LF9yb290VG9Ob2RlOmZ1bmN0aW9uKHQpe3QhPT10aGlzLnNlcmllc01vZGVsLmdldFZpZXdSb290KCkmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzdW5idXJzdFJvb3RUb05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnR9KX0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihpKXt2YXIgbj10WzBdLWkuY3gsbz10WzFdLWkuY3ksYT1NYXRoLnNxcnQobipuK28qbyk7cmV0dXJuIGE8PWkuciYmYT49aS5yMH19fSk7dmFyIGxUPSJzdW5idXJzdFJvb3RUb05vZGUiO19mKHt0eXBlOmxULHVwZGF0ZToidXBkYXRlVmlldyJ9LGZ1bmN0aW9uKG8sdCl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzdW5idXJzdCIscXVlcnk6b30sZnVuY3Rpb24odCxlKXt2YXIgaT1aeChvLFtsVF0sdCk7aWYoaSl7dmFyIG49dC5nZXRWaWV3Um9vdCgpO24mJihvLmRpcmVjdGlvbj1YeChuLGkubm9kZSk/InJvbGxVcCI6ImRyaWxsRG93biIpLHQucmVzZXRWaWV3Um9vdChpLm5vZGUpfX0pfSk7dmFyIHVUPSJzdW5idXJzdEhpZ2hsaWdodCI7X2Yoe3R5cGU6dVQsdXBkYXRlOiJ1cGRhdGVWaWV3In0sZnVuY3Rpb24obix0KXt0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InN1bmJ1cnN0IixxdWVyeTpufSxmdW5jdGlvbih0LGUpe3ZhciBpPVp4KG4sW3VUXSx0KTtpJiYobi5oaWdobGlnaHQ9aS5ub2RlKX0pfSk7X2Yoe3R5cGU6InN1bmJ1cnN0VW5oaWdobGlnaHQiLHVwZGF0ZToidXBkYXRlVmlldyJ9LGZ1bmN0aW9uKGksdCl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzdW5idXJzdCIscXVlcnk6aX0sZnVuY3Rpb24odCxlKXtpLnVuaGlnaGxpZ2h0PSEwfSl9KTt2YXIgaFQ9TWF0aC5QSS8xODA7ZnVuY3Rpb24gY1QodCxlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSlyZXR1cm4gdC5zb3J0KGUpO3ZhciBuPSJhc2MiPT09ZTtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQuZ2V0VmFsdWUoKS1lLmdldFZhbHVlKCkpKihuPzE6LTEpO3JldHVybiAwPT1pPyh0LmRhdGFJbmRleC1lLmRhdGFJbmRleCkqKG4/LTE6MSk6aX0pfWZ1bmN0aW9uIGRUKGEscil7cmV0dXJuIHI9cnx8WzAsMF0sTyhbIngiLCJ5Il0sZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEF4aXModCksbj1yW2VdLG89YVtlXS8yO3JldHVybiJjYXRlZ29yeSI9PT1pLnR5cGU/aS5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhpLmRhdGFUb0Nvb3JkKG4tbyktaS5kYXRhVG9Db29yZChuK28pKX0sdGhpcyl9U2YoVChpeSwic3VuYnVyc3QiKSksYmYoVChmdW5jdGlvbih0LGUsQyxpKXtlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY2VudGVyIiksaT10LmdldCgicmFkaXVzIik7TChpKXx8KGk9WzAsaV0pLEwoZSl8fChlPVtlLGVdKTt2YXIgbj1DLmdldFdpZHRoKCksbz1DLmdldEhlaWdodCgpLGg9TWF0aC5taW4obixvKSxjPXpsKGVbMF0sbiksZD16bChlWzFdLG8pLGY9emwoaVswXSxoLzIpLGE9emwoaVsxXSxoLzIpLHI9LXQuZ2V0KCJzdGFydEFuZ2xlIikqaFQscD10LmdldCgibWluQW5nbGUiKSpoVCxnPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxzPXQuZ2V0Vmlld1Jvb3QoKSxtPXMuZGVwdGgsbD10LmdldCgic29ydCIpO251bGwhPWwmJiFmdW5jdGlvbiBlKHQsaSl7dmFyIG49dC5jaGlsZHJlbnx8W107dC5jaGlsZHJlbj1jVChuLGkpO24ubGVuZ3RoJiZSKHQuY2hpbGRyZW4sZnVuY3Rpb24odCl7ZSh0LGkpfSl9KHMsbCk7dmFyIHU9MDtSKHMuY2hpbGRyZW4sZnVuY3Rpb24odCl7aXNOYU4odC5nZXRWYWx1ZSgpKXx8dSsrfSk7dmFyIHY9cy5nZXRWYWx1ZSgpLHk9TWF0aC5QSS8odnx8dSkqMix4PTA8cy5kZXB0aCxfPXMuaGVpZ2h0LSh4Py0xOjEpLHc9KGEtZikvKF98fDEpLGI9dC5nZXQoImNsb2Nrd2lzZSIpLFM9dC5nZXQoInN0aWxsU2hvd1plcm9TdW0iKSxNPWI/MTotMSxJPWZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIGk9ZTtpZih0IT09Zyl7dmFyIG49dC5nZXRWYWx1ZSgpLG89MD09PXYmJlM/eTpuKnk7bzxwJiYobz1wKSxpPWUrTSpvO3ZhciBhPXQuZGVwdGgtbS0oeD8tMToxKSxyPWYrdyphLHM9Zit3KigxK2EpLGw9dC5nZXRNb2RlbCgpO251bGwhPWwuZ2V0KCJyMCIpJiYocj16bChsLmdldCgicjAiKSxoLzIpKSxudWxsIT1sLmdldCgiciIpJiYocz16bChsLmdldCgiciIpLGgvMikpLHQuc2V0TGF5b3V0KHthbmdsZTpvLHN0YXJ0QW5nbGU6ZSxlbmRBbmdsZTppLGNsb2Nrd2lzZTpiLGN4OmMsY3k6ZCxyMDpyLHI6c30pfWlmKHQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgdT0wO1IodC5jaGlsZHJlbixmdW5jdGlvbih0KXt1Kz1JKHQsZSt1KX0pfXJldHVybiBpLWV9fTtpZih4KXt2YXIgVD1mLEE9Zit3LEQ9MipNYXRoLlBJO2cuc2V0TGF5b3V0KHthbmdsZTpELHN0YXJ0QW5nbGU6cixlbmRBbmdsZTpyK0QsY2xvY2t3aXNlOmIsY3g6YyxjeTpkLHIwOlQscjpBfSl9SShzLHIpfSl9LCJzdW5idXJzdCIpKSx4ZihUKHV5LCJzdW5idXJzdCIpKTtmdW5jdGlvbiBmVChhLHIpe3JldHVybiByPXJ8fFswLDBdLE8oWzAsMV0sZnVuY3Rpb24odCl7dmFyIGU9clt0XSxpPWFbdF0vMixuPVtdLG89W107cmV0dXJuIG5bdF09ZS1pLG9bdF09ZStpLG5bMS10XT1vWzEtdF09clsxLXRdLE1hdGguYWJzKHRoaXMuZGF0YVRvUG9pbnQobilbdF0tdGhpcy5kYXRhVG9Qb2ludChvKVt0XSl9LHRoaXMpfWZ1bmN0aW9uIHBUKHQsZSl7dmFyIGk9dGhpcy5nZXRBeGlzKCksbj1lIGluc3RhbmNlb2YgQXJyYXk/ZVswXTplLG89KHQgaW5zdGFuY2VvZiBBcnJheT90WzBdOnQpLzI7cmV0dXJuImNhdGVnb3J5Ij09PWkudHlwZT9pLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKGkuZGF0YVRvQ29vcmQobi1vKS1pLmRhdGFUb0Nvb3JkKG4rbykpfWZ1bmN0aW9uIGdUKHMsbCl7cmV0dXJuIE8oWyJSYWRpdXMiLCJBbmdsZSJdLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpc1siZ2V0Iit0KyJBeGlzIl0oKSxuPWxbZV0sbz1zW2VdLzIsYT0iZGF0YVRvIit0LHI9ImNhdGVnb3J5Ij09PWkudHlwZT9pLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKGlbYV0obi1vKS1pW2FdKG4rbykpO3JldHVybiJBbmdsZSI9PT10JiYocj1yKk1hdGguUEkvMTgwKSxyfSx0aGlzKX12YXIgbVQ9U3MsdlQ9WyJpdGVtU3R5bGUiXSx5VD1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0seFQ9WyJsYWJlbCJdLF9UPVsiZW1waGFzaXMiLCJsYWJlbCJdLHdUPSJlXDBcMCIsYlQ9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ3JpZC5nZXRSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJjYXJ0ZXNpYW4yZCIseDp0LngseTp0Lnksd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZGF0YVRvUG9pbnQodCl9LHNpemU6QShkVCxlKX19fSxnZW86ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6ImdlbyIseDp0LngseTp0Lnksd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsem9vbTplLmdldFpvb20oKX0sYXBpOntjb29yZDpmdW5jdGlvbih0KXtyZXR1cm4gZS5kYXRhVG9Qb2ludCh0KX0sc2l6ZTpBKGZULGUpfX19LHNpbmdsZUF4aXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJzaW5nbGVBeGlzIix4OnQueCx5OnQueSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH0sYXBpOntjb29yZDpmdW5jdGlvbih0KXtyZXR1cm4gZS5kYXRhVG9Qb2ludCh0KX0sc2l6ZTpBKHBULGUpfX19LHBvbGFyOmZ1bmN0aW9uKG8pe3ZhciBhPW8uZ2V0UmFkaXVzQXhpcygpLHI9by5nZXRBbmdsZUF4aXMoKSx0PWEuZ2V0RXh0ZW50KCk7cmV0dXJuIHRbMF0+dFsxXSYmdC5yZXZlcnNlKCkse2Nvb3JkU3lzOnt0eXBlOiJwb2xhciIsY3g6by5jeCxjeTpvLmN5LHI6dFsxXSxyMDp0WzBdfSxhcGk6e2Nvb3JkOkEoZnVuY3Rpb24odCl7dmFyIGU9YS5kYXRhVG9SYWRpdXModFswXSksaT1yLmRhdGFUb0FuZ2xlKHRbMV0pLG49by5jb29yZFRvUG9pbnQoW2UsaV0pO3JldHVybiBuLnB1c2goZSxpKk1hdGguUEkvMTgwKSxufSksc2l6ZTpBKGdULG8pfX19LGNhbGVuZGFyOmZ1bmN0aW9uKGkpe3ZhciB0PWkuZ2V0UmVjdCgpLGU9aS5nZXRSYW5nZUluZm8oKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6ImNhbGVuZGFyIix4OnQueCx5OnQueSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxjZWxsV2lkdGg6aS5nZXRDZWxsV2lkdGgoKSxjZWxsSGVpZ2h0OmkuZ2V0Q2VsbEhlaWdodCgpLHJhbmdlSW5mbzp7c3RhcnQ6ZS5zdGFydCxlbmQ6ZS5lbmQsd2Vla3M6ZS53ZWVrcyxkYXlDb3VudDplLmFsbERheX19LGFwaTp7Y29vcmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5kYXRhVG9Qb2ludCh0LGUpfX19fX07ZnVuY3Rpb24gU1QodCxlLGksbixvKXtudWxsPT1pW3RdfHxvfHwoZVt0XT1pW3RdLGlbdF09blt0XSl9ZnVuY3Rpb24gTVQoYSxyLGUsdCl7dmFyIGk9YS5nZXQoInJlbmRlckl0ZW0iKSxuPWEuY29vcmRpbmF0ZVN5c3RlbSxvPXt9O24mJihvPW4ucHJlcGFyZUN1c3RvbXM/bi5wcmVwYXJlQ3VzdG9tcygpOmJUW24udHlwZV0obikpO3ZhciBzLGwsdSxoLGMsZD1EKHtnZXRXaWR0aDp0LmdldFdpZHRoLGdldEhlaWdodDp0LmdldEhlaWdodCxnZXRacjp0LmdldFpyLGdldERldmljZVBpeGVsUmF0aW86dC5nZXREZXZpY2VQaXhlbFJhdGlvLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PWUmJihlPXMpLHIuZ2V0KHIuZ2V0RGltZW5zaW9uKHR8fDApLGUpfSxzdHlsZTpmdW5jdGlvbih0LGUpe251bGw9PWUmJihlPXMpLGcoZSk7dmFyIGk9bC5nZXRNb2RlbCh2VCkuZ2V0SXRlbVN0eWxlKCk7bnVsbCE9YyYmKGkuZmlsbD1jKTt2YXIgbj1yLmdldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIpO251bGwhPW4mJihpLm9wYWNpdHk9bik7dmFyIG89dD9DVCh0LHUpOnU7cmV0dXJuIG5sKGksbyxudWxsLHthdXRvQ29sb3I6Yyxpc1JlY3RUZXh0OiEwfSksaS50ZXh0PW8uZ2V0U2hhbGxvdygic2hvdyIpP0goYS5nZXRGb3JtYXR0ZWRMYWJlbChlLCJub3JtYWwiKSxVZyhyLGUpKTpudWxsLHQmJkxUKGksdCksaX0sc3R5bGVFbXBoYXNpczpmdW5jdGlvbih0LGUpe251bGw9PWUmJihlPXMpLGcoZSk7dmFyIGk9bC5nZXRNb2RlbCh5VCkuZ2V0SXRlbVN0eWxlKCksbj10P0NUKHQsaCk6aDtyZXR1cm4gbmwoaSxuLG51bGwse2lzUmVjdFRleHQ6ITB9LCEwKSxpLnRleHQ9bi5nZXRTaGFsbG93KCJzaG93Iik/WihhLmdldEZvcm1hdHRlZExhYmVsKGUsImVtcGhhc2lzIiksYS5nZXRGb3JtYXR0ZWRMYWJlbChlLCJub3JtYWwiKSxVZyhyLGUpKTpudWxsLHQmJkxUKGksdCksaX0sdmlzdWFsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PWUmJihlPXMpLHIuZ2V0SXRlbVZpc3VhbChlLHQpfSxiYXJMYXlvdXQ6ZnVuY3Rpb24odCl7aWYobi5nZXRCYXNlQXhpcyl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPVtdLGk9dC5heGlzO2lmKCJjYXRlZ29yeSI9PT1pLnR5cGUpe2Zvcih2YXIgbj1pLmdldEJhbmRXaWR0aCgpLG89MDtvPHQuY291bnQ7bysrKWUucHVzaChEKHtiYW5kV2lkdGg6bixheGlzS2V5OiJheGlzMCIsc3RhY2tJZDpDcCtvfSx0KSk7dmFyIGE9UnAoZSkscj1bXTtmb3Iobz0wO288dC5jb3VudDtvKyspe3ZhciBzPWEuYXhpczBbQ3Arb107cy5vZmZzZXRDZW50ZXI9cy5vZmZzZXQrcy53aWR0aC8yLHIucHVzaChzKX1yZXR1cm4gcn19KEQoe2F4aXM6bi5nZXRCYXNlQXhpcygpfSx0KSl9fSxjdXJyZW50U2VyaWVzSW5kaWNlczpmdW5jdGlvbigpe3JldHVybiBlLmdldEN1cnJlbnRTZXJpZXNJbmRpY2VzKCl9LGZvbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHVsKHQsZSl9fSxvLmFwaXx8e30pLGY9e2NvbnRleHQ6e30sc2VyaWVzSWQ6YS5pZCxzZXJpZXNOYW1lOmEubmFtZSxzZXJpZXNJbmRleDphLnNlcmllc0luZGV4LGNvb3JkU3lzOm8uY29vcmRTeXMsZGF0YUluc2lkZUxlbmd0aDpyLmNvdW50KCksZW5jb2RlOmZ1bmN0aW9uKG8pe3ZhciBhPXt9O3JldHVybiBSKG8uZGltZW5zaW9ucyxmdW5jdGlvbih0LGUpe3ZhciBpPW8uZ2V0RGltZW5zaW9uSW5mbyh0KTtpZighaS5pc0V4dHJhQ29vcmQpe3ZhciBuPWkuY29vcmREaW07KGFbbl09YVtuXXx8W10pW2kuY29vcmREaW1JbmRleF09ZX19KSxhfShhLmdldERhdGEoKSl9LHA9ITA7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHM9dCxwPSEwLGkmJmkoRCh7ZGF0YUluZGV4SW5zaWRlOnQsZGF0YUluZGV4OnIuZ2V0UmF3SW5kZXgodCksYWN0aW9uVHlwZTplP2UudHlwZTpudWxsfSxmKSxkKX07ZnVuY3Rpb24gZyh0KXtudWxsPT10JiYodD1zKSxwJiYobD1yLmdldEl0ZW1Nb2RlbCh0KSx1PWwuZ2V0TW9kZWwoeFQpLGg9bC5nZXRNb2RlbChfVCksYz1yLmdldEl0ZW1WaXN1YWwodCwiY29sb3IiKSxwPSExKX19ZnVuY3Rpb24gSVQodCxlLGksbixvLGEpe3JldHVybih0PVRUKHQsZSxpLG4sbyxhLCEwKSkmJmEuc2V0SXRlbUdyYXBoaWNFbChlLHQpLHR9ZnVuY3Rpb24gVFQodCxlLGksbixvLGEscil7dmFyIHM9IWksbD0oaT1pfHx7fSkudHlwZSx1PWkuc2hhcGUsaD1pLnN0eWxlO2lmKHQmJihzfHxudWxsIT1sJiZsIT09dC5fX2N1c3RvbUdyYXBoaWNUeXBlfHwicGF0aCI9PT1sJiZmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoInBhdGhEYXRhIil8fHQuaGFzT3duUHJvcGVydHkoImQiKSl9KHUpJiZQVCh1KSE9PXQuX19jdXN0b21QYXRoRGF0YXx8ImltYWdlIj09PWwmJk5UKGgsImltYWdlIikmJmguaW1hZ2UhPT10Ll9fY3VzdG9tSW1hZ2VQYXRofHwidGV4dCI9PT1sJiZOVCh1LCJ0ZXh0IikmJmgudGV4dCE9PXQuX19jdXN0b21UZXh0KSYmKG8ucmVtb3ZlKHQpLHQ9bnVsbCksIXMpe3ZhciBjPSF0O3JldHVybiBmdW5jdGlvbihlLHQsaSxuLG8sYSxyKXt2YXIgcz17fSxsPWkuc3R5bGV8fHt9O2lmKGkuc2hhcGUmJihzLnNoYXBlPWsoaS5zaGFwZSkpLGkucG9zaXRpb24mJihzLnBvc2l0aW9uPWkucG9zaXRpb24uc2xpY2UoKSksaS5zY2FsZSYmKHMuc2NhbGU9aS5zY2FsZS5zbGljZSgpKSxpLm9yaWdpbiYmKHMub3JpZ2luPWkub3JpZ2luLnNsaWNlKCkpLGkucm90YXRpb24mJihzLnJvdGF0aW9uPWkucm90YXRpb24pLCJpbWFnZSI9PT1lLnR5cGUmJmkuc3R5bGUpe3ZhciB1PXMuc3R5bGU9e307UihbIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbih0KXtTVCh0LHUsbCxlLnN0eWxlLGEpfSl9aWYoInRleHQiPT09ZS50eXBlJiZpLnN0eWxlKXt1PXMuc3R5bGU9e307UihbIngiLCJ5Il0sZnVuY3Rpb24odCl7U1QodCx1LGwsZS5zdHlsZSxhKX0pLCFsLmhhc093blByb3BlcnR5KCJ0ZXh0RmlsbCIpJiZsLmZpbGwmJihsLnRleHRGaWxsPWwuZmlsbCksIWwuaGFzT3duUHJvcGVydHkoInRleHRTdHJva2UiKSYmbC5zdHJva2UmJihsLnRleHRTdHJva2U9bC5zdHJva2UpfWlmKCJncm91cCIhPT1lLnR5cGUmJihlLnVzZVN0eWxlKGwpLGEpKXtlLnN0eWxlLm9wYWNpdHk9MDt2YXIgaD1sLm9wYWNpdHk7bnVsbD09aCYmKGg9MSksZGwoZSx7c3R5bGU6e29wYWNpdHk6aH19LG4sdCl9YT9lLmF0dHIocyk6Y2woZSxzLG4sdCksaS5oYXNPd25Qcm9wZXJ0eSgiejIiKSYmZS5hdHRyKCJ6MiIsaS56Mnx8MCksaS5oYXNPd25Qcm9wZXJ0eSgic2lsZW50IikmJmUuYXR0cigic2lsZW50IixpLnNpbGVudCksaS5oYXNPd25Qcm9wZXJ0eSgiaW52aXNpYmxlIikmJmUuYXR0cigiaW52aXNpYmxlIixpLmludmlzaWJsZSksaS5oYXNPd25Qcm9wZXJ0eSgiaWdub3JlIikmJmUuYXR0cigiaWdub3JlIixpLmlnbm9yZSksaS5oYXNPd25Qcm9wZXJ0eSgiaW5mbyIpJiZlLmF0dHIoImluZm8iLGkuaW5mbyk7dmFyIGM9aS5zdHlsZUVtcGhhc2lzO1VzKGUsYyksciYmSnMoZSwhMSE9PWMpfSh0PXR8fGZ1bmN0aW9uKHQpe3ZhciBlLGk9dC50eXBlO2lmKCJwYXRoIj09PWkpe3ZhciBuPXQuc2hhcGUsbz1udWxsIT1uLndpZHRoJiZudWxsIT1uLmhlaWdodD97eDpuLnh8fDAseTpuLnl8fDAsd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHR9Om51bGwsYT1QVChuKTsoZT1QcyhhLG51bGwsbyxuLmxheW91dHx8ImNlbnRlciIpKS5fX2N1c3RvbVBhdGhEYXRhPWF9ZWxzZSBpZigiaW1hZ2UiPT09aSkoZT1uZXcgUW4oe30pKS5fX2N1c3RvbUltYWdlUGF0aD10LnN0eWxlLmltYWdlO2Vsc2UgaWYoInRleHQiPT09aSkoZT1uZXcgVXIoe30pKS5fX2N1c3RvbVRleHQ9dC5zdHlsZS50ZXh0O2Vsc2UgaWYoImdyb3VwIj09PWkpZT1uZXcgQ2k7ZWxzZXtpZigiY29tcG91bmRQYXRoIj09PWkpdGhyb3cgbmV3IEVycm9yKCciY29tcG91bmRQYXRoIiBpcyBub3Qgc3VwcG9ydGVkIHlldC4nKTtlPW5ldyhrcyhpKSl9cmV0dXJuIGUuX19jdXN0b21HcmFwaGljVHlwZT1pLGUubmFtZT10Lm5hbWUsZX0oaSksZSxpLG4sMCxjLHIpLCJncm91cCI9PT1sJiZmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuY2hpbGRyZW4scj1hP2EubGVuZ3RoOjAscz1pLiRtZXJnZUNoaWxkcmVuLGw9ImJ5TmFtZSI9PT1zfHxpLmRpZmZDaGlsZHJlbkJ5TmFtZSx1PSExPT09cztpZighciYmIWwmJiF1KXJldHVybjtpZihsKXJldHVybiBmdW5jdGlvbih0KXtuZXcga2YodC5vbGRDaGlsZHJlbix0Lm5ld0NoaWxkcmVuLEFULEFULHQpLmFkZChEVCkudXBkYXRlKERUKS5yZW1vdmUoa1QpLmV4ZWN1dGUoKX0oe29sZENoaWxkcmVuOnQuY2hpbGRyZW4oKXx8W10sbmV3Q2hpbGRyZW46YXx8W10sZGF0YUluZGV4OmUsYW5pbWF0YWJsZU1vZGVsOm4sZ3JvdXA6dCxkYXRhOm99KTt1JiZ0LnJlbW92ZUFsbCgpO2Zvcih2YXIgaD0wO2g8cjtoKyspYVtoXSYmVFQodC5jaGlsZEF0KGgpLGUsYVtoXSxuLHQsbyl9KHQsZSxpLG4sYSksby5hZGQodCksdH19ZnVuY3Rpb24gQVQodCxlKXt2YXIgaT10JiZ0Lm5hbWU7cmV0dXJuIG51bGwhPWk/aTp3VCtlfWZ1bmN0aW9uIERUKHQsZSl7dmFyIGk9dGhpcy5jb250ZXh0LG49bnVsbCE9dD9pLm5ld0NoaWxkcmVuW3RdOm51bGw7VFQobnVsbCE9ZT9pLm9sZENoaWxkcmVuW2VdOm51bGwsaS5kYXRhSW5kZXgsbixpLmFuaW1hdGFibGVNb2RlbCxpLmdyb3VwLGkuZGF0YSl9ZnVuY3Rpb24gQ1QoaSx0KXt2YXIgbj1uZXcgQ2woe30sdCk7cmV0dXJuIFIobVQsZnVuY3Rpb24odCxlKXtpLmhhc093blByb3BlcnR5KHQpJiYobi5vcHRpb25bZV09aVt0XSl9KSxufWZ1bmN0aW9uIExUKHQsZSl7Zm9yKHZhciBpIGluIGUpIWUuaGFzT3duUHJvcGVydHkoaSkmJm1ULmhhc093blByb3BlcnR5KGkpfHwodFtpXT1lW2ldKX1mdW5jdGlvbiBrVCh0KXt2YXIgZT10aGlzLmNvbnRleHQsaT1lLm9sZENoaWxkcmVuW3RdO2kmJmUuZ3JvdXAucmVtb3ZlKGkpfWZ1bmN0aW9uIFBUKHQpe3JldHVybiB0JiYodC5wYXRoRGF0YXx8dC5kKX1mdW5jdGlvbiBOVCh0LGUpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIE9UKHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8Il9fZWNfc3RhY2tfIit0LnNlcmllc0luZGV4fWZ1bmN0aW9uIFJUKHQsZSl7cmV0dXJuIGUuZGltK3QubW9kZWwuY29tcG9uZW50SW5kZXh9ZnVuY3Rpb24gelQodCxlKXtHZy5jYWxsKHRoaXMsInJhZGl1cyIsdCxlKSx0aGlzLnR5cGU9ImNhdGVnb3J5In1zYy5leHRlbmQoe3R5cGU6InNlcmllcy5jdXN0b20iLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGRlZmF1bHRPcHRpb246e2Nvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLHVzZVRyYW5zZm9ybTohMCxjbGlwOiExfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBncCh0aGlzLmdldFNvdXJjZSgpLHRoaXMpfSxnZXREYXRhUGFyYW1zOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1zYy5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGkmJihuLmluZm89aS5pbmZvKSxufX0pLF9jLmV4dGVuZCh7dHlwZToiY3VzdG9tIixfZGF0YTpudWxsLHJlbmRlcjpmdW5jdGlvbihpLHQsZSxuKXt2YXIgbz10aGlzLl9kYXRhLGE9aS5nZXREYXRhKCkscj10aGlzLmdyb3VwLHM9TVQoaSxhLHQsZSk7YS5kaWZmKG8pLmFkZChmdW5jdGlvbih0KXtJVChudWxsLHQscyh0LG4pLGkscixhKX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe0lUKG8uZ2V0SXRlbUdyYXBoaWNFbChlKSx0LHModCxuKSxpLHIsYSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJnIucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpO3ZhciBsPWkuZ2V0KCJjbGlwIiwhMCk/U20oaS5jb29yZGluYXRlU3lzdGVtLCExLGkpOm51bGw7bD9yLnNldENsaXBQYXRoKGwpOnIucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9kYXRhPWF9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9ZS5nZXREYXRhKCkscj1NVChlLGEsaSxuKTtmdW5jdGlvbiBzKHQpe3QuaXNHcm91cHx8KHQuaW5jcmVtZW50YWw9ITAsdC51c2VIb3ZlckxheWVyPSEwKX1mb3IodmFyIGw9dC5zdGFydDtsPHQuZW5kO2wrKyl7SVQobnVsbCxsLHIobCxvKSxlLHRoaXMuZ3JvdXAsYSkudHJhdmVyc2Uocyl9fSxkaXNwb3NlOmV0LGZpbHRlckZvckV4cG9zZWRFdmVudDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLmVsZW1lbnQ7aWYobnVsbD09b3x8aS5uYW1lPT09bylyZXR1cm4hMDtmb3IoOyhpPWkucGFyZW50KSYmaSE9PXRoaXMuZ3JvdXA7KWlmKGkubmFtZT09PW8pcmV0dXJuITA7cmV0dXJuITF9fSkselQucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp6VCxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBvbGFyLnBvaW50VG9EYXRhKHQsZSlbInJhZGl1cyI9PT10aGlzLmRpbT8wOjFdfSxkYXRhVG9SYWRpdXM6R2cucHJvdG90eXBlLmRhdGFUb0Nvb3JkLHJhZGl1c1RvRGF0YTpHZy5wcm90b3R5cGUuY29vcmRUb0RhdGF9LHcoelQsR2cpO3ZhciBFVD1qbygpO2Z1bmN0aW9uIEJUKHQsZSl7ZT1lfHxbMCwzNjBdLEdnLmNhbGwodGhpcywiYW5nbGUiLHQsZSksdGhpcy50eXBlPSJjYXRlZ29yeSJ9QlQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpCVCxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBvbGFyLnBvaW50VG9EYXRhKHQsZSlbInJhZGl1cyI9PT10aGlzLmRpbT8wOjFdfSxkYXRhVG9BbmdsZTpHZy5wcm90b3R5cGUuZGF0YVRvQ29vcmQsYW5nbGVUb0RhdGE6R2cucHJvdG90eXBlLmNvb3JkVG9EYXRhLGNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldExhYmVsTW9kZWwoKSxlPXRoaXMuc2NhbGUsaT1lLmdldEV4dGVudCgpLG49ZS5jb3VudCgpO2lmKGlbMV0taVswXTwxKXJldHVybiAwO3ZhciBvPWlbMF0sYT10aGlzLmRhdGFUb0Nvb3JkKG8rMSktdGhpcy5kYXRhVG9Db29yZChvKSxyPU1hdGguYWJzKGEpLHM9Z24obyx0LmdldEZvbnQoKSwiY2VudGVyIiwidG9wIiksbD1NYXRoLm1heChzLmhlaWdodCw3KS9yO2lzTmFOKGwpJiYobD0xLzApO3ZhciB1PU1hdGgubWF4KDAsTWF0aC5mbG9vcihsKSksaD1FVCh0aGlzLm1vZGVsKSxjPWgubGFzdEF1dG9JbnRlcnZhbCxkPWgubGFzdFRpY2tDb3VudDtyZXR1cm4gbnVsbCE9YyYmbnVsbCE9ZCYmTWF0aC5hYnMoYy11KTw9MSYmTWF0aC5hYnMoZC1uKTw9MSYmdTxjP3U9YzooaC5sYXN0VGlja0NvdW50PW4saC5sYXN0QXV0b0ludGVydmFsPXUpLHV9fSx3KEJULEdnKTtmdW5jdGlvbiBWVCh0KXt0aGlzLm5hbWU9dHx8IiIsdGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLl9yYWRpdXNBeGlzPW5ldyB6VCx0aGlzLl9hbmdsZUF4aXM9bmV3IEJULHRoaXMuX3JhZGl1c0F4aXMucG9sYXI9dGhpcy5fYW5nbGVBeGlzLnBvbGFyPXRoaXN9VlQucHJvdG90eXBlPXt0eXBlOiJwb2xhciIsYXhpc1BvaW50ZXJFbmFibGVkOiEwLGNvbnN0cnVjdG9yOlZULGRpbWVuc2lvbnM6WyJyYWRpdXMiLCJhbmdsZSJdLG1vZGVsOm51bGwsY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9pbnRUb0Nvb3JkKHQpO3JldHVybiB0aGlzLl9yYWRpdXNBeGlzLmNvbnRhaW4oZVswXSkmJnRoaXMuX2FuZ2xlQXhpcy5jb250YWluKGVbMV0pfSxjb250YWluRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpcy5jb250YWluRGF0YSh0WzBdKSYmdGhpcy5fYW5nbGVBeGlzLmNvbnRhaW5EYXRhKHRbMV0pfSxnZXRBeGlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWyJfIit0KyJBeGlzIl19LGdldEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fcmFkaXVzQXhpcyx0aGlzLl9hbmdsZUF4aXNdfSxnZXRBeGVzQnlTY2FsZTpmdW5jdGlvbih0KXt2YXIgZT1bXSxpPXRoaXMuX2FuZ2xlQXhpcyxuPXRoaXMuX3JhZGl1c0F4aXM7cmV0dXJuIGkuc2NhbGUudHlwZT09PXQmJmUucHVzaChpKSxuLnNjYWxlLnR5cGU9PT10JiZlLnB1c2gobiksZX0sZ2V0QW5nbGVBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuZ2xlQXhpc30sZ2V0UmFkaXVzQXhpczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXNBeGlzfSxnZXRPdGhlckF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYW5nbGVBeGlzO3JldHVybiB0PT09ZT90aGlzLl9yYWRpdXNBeGlzOmV9LGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhlc0J5U2NhbGUoIm9yZGluYWwiKVswXXx8dGhpcy5nZXRBeGVzQnlTY2FsZSgidGltZSIpWzBdfHx0aGlzLmdldEFuZ2xlQXhpcygpfSxnZXRUb29sdGlwQXhlczpmdW5jdGlvbih0KXt2YXIgZT1udWxsIT10JiYiYXV0byIhPT10P3RoaXMuZ2V0QXhpcyh0KTp0aGlzLmdldEJhc2VBeGlzKCk7cmV0dXJue2Jhc2VBeGVzOltlXSxvdGhlckF4ZXM6W3RoaXMuZ2V0T3RoZXJBeGlzKGUpXX19LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRUb1BvaW50KFt0aGlzLl9yYWRpdXNBeGlzLmRhdGFUb1JhZGl1cyh0WzBdLGUpLHRoaXMuX2FuZ2xlQXhpcy5kYXRhVG9BbmdsZSh0WzFdLGUpXSl9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5wb2ludFRvQ29vcmQodCk7cmV0dXJuW3RoaXMuX3JhZGl1c0F4aXMucmFkaXVzVG9EYXRhKGlbMF0sZSksdGhpcy5fYW5nbGVBeGlzLmFuZ2xlVG9EYXRhKGlbMV0sZSldfSxwb2ludFRvQ29vcmQ6ZnVuY3Rpb24odCl7dmFyIGU9dFswXS10aGlzLmN4LGk9dFsxXS10aGlzLmN5LG49dGhpcy5nZXRBbmdsZUF4aXMoKSxvPW4uZ2V0RXh0ZW50KCksYT1NYXRoLm1pbihvWzBdLG9bMV0pLHI9TWF0aC5tYXgob1swXSxvWzFdKTtuLmludmVyc2U/YT1yLTM2MDpyPWErMzYwO3ZhciBzPU1hdGguc3FydChlKmUraSppKTtlLz1zLGkvPXM7Zm9yKHZhciBsPU1hdGguYXRhbjIoLWksZSkvTWF0aC5QSSoxODAsdT1sPGE/MTotMTtsPGF8fHI8bDspbCs9MzYwKnU7cmV0dXJuW3MsbF19LGNvb3JkVG9Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10WzBdLGk9dFsxXS8xODAqTWF0aC5QSTtyZXR1cm5bTWF0aC5jb3MoaSkqZSt0aGlzLmN4LC1NYXRoLnNpbihpKSplK3RoaXMuY3ldfSxnZXRBcmVhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRBbmdsZUF4aXMoKSxlPXRoaXMuZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpLnNsaWNlKCk7ZVswXT5lWzFdJiZlLnJldmVyc2UoKTt2YXIgaT10LmdldEV4dGVudCgpLG49TWF0aC5QSS8xODA7cmV0dXJue2N4OnRoaXMuY3gsY3k6dGhpcy5jeSxyMDplWzBdLHI6ZVsxXSxzdGFydEFuZ2xlOi1pWzBdKm4sZW5kQW5nbGU6LWlbMV0qbixjbG9ja3dpc2U6dC5pbnZlcnNlLGNvbnRhaW46ZnVuY3Rpb24odCxlKXt2YXIgaT10LXRoaXMuY3gsbj1lLXRoaXMuY3ksbz1pKmkrbipuLGE9dGhpcy5yLHI9dGhpcy5yMDtyZXR1cm4gbzw9YSphJiZyKnI8PW99fX19O3ZhciBHVD1rdS5leHRlbmQoe3R5cGU6InBvbGFyQXhpcyIsYXhpczpudWxsLGdldENvb3JkU3lzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6InBvbGFyIixpbmRleDp0aGlzLm9wdGlvbi5wb2xhckluZGV4LGlkOnRoaXMub3B0aW9uLnBvbGFySWR9KVswXX19KTttKEdULnByb3RvdHlwZSxkZyk7dmFyIEZUPXtzcGxpdE51bWJlcjo1fTtmdW5jdGlvbiBXVCh0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/ImNhdGVnb3J5IjoidmFsdWUiKX1mdW5jdGlvbiBIVCh0LGUpe3ZhciBpPXRoaXMsbj1pLmdldEFuZ2xlQXhpcygpLG89aS5nZXRSYWRpdXNBeGlzKCk7aWYobi5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApLG8uc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYodC5jb29yZGluYXRlU3lzdGVtPT09aSl7dmFyIGU9dC5nZXREYXRhKCk7UihlLm1hcERpbWVuc2lvbigicmFkaXVzIiwhMCksZnVuY3Rpb24odCl7by5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGUscHAoZSx0KSl9KSxSKGUubWFwRGltZW5zaW9uKCJhbmdsZSIsITApLGZ1bmN0aW9uKHQpe24uc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHBwKGUsdCkpfSl9fSkscmcobi5zY2FsZSxuLm1vZGVsKSxyZyhvLnNjYWxlLG8ubW9kZWwpLCJjYXRlZ29yeSI9PT1uLnR5cGUmJiFuLm9uQmFuZCl7dmFyIGE9bi5nZXRFeHRlbnQoKSxyPTM2MC9uLnNjYWxlLmNvdW50KCk7bi5pbnZlcnNlP2FbMV0rPXI6YVsxXS09cixuLnNldEV4dGVudChhWzBdLGFbMV0pfX1mdW5jdGlvbiBaVCh0LGUpe2lmKHQudHlwZT1lLmdldCgidHlwZSIpLHQuc2NhbGU9c2coZSksdC5vbkJhbmQ9ZS5nZXQoImJvdW5kYXJ5R2FwIikmJiJjYXRlZ29yeSI9PT10LnR5cGUsdC5pbnZlcnNlPWUuZ2V0KCJpbnZlcnNlIiksImFuZ2xlQXhpcyI9PT1lLm1haW5UeXBlKXt0LmludmVyc2VePWUuZ2V0KCJjbG9ja3dpc2UiKTt2YXIgaT1lLmdldCgic3RhcnRBbmdsZSIpO3Quc2V0RXh0ZW50KGksaSsodC5pbnZlcnNlPy0zNjA6MzYwKSl9KGUuYXhpcz10KS5tb2RlbD1lfUdtKCJhbmdsZSIsR1QsV1Qse3N0YXJ0QW5nbGU6OTAsY2xvY2t3aXNlOiEwLHNwbGl0TnVtYmVyOjEyLGF4aXNMYWJlbDp7cm90YXRlOiExfX0pLEdtKCJyYWRpdXMiLEdULFdULEZUKSxUZih7dHlwZToicG9sYXIiLGRlcGVuZGVuY2llczpbInBvbGFyQXhpcyIsImFuZ2xlQXhpcyJdLGNvb3JkaW5hdGVTeXN0ZW06bnVsbCxmaW5kQXhpc01vZGVsOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLmVjTW9kZWwuZWFjaENvbXBvbmVudCh0LGZ1bmN0aW9uKHQpe3QuZ2V0Q29vcmRTeXNNb2RlbCgpPT09dGhpcyYmKGU9dCl9LHRoaXMpLGV9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxjZW50ZXI6WyI1MCUiLCI1MCUiXSxyYWRpdXM6IjgwJSJ9fSksbGgucmVnaXN0ZXIoInBvbGFyIix7ZGltZW5zaW9uczpWVC5wcm90b3R5cGUuZGltZW5zaW9ucyxjcmVhdGU6ZnVuY3Rpb24oaSxzKXt2YXIgbD1bXTtyZXR1cm4gaS5lYWNoQ29tcG9uZW50KCJwb2xhciIsZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgVlQoZSk7aS51cGRhdGU9SFQ7dmFyIG49aS5nZXRSYWRpdXNBeGlzKCksbz1pLmdldEFuZ2xlQXhpcygpLGE9dC5maW5kQXhpc01vZGVsKCJyYWRpdXNBeGlzIikscj10LmZpbmRBeGlzTW9kZWwoImFuZ2xlQXhpcyIpO1pUKG4sYSksWlQobyxyKSxmdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5nZXQoImNlbnRlciIpLG89aS5nZXRXaWR0aCgpLGE9aS5nZXRIZWlnaHQoKTt0LmN4PXpsKG5bMF0sbyksdC5jeT16bChuWzFdLGEpO3ZhciByPXQuZ2V0UmFkaXVzQXhpcygpLHM9TWF0aC5taW4obyxhKS8yLGw9ZS5nZXQoInJhZGl1cyIpO251bGw9PWw/bD1bMCwiMTAwJSJdOkwobCl8fChsPVswLGxdKSxsPVt6bChsWzBdLHMpLHpsKGxbMV0scyldLHIuaW52ZXJzZT9yLnNldEV4dGVudChsWzFdLGxbMF0pOnIuc2V0RXh0ZW50KGxbMF0sbFsxXSl9KGksdCxzKSxsLnB1c2goaSksKHQuY29vcmRpbmF0ZVN5c3RlbT1pKS5tb2RlbD10fSksaS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKCJwb2xhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT1pLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6InBvbGFyIixpbmRleDp0LmdldCgicG9sYXJJbmRleCIpLGlkOnQuZ2V0KCJwb2xhcklkIil9KVswXTt0LmNvb3JkaW5hdGVTeXN0ZW09ZS5jb29yZGluYXRlU3lzdGVtfX0pLGx9fSk7dmFyIFVUPVsiYXhpc0xpbmUiLCJheGlzTGFiZWwiLCJheGlzVGljayIsIm1pbm9yVGljayIsInNwbGl0TGluZSIsIm1pbm9yU3BsaXRMaW5lIiwic3BsaXRBcmVhIl07ZnVuY3Rpb24gWFQodCxlLGkpe2VbMV0+ZVswXSYmKGU9ZS5zbGljZSgpLnJldmVyc2UoKSk7dmFyIG49dC5jb29yZFRvUG9pbnQoW2VbMF0saV0pLG89dC5jb29yZFRvUG9pbnQoW2VbMV0saV0pO3JldHVybnt4MTpuWzBdLHkxOm5bMV0seDI6b1swXSx5MjpvWzFdfX1mdW5jdGlvbiBZVCh0KXtyZXR1cm4gdC5nZXRSYWRpdXNBeGlzKCkuaW52ZXJzZT8wOjF9ZnVuY3Rpb24galQodCl7dmFyIGU9dFswXSxpPXRbdC5sZW5ndGgtMV07ZSYmaSYmTWF0aC5hYnMoTWF0aC5hYnMoZS5jb29yZC1pLmNvb3JkKS0zNjApPDFlLTQmJnQucG9wKCl9bXYuZXh0ZW5kKHt0eXBlOiJhbmdsZUF4aXMiLGF4aXNQb2ludGVyQ2xhc3M6IlBvbGFyQXhpc1BvaW50ZXIiLHJlbmRlcjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksZS5nZXQoInNob3ciKSl7dmFyIGk9ZS5heGlzLG49aS5wb2xhcixvPW4uZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpLGE9aS5nZXRUaWNrc0Nvb3JkcygpLHI9aS5nZXRNaW5vclRpY2tzQ29vcmRzKCkscz1PKGkuZ2V0Vmlld0xhYmVscygpLGZ1bmN0aW9uKHQpe3JldHVybih0PWsodCkpLmNvb3JkPWkuZGF0YVRvQ29vcmQodC50aWNrVmFsdWUpLHR9KTtqVChzKSxqVChhKSxSKFVULGZ1bmN0aW9uKHQpeyFlLmdldCh0KyIuc2hvdyIpfHxpLnNjYWxlLmlzQmxhbmsoKSYmImF4aXNMaW5lIiE9PXR8fHRoaXNbIl8iK3RdKGUsbixhLHIsbyxzKX0sdGhpcyl9fSxfYXhpc0xpbmU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYSxyPXQuZ2V0TW9kZWwoImF4aXNMaW5lLmxpbmVTdHlsZSIpLHM9WVQoZSksbD1zPzA6MTsoYT0wPT09b1tsXT9uZXcgWXIoe3NoYXBlOntjeDplLmN4LGN5OmUuY3kscjpvW3NdfSxzdHlsZTpyLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSk6bmV3IEtyKHtzaGFwZTp7Y3g6ZS5jeCxjeTplLmN5LHI6b1tzXSxyMDpvW2xdfSxzdHlsZTpyLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSkpLnN0eWxlLmZpbGw9bnVsbCx0aGlzLmdyb3VwLmFkZChhKX0sX2F4aXNUaWNrOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXRNb2RlbCgiYXhpc1RpY2siKSxyPShhLmdldCgiaW5zaWRlIik/LTE6MSkqYS5nZXQoImxlbmd0aCIpLHM9b1tZVChlKV0sbD1PKGksZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBscyh7c2hhcGU6WFQoZSxbcyxzK3JdLHQuY29vcmQpfSl9KTt0aGlzLmdyb3VwLmFkZChScyhsLHtzdHlsZTpEKGEuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHtzdHJva2U6dC5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpfSl9KSl9LF9taW5vclRpY2s6ZnVuY3Rpb24odCxlLGksbixvKXtpZihuLmxlbmd0aCl7Zm9yKHZhciBhPXQuZ2V0TW9kZWwoImF4aXNUaWNrIikscj10LmdldE1vZGVsKCJtaW5vclRpY2siKSxzPShhLmdldCgiaW5zaWRlIik/LTE6MSkqci5nZXQoImxlbmd0aCIpLGw9b1tZVChlKV0sdT1bXSxoPTA7aDxuLmxlbmd0aDtoKyspZm9yKHZhciBjPTA7YzxuW2hdLmxlbmd0aDtjKyspdS5wdXNoKG5ldyBscyh7c2hhcGU6WFQoZSxbbCxsK3NdLG5baF1bY10uY29vcmQpfSkpO3RoaXMuZ3JvdXAuYWRkKFJzKHUse3N0eWxlOkQoci5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksRChhLmdldExpbmVTdHlsZSgpLHtzdHJva2U6dC5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpfSkpfSkpfX0sX2F4aXNMYWJlbDpmdW5jdGlvbihjLGQsdCxlLGYsaSl7dmFyIHA9Yy5nZXRDYXRlZ29yaWVzKCEwKSxnPWMuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLG09Zy5nZXQoIm1hcmdpbiIpLHY9Yy5nZXQoInRyaWdnZXJFdmVudCIpO1IoaSxmdW5jdGlvbih0LGUpe3ZhciBpPWcsbj10LnRpY2tWYWx1ZSxvPWZbWVQoZCldLGE9ZC5jb29yZFRvUG9pbnQoW28rbSx0LmNvb3JkXSkscj1kLmN4LHM9ZC5jeSxsPU1hdGguYWJzKGFbMF0tcikvbzwuMz8iY2VudGVyIjphWzBdPnI/ImxlZnQiOiJyaWdodCIsdT1NYXRoLmFicyhhWzFdLXMpL288LjM/Im1pZGRsZSI6YVsxXT5zPyJ0b3AiOiJib3R0b20iO3AmJnBbbl0mJnBbbl0udGV4dFN0eWxlJiYoaT1uZXcgQ2wocFtuXS50ZXh0U3R5bGUsZyxnLmVjTW9kZWwpKTt2YXIgaD1uZXcgVXIoe3NpbGVudDpRbS5pc0xhYmVsU2lsZW50KGMpfSk7dGhpcy5ncm91cC5hZGQoaCksbmwoaC5zdHlsZSxpLHt4OmFbMF0seTphWzFdLHRleHRGaWxsOmkuZ2V0VGV4dENvbG9yKCl8fGMuZ2V0KCJheGlzTGluZS5saW5lU3R5bGUuY29sb3IiKSx0ZXh0OnQuZm9ybWF0dGVkTGFiZWwsdGV4dEFsaWduOmwsdGV4dFZlcnRpY2FsQWxpZ246dX0pLHYmJihoLmV2ZW50RGF0YT1RbS5tYWtlQXhpc0V2ZW50RGF0YUJhc2UoYyksaC5ldmVudERhdGEudGFyZ2V0VHlwZT0iYXhpc0xhYmVsIixoLmV2ZW50RGF0YS52YWx1ZT10LnJhd0xhYmVsKX0sdGhpcyl9LF9zcGxpdExpbmU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscj1hLmdldCgiY29sb3IiKSxzPTA7cj1yIGluc3RhbmNlb2YgQXJyYXk/cjpbcl07Zm9yKHZhciBsPVtdLHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGg9cysrJXIubGVuZ3RoO2xbaF09bFtoXXx8W10sbFtoXS5wdXNoKG5ldyBscyh7c2hhcGU6WFQoZSxvLGlbdV0uY29vcmQpfSkpfWZvcih1PTA7dTxsLmxlbmd0aDt1KyspdGhpcy5ncm91cC5hZGQoUnMobFt1XSx7c3R5bGU6RCh7c3Ryb2tlOnJbdSVyLmxlbmd0aF19LGEuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6OnQuZ2V0KCJ6Iil9KSl9LF9taW5vclNwbGl0TGluZTpmdW5jdGlvbih0LGUsaSxuLG8pe2lmKG4ubGVuZ3RoKXtmb3IodmFyIGE9dC5nZXRNb2RlbCgibWlub3JTcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscj1bXSxzPTA7czxuLmxlbmd0aDtzKyspZm9yKHZhciBsPTA7bDxuW3NdLmxlbmd0aDtsKyspci5wdXNoKG5ldyBscyh7c2hhcGU6WFQoZSxvLG5bc11bbF0uY29vcmQpfSkpO3RoaXMuZ3JvdXAuYWRkKFJzKHIse3N0eWxlOmEuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHo6dC5nZXQoInoiKX0pKX19LF9zcGxpdEFyZWE6ZnVuY3Rpb24odCxlLGksbixvKXtpZihpLmxlbmd0aCl7dmFyIGE9dC5nZXRNb2RlbCgic3BsaXRBcmVhIikuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHI9YS5nZXQoImNvbG9yIikscz0wO3I9ciBpbnN0YW5jZW9mIEFycmF5P3I6W3JdO2Zvcih2YXIgbD1bXSx1PU1hdGguUEkvMTgwLGg9LWlbMF0uY29vcmQqdSxjPU1hdGgubWluKG9bMF0sb1sxXSksZD1NYXRoLm1heChvWzBdLG9bMV0pLGY9dC5nZXQoImNsb2Nrd2lzZSIpLHA9MTtwPGkubGVuZ3RoO3ArKyl7dmFyIGc9cysrJXIubGVuZ3RoO2xbZ109bFtnXXx8W10sbFtnXS5wdXNoKG5ldyBxcih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyMDpjLHI6ZCxzdGFydEFuZ2xlOmgsZW5kQW5nbGU6LWlbcF0uY29vcmQqdSxjbG9ja3dpc2U6Zn0sc2lsZW50OiEwfSkpLGg9LWlbcF0uY29vcmQqdX1mb3IocD0wO3A8bC5sZW5ndGg7cCsrKXRoaXMuZ3JvdXAuYWRkKFJzKGxbcF0se3N0eWxlOkQoe2ZpbGw6cltwJXIubGVuZ3RoXX0sYS5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwfSkpfX19KTt2YXIgcVQ9WyJheGlzTGluZSIsImF4aXNUaWNrTGFiZWwiLCJheGlzTmFtZSJdLEtUPVsic3BsaXRMaW5lIiwic3BsaXRBcmVhIiwibWlub3JTcGxpdExpbmUiXTttdi5leHRlbmQoe3R5cGU6InJhZGl1c0F4aXMiLGF4aXNQb2ludGVyQ2xhc3M6IlBvbGFyQXhpc1BvaW50ZXIiLHJlbmRlcjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksZS5nZXQoInNob3ciKSl7dmFyIGk9ZS5heGlzLG49aS5wb2xhcixvPW4uZ2V0QW5nbGVBeGlzKCksYT1pLmdldFRpY2tzQ29vcmRzKCkscj1pLmdldE1pbm9yVGlja3NDb29yZHMoKSxzPW8uZ2V0RXh0ZW50KClbMF0sbD1pLmdldEV4dGVudCgpLHU9ZnVuY3Rpb24odCxlLGkpe3JldHVybntwb3NpdGlvbjpbdC5jeCx0LmN5XSxyb3RhdGlvbjppLzE4MCpNYXRoLlBJLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxLGxhYmVsUm90YXRlOmUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLmdldCgicm90YXRlIiksejI6MX19KG4sZSxzKSxoPW5ldyBRbShlLHUpO1IocVQsaC5hZGQsaCksdGhpcy5ncm91cC5hZGQoaC5nZXRHcm91cCgpKSxSKEtULGZ1bmN0aW9uKHQpe2UuZ2V0KHQrIi5zaG93IikmJiFpLnNjYWxlLmlzQmxhbmsoKSYmdGhpc1siXyIrdF0oZSxuLHMsbCxhLHIpfSx0aGlzKX19LF9zcGxpdExpbmU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscj1hLmdldCgiY29sb3IiKSxzPTA7cj1yIGluc3RhbmNlb2YgQXJyYXk/cjpbcl07Zm9yKHZhciBsPVtdLHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGg9cysrJXIubGVuZ3RoO2xbaF09bFtoXXx8W10sbFtoXS5wdXNoKG5ldyBZcih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyOm9bdV0uY29vcmR9fSkpfWZvcih1PTA7dTxsLmxlbmd0aDt1KyspdGhpcy5ncm91cC5hZGQoUnMobFt1XSx7c3R5bGU6RCh7c3Ryb2tlOnJbdSVyLmxlbmd0aF0sZmlsbDpudWxsfSxhLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9LF9taW5vclNwbGl0TGluZTpmdW5jdGlvbih0LGUsaSxuLG8sYSl7aWYoYS5sZW5ndGgpe2Zvcih2YXIgcj10LmdldE1vZGVsKCJtaW5vclNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPVtdLGw9MDtsPGEubGVuZ3RoO2wrKylmb3IodmFyIHU9MDt1PGFbbF0ubGVuZ3RoO3UrKylzLnB1c2gobmV3IFlyKHtzaGFwZTp7Y3g6ZS5jeCxjeTplLmN5LHI6YVtsXVt1XS5jb29yZH19KSk7dGhpcy5ncm91cC5hZGQoUnMocyx7c3R5bGU6RCh7ZmlsbDpudWxsfSxyLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fSxfc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYoby5sZW5ndGgpe3ZhciBhPXQuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxyPWEuZ2V0KCJjb2xvciIpLHM9MDtyPXIgaW5zdGFuY2VvZiBBcnJheT9yOltyXTtmb3IodmFyIGw9W10sdT1vWzBdLmNvb3JkLGg9MTtoPG8ubGVuZ3RoO2grKyl7dmFyIGM9cysrJXIubGVuZ3RoO2xbY109bFtjXXx8W10sbFtjXS5wdXNoKG5ldyBxcih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyMDp1LHI6b1toXS5jb29yZCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJfSxzaWxlbnQ6ITB9KSksdT1vW2hdLmNvb3JkfWZvcihoPTA7aDxsLmxlbmd0aDtoKyspdGhpcy5ncm91cC5hZGQoUnMobFtoXSx7c3R5bGU6RCh7ZmlsbDpyW2glci5sZW5ndGhdfSxhLmdldEFyZWFTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fX0pO3ZhciAkVD1MSS5leHRlbmQoe21ha2VFbE9wdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuYXhpczsiYW5nbGUiPT09YS5kaW0mJih0aGlzLmFuaW1hdGlvblRocmVzaG9sZD1NYXRoLlBJLzE4KTt2YXIgcixzPWEucG9sYXIsbD1zLmdldE90aGVyQXhpcyhhKS5nZXRFeHRlbnQoKTtyPWFbImRhdGFUbyIrZnUoYS5kaW0pXShlKTt2YXIgdT1uLmdldCgidHlwZSIpO2lmKHUmJiJub25lIiE9PXUpe3ZhciBoPVJJKG4pLGM9SlRbdV0oYSxzLHIsbCxoKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y312YXIgZD1uLmdldCgibGFiZWwubWFyZ2luIik7ekkodCxpLG4sbyxmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWUuYXhpcyxyPWEuZGF0YVRvQ29vcmQodCkscz1uLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpWzBdO3M9cy8xODAqTWF0aC5QSTt2YXIgbCx1LGgsYz1uLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKTtpZigicmFkaXVzIj09PWEuZGltKXt2YXIgZD1hZSgpO2hlKGQsZCxzKSx1ZShkLGQsW24uY3gsbi5jeV0pLGw9cGwoW3IsLW9dLGQpO3ZhciBmPWUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLmdldCgicm90YXRlIil8fDAscD1RbS5pbm5lclRleHRMYXlvdXQocyxmKk1hdGguUEkvMTgwLC0xKTt1PXAudGV4dEFsaWduLGg9cC50ZXh0VmVydGljYWxBbGlnbn1lbHNle3ZhciBnPWNbMV07bD1uLmNvb3JkVG9Qb2ludChbZytvLHJdKTt2YXIgbT1uLmN4LHY9bi5jeTt1PU1hdGguYWJzKGxbMF0tbSkvZzwuMz8iY2VudGVyIjpsWzBdPm0/ImxlZnQiOiJyaWdodCIsaD1NYXRoLmFicyhsWzFdLXYpL2c8LjM/Im1pZGRsZSI6bFsxXT52PyJ0b3AiOiJib3R0b20ifXJldHVybntwb3NpdGlvbjpsLGFsaWduOnUsdmVydGljYWxBbGlnbjpofX0oZSxpLDAscyxkKSl9fSk7dmFyIEpUPXtsaW5lOmZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuImFuZ2xlIj09PXQuZGltP3t0eXBlOiJMaW5lIixzaGFwZTpHSShlLmNvb3JkVG9Qb2ludChbblswXSxpXSksZS5jb29yZFRvUG9pbnQoW25bMV0saV0pKX06e3R5cGU6IkNpcmNsZSIsc2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyOml9fX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9TWF0aC5tYXgoMSx0LmdldEJhbmRXaWR0aCgpKSxyPU1hdGguUEkvMTgwO3JldHVybiJhbmdsZSI9PT10LmRpbT97dHlwZToiU2VjdG9yIixzaGFwZTpXSShlLmN4LGUuY3ksblswXSxuWzFdLCgtaS1hLzIpKnIsKGEvMi1pKSpyKX06e3R5cGU6IlNlY3RvciIsc2hhcGU6V0koZS5jeCxlLmN5LGktYS8yLGkrYS8yLDAsMipNYXRoLlBJKX19fTtmdW5jdGlvbiBRVChuLHQpe3QudXBkYXRlPSJ1cGRhdGVWaWV3IixfZih0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9e307cmV0dXJuIGUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImdlbyIscXVlcnk6dH0sZnVuY3Rpb24oZSl7ZVtuXSh0Lm5hbWUpLFIoZS5jb29yZGluYXRlU3lzdGVtLnJlZ2lvbnMsZnVuY3Rpb24odCl7aVt0Lm5hbWVdPWUuaXNTZWxlY3RlZCh0Lm5hbWUpfHwhMX0pfSkse3NlbGVjdGVkOmksbmFtZTp0Lm5hbWV9fSl9bXYucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJQb2xhckF4aXNQb2ludGVyIiwkVCksYmYoVChmdW5jdGlvbih0LGUsaSl7dmFyIE49e30sTz1mdW5jdGlvbih0KXt2YXIgZz17fTtSKHQsZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPW4uZ2V0QmFzZUF4aXMoKSxhPVJUKG4sbykscj1vLmdldEV4dGVudCgpLHM9ImNhdGVnb3J5Ij09PW8udHlwZT9vLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKHJbMV0tclswXSkvaS5jb3VudCgpLGw9Z1thXXx8e2JhbmRXaWR0aDpzLHJlbWFpbmVkV2lkdGg6cyxhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOiIyMCUiLGdhcDoiMzAlIixzdGFja3M6e319LHU9bC5zdGFja3M7Z1thXT1sO3ZhciBoPU9UKHQpO3VbaF18fGwuYXV0b1dpZHRoQ291bnQrKyx1W2hdPXVbaF18fHt3aWR0aDowLG1heFdpZHRoOjB9O3ZhciBjPXpsKHQuZ2V0KCJiYXJXaWR0aCIpLHMpLGQ9emwodC5nZXQoImJhck1heFdpZHRoIikscyksZj10LmdldCgiYmFyR2FwIikscD10LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKTtjJiYhdVtoXS53aWR0aCYmKGM9TWF0aC5taW4obC5yZW1haW5lZFdpZHRoLGMpLHVbaF0ud2lkdGg9YyxsLnJlbWFpbmVkV2lkdGgtPWMpLGQmJih1W2hdLm1heFdpZHRoPWQpLG51bGwhPWYmJihsLmdhcD1mKSxudWxsIT1wJiYobC5jYXRlZ29yeUdhcD1wKX0pO3ZhciBkPXt9O3JldHVybiBSKGcsZnVuY3Rpb24odCxpKXtkW2ldPXt9O3ZhciBlPXQuc3RhY2tzLG49dC5iYW5kV2lkdGgsbz16bCh0LmNhdGVnb3J5R2FwLG4pLGE9emwodC5nYXAsMSkscj10LnJlbWFpbmVkV2lkdGgscz10LmF1dG9XaWR0aENvdW50LGw9KHItbykvKHMrKHMtMSkqYSk7bD1NYXRoLm1heChsLDApLFIoZSxmdW5jdGlvbih0LGUpe3ZhciBpPXQubWF4V2lkdGg7aSYmaTxsJiYoaT1NYXRoLm1pbihpLHIpLHQud2lkdGgmJihpPU1hdGgubWluKGksdC53aWR0aCkpLHItPWksdC53aWR0aD1pLHMtLSl9KSxsPShyLW8pLyhzKyhzLTEpKmEpLGw9TWF0aC5tYXgobCwwKTt2YXIgdSxoPTA7UihlLGZ1bmN0aW9uKHQsZSl7dC53aWR0aHx8KHQud2lkdGg9bCksaCs9KHU9dCkud2lkdGgqKDErYSl9KSx1JiYoaC09dS53aWR0aCphKTt2YXIgYz0taC8yO1IoZSxmdW5jdGlvbih0LGUpe2RbaV1bZV09ZFtpXVtlXXx8e29mZnNldDpjLHdpZHRoOnQud2lkdGh9LGMrPXQud2lkdGgqKDErYSl9KX0pLGR9KE0oZS5nZXRTZXJpZXNCeVR5cGUodCksZnVuY3Rpb24odCl7cmV0dXJuIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSYmdC5jb29yZGluYXRlU3lzdGVtJiYicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGV9KSk7ZS5lYWNoU2VyaWVzQnlUeXBlKHQsZnVuY3Rpb24odCl7aWYoInBvbGFyIj09PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlKXt2YXIgZT10LmdldERhdGEoKSxpPXQuY29vcmRpbmF0ZVN5c3RlbSxuPWkuZ2V0QmFzZUF4aXMoKSxvPVJUKGksbiksYT1PVCh0KSxyPU9bb11bYV0scz1yLm9mZnNldCxsPXIud2lkdGgsdT1pLmdldE90aGVyQXhpcyhuKSxoPXQuY29vcmRpbmF0ZVN5c3RlbS5jeCxjPXQuY29vcmRpbmF0ZVN5c3RlbS5jeSxkPXQuZ2V0KCJiYXJNaW5IZWlnaHQiKXx8MCxmPXQuZ2V0KCJiYXJNaW5BbmdsZSIpfHwwO05bYV09TlthXXx8W107Zm9yKHZhciBwPWUubWFwRGltZW5zaW9uKHUuZGltKSxnPWUubWFwRGltZW5zaW9uKG4uZGltKSxtPWZwKGUscCksdj0icmFkaXVzIiE9PW4uZGltfHwhdC5nZXQoInJvdW5kQ2FwIiwhMCkseT0icmFkaXVzIj09PXUuZGltP3UuZGF0YVRvUmFkaXVzKDApOnUuZGF0YVRvQW5nbGUoMCkseD0wLF89ZS5jb3VudCgpO3g8Xzt4Kyspe3ZhciB3LGIsUyxNLEk9ZS5nZXQocCx4KSxUPWUuZ2V0KGcseCksQT0wPD1JPyJwIjoibiIsRD15O2lmKG0mJihOW2FdW1RdfHwoTlthXVtUXT17cDp5LG46eX0pLEQ9TlthXVtUXVtBXSksInJhZGl1cyI9PT11LmRpbSl7dmFyIEM9dS5kYXRhVG9SYWRpdXMoSSkteSxMPW4uZGF0YVRvQW5nbGUoVCk7TWF0aC5hYnMoQyk8ZCYmKEM9KEM8MD8tMToxKSpkKSxiPSh3PUQpK0MsTT0oUz1MLXMpLWwsbSYmKE5bYV1bVF1bQV09Yil9ZWxzZXt2YXIgaz11LmRhdGFUb0FuZ2xlKEksdikteSxQPW4uZGF0YVRvUmFkaXVzKFQpO01hdGguYWJzKGspPGYmJihrPShrPDA/LTE6MSkqZiksYj0odz1QK3MpK2wsTT0oUz1EKStrLG0mJihOW2FdW1RdW0FdPU0pfWUuc2V0SXRlbUxheW91dCh4LHtjeDpoLGN5OmMscjA6dyxyOmIsc3RhcnRBbmdsZTotUypNYXRoLlBJLzE4MCxlbmRBbmdsZTotTSpNYXRoLlBJLzE4MH0pfX19LHRoaXMpfSwiYmFyIikpLEFmKHt0eXBlOiJwb2xhciJ9KSxiKGt1LmV4dGVuZCh7dHlwZToiZ2VvIixjb29yZGluYXRlU3lzdGVtOm51bGwsbGF5b3V0TW9kZToiYm94Iixpbml0OmZ1bmN0aW9uKHQpe2t1LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxHbyh0LCJsYWJlbCIsWyJzaG93Il0pfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24saT10aGlzO3QucmVnaW9ucz1weC5nZXRGaWxsZWRSZWdpb25zKHQucmVnaW9ucyx0Lm1hcCx0Lm5hbWVNYXApLHRoaXMuX29wdGlvbk1vZGVsTWFwPVModC5yZWdpb25zfHxbXSxmdW5jdGlvbih0LGUpe3JldHVybiBlLm5hbWUmJnQuc2V0KGUubmFtZSxuZXcgQ2woZSxpKSksdH0sUSgpKSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKHQucmVnaW9ucyl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxzaG93OiEwLGxlZnQ6ImNlbnRlciIsdG9wOiJjZW50ZXIiLGFzcGVjdFNjYWxlOm51bGwsc2lsZW50OiExLG1hcDoiIixib3VuZGluZ0Nvb3JkczpudWxsLGNlbnRlcjpudWxsLHpvb206MSxzY2FsZUxpbWl0Om51bGwsbGFiZWw6e3Nob3c6ITEsY29sb3I6IiMwMDAifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOi41LGJvcmRlckNvbG9yOiIjNDQ0Iixjb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOntjb2xvcjoicmdiYSgyNTUsMjE1LDAsMC44KSJ9fSxyZWdpb25zOltdfSxnZXRSZWdpb25Nb2RlbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uTW9kZWxNYXAuZ2V0KHQpfHxuZXcgQ2wobnVsbCx0aGlzLHRoaXMuZWNNb2RlbCl9LGdldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKHQsZSl7ZT1lfHwibm9ybWFsIjt2YXIgaT10aGlzLmdldFJlZ2lvbk1vZGVsKHQpLmdldCgoIm5vcm1hbCI9PT1lPyIiOmUrIi4iKSsibGFiZWwuZm9ybWF0dGVyIiksbj17bmFtZTp0fTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgaT8obi5zdGF0dXM9ZSxpKG4pKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKCJ7YX0iLG51bGwhPXQ/dDoiIik6dm9pZCAwfSxzZXRab29tOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fX0pLGp2KSxBZih7dHlwZToiZ2VvIixpbml0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHR4KGUsITApO3RoaXMuX21hcERyYXc9aSx0aGlzLmdyb3VwLmFkZChpLmdyb3VwKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFufHwiZ2VvVG9nZ2xlU2VsZWN0IiE9PW4udHlwZXx8bi5mcm9tIT09dGhpcy51aWQpe3ZhciBvPXRoaXMuX21hcERyYXc7dC5nZXQoInNob3ciKT9vLmRyYXcodCxlLGksdGhpcyxuKTp0aGlzLl9tYXBEcmF3Lmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuZ3JvdXAuc2lsZW50PXQuZ2V0KCJzaWxlbnQiKX19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpfX0pLFFUKCJ0b2dnbGVTZWxlY3RlZCIse3R5cGU6Imdlb1RvZ2dsZVNlbGVjdCIsZXZlbnQ6Imdlb3NlbGVjdGNoYW5nZWQifSksUVQoInNlbGVjdCIse3R5cGU6Imdlb1NlbGVjdCIsZXZlbnQ6Imdlb3NlbGVjdGVkIn0pLFFUKCJ1blNlbGVjdCIse3R5cGU6Imdlb1VuU2VsZWN0IixldmVudDoiZ2VvdW5zZWxlY3RlZCJ9KTtmdW5jdGlvbiB0QSh0LGUsaSl7dGhpcy5fbW9kZWw9dH1mdW5jdGlvbiBlQSh0LGUsaSxuKXt2YXIgbz1pLmNhbGVuZGFyTW9kZWwsYT1pLnNlcmllc01vZGVsLHI9bz9vLmNvb3JkaW5hdGVTeXN0ZW06YT9hLmNvb3JkaW5hdGVTeXN0ZW06bnVsbDtyZXR1cm4gcj09PXRoaXM/clt0XShuKTpudWxsfXRBLnByb3RvdHlwZT17Y29uc3RydWN0b3I6dEEsdHlwZToiY2FsZW5kYXIiLGRpbWVuc2lvbnM6WyJ0aW1lIiwidmFsdWUiXSxnZXREaW1lbnNpb25zSW5mbzpmdW5jdGlvbigpe3JldHVyblt7bmFtZToidGltZSIsdHlwZToidGltZSJ9LCJ2YWx1ZSJdfSxnZXRSYW5nZUluZm86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VJbmZvfSxnZXRNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sZ2V0UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxnZXRDZWxsV2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3d9LGdldENlbGxIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2h9LGdldE9yaWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnR9LGdldEZpcnN0RGF5T2ZXZWVrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpcnN0RGF5T2ZXZWVrfSxnZXREYXRlSW5mbzpmdW5jdGlvbih0KXt2YXIgZT0odD1ZbCh0KSkuZ2V0RnVsbFllYXIoKSxpPXQuZ2V0TW9udGgoKSsxO2k9aTwxMD8iMCIraTppO3ZhciBuPXQuZ2V0RGF0ZSgpO249bjwxMD8iMCIrbjpuO3ZhciBvPXQuZ2V0RGF5KCk7cmV0dXJue3k6ZSxtOmksZDpuLGRheTpvPU1hdGguYWJzKChvKzctdGhpcy5nZXRGaXJzdERheU9mV2VlaygpKSU3KSx0aW1lOnQuZ2V0VGltZSgpLGZvcm1hdGVkRGF0ZTplKyItIitpKyItIituLGRhdGU6dH19LGdldE5leHRORGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT0oZT1lfHwwKXx8KHQ9bmV3IERhdGUodGhpcy5nZXREYXRlSW5mbyh0KS50aW1lKSkuc2V0RGF0ZSh0LmdldERhdGUoKStlKSx0aGlzLmdldERhdGVJbmZvKHQpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt0aGlzLl9maXJzdERheU9mV2Vlaz0rdGhpcy5fbW9kZWwuZ2V0TW9kZWwoImRheUxhYmVsIikuZ2V0KCJmaXJzdERheSIpLHRoaXMuX29yaWVudD10aGlzLl9tb2RlbC5nZXQoIm9yaWVudCIpLHRoaXMuX2xpbmVXaWR0aD10aGlzLl9tb2RlbC5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkubGluZVdpZHRofHwwLHRoaXMuX3JhbmdlSW5mbz10aGlzLl9nZXRSYW5nZUluZm8odGhpcy5faW5pdFJhbmdlT3B0aW9uKCkpO3ZhciBpPXRoaXMuX3JhbmdlSW5mby53ZWVrc3x8MSxuPVsid2lkdGgiLCJoZWlnaHQiXSxvPXRoaXMuX21vZGVsLmdldCgiY2VsbFNpemUiKS5zbGljZSgpLGE9dGhpcy5fbW9kZWwuZ2V0Qm94TGF5b3V0UGFyYW1zKCkscj0iaG9yaXpvbnRhbCI9PT10aGlzLl9vcmllbnQ/W2ksN106WzcsaV07UihbMCwxXSxmdW5jdGlvbih0KXt1KG8sdCkmJihhW25bdF1dPW9bdF0qclt0XSl9KTt2YXIgcz17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxsPXRoaXMuX3JlY3Q9YnUoYSxzKTtmdW5jdGlvbiB1KHQsZSl7cmV0dXJuIG51bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV19UihbMCwxXSxmdW5jdGlvbih0KXt1KG8sdCl8fChvW3RdPWxbblt0XV0vclt0XSl9KSx0aGlzLl9zdz1vWzBdLHRoaXMuX3NoPW9bMV19LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7TCh0KSYmKHQ9dFswXSksbnVsbD09ZSYmKGU9ITApO3ZhciBpPXRoaXMuZ2V0RGF0ZUluZm8odCksbj10aGlzLl9yYW5nZUluZm8sbz1pLmZvcm1hdGVkRGF0ZTtpZihlJiYhKGkudGltZT49bi5zdGFydC50aW1lJiZpLnRpbWU8bi5lbmQudGltZSs4NjRlNSkpcmV0dXJuW05hTixOYU5dO3ZhciBhPWkuZGF5LHI9dGhpcy5fZ2V0UmFuZ2VJbmZvKFtuLnN0YXJ0LnRpbWUsb10pLm50aFdlZWs7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD9bdGhpcy5fcmVjdC54K2EqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0Lnkrcip0aGlzLl9zaCt0aGlzLl9zaC8yXTpbdGhpcy5fcmVjdC54K3IqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0LnkrYSp0aGlzLl9zaCt0aGlzLl9zaC8yXX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvRGF0ZSh0KTtyZXR1cm4gZSYmZS50aW1lfSxkYXRhVG9SZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5kYXRhVG9Qb2ludCh0LGUpO3JldHVybntjb250ZW50U2hhcGU6e3g6aVswXS0odGhpcy5fc3ctdGhpcy5fbGluZVdpZHRoKS8yLHk6aVsxXS0odGhpcy5fc2gtdGhpcy5fbGluZVdpZHRoKS8yLHdpZHRoOnRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCxoZWlnaHQ6dGhpcy5fc2gtdGhpcy5fbGluZVdpZHRofSxjZW50ZXI6aSx0bDpbaVswXS10aGlzLl9zdy8yLGlbMV0tdGhpcy5fc2gvMl0sdHI6W2lbMF0rdGhpcy5fc3cvMixpWzFdLXRoaXMuX3NoLzJdLGJyOltpWzBdK3RoaXMuX3N3LzIsaVsxXSt0aGlzLl9zaC8yXSxibDpbaVswXS10aGlzLl9zdy8yLGlbMV0rdGhpcy5fc2gvMl19fSxwb2ludFRvRGF0ZTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKCh0WzBdLXRoaXMuX3JlY3QueCkvdGhpcy5fc3cpKzEsaT1NYXRoLmZsb29yKCh0WzFdLXRoaXMuX3JlY3QueSkvdGhpcy5fc2gpKzEsbj10aGlzLl9yYW5nZUluZm8ucmFuZ2U7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD90aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShpLGUtMSxuKTp0aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShlLGktMSxuKX0sY29udmVydFRvUGl4ZWw6VChlQSwiZGF0YVRvUG9pbnQiKSxjb252ZXJ0RnJvbVBpeGVsOlQoZUEsInBvaW50VG9EYXRhIiksX2luaXRSYW5nZU9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21vZGVsLmdldCgicmFuZ2UiKSxlPXQ7aWYoTChlKSYmMT09PWUubGVuZ3RoJiYoZT1lWzBdKSwvXlxkezR9JC8udGVzdChlKSYmKHQ9W2UrIi0wMS0wMSIsZSsiLTEyLTMxIl0pLC9eXGR7NH1bXC98LV1cZHsxLDJ9JC8udGVzdChlKSl7dmFyIGk9dGhpcy5nZXREYXRlSW5mbyhlKSxuPWkuZGF0ZTtuLnNldE1vbnRoKG4uZ2V0TW9udGgoKSsxKTt2YXIgbz10aGlzLmdldE5leHRORGF5KG4sLTEpO3Q9W2kuZm9ybWF0ZWREYXRlLG8uZm9ybWF0ZWREYXRlXX0vXlxkezR9W1wvfC1dXGR7MSwyfVtcL3wtXVxkezEsMn0kLy50ZXN0KGUpJiYodD1bZSxlXSk7dmFyIGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKHQpO3JldHVybiBhLnN0YXJ0LnRpbWU+YS5lbmQudGltZSYmdC5yZXZlcnNlKCksdH0sX2dldFJhbmdlSW5mbzpmdW5jdGlvbih0KXt2YXIgZTsodD1bdGhpcy5nZXREYXRlSW5mbyh0WzBdKSx0aGlzLmdldERhdGVJbmZvKHRbMV0pXSlbMF0udGltZT50WzFdLnRpbWUmJihlPSEwLHQucmV2ZXJzZSgpKTt2YXIgaT1NYXRoLmZsb29yKHRbMV0udGltZS84NjRlNSktTWF0aC5mbG9vcih0WzBdLnRpbWUvODY0ZTUpKzEsbj1uZXcgRGF0ZSh0WzBdLnRpbWUpLG89bi5nZXREYXRlKCksYT10WzFdLmRhdGUuZ2V0RGF0ZSgpO24uc2V0RGF0ZShvK2ktMSk7dmFyIHI9bi5nZXREYXRlKCk7aWYociE9PWEpZm9yKHZhciBzPTA8bi5nZXRUaW1lKCktdFsxXS50aW1lPzE6LTE7KHI9bi5nZXREYXRlKCkpIT09YSYmMDwobi5nZXRUaW1lKCktdFsxXS50aW1lKSpzOylpLT1zLG4uc2V0RGF0ZShyLXMpO3ZhciBsPU1hdGguZmxvb3IoKGkrdFswXS5kYXkrNikvNyksdT1lPzEtbDpsLTE7cmV0dXJuIGUmJnQucmV2ZXJzZSgpLHtyYW5nZTpbdFswXS5mb3JtYXRlZERhdGUsdFsxXS5mb3JtYXRlZERhdGVdLHN0YXJ0OnRbMF0sZW5kOnRbMV0sYWxsRGF5Omksd2Vla3M6bCxudGhXZWVrOnUsZndlZWs6dFswXS5kYXksbHdlZWs6dFsxXS5kYXl9fSxfZ2V0RGF0ZUJ5V2Vla3NBbmREYXk6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2dldFJhbmdlSW5mbyhpKTtpZih0Pm4ud2Vla3N8fDA9PT10JiZlPG4uZndlZWt8fHQ9PT1uLndlZWtzJiZlPm4ubHdlZWspcmV0dXJuITE7dmFyIG89NyoodC0xKS1uLmZ3ZWVrK2UsYT1uZXcgRGF0ZShuLnN0YXJ0LnRpbWUpO3JldHVybiBhLnNldERhdGUobi5zdGFydC5kK28pLHRoaXMuZ2V0RGF0ZUluZm8oYSl9fSx0QS5kaW1lbnNpb25zPXRBLnByb3RvdHlwZS5kaW1lbnNpb25zLHRBLmdldERpbWVuc2lvbnNJbmZvPXRBLnByb3RvdHlwZS5nZXREaW1lbnNpb25zSW5mbyx0QS5jcmVhdGU9ZnVuY3Rpb24oaSxuKXt2YXIgbz1bXTtyZXR1cm4gaS5lYWNoQ29tcG9uZW50KCJjYWxlbmRhciIsZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRBKHQsaSxuKTtvLnB1c2goZSksdC5jb29yZGluYXRlU3lzdGVtPWV9KSxpLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7ImNhbGVuZGFyIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikmJih0LmNvb3JkaW5hdGVTeXN0ZW09b1t0LmdldCgiY2FsZW5kYXJJbmRleCIpfHwwXSl9KSxvfSxsaC5yZWdpc3RlcigiY2FsZW5kYXIiLHRBKTt2YXIgaUE9a3UuZXh0ZW5kKHt0eXBlOiJjYWxlbmRhciIsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixsZWZ0OjgwLHRvcDo2MCxjZWxsU2l6ZToyMCxvcmllbnQ6Imhvcml6b250YWwiLHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOiIjMDAwIix3aWR0aDoxLHR5cGU6InNvbGlkIn19LGl0ZW1TdHlsZTp7Y29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiNjY2MifSxkYXlMYWJlbDp7c2hvdzohMCxmaXJzdERheTowLHBvc2l0aW9uOiJzdGFydCIsbWFyZ2luOiI1MCUiLG5hbWVNYXA6ImVuIixjb2xvcjoiIzAwMCJ9LG1vbnRoTGFiZWw6e3Nob3c6ITAscG9zaXRpb246InN0YXJ0IixtYXJnaW46NSxhbGlnbjoiY2VudGVyIixuYW1lTWFwOiJlbiIsZm9ybWF0dGVyOm51bGwsY29sb3I6IiMwMDAifSx5ZWFyTGFiZWw6e3Nob3c6ITAscG9zaXRpb246bnVsbCxtYXJnaW46MzAsZm9ybWF0dGVyOm51bGwsY29sb3I6IiNjY2MiLGZvbnRGYW1pbHk6InNhbnMtc2VyaWYiLGZvbnRXZWlnaHQ6ImJvbGRlciIsZm9udFNpemU6MjB9fSxpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPUl1KHQpO2lBLnN1cGVyQXBwbHkodGhpcywiaW5pdCIsYXJndW1lbnRzKSxuQSh0LG8pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0LGUpe2lBLnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksbkEodGhpcy5vcHRpb24sdCl9fSk7ZnVuY3Rpb24gbkEodCxlKXt2YXIgaT10LmNlbGxTaXplO0woaSk/MT09PWkubGVuZ3RoJiYoaVsxXT1pWzBdKTppPXQuY2VsbFNpemU9W2ksaV07dmFyIG49TyhbMCwxXSxmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dFt4dVtlXVswXV18fG51bGwhPXRbeHVbZV1bMV1dJiZudWxsIT10W3h1W2VdWzJdXX0oZSx0KSYmKGlbdF09ImF1dG8iKSxudWxsIT1pW3RdJiYiYXV0byIhPT1pW3RdfSk7TXUodCxlLHt0eXBlOiJib3giLGlnbm9yZVNpemU6bn0pfXZhciBvQT17RU46WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxDTjpbIuS4gOaciCIsIuS6jOaciCIsIuS4ieaciCIsIuWbm+aciCIsIuS6lOaciCIsIuWFreaciCIsIuS4g+aciCIsIuWFq+aciCIsIuS5neaciCIsIuWNgeaciCIsIuWNgeS4gOaciCIsIuWNgeS6jOaciCJdfSxhQT17RU46WyJTIiwiTSIsIlQiLCJXIiwiVCIsIkYiLCJTIl0sQ046WyLml6UiLCLkuIAiLCLkuowiLCLkuIkiLCLlm5siLCLkupQiLCLlha0iXX07QWYoe3R5cGU6ImNhbGVuZGFyIixfdGxwb2ludHM6bnVsbCxfYmxwb2ludHM6bnVsbCxfZmlyc3REYXlPZk1vbnRoOm51bGwsX2ZpcnN0RGF5UG9pbnRzOm51bGwscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdyb3VwO24ucmVtb3ZlQWxsKCk7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtLGE9by5nZXRSYW5nZUluZm8oKSxyPW8uZ2V0T3JpZW50KCk7dGhpcy5fcmVuZGVyRGF5UmVjdCh0LGEsbiksdGhpcy5fcmVuZGVyTGluZXModCxhLHIsbiksdGhpcy5fcmVuZGVyWWVhclRleHQodCxhLHIsbiksdGhpcy5fcmVuZGVyTW9udGhUZXh0KHQscixuKSx0aGlzLl9yZW5kZXJXZWVrVGV4dCh0LGEscixuKX0sX3JlbmRlckRheVJlY3Q6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxhPW4uZ2V0Q2VsbFdpZHRoKCkscj1uLmdldENlbGxIZWlnaHQoKSxzPWUuc3RhcnQudGltZTtzPD1lLmVuZC50aW1lO3M9bi5nZXROZXh0TkRheShzLDEpLnRpbWUpe3ZhciBsPW4uZGF0YVRvUmVjdChbc10sITEpLnRsLHU9bmV3IHJzKHtzaGFwZTp7eDpsWzBdLHk6bFsxXSx3aWR0aDphLGhlaWdodDpyfSxjdXJzb3I6ImRlZmF1bHQiLHN0eWxlOm99KTtpLmFkZCh1KX19LF9yZW5kZXJMaW5lczpmdW5jdGlvbihpLHQsbixvKXt2YXIgYT10aGlzLHI9aS5jb29yZGluYXRlU3lzdGVtLHM9aS5nZXRNb2RlbCgic3BsaXRMaW5lLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9aS5nZXQoInNwbGl0TGluZS5zaG93IiksZT1zLmxpbmVXaWR0aDt0aGlzLl90bHBvaW50cz1bXSx0aGlzLl9ibHBvaW50cz1bXSx0aGlzLl9maXJzdERheU9mTW9udGg9W10sdGhpcy5fZmlyc3REYXlQb2ludHM9W107Zm9yKHZhciB1PXQuc3RhcnQsaD0wO3UudGltZTw9dC5lbmQudGltZTtoKyspe2QodS5mb3JtYXRlZERhdGUpLDA9PT1oJiYodT1yLmdldERhdGVJbmZvKHQuc3RhcnQueSsiLSIrdC5zdGFydC5tKSk7dmFyIGM9dS5kYXRlO2Muc2V0TW9udGgoYy5nZXRNb250aCgpKzEpLHU9ci5nZXREYXRlSW5mbyhjKX1mdW5jdGlvbiBkKHQpe2EuX2ZpcnN0RGF5T2ZNb250aC5wdXNoKHIuZ2V0RGF0ZUluZm8odCkpLGEuX2ZpcnN0RGF5UG9pbnRzLnB1c2goci5kYXRhVG9SZWN0KFt0XSwhMSkudGwpO3ZhciBlPWEuX2dldExpbmVQb2ludHNPZk9uZVdlZWsoaSx0LG4pO2EuX3RscG9pbnRzLnB1c2goZVswXSksYS5fYmxwb2ludHMucHVzaChlW2UubGVuZ3RoLTFdKSxsJiZhLl9kcmF3U3BsaXRsaW5lKGUscyxvKX1kKHIuZ2V0TmV4dE5EYXkodC5lbmQudGltZSwxKS5mb3JtYXRlZERhdGUpLGwmJnRoaXMuX2RyYXdTcGxpdGxpbmUoYS5fZ2V0RWRnZXNQb2ludHMoYS5fdGxwb2ludHMsZSxuKSxzLG8pLGwmJnRoaXMuX2RyYXdTcGxpdGxpbmUoYS5fZ2V0RWRnZXNQb2ludHMoYS5fYmxwb2ludHMsZSxuKSxzLG8pfSxfZ2V0RWRnZXNQb2ludHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVt0WzBdLnNsaWNlKCksdFt0Lmxlbmd0aC0xXS5zbGljZSgpXSxvPSJob3Jpem9udGFsIj09PWk/MDoxO3JldHVybiBuWzBdW29dPW5bMF1bb10tZS8yLG5bMV1bb109blsxXVtvXStlLzIsbn0sX2RyYXdTcGxpdGxpbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPW5ldyB0cyh7ejI6MjAsc2hhcGU6e3BvaW50czp0fSxzdHlsZTplfSk7aS5hZGQobil9LF9nZXRMaW5lUG9pbnRzT2ZPbmVXZWVrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW07ZT1uLmdldERhdGVJbmZvKGUpO2Zvcih2YXIgbz1bXSxhPTA7YTw3O2ErKyl7dmFyIHI9bi5nZXROZXh0TkRheShlLnRpbWUsYSkscz1uLmRhdGFUb1JlY3QoW3IudGltZV0sITEpO29bMipyLmRheV09cy50bCxvWzIqci5kYXkrMV09c1siaG9yaXpvbnRhbCI9PT1pPyJibCI6InRyIl19cmV0dXJuIG99LF9mb3JtYXR0ZXJMYWJlbDpmdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdD91dSh0LGUpOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QoZSk6ZS5uYW1lTWFwfSxfeWVhclRleHRQb3NpdGlvbkNvbnRyb2w6ZnVuY3Rpb24odCxlLGksbixvKXtlPWUuc2xpY2UoKTt2YXIgYT1bImNlbnRlciIsImJvdHRvbSJdOyJib3R0b20iPT09bj8oZVsxXSs9byxhPVsiY2VudGVyIiwidG9wIl0pOiJsZWZ0Ij09PW4/ZVswXS09bzoicmlnaHQiPT09bj8oZVswXSs9byxhPVsiY2VudGVyIiwidG9wIl0pOmVbMV0tPW87dmFyIHI9MDtyZXR1cm4ibGVmdCIhPT1uJiYicmlnaHQiIT09bnx8KHI9TWF0aC5QSS8yKSx7cm90YXRpb246cixwb3NpdGlvbjplLHN0eWxlOnt0ZXh0QWxpZ246YVswXSx0ZXh0VmVydGljYWxBbGlnbjphWzFdfX19LF9yZW5kZXJZZWFyVGV4dDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJ5ZWFyTGFiZWwiKTtpZihvLmdldCgic2hvdyIpKXt2YXIgYT1vLmdldCgibWFyZ2luIikscj1vLmdldCgicG9zaXRpb24iKTtyPXJ8fCgiaG9yaXpvbnRhbCIhPT1pPyJ0b3AiOiJsZWZ0Iik7dmFyIHM9W3RoaXMuX3RscG9pbnRzW3RoaXMuX3RscG9pbnRzLmxlbmd0aC0xXSx0aGlzLl9ibHBvaW50c1swXV0sbD0oc1swXVswXStzWzFdWzBdKS8yLHU9KHNbMF1bMV0rc1sxXVsxXSkvMixoPSJob3Jpem9udGFsIj09PWk/MDoxLGM9e3RvcDpbbCxzW2hdWzFdXSxib3R0b206W2wsc1sxLWhdWzFdXSxsZWZ0OltzWzEtaF1bMF0sdV0scmlnaHQ6W3NbaF1bMF0sdV19LGQ9ZS5zdGFydC55OytlLmVuZC55PitlLnN0YXJ0LnkmJihkPWQrIi0iK2UuZW5kLnkpO3ZhciBmPW8uZ2V0KCJmb3JtYXR0ZXIiKSxwPXtzdGFydDplLnN0YXJ0LnksZW5kOmUuZW5kLnksbmFtZU1hcDpkfSxnPXRoaXMuX2Zvcm1hdHRlckxhYmVsKGYscCksbT1uZXcgVXIoe3oyOjMwfSk7bmwobS5zdHlsZSxvLHt0ZXh0Omd9KSxtLmF0dHIodGhpcy5feWVhclRleHRQb3NpdGlvbkNvbnRyb2wobSxjW3JdLGkscixhKSksbi5hZGQobSl9fSxfbW9udGhUZXh0UG9zaXRpb25Db250cm9sOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9ImxlZnQiLHI9InRvcCIscz10WzBdLGw9dFsxXTtyZXR1cm4iaG9yaXpvbnRhbCI9PT1pPyhsKz1vLGUmJihhPSJjZW50ZXIiKSwic3RhcnQiPT09biYmKHI9ImJvdHRvbSIpKToocys9byxlJiYocj0ibWlkZGxlIiksInN0YXJ0Ij09PW4mJihhPSJyaWdodCIpKSx7eDpzLHk6bCx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sX3JlbmRlck1vbnRoVGV4dDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRNb2RlbCgibW9udGhMYWJlbCIpO2lmKG4uZ2V0KCJzaG93Iikpe3ZhciBvPW4uZ2V0KCJuYW1lTWFwIiksYT1uLmdldCgibWFyZ2luIikscj1uLmdldCgicG9zaXRpb24iKSxzPW4uZ2V0KCJhbGlnbiIpLGw9W3RoaXMuX3RscG9pbnRzLHRoaXMuX2JscG9pbnRzXTt6KG8pJiYobz1vQVtvLnRvVXBwZXJDYXNlKCldfHxbXSk7dmFyIHU9InN0YXJ0Ij09PXI/MDoxLGg9Imhvcml6b250YWwiPT09ZT8wOjE7YT0ic3RhcnQiPT09cj8tYTphO2Zvcih2YXIgYz0iY2VudGVyIj09PXMsZD0wO2Q8bFt1XS5sZW5ndGgtMTtkKyspe3ZhciBmPWxbdV1bZF0uc2xpY2UoKSxwPXRoaXMuX2ZpcnN0RGF5T2ZNb250aFtkXTtpZihjKXt2YXIgZz10aGlzLl9maXJzdERheVBvaW50c1tkXTtmW2hdPShnW2hdK2xbMF1bZCsxXVtoXSkvMn12YXIgbT1uLmdldCgiZm9ybWF0dGVyIiksdj1vWytwLm0tMV0seT17eXl5eTpwLnkseXk6KHAueSsiIikuc2xpY2UoMiksTU06cC5tLE06K3AubSxuYW1lTWFwOnZ9LHg9dGhpcy5fZm9ybWF0dGVyTGFiZWwobSx5KSxfPW5ldyBVcih7ejI6MzB9KTtQKG5sKF8uc3R5bGUsbix7dGV4dDp4fSksdGhpcy5fbW9udGhUZXh0UG9zaXRpb25Db250cm9sKGYsYyxlLHIsYSkpLGkuYWRkKF8pfX19LF93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPSJjZW50ZXIiLHI9Im1pZGRsZSIscz10WzBdLGw9dFsxXSx1PSJzdGFydCI9PT1pO3JldHVybiJob3Jpem9udGFsIj09PWU/KHM9cytuKyh1PzE6LTEpKm9bMF0vMixhPXU/InJpZ2h0IjoibGVmdCIpOihsPWwrbisodT8xOi0xKSpvWzFdLzIscj11PyJib3R0b20iOiJ0b3AiKSx7eDpzLHk6bCx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sX3JlbmRlcldlZWtUZXh0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0TW9kZWwoImRheUxhYmVsIik7aWYoby5nZXQoInNob3ciKSl7dmFyIGE9dC5jb29yZGluYXRlU3lzdGVtLHI9by5nZXQoInBvc2l0aW9uIikscz1vLmdldCgibmFtZU1hcCIpLGw9by5nZXQoIm1hcmdpbiIpLHU9YS5nZXRGaXJzdERheU9mV2VlaygpO3oocykmJihzPWFBW3MudG9VcHBlckNhc2UoKV18fFtdKTt2YXIgaD1hLmdldE5leHRORGF5KGUuZW5kLnRpbWUsNy1lLmx3ZWVrKS50aW1lLGM9W2EuZ2V0Q2VsbFdpZHRoKCksYS5nZXRDZWxsSGVpZ2h0KCldO2w9emwobCxjWyJob3Jpem9udGFsIj09PWk/MDoxXSksInN0YXJ0Ij09PXImJihoPWEuZ2V0TmV4dE5EYXkoZS5zdGFydC50aW1lLC0oNytlLmZ3ZWVrKSkudGltZSxsPS1sKTtmb3IodmFyIGQ9MDtkPDc7ZCsrKXt2YXIgZixwPWEuZ2V0TmV4dE5EYXkoaCxkKSxnPWEuZGF0YVRvUmVjdChbcC50aW1lXSwhMSkuY2VudGVyO2Y9TWF0aC5hYnMoKGQrdSklNyk7dmFyIG09bmV3IFVyKHt6MjozMH0pO1AobmwobS5zdHlsZSxvLHt0ZXh0OnNbZl19KSx0aGlzLl93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbChnLGkscixsLGMpKSxuLmFkZChtKX19fX0pO3ZhciByQT17cGF0aDpudWxsLGNvbXBvdW5kUGF0aDpudWxsLGdyb3VwOkNpLGltYWdlOlFuLHRleHQ6VXJ9O3lmKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ3JhcGhpYztMKGUpP2VbMF0mJmVbMF0uZWxlbWVudHM/dC5ncmFwaGljPVt0LmdyYXBoaWNbMF1dOnQuZ3JhcGhpYz1be2VsZW1lbnRzOmV9XTplJiYhZS5lbGVtZW50cyYmKHQuZ3JhcGhpYz1be2VsZW1lbnRzOltlXX1dKX0pO3ZhciBzQT1UZih7dHlwZToiZ3JhcGhpYyIsZGVmYXVsdE9wdGlvbjp7ZWxlbWVudHM6W10scGFyZW50SWQ6bnVsbH0sX2VsT3B0aW9uc1RvVXBkYXRlOm51bGwsbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uZWxlbWVudHM7dGhpcy5vcHRpb24uZWxlbWVudHM9bnVsbCxzQS5zdXBlckFwcGx5KHRoaXMsIm1lcmdlT3B0aW9uIixhcmd1bWVudHMpLHRoaXMub3B0aW9uLmVsZW1lbnRzPWV9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbixuPShlP2k6dCkuZWxlbWVudHMsbz1pLmVsZW1lbnRzPWU/W106aS5lbGVtZW50cyxhPVtdO3RoaXMuX2ZsYXR0ZW4obixhKTt2YXIgcj1IbyhvLGEpO1pvKHIpO3ZhciBzPXRoaXMuX2VsT3B0aW9uc1RvVXBkYXRlPVtdO1IocixmdW5jdGlvbih0LGUpe3ZhciBpPXQub3B0aW9uO2kmJihzLnB1c2goaSksZnVuY3Rpb24odCxlKXt2YXIgaT10LmV4aXN0O2lmKGUuaWQ9dC5rZXlJbmZvLmlkLCFlLnR5cGUmJmkmJihlLnR5cGU9aS50eXBlKSxudWxsPT1lLnBhcmVudElkKXt2YXIgbj1lLnBhcmVudE9wdGlvbjtuP2UucGFyZW50SWQ9bi5pZDppJiYoZS5wYXJlbnRJZD1pLnBhcmVudElkKX1lLnBhcmVudE9wdGlvbj1udWxsfSh0LGkpLGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1QKHt9LGkpLG89dFtlXSxhPWkuJGFjdGlvbnx8Im1lcmdlIjsibWVyZ2UiPT09YT9vPyhtKG8sbiwhMCksTXUobyxuLHtpZ25vcmVTaXplOiEwfSksVHUoaSxvKSk6dFtlXT1uOiJyZXBsYWNlIj09PWE/dFtlXT1uOiJyZW1vdmUiPT09YSYmbyYmKHRbZV09bnVsbCl9KG8sZSxpKSxmdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybjt0Lmh2PWUuaHY9W2hBKGUsWyJsZWZ0IiwicmlnaHQiXSksaEEoZSxbInRvcCIsImJvdHRvbSJdKV0sImdyb3VwIj09PXQudHlwZSYmKG51bGw9PXQud2lkdGgmJih0LndpZHRoPWUud2lkdGg9MCksbnVsbD09dC5oZWlnaHQmJih0LmhlaWdodD1lLmhlaWdodD0wKSl9KG9bZV0saSkpfSx0aGlzKTtmb3IodmFyIGw9by5sZW5ndGgtMTswPD1sO2wtLSludWxsPT1vW2xdP28uc3BsaWNlKGwsMSk6ZGVsZXRlIG9bbF0uJGFjdGlvbn0sX2ZsYXR0ZW46ZnVuY3Rpb24odCxpLG4pe1IodCxmdW5jdGlvbih0KXtpZih0KXtuJiYodC5wYXJlbnRPcHRpb249biksaS5wdXNoKHQpO3ZhciBlPXQuY2hpbGRyZW47Imdyb3VwIj09PXQudHlwZSYmZSYmdGhpcy5fZmxhdHRlbihlLGksdCksZGVsZXRlIHQuY2hpbGRyZW59fSx0aGlzKX0sdXNlRWxPcHRpb25zVG9VcGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbE9wdGlvbnNUb1VwZGF0ZTtyZXR1cm4gdGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9bnVsbCx0fX0pO2Z1bmN0aW9uIGxBKHQsZSxpLG4pe3ZhciBvPWkudHlwZSxhPW5ldyhyQS5oYXNPd25Qcm9wZXJ0eShvKT9yQVtvXTprcyhvKSkoaSk7ZS5hZGQoYSksbi5zZXQodCxhKSxhLl9fZWNHcmFwaGljSWQ9dH1mdW5jdGlvbiB1QSh0LGUpe3ZhciBpPXQmJnQucGFyZW50O2kmJigiZ3JvdXAiPT09dC50eXBlJiZ0LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3VBKHQsZSl9KSxlLnJlbW92ZUtleSh0Ll9fZWNHcmFwaGljSWQpLGkucmVtb3ZlKHQpKX1mdW5jdGlvbiBoQShlLHQpe3ZhciBpO3JldHVybiBSKHQsZnVuY3Rpb24odCl7bnVsbCE9ZVt0XSYmImF1dG8iIT09ZVt0XSYmKGk9ITApfSksaX1BZih7dHlwZToiZ3JhcGhpYyIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX2VsTWFwPVEoKSx0aGlzLl9sYXN0R3JhcGhpY01vZGVsfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3QhPT10aGlzLl9sYXN0R3JhcGhpY01vZGVsJiZ0aGlzLl9jbGVhcigpLHRoaXMuX2xhc3RHcmFwaGljTW9kZWw9dCx0aGlzLl91cGRhdGVFbGVtZW50cyh0KSx0aGlzLl9yZWxvY2F0ZSh0LGkpfSxfdXBkYXRlRWxlbWVudHM6ZnVuY3Rpb24odSl7dmFyIHQ9dS51c2VFbE9wdGlvbnNUb1VwZGF0ZSgpO2lmKHQpe3ZhciBoPXRoaXMuX2VsTWFwLGM9dGhpcy5ncm91cDtSKHQsZnVuY3Rpb24odCl7dmFyIGU9dC4kYWN0aW9uLGk9dC5pZCxuPWguZ2V0KGkpLG89dC5wYXJlbnRJZCxhPW51bGwhPW8/aC5nZXQobyk6YyxyPXQuc3R5bGU7InRleHQiPT09dC50eXBlJiZyJiYodC5odiYmdC5odlsxXSYmKHIudGV4dFZlcnRpY2FsQWxpZ249ci50ZXh0QmFzZWxpbmU9bnVsbCksIXIuaGFzT3duUHJvcGVydHkoInRleHRGaWxsIikmJnIuZmlsbCYmKHIudGV4dEZpbGw9ci5maWxsKSwhci5oYXNPd25Qcm9wZXJ0eSgidGV4dFN0cm9rZSIpJiZyLnN0cm9rZSYmKHIudGV4dFN0cm9rZT1yLnN0cm9rZSkpO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVybiBlPVAoe30sZSksUihbImlkIiwicGFyZW50SWQiLCIkYWN0aW9uIiwiaHYiLCJib3VuZGluZyJdLmNvbmNhdCh5dSksZnVuY3Rpb24odCl7ZGVsZXRlIGVbdF19KSxlfSh0KTtlJiYibWVyZ2UiIT09ZT8icmVwbGFjZSI9PT1lPyh1QShuLGgpLGxBKGksYSxzLGgpKToicmVtb3ZlIj09PWUmJnVBKG4saCk6bj9uLmF0dHIocyk6bEEoaSxhLHMsaCk7dmFyIGw9aC5nZXQoaSk7bCYmKGwuX19lY0dyYXBoaWNXaWR0aE9wdGlvbj10LndpZHRoLGwuX19lY0dyYXBoaWNIZWlnaHRPcHRpb249dC5oZWlnaHQsZnVuY3Rpb24odCxlKXt2YXIgaT10LmV2ZW50RGF0YTt0LnNpbGVudHx8dC5pZ25vcmV8fGl8fChpPXQuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJncmFwaGljIixjb21wb25lbnRJbmRleDplLmNvbXBvbmVudEluZGV4LG5hbWU6dC5uYW1lfSk7aSYmKGkuaW5mbz10LmluZm8pfShsLHUpKX0pfX0sX3JlbG9jYXRlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQub3B0aW9uLmVsZW1lbnRzLG49dGhpcy5ncm91cCxvPXRoaXMuX2VsTWFwLGE9ZS5nZXRXaWR0aCgpLHI9ZS5nZXRIZWlnaHQoKSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBsPWlbc107aWYoKGg9by5nZXQobC5pZCkpJiZoLmlzR3JvdXApe3ZhciB1PShjPWgucGFyZW50KT09PW47aC5fX2VjR3JhcGhpY1dpZHRoPXpsKGguX19lY0dyYXBoaWNXaWR0aE9wdGlvbix1P2E6Yy5fX2VjR3JhcGhpY1dpZHRoKXx8MCxoLl9fZWNHcmFwaGljSGVpZ2h0PXpsKGguX19lY0dyYXBoaWNIZWlnaHRPcHRpb24sdT9yOmMuX19lY0dyYXBoaWNIZWlnaHQpfHwwfX1mb3Iocz1pLmxlbmd0aC0xOzA8PXM7cy0tKXt2YXIgaCxjO2w9aVtzXTtpZihoPW8uZ2V0KGwuaWQpKVN1KGgsbCwoYz1oLnBhcmVudCk9PT1uP3t3aWR0aDphLGhlaWdodDpyfTp7d2lkdGg6Yy5fX2VjR3JhcGhpY1dpZHRoLGhlaWdodDpjLl9fZWNHcmFwaGljSGVpZ2h0fSxudWxsLHtodjpsLmh2LGJvdW5kaW5nTW9kZTpsLmJvdW5kaW5nfSl9fSxfY2xlYXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9lbE1hcDtlLmVhY2goZnVuY3Rpb24odCl7dUEodCxlKX0pLHRoaXMuX2VsTWFwPVEoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyKCl9fSk7dmFyIGNBPXt9O2Z1bmN0aW9uIGRBKHQsZSl7Y0FbdF09ZX1mdW5jdGlvbiBmQSh0KXtyZXR1cm4gY0FbdF19dmFyIHBBPVRmKHt0eXBlOiJ0b29sYm94IixsYXlvdXRNb2RlOnt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXtwQS5zdXBlckFwcGx5KHRoaXMsIm9wdGlvblVwZGF0ZWQiLGFyZ3VtZW50cyksUih0aGlzLm9wdGlvbi5mZWF0dXJlLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZkEoZSk7aSYmbSh0LGkuZGVmYXVsdE9wdGlvbil9KX0sZGVmYXVsdE9wdGlvbjp7c2hvdzohMCx6OjYsemxldmVsOjAsb3JpZW50OiJob3Jpem9udGFsIixsZWZ0OiJyaWdodCIsdG9wOiJ0b3AiLGJhY2tncm91bmRDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlckNvbG9yOiIjY2NjIixib3JkZXJSYWRpdXM6MCxib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtU2l6ZToxNSxpdGVtR2FwOjgsc2hvd1RpdGxlOiEwLGljb25TdHlsZTp7Ym9yZGVyQ29sb3I6IiM2NjYiLGNvbG9yOiJub25lIn0sZW1waGFzaXM6e2ljb25TdHlsZTp7Ym9yZGVyQ29sb3I6IiMzRTk4QzUifX0sdG9vbHRpcDp7c2hvdzohMX19fSk7ZnVuY3Rpb24gZ0EodCxlKXt2YXIgaT1pdShlLmdldCgicGFkZGluZyIpKSxuPWUuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO3JldHVybiBuLmZpbGw9ZS5nZXQoImJhY2tncm91bmRDb2xvciIpLHQ9bmV3IHJzKHtzaGFwZTp7eDp0LngtaVszXSx5OnQueS1pWzBdLHdpZHRoOnQud2lkdGgraVsxXStpWzNdLGhlaWdodDp0LmhlaWdodCtpWzBdK2lbMl0scjplLmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOm4sc2lsZW50OiEwLHoyOi0xfSl9QWYoe3R5cGU6InRvb2xib3giLHJlbmRlcjpmdW5jdGlvbihoLGMsZCxsKXt2YXIgZj10aGlzLmdyb3VwO2lmKGYucmVtb3ZlQWxsKCksaC5nZXQoInNob3ciKSl7dmFyIHA9K2guZ2V0KCJpdGVtU2l6ZSIpLHU9aC5nZXQoImZlYXR1cmUiKXx8e30sZz10aGlzLl9mZWF0dXJlc3x8KHRoaXMuX2ZlYXR1cmVzPXt9KSxtPVtdO1IodSxmdW5jdGlvbih0LGUpe20ucHVzaChlKX0pLG5ldyBrZih0aGlzLl9mZWF0dXJlTmFtZXN8fFtdLG0pLmFkZCh0KS51cGRhdGUodCkucmVtb3ZlKFQodCxudWxsKSkuZXhlY3V0ZSgpLHRoaXMuX2ZlYXR1cmVOYW1lcz1tLGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmdldEJveExheW91dFBhcmFtcygpLG89ZS5nZXQoInBhZGRpbmciKSxhPXt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LHI9YnUobixhLG8pO3d1KGUuZ2V0KCJvcmllbnQiKSx0LGUuZ2V0KCJpdGVtR2FwIiksci53aWR0aCxyLmhlaWdodCksU3UodCxuLGEsbyl9KGYsaCxkKSxmLmFkZChnQShmLmdldEJvdW5kaW5nUmVjdCgpLGgpKSxmLmVhY2hDaGlsZChmdW5jdGlvbih0KXt2YXIgZT10Ll9fdGl0bGUsaT10LmhvdmVyU3R5bGU7aWYoaSYmZSl7dmFyIG49Z24oZSxBbihpKSksbz10LnBvc2l0aW9uWzBdK2YucG9zaXRpb25bMF0sYT0hMTt0LnBvc2l0aW9uWzFdK2YucG9zaXRpb25bMV0rcCtuLmhlaWdodD5kLmdldEhlaWdodCgpJiYoaS50ZXh0UG9zaXRpb249InRvcCIsYT0hMCk7dmFyIHI9YT8tNS1uLmhlaWdodDpwKzg7bytuLndpZHRoLzI+ZC5nZXRXaWR0aCgpPyhpLnRleHRQb3NpdGlvbj1bIjEwMCUiLHJdLGkudGV4dEFsaWduPSJyaWdodCIpOm8tbi53aWR0aC8yPDAmJihpLnRleHRQb3NpdGlvbj1bMCxyXSxpLnRleHRBbGlnbj0ibGVmdCIpfX0pfWZ1bmN0aW9uIHQodCxlKXt2YXIgaSxuPW1bdF0sbz1tW2VdLGE9dVtuXSxyPW5ldyBDbChhLGgsaC5lY01vZGVsKTtpZihsJiZudWxsIT1sLm5ld1RpdGxlJiZsLmZlYXR1cmVOYW1lPT09biYmKGEudGl0bGU9bC5uZXdUaXRsZSksbiYmIW8pe2lmKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJteSIpfShuKSlpPXttb2RlbDpyLG9uY2xpY2s6ci5vcHRpb24ub25jbGljayxmZWF0dXJlTmFtZTpufTtlbHNle3ZhciBzPWZBKG4pO2lmKCFzKXJldHVybjtpPW5ldyBzKHIsYyxkKX1nW25dPWl9ZWxzZXtpZighKGk9Z1tvXSkpcmV0dXJuO2kubW9kZWw9cixpLmVjTW9kZWw9YyxpLmFwaT1kfW58fCFvP3IuZ2V0KCJzaG93IikmJiFpLnVudXNhYmxlPyhmdW5jdGlvbihvLGEsdCl7dmFyIHI9by5nZXRNb2RlbCgiaWNvblN0eWxlIikscz1vLmdldE1vZGVsKCJlbXBoYXNpcy5pY29uU3R5bGUiKSxlPWEuZ2V0SWNvbnM/YS5nZXRJY29ucygpOm8uZ2V0KCJpY29uIiksbD1vLmdldCgidGl0bGUiKXx8e307aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgaT1lLG49bDtsPXt9LChlPXt9KVt0XT1pLGxbdF09bn12YXIgdT1vLmljb25QYXRocz17fTtSKGUsZnVuY3Rpb24odCxlKXt2YXIgaT15bCh0LHt9LHt4Oi1wLzIseTotcC8yLHdpZHRoOnAsaGVpZ2h0OnB9KTtpLnNldFN0eWxlKHIuZ2V0SXRlbVN0eWxlKCkpLGkuaG92ZXJTdHlsZT1zLmdldEl0ZW1TdHlsZSgpLGkuc2V0U3R5bGUoe3RleHQ6bFtlXSx0ZXh0QWxpZ246cy5nZXQoInRleHRBbGlnbiIpLHRleHRCb3JkZXJSYWRpdXM6cy5nZXQoInRleHRCb3JkZXJSYWRpdXMiKSx0ZXh0UGFkZGluZzpzLmdldCgidGV4dFBhZGRpbmciKSx0ZXh0RmlsbDpudWxsfSk7dmFyIG49aC5nZXRNb2RlbCgidG9vbHRpcCIpO24mJm4uZ2V0KCJzaG93IikmJmkuYXR0cigidG9vbHRpcCIsUCh7Y29udGVudDpsW2VdLGZvcm1hdHRlcjpuLmdldCgiZm9ybWF0dGVyIiwhMCl8fGZ1bmN0aW9uKCl7cmV0dXJuIGxbZV19LGZvcm1hdHRlclBhcmFtczp7Y29tcG9uZW50VHlwZToidG9vbGJveCIsbmFtZTplLHRpdGxlOmxbZV0sJHZhcnM6WyJuYW1lIiwidGl0bGUiXX0scG9zaXRpb246bi5nZXQoInBvc2l0aW9uIiwhMCl8fCJib3R0b20ifSxuLm9wdGlvbikpLCRzKGkpLGguZ2V0KCJzaG93VGl0bGUiKSYmKGkuX190aXRsZT1sW2VdLGkub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt2YXIgdD1zLmdldEl0ZW1TdHlsZSgpLGU9InZlcnRpY2FsIj09PWguZ2V0KCJvcmllbnQiKT9udWxsPT1oLmdldCgicmlnaHQiKT8icmlnaHQiOiJsZWZ0IjpudWxsPT1oLmdldCgiYm90dG9tIik/ImJvdHRvbSI6InRvcCI7aS5zZXRTdHlsZSh7dGV4dEZpbGw6cy5nZXQoInRleHRGaWxsIil8fHQuZmlsbHx8dC5zdHJva2V8fCIjMDAwIix0ZXh0QmFja2dyb3VuZENvbG9yOnMuZ2V0KCJ0ZXh0QmFja2dyb3VuZENvbG9yIiksdGV4dFBvc2l0aW9uOnMuZ2V0KCJ0ZXh0UG9zaXRpb24iKXx8ZX0pfSkub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe2kuc2V0U3R5bGUoe3RleHRGaWxsOm51bGwsdGV4dEJhY2tncm91bmRDb2xvcjpudWxsfSl9KSksaS50cmlnZ2VyKG8uZ2V0KCJpY29uU3RhdHVzLiIrZSl8fCJub3JtYWwiKSxmLmFkZChpKSxpLm9uKCJjbGljayIsQShhLm9uY2xpY2ssYSxjLGQsZSkpLHVbZV09aX0pfShyLGksbiksci5zZXRJY29uU3RhdHVzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5vcHRpb24sbj10aGlzLmljb25QYXRocztpLmljb25TdGF0dXM9aS5pY29uU3RhdHVzfHx7fSxpLmljb25TdGF0dXNbdF09ZSxuW3RdJiZuW3RdLnRyaWdnZXIoZSl9LGkucmVuZGVyJiZpLnJlbmRlcihyLGMsZCxsKSk6aS5yZW1vdmUmJmkucmVtb3ZlKGMsZCk6aS5kaXNwb3NlJiZpLmRpc3Bvc2UoYyxkKX19LHVwZGF0ZVZpZXc6ZnVuY3Rpb24odCxlLGksbil7Uih0aGlzLl9mZWF0dXJlcyxmdW5jdGlvbih0KXt0LnVwZGF0ZVZpZXcmJnQudXBkYXRlVmlldyh0Lm1vZGVsLGUsaSxuKX0pfSxyZW1vdmU6ZnVuY3Rpb24oZSxpKXtSKHRoaXMuX2ZlYXR1cmVzLGZ1bmN0aW9uKHQpe3QucmVtb3ZlJiZ0LnJlbW92ZShlLGkpfSksdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbihlLGkpe1IodGhpcy5fZmVhdHVyZXMsZnVuY3Rpb24odCl7dC5kaXNwb3NlJiZ0LmRpc3Bvc2UoZSxpKX0pfX0pO3ZhciBtQT1PYy50b29sYm94LnNhdmVBc0ltYWdlO2Z1bmN0aW9uIHZBKHQpe3RoaXMubW9kZWw9dH12QS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLGljb246Ik00LjcsMjIuOUwyOS4zLDQ1LjVMNTQuNywyMy40TTQuNiw0My42TDQuNiw1OEw1My44LDU4TDUzLjgsNDMuNk0yOS4yLDQ1LjFMMjkuMiwwIix0aXRsZTptQS50aXRsZSx0eXBlOiJwbmciLGNvbm5lY3RlZEJhY2tncm91bmRDb2xvcjoiI2ZmZiIsbmFtZToiIixleGNsdWRlQ29tcG9uZW50czpbInRvb2xib3giXSxwaXhlbFJhdGlvOjEsbGFuZzptQS5sYW5nLnNsaWNlKCl9LHZBLnByb3RvdHlwZS51bnVzYWJsZT0hdi5jYW52YXNTdXBwb3J0ZWQsdkEucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm1vZGVsLG49aS5nZXQoIm5hbWUiKXx8dC5nZXQoInRpdGxlLjAudGV4dCIpfHwiZWNoYXJ0cyIsbz0ic3ZnIj09PWUuZ2V0WnIoKS5wYWludGVyLmdldFR5cGUoKT8ic3ZnIjppLmdldCgidHlwZSIsITApfHwicG5nIixhPWUuZ2V0Q29ubmVjdGVkRGF0YVVSTCh7dHlwZTpvLGJhY2tncm91bmRDb2xvcjppLmdldCgiYmFja2dyb3VuZENvbG9yIiwhMCl8fHQuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKXx8IiNmZmYiLGNvbm5lY3RlZEJhY2tncm91bmRDb2xvcjppLmdldCgiY29ubmVjdGVkQmFja2dyb3VuZENvbG9yIiksZXhjbHVkZUNvbXBvbmVudHM6aS5nZXQoImV4Y2x1ZGVDb21wb25lbnRzIikscGl4ZWxSYXRpbzppLmdldCgicGl4ZWxSYXRpbyIpfSk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE1vdXNlRXZlbnR8fHYuYnJvd3Nlci5pZXx8di5icm93c2VyLmVkZ2UpaWYod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKXtmb3IodmFyIHI9YXRvYihhLnNwbGl0KCIsIilbMV0pLHM9ci5sZW5ndGgsbD1uZXcgVWludDhBcnJheShzKTtzLS07KWxbc109ci5jaGFyQ29kZUF0KHMpO3ZhciB1PW5ldyBCbG9iKFtsXSk7d2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKHUsbisiLiIrbyl9ZWxzZXt2YXIgaD1pLmdldCgibGFuZyIpLGM9Jzxib2R5IHN0eWxlPSJtYXJnaW46MDsiPjxpbWcgc3JjPSInK2ErJyIgc3R5bGU9Im1heC13aWR0aDoxMDAlOyIgdGl0bGU9IicrKGgmJmhbMF18fCIiKSsnIiAvPjwvYm9keT4nO3dpbmRvdy5vcGVuKCkuZG9jdW1lbnQud3JpdGUoYyl9ZWxzZXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7ZC5kb3dubG9hZD1uKyIuIitvLGQudGFyZ2V0PSJfYmxhbmsiLGQuaHJlZj1hO3ZhciBmPW5ldyBNb3VzZUV2ZW50KCJjbGljayIse3ZpZXc6ZG9jdW1lbnQuZGVmYXVsdFZpZXcsYnViYmxlczohMCxjYW5jZWxhYmxlOiExfSk7ZC5kaXNwYXRjaEV2ZW50KGYpfX0sZEEoInNhdmVBc0ltYWdlIix2QSk7dmFyIHlBPU9jLnRvb2xib3gubWFnaWNUeXBlLHhBPSJfX2VjX21hZ2ljVHlwZV9zdGFja19fIjtmdW5jdGlvbiBfQSh0KXt0aGlzLm1vZGVsPXR9X0EuZGVmYXVsdE9wdGlvbj17c2hvdzohMCx0eXBlOltdLGljb246e2xpbmU6Ik00LjEsMjguOWg3LjFsOS4zLTIybDcuNCwzOGw5LjctMTkuN2wzLDEyLjhoMTQuOU00LjEsNThoNTEuNCIsYmFyOiJNNi43LDIyLjloMTBWNDhoLTEwVjIyLjl6TTI0LjksMTNoMTB2MzVoLTEwVjEzek00My4yLDJoMTB2NDZoLTEwVjJ6TTMuMSw1OGg1My43IixzdGFjazoiTTguMiwzOC40bC04LjQsNC4xbDMwLjYsMTUuM0w2MCw0Mi41bC04LjEtNC4xbC0yMS41LDExTDguMiwzOC40eiBNNTEuOSwzMGwtOC4xLDQuMmwtMTMuNCw2LjlsLTEzLjktNi45TDguMiwzMGwtOC40LDQuMmw4LjQsNC4ybDIyLjIsMTFsMjEuNS0xMWw4LjEtNC4yTDUxLjksMzB6IE01MS45LDIxLjdsLTguMSw0LjJMMzUuNywzMGwtNS4zLDIuOEwyNC45LDMwbC04LjQtNC4xbC04LjMtNC4ybC04LjQsNC4yTDguMiwzMGw4LjMsNC4ybDEzLjksNi45bDEzLjQtNi45bDguMS00LjJsOC4xLTQuMUw1MS45LDIxLjd6TTMwLjQsMi4yTC0wLjIsMTcuNWw4LjQsNC4xbDguMyw0LjJsOC40LDQuMmw1LjUsMi43bDUuMy0yLjdsOC4xLTQuMmw4LjEtNC4ybDguMS00LjFMMzAuNCwyLjJ6In0sdGl0bGU6ayh5QS50aXRsZSksb3B0aW9uOnt9LHNlcmllc0luZGV4Ont9fTt2YXIgd0E9X0EucHJvdG90eXBlO3dBLmdldEljb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbCxlPXQuZ2V0KCJpY29uIiksaT17fTtyZXR1cm4gUih0LmdldCgidHlwZSIpLGZ1bmN0aW9uKHQpe2VbdF0mJihpW3RdPWVbdF0pfSksaX07dmFyIGJBPXtsaW5lOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCJiYXIiPT09dClyZXR1cm4gbSh7aWQ6ZSx0eXBlOiJsaW5lIixkYXRhOmkuZ2V0KCJkYXRhIiksc3RhY2s6aS5nZXQoInN0YWNrIiksbWFya1BvaW50OmkuZ2V0KCJtYXJrUG9pbnQiKSxtYXJrTGluZTppLmdldCgibWFya0xpbmUiKX0sbi5nZXQoIm9wdGlvbi5saW5lIil8fHt9LCEwKX0sYmFyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCJsaW5lIj09PXQpcmV0dXJuIG0oe2lkOmUsdHlwZToiYmFyIixkYXRhOmkuZ2V0KCJkYXRhIiksc3RhY2s6aS5nZXQoInN0YWNrIiksbWFya1BvaW50OmkuZ2V0KCJtYXJrUG9pbnQiKSxtYXJrTGluZTppLmdldCgibWFya0xpbmUiKX0sbi5nZXQoIm9wdGlvbi5iYXIiKXx8e30sITApfSxzdGFjazpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLmdldCgic3RhY2siKT09PXhBO2lmKCJsaW5lIj09PXR8fCJiYXIiPT09dClyZXR1cm4gbi5zZXRJY29uU3RhdHVzKCJzdGFjayIsbz8ibm9ybWFsIjoiZW1waGFzaXMiKSxtKHtpZDplLHN0YWNrOm8/IiI6eEF9LG4uZ2V0KCJvcHRpb24uc3RhY2siKXx8e30sITApfX0sU0E9W1sibGluZSIsImJhciJdLFsic3RhY2siXV07d0Eub25jbGljaz1mdW5jdGlvbih1LHQsaCl7dmFyIGM9dGhpcy5tb2RlbCxlPWMuZ2V0KCJzZXJpZXNJbmRleC4iK2gpO2lmKGJBW2hdKXt2YXIgaSxkPXtzZXJpZXM6W119O2lmKFIoU0EsZnVuY3Rpb24odCl7MDw9Xyh0LGgpJiZSKHQsZnVuY3Rpb24odCl7Yy5zZXRJY29uU3RhdHVzKHQsIm5vcm1hbCIpfSl9KSxjLnNldEljb25TdGF0dXMoaCwiZW1waGFzaXMiKSx1LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHF1ZXJ5Om51bGw9PWU/bnVsbDp7c2VyaWVzSW5kZXg6ZX19LGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3ViVHlwZSxpPXQuaWQsbj1iQVtoXShlLGksdCxjKTtuJiYoRChuLHQub3B0aW9uKSxkLnNlcmllcy5wdXNoKG4pKTt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW07aWYobyYmImNhcnRlc2lhbjJkIj09PW8udHlwZSYmKCJsaW5lIj09PWh8fCJiYXIiPT09aCkpe3ZhciBhPW8uZ2V0QXhlc0J5U2NhbGUoIm9yZGluYWwiKVswXTtpZihhKXt2YXIgcj1hLmRpbSsiQXhpcyIscz11LnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6cixpbmRleDp0LmdldChuYW1lKyJJbmRleCIpLGlkOnQuZ2V0KG5hbWUrIklkIil9KVswXS5jb21wb25lbnRJbmRleDtkW3JdPWRbcl18fFtdO2Zvcih2YXIgbD0wO2w8PXM7bCsrKWRbcl1bc109ZFtyXVtzXXx8e307ZFtyXVtzXS5ib3VuZGFyeUdhcD0iYmFyIj09PWh9fX0pLCJzdGFjayI9PT1oKWk9ZC5zZXJpZXMmJmQuc2VyaWVzWzBdJiZkLnNlcmllc1swXS5zdGFjaz09PXhBP20oe3N0YWNrOnlBLnRpdGxlLnRpbGVkfSx5QS50aXRsZSk6ayh5QS50aXRsZSk7dC5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixjdXJyZW50VHlwZTpoLG5ld09wdGlvbjpkLG5ld1RpdGxlOmksZmVhdHVyZU5hbWU6Im1hZ2ljVHlwZSJ9KX19LF9mKHt0eXBlOiJjaGFuZ2VNYWdpY1R5cGUiLGV2ZW50OiJtYWdpY1R5cGVDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSxmdW5jdGlvbih0LGUpe2UubWVyZ2VPcHRpb24odC5uZXdPcHRpb24pfSksZEEoIm1hZ2ljVHlwZSIsX0EpO3ZhciBNQT1PYy50b29sYm94LmRhdGFWaWV3LElBPW5ldyBBcnJheSg2MCkuam9pbigiLSIpLFRBPSJcdCI7ZnVuY3Rpb24gQUEodCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIG89e30sYT1bXSxyPVtdO3JldHVybiB0LmVhY2hSYXdTZXJpZXMoZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHwiY2FydGVzaWFuMmQiIT09ZS50eXBlJiYicG9sYXIiIT09ZS50eXBlKWEucHVzaCh0KTtlbHNle3ZhciBpPWUuZ2V0QmFzZUF4aXMoKTtpZigiY2F0ZWdvcnkiPT09aS50eXBlKXt2YXIgbj1pLmRpbSsiXyIraS5pbmRleDtvW25dfHwob1tuXT17Y2F0ZWdvcnlBeGlzOmksdmFsdWVBeGlzOmUuZ2V0T3RoZXJBeGlzKGkpLHNlcmllczpbXX0sci5wdXNoKHtheGlzRGltOmkuZGltLGF4aXNJbmRleDppLmluZGV4fSkpLG9bbl0uc2VyaWVzLnB1c2godCl9ZWxzZSBhLnB1c2godCl9fSkse3Nlcmllc0dyb3VwQnlDYXRlZ29yeUF4aXM6byxvdGhlcjphLG1ldGE6cn19KHQpO3JldHVybnt2YWx1ZTpNKFtmdW5jdGlvbih0KXt2YXIgaD1bXTtyZXR1cm4gUih0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jYXRlZ29yeUF4aXMsbj10LnZhbHVlQXhpcy5kaW0sbz1bIiAiXS5jb25jYXQoTyh0LnNlcmllcyxmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpLGE9W2kubW9kZWwuZ2V0Q2F0ZWdvcmllcygpXTtSKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpO2EucHVzaCh0LmdldFJhd0RhdGEoKS5tYXBBcnJheShlLm1hcERpbWVuc2lvbihuKSxmdW5jdGlvbih0KXtyZXR1cm4gdH0pKX0pO2Zvcih2YXIgcj1bby5qb2luKFRBKV0scz0wO3M8YVswXS5sZW5ndGg7cysrKXtmb3IodmFyIGw9W10sdT0wO3U8YS5sZW5ndGg7dSsrKWwucHVzaChhW3VdW3NdKTtyLnB1c2gobC5qb2luKFRBKSl9aC5wdXNoKHIuam9pbigiXG4iKSl9KSxoLmpvaW4oIlxuXG4iK0lBKyJcblxuIil9KGUuc2VyaWVzR3JvdXBCeUNhdGVnb3J5QXhpcyksZnVuY3Rpb24odCl7cmV0dXJuIE8odCxmdW5jdGlvbih0KXt2YXIgbz10LmdldFJhd0RhdGEoKSxhPVt0Lm5hbWVdLHI9W107cmV0dXJuIG8uZWFjaChvLmRpbWVuc2lvbnMsZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPWFyZ3VtZW50c1t0LTFdLGk9by5nZXROYW1lKGUpLG49MDtuPHQtMTtuKyspcltuXT1hcmd1bWVudHNbbl07YS5wdXNoKChpP2krVEE6IiIpK3Iuam9pbihUQSkpfSksYS5qb2luKCJcbiIpfSkuam9pbigiXG5cbiIrSUErIlxuXG4iKX0oZS5vdGhlcildLGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcblx0XHNdL2csIiIpfSkuam9pbigiXG5cbiIrSUErIlxuXG4iKSxtZXRhOmUubWV0YX19ZnVuY3Rpb24gREEodCl7cmV0dXJuIHQucmVwbGFjZSgvXlxzXHMqLywiIikucmVwbGFjZSgvXHNccyokLywiIil9dmFyIENBPW5ldyBSZWdFeHAoIlsiK1RBKyJdKyIsImciKTtmdW5jdGlvbiBMQSh0LGEpe3ZhciBlPXQuc3BsaXQobmV3IFJlZ0V4cCgiXG4qIitJQSsiXG4qIiwiZyIpKSxyPXtzZXJpZXM6W119O3JldHVybiBSKGUsZnVuY3Rpb24odCxlKXtpZihmdW5jdGlvbih0KXtpZigwPD10LnNsaWNlKDAsdC5pbmRleE9mKCJcbiIpKS5pbmRleE9mKFRBKSlyZXR1cm4hMH0odCkpe3ZhciBpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNwbGl0KC9cbisvZyksaT1bXSxuPU8oREEoZS5zaGlmdCgpKS5zcGxpdChDQSksZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dCxkYXRhOltdfX0pLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGE9REEoZVtvXSkuc3BsaXQoQ0EpO2kucHVzaChhLnNoaWZ0KCkpO2Zvcih2YXIgcj0wO3I8YS5sZW5ndGg7cisrKW5bcl0mJihuW3JdLmRhdGFbb109YVtyXSl9cmV0dXJue3NlcmllczpuLGNhdGVnb3JpZXM6aX19KHQpLG49YVtlXSxvPW4uYXhpc0RpbSsiQXhpcyI7biYmKHJbb109cltvXXx8W10scltvXVtuLmF4aXNJbmRleF09e2RhdGE6aS5jYXRlZ29yaWVzfSxyLnNlcmllcz1yLnNlcmllcy5jb25jYXQoaS5zZXJpZXMpKX1lbHNle2k9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3BsaXQoL1xuKy9nKSxpPURBKGUuc2hpZnQoKSksbj1bXSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBhPURBKGVbb10pO2lmKGEpe3ZhciByLHM9YS5zcGxpdChDQSksbD0iIix1PSExO3I9aXNOYU4oc1swXSk/KHU9ITAsbD1zWzBdLHM9cy5zbGljZSgxKSxuW29dPXtuYW1lOmwsdmFsdWU6W119LG5bb10udmFsdWUpOm5bb109W107Zm9yKHZhciBoPTA7aDxzLmxlbmd0aDtoKyspci5wdXNoKCtzW2hdKTsxPT09ci5sZW5ndGgmJih1P25bb10udmFsdWU9clswXTpuW29dPXJbMF0pfX1yZXR1cm57bmFtZTppLGRhdGE6bn19KHQpO3Iuc2VyaWVzLnB1c2goaSl9fSkscn1mdW5jdGlvbiBrQSh0KXt0aGlzLl9kb209bnVsbCx0aGlzLm1vZGVsPXR9a0EuZGVmYXVsdE9wdGlvbj17c2hvdzohMCxyZWFkT25seTohMSxvcHRpb25Ub0NvbnRlbnQ6bnVsbCxjb250ZW50VG9PcHRpb246bnVsbCxpY29uOiJNMTcuNSwxNy4zSDMzIE0xNy41LDE3LjNIMzMgTTQ1LjQsMjkuNWgtMjggTTExLjUsMnY1Nkg1MVYxNC44TDM4LjQsMkgxMS41eiBNMzguNCwyLjJ2MTIuN0g1MSBNNDUuNCw0MS43aC0yOCIsdGl0bGU6ayhNQS50aXRsZSksbGFuZzprKE1BLmxhbmcpLGJhY2tncm91bmRDb2xvcjoiI2ZmZiIsdGV4dENvbG9yOiIjMDAwIix0ZXh0YXJlYUNvbG9yOiIjZmZmIix0ZXh0YXJlYUJvcmRlckNvbG9yOiIjMzMzIixidXR0b25Db2xvcjoiI2MyMzUzMSIsYnV0dG9uVGV4dENvbG9yOiIjZmZmIn0sa0EucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldERvbSgpLG49dGhpcy5tb2RlbDt0aGlzLl9kb20mJmkucmVtb3ZlQ2hpbGQodGhpcy5fZG9tKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtvLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NXB4O3RvcDo1cHg7Ym90dG9tOjVweDtyaWdodDo1cHg7IixvLnN0eWxlLmJhY2tncm91bmRDb2xvcj1uLmdldCgiYmFja2dyb3VuZENvbG9yIil8fCIjZmZmIjt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoNCIpLHI9bi5nZXQoImxhbmciKXx8W107YS5pbm5lckhUTUw9clswXXx8bi5nZXQoInRpdGxlIiksYS5zdHlsZS5jc3NUZXh0PSJtYXJnaW46IDEwcHggMjBweDsiLGEuc3R5bGUuY29sb3I9bi5nZXQoInRleHRDb2xvciIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtzLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtvdmVyZmxvdzphdXRvOyI7dmFyIHU9bi5nZXQoIm9wdGlvblRvQ29udGVudCIpLGg9bi5nZXQoImNvbnRlbnRUb09wdGlvbiIpLGM9QUEodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHUpe3ZhciBkPXUoZS5nZXRPcHRpb24oKSk7InN0cmluZyI9PXR5cGVvZiBkP3MuaW5uZXJIVE1MPWQ6RyhkKSYmcy5hcHBlbmRDaGlsZChkKX1lbHNlIHMuYXBwZW5kQ2hpbGQobCksbC5yZWFkT25seT1uLmdldCgicmVhZE9ubHkiKSxsLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNnJlbTsiLGwuc3R5bGUuY29sb3I9bi5nZXQoInRleHRDb2xvciIpLGwuc3R5bGUuYm9yZGVyQ29sb3I9bi5nZXQoInRleHRhcmVhQm9yZGVyQ29sb3IiKSxsLnN0eWxlLmJhY2tncm91bmRDb2xvcj1uLmdldCgidGV4dGFyZWFDb2xvciIpLGwudmFsdWU9Yy52YWx1ZTt2YXIgZj1jLm1ldGEscD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtwLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowOyI7dmFyIGc9ImZsb2F0OnJpZ2h0O21hcmdpbi1yaWdodDoyMHB4O2JvcmRlcjpub25lO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MnB4IDVweDtmb250LXNpemU6MTJweDtib3JkZXItcmFkaXVzOjNweCIsbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2crPSI7YmFja2dyb3VuZC1jb2xvcjoiK24uZ2V0KCJidXR0b25Db2xvciIpLGcrPSI7Y29sb3I6IituLmdldCgiYnV0dG9uVGV4dENvbG9yIik7dmFyIHk9dGhpcztmdW5jdGlvbiB4KCl7aS5yZW1vdmVDaGlsZChvKSx5Ll9kb209bnVsbH1VdChtLCJjbGljayIseCksVXQodiwiY2xpY2siLGZ1bmN0aW9uKCl7dmFyIHQ7dHJ5e3Q9ImZ1bmN0aW9uIj09dHlwZW9mIGg/aChzLGUuZ2V0T3B0aW9uKCkpOkxBKGwudmFsdWUsZil9Y2F0Y2godCl7dGhyb3cgeCgpLG5ldyBFcnJvcigiRGF0YSB2aWV3IGZvcm1hdCBlcnJvciAiK3QpfXQmJmUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZURhdGFWaWV3IixuZXdPcHRpb246dH0pLHgoKX0pLG0uaW5uZXJIVE1MPXJbMV0sdi5pbm5lckhUTUw9clsyXSx2LnN0eWxlLmNzc1RleHQ9ZyxtLnN0eWxlLmNzc1RleHQ9ZyxuLmdldCgicmVhZE9ubHkiKXx8cC5hcHBlbmRDaGlsZCh2KSxwLmFwcGVuZENoaWxkKG0pLG8uYXBwZW5kQ2hpbGQoYSksby5hcHBlbmRDaGlsZChzKSxvLmFwcGVuZENoaWxkKHApLHMuc3R5bGUuaGVpZ2h0PWkuY2xpZW50SGVpZ2h0LTgwKyJweCIsaS5hcHBlbmRDaGlsZChvKSx0aGlzLl9kb209b30sa0EucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RvbSYmZS5nZXREb20oKS5yZW1vdmVDaGlsZCh0aGlzLl9kb20pfSxrQS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMucmVtb3ZlKHQsZSl9LGRBKCJkYXRhVmlldyIsa0EpLF9mKHt0eXBlOiJjaGFuZ2VEYXRhVmlldyIsZXZlbnQ6ImRhdGFWaWV3Q2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sZnVuY3Rpb24odCxuKXt2YXIgbz1bXTtSKHQubmV3T3B0aW9uLnNlcmllcyxmdW5jdGlvbih0KXt2YXIgZT1uLmdldFNlcmllc0J5TmFtZSh0Lm5hbWUpWzBdO2lmKGUpe3ZhciBpPWUuZ2V0KCJkYXRhIik7by5wdXNoKHtuYW1lOnQubmFtZSxkYXRhOmZ1bmN0aW9uKHQsbyl7cmV0dXJuIE8odCxmdW5jdGlvbih0LGUpe3ZhciBpPW8mJm9bZV07aWYoIUUoaSl8fEwoaSkpcmV0dXJuIHQ7RSh0KSYmIUwodCl8fCh0PXt2YWx1ZTp0fSk7dmFyIG49bnVsbCE9aS5uYW1lJiZudWxsPT10Lm5hbWU7cmV0dXJuIHQ9RCh0LGkpLG4mJmRlbGV0ZSB0Lm5hbWUsdH0pfSh0LmRhdGEsaSl9KX1lbHNlIG8ucHVzaChQKHt0eXBlOiJzY2F0dGVyIn0sdCkpfSksbi5tZXJnZU9wdGlvbihEKHtzZXJpZXM6b30sdC5uZXdPcHRpb24pKX0pO3ZhciBQQT1SLE5BPV8sT0E9VCxSQT1bImRhdGFUb1BvaW50IiwicG9pbnRUb0RhdGEiXSx6QT1bImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwiZ2VvIiwiZ3JhcGgiLCJwb2xhciIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJibWFwIl07ZnVuY3Rpb24gRUEodCxlLGkpe3ZhciBuPXRoaXMuX3RhcmdldEluZm9MaXN0PVtdLG89e30sYT1HQShlLHQpO1BBKEZBLGZ1bmN0aW9uKHQsZSl7aSYmaS5pbmNsdWRlJiYhKDA8PU5BKGkuaW5jbHVkZSxlKSl8fHQoYSxuLG8pfSl9dmFyIEJBPUVBLnByb3RvdHlwZTtmdW5jdGlvbiBWQSh0KXtyZXR1cm4gdFswXT50WzFdJiZ0LnJldmVyc2UoKSx0fWZ1bmN0aW9uIEdBKHQsZSl7cmV0dXJuIEtvKHQsZSx7aW5jbHVkZU1haW5UeXBlczp6QX0pfUJBLnNldE91dHB1dFJhbmdlcz1mdW5jdGlvbih0LGUpe3RoaXMubWF0Y2hPdXRwdXRSYW5nZXModCxlLGZ1bmN0aW9uKHQsZSxpKXtpZigodC5jb29yZFJhbmdlc3x8KHQuY29vcmRSYW5nZXM9W10pKS5wdXNoKGUpLCF0LmNvb3JkUmFuZ2Upe3QuY29vcmRSYW5nZT1lO3ZhciBuPVpBW3QuYnJ1c2hUeXBlXSgwLGksZSk7dC5fX3JhbmdlT2Zmc2V0PXtvZmZzZXQ6WEFbdC5icnVzaFR5cGVdKG4udmFsdWVzLHQucmFuZ2UsWzEsMV0pLHh5TWluTWF4Om4ueHlNaW5NYXh9fX0pfSxCQS5tYXRjaE91dHB1dFJhbmdlcz1mdW5jdGlvbih0LG4sbyl7UEEodCxmdW5jdGlvbihpKXt2YXIgdD10aGlzLmZpbmRUYXJnZXRJbmZvKGksbik7dCYmITAhPT10JiZSKHQuY29vcmRTeXNlcyxmdW5jdGlvbih0KXt2YXIgZT1aQVtpLmJydXNoVHlwZV0oMSx0LGkucmFuZ2UpO28oaSxlLnZhbHVlcyx0LG4pfSl9LHRoaXMpfSxCQS5zZXRJbnB1dFJhbmdlcz1mdW5jdGlvbih0LG8pe1BBKHQsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LG8pO2lmKHQucmFuZ2U9dC5yYW5nZXx8W10sZSYmITAhPT1lKXt0LnBhbmVsSWQ9ZS5wYW5lbElkO3ZhciBpPVpBW3QuYnJ1c2hUeXBlXSgwLGUuY29vcmRTeXMsdC5jb29yZFJhbmdlKSxuPXQuX19yYW5nZU9mZnNldDt0LnJhbmdlPW4/WEFbdC5icnVzaFR5cGVdKGkudmFsdWVzLG4ub2Zmc2V0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9akEodCksbj1qQShlKSxvPVtpWzBdL25bMF0saVsxXS9uWzFdXTtyZXR1cm4gaXNOYU4ob1swXSkmJihvWzBdPTEpLGlzTmFOKG9bMV0pJiYob1sxXT0xKSxvfShpLnh5TWluTWF4LG4ueHlNaW5NYXgpKTppLnZhbHVlc319LHRoaXMpfSxCQS5tYWtlUGFuZWxPcHRzPWZ1bmN0aW9uKGksbil7cmV0dXJuIE8odGhpcy5fdGFyZ2V0SW5mb0xpc3QsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRQYW5lbFJlY3QoKTtyZXR1cm57cGFuZWxJZDp0LnBhbmVsSWQsZGVmYXVsdEJydXNoVHlwZTpuJiZuKHQpLGNsaXBQYXRoOmhTKGUpLGlzVGFyZ2V0QnlDdXJzb3I6ZFMoZSxpLHQuY29vcmRTeXNNb2RlbCksZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudDpjUyhlKX19KX0sQkEuY29udHJvbFNlcmllcz1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5maW5kVGFyZ2V0SW5mbyh0LGkpO3JldHVybiEwPT09bnx8biYmMDw9TkEobi5jb29yZFN5c2VzLGUuY29vcmRpbmF0ZVN5c3RlbSl9LEJBLmZpbmRUYXJnZXRJbmZvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX3RhcmdldEluZm9MaXN0LG49R0EoZSx0KSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBhPWlbb10scj10LnBhbmVsSWQ7aWYocil7aWYoYS5wYW5lbElkPT09cilyZXR1cm4gYX1lbHNlIGZvcihvPTA7bzxXQS5sZW5ndGg7bysrKWlmKFdBW29dKG4sYSkpcmV0dXJuIGF9cmV0dXJuITB9O3ZhciBGQT17Z3JpZDpmdW5jdGlvbih0LG4pe3ZhciBvPXQueEF4aXNNb2RlbHMsYT10LnlBeGlzTW9kZWxzLGU9dC5ncmlkTW9kZWxzLGk9USgpLHI9e30scz17fTsob3x8YXx8ZSkmJihQQShvLGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcy5ncmlkLm1vZGVsO2kuc2V0KGUuaWQsZSkscltlLmlkXT0hMH0pLFBBKGEsZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzLmdyaWQubW9kZWw7aS5zZXQoZS5pZCxlKSxzW2UuaWRdPSEwfSksUEEoZSxmdW5jdGlvbih0KXtpLnNldCh0LmlkLHQpLHJbdC5pZF09ITAsc1t0LmlkXT0hMH0pLGkuZWFjaChmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0saT1bXTtQQShlLmdldENhcnRlc2lhbnMoKSxmdW5jdGlvbih0LGUpeygwPD1OQShvLHQuZ2V0QXhpcygieCIpLm1vZGVsKXx8MDw9TkEoYSx0LmdldEF4aXMoInkiKS5tb2RlbCkpJiZpLnB1c2godCl9KSxuLnB1c2goe3BhbmVsSWQ6ImdyaWQtLSIrdC5pZCxncmlkTW9kZWw6dCxjb29yZFN5c01vZGVsOnQsY29vcmRTeXM6aVswXSxjb29yZFN5c2VzOmksZ2V0UGFuZWxSZWN0OkhBLmdyaWQseEF4aXNEZWNsYXJlZDpyW3QuaWRdLHlBeGlzRGVjbGFyZWQ6c1t0LmlkXX0pfSkpfSxnZW86ZnVuY3Rpb24odCxpKXtQQSh0Lmdlb01vZGVscyxmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aS5wdXNoKHtwYW5lbElkOiJnZW8tLSIrdC5pZCxnZW9Nb2RlbDp0LGNvb3JkU3lzTW9kZWw6dCxjb29yZFN5czplLGNvb3JkU3lzZXM6W2VdLGdldFBhbmVsUmVjdDpIQS5nZW99KX0pfX0sV0E9W2Z1bmN0aW9uKHQsZSl7dmFyIGk9dC54QXhpc01vZGVsLG49dC55QXhpc01vZGVsLG89dC5ncmlkTW9kZWw7cmV0dXJuIW8mJmkmJihvPWkuYXhpcy5ncmlkLm1vZGVsKSwhbyYmbiYmKG89bi5heGlzLmdyaWQubW9kZWwpLG8mJm89PT1lLmdyaWRNb2RlbH0sZnVuY3Rpb24odCxlKXt2YXIgaT10Lmdlb01vZGVsO3JldHVybiBpJiZpPT09ZS5nZW9Nb2RlbH1dLEhBPXtncmlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRTeXMuZ3JpZC5nZXRSZWN0KCkuY2xvbmUoKX0sZ2VvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb29yZFN5cyxlPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtyZXR1cm4gZS5hcHBseVRyYW5zZm9ybShmbCh0KSksZX19LFpBPXtsaW5lWDpPQShVQSwwKSxsaW5lWTpPQShVQSwxKSxyZWN0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lW1JBW3RdXShbaVswXVswXSxpWzFdWzBdXSksbz1lW1JBW3RdXShbaVswXVsxXSxpWzFdWzFdXSksYT1bVkEoW25bMF0sb1swXV0pLFZBKFtuWzFdLG9bMV1dKV07cmV0dXJue3ZhbHVlczphLHh5TWluTWF4OmF9fSxwb2x5Z29uOmZ1bmN0aW9uKGksbix0KXt2YXIgbz1bWzEvMCwtMS8wXSxbMS8wLC0xLzBdXTtyZXR1cm57dmFsdWVzOk8odCxmdW5jdGlvbih0KXt2YXIgZT1uW1JBW2ldXSh0KTtyZXR1cm4gb1swXVswXT1NYXRoLm1pbihvWzBdWzBdLGVbMF0pLG9bMV1bMF09TWF0aC5taW4ob1sxXVswXSxlWzFdKSxvWzBdWzFdPU1hdGgubWF4KG9bMF1bMV0sZVswXSksb1sxXVsxXT1NYXRoLm1heChvWzFdWzFdLGVbMV0pLGV9KSx4eU1pbk1heDpvfX19O2Z1bmN0aW9uIFVBKHQsZSxpLG4pe3ZhciBvPWkuZ2V0QXhpcyhbIngiLCJ5Il1bdF0pLGE9VkEoTyhbMCwxXSxmdW5jdGlvbih0KXtyZXR1cm4gZT9vLmNvb3JkVG9EYXRhKG8udG9Mb2NhbENvb3JkKG5bdF0pKTpvLnRvR2xvYmFsQ29vcmQoby5kYXRhVG9Db29yZChuW3RdKSl9KSkscj1bXTtyZXR1cm4gclt0XT1hLHJbMS10XT1bTmFOLE5hTl0se3ZhbHVlczphLHh5TWluTWF4OnJ9fXZhciBYQT17bGluZVg6T0EoWUEsMCksbGluZVk6T0EoWUEsMSkscmVjdDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuW1t0WzBdWzBdLWlbMF0qZVswXVswXSx0WzBdWzFdLWlbMF0qZVswXVsxXV0sW3RbMV1bMF0taVsxXSplWzFdWzBdLHRbMV1bMV0taVsxXSplWzFdWzFdXV19LHBvbHlnb246ZnVuY3Rpb24odCxpLG4pe3JldHVybiBPKHQsZnVuY3Rpb24odCxlKXtyZXR1cm5bdFswXS1uWzBdKmlbZV1bMF0sdFsxXS1uWzFdKmlbZV1bMV1dfSl9fTtmdW5jdGlvbiBZQSh0LGUsaSxuKXtyZXR1cm5bZVswXS1uW3RdKmlbMF0sZVsxXS1uW3RdKmlbMV1dfWZ1bmN0aW9uIGpBKHQpe3JldHVybiB0P1t0WzBdWzFdLXRbMF1bMF0sdFsxXVsxXS10WzFdWzBdXTpbTmFOLE5hTl19dmFyIHFBPVIsS0E9IlwwX2VjX2hpc3Rfc3RvcmUiO2Z1bmN0aW9uICRBKHQpe3ZhciBlPXRbS0FdO3JldHVybiBlPWV8fCh0W0tBXT1be31dKX1rdS5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoImRhdGFab29tIixmdW5jdGlvbigpe3JldHVybiJzbGlkZXIifSk7dmFyIEpBPVsiY2FydGVzaWFuMmQiLCJwb2xhciIsInNpbmdsZUF4aXMiXTt2YXIgUUEsdEQsZUQsaUQsbkQ9KHREPVsiYXhpc0luZGV4IiwiYXhpcyIsImluZGV4IiwiaWQiXSxlRD1PKFFBPShRQT1bIngiLCJ5IiwieiIsInJhZGl1cyIsImFuZ2xlIiwic2luZ2xlIl0pLnNsaWNlKCksZnUpLGlEPU8odEQ9KHREfHxbXSkuc2xpY2UoKSxmdSksZnVuY3Rpb24obyxhKXtSKFFBLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXtuYW1lOnQsY2FwaXRhbDplRFtlXX0sbj0wO248dEQubGVuZ3RoO24rKylpW3REW25dXT10K2lEW25dO28uY2FsbChhLGkpfSl9KTtmdW5jdGlvbiBvRChvLGEscil7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlLGk9e25vZGVzOltdLHJlY29yZHM6e319O2lmKGEoZnVuY3Rpb24odCl7aS5yZWNvcmRzW3QubmFtZV09e319KSwhdClyZXR1cm4gaTtmb3Iocyh0LGkpO2U9ITEsbyhuKSxlOyk7ZnVuY3Rpb24gbih0KXshZnVuY3Rpb24odCxlKXtyZXR1cm4gMDw9XyhlLm5vZGVzLHQpfSh0LGkpJiZmdW5jdGlvbih0LGkpe3ZhciBuPSExO3JldHVybiBhKGZ1bmN0aW9uKGUpe1Iocih0LGUpfHxbXSxmdW5jdGlvbih0KXtpLnJlY29yZHNbZS5uYW1lXVt0XSYmKG49ITApfSl9KSxufSh0LGkpJiYocyh0LGkpLGU9ITApfXJldHVybiBpfTtmdW5jdGlvbiBzKHQsaSl7aS5ub2Rlcy5wdXNoKHQpLGEoZnVuY3Rpb24oZSl7UihyKHQsZSl8fFtdLGZ1bmN0aW9uKHQpe2kucmVjb3Jkc1tlLm5hbWVdW3RdPSEwfSl9KX19ZnVuY3Rpb24gYUQodCxlLGksbil7dGhpcy5fZGltTmFtZT10LHRoaXMuX2F4aXNJbmRleD1lLHRoaXMuX3ZhbHVlV2luZG93LHRoaXMuX3BlcmNlbnRXaW5kb3csdGhpcy5fZGF0YUV4dGVudCx0aGlzLl9taW5NYXhTcGFuLHRoaXMuZWNNb2RlbD1uLHRoaXMuX2RhdGFab29tTW9kZWw9aX12YXIgckQ9UixzRD1CbDtmdW5jdGlvbiBsRCh0LGUpe3ZhciBpPXQuZ2V0QXhpc01vZGVsKCksbj10Ll9wZXJjZW50V2luZG93LG89dC5fdmFsdWVXaW5kb3c7aWYobil7dmFyIGE9RmwobyxbMCw1MDBdKTthPU1hdGgubWluKGEsMjApO3ZhciByPWV8fDA9PT1uWzBdJiYxMDA9PT1uWzFdO2kuc2V0UmFuZ2Uocj9udWxsOitvWzBdLnRvRml4ZWQoYSkscj9udWxsOitvWzFdLnRvRml4ZWQoYSkpfX1hRC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmFELGhvc3RlZEJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhWm9vbU1vZGVsPT09dH0sZ2V0RGF0YVZhbHVlV2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlV2luZG93LnNsaWNlKCl9LGdldERhdGFQZXJjZW50V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcmNlbnRXaW5kb3cuc2xpY2UoKX0sZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzOmZ1bmN0aW9uKCl7dmFyIG49W10sbz10aGlzLmVjTW9kZWw7cmV0dXJuIG8uZWFjaFNlcmllcyhmdW5jdGlvbih0KXtpZihmdW5jdGlvbih0KXtyZXR1cm4gMDw9XyhKQSx0KX0odC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSkpe3ZhciBlPXRoaXMuX2RpbU5hbWUsaT1vLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6ZSsiQXhpcyIsaW5kZXg6dC5nZXQoZSsiQXhpc0luZGV4IiksaWQ6dC5nZXQoZSsiQXhpc0lkIil9KVswXTt0aGlzLl9heGlzSW5kZXg9PT0oaSYmaS5jb21wb25lbnRJbmRleCkmJm4ucHVzaCh0KX19LHRoaXMpLG59LGdldEF4aXNNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KHRoaXMuX2RpbU5hbWUrIkF4aXMiLHRoaXMuX2F4aXNJbmRleCl9LGdldE90aGVyQXhpc01vZGVsOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG49dGhpcy5fZGltTmFtZSxvPXRoaXMuZWNNb2RlbCxhPXRoaXMuZ2V0QXhpc01vZGVsKCk7cmV0dXJuIHQ9IngiPT09bnx8InkiPT09bj8oZT0iZ3JpZEluZGV4IiwieCI9PT1uPyJ5IjoieCIpOihlPSJwb2xhckluZGV4IiwiYW5nbGUiPT09bj8icmFkaXVzIjoiYW5nbGUiKSxvLmVhY2hDb21wb25lbnQodCsiQXhpcyIsZnVuY3Rpb24odCl7KHQuZ2V0KGUpfHwwKT09PShhLmdldChlKXx8MCkmJihpPXQpfSksaX0sZ2V0TWluTWF4U3BhbjpmdW5jdGlvbigpe3JldHVybiBrKHRoaXMuX21pbk1heFNwYW4pfSxjYWxjdWxhdGVEYXRhV2luZG93OmZ1bmN0aW9uKG8pe3ZhciBhLHI9dGhpcy5fZGF0YUV4dGVudCxzPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZSxsPXRoaXMuX2RhdGFab29tTW9kZWwuZ2V0UmFuZ2VQcm9wTW9kZSgpLHU9WzAsMTAwXSxoPVtdLGM9W107ckQoWyJzdGFydCIsImVuZCJdLGZ1bmN0aW9uKHQsZSl7dmFyIGk9b1t0XSxuPW9bdCsiVmFsdWUiXTsicGVyY2VudCI9PT1sW2VdPyhudWxsPT1pJiYoaT11W2VdKSxuPXMucGFyc2UoUmwoaSx1LHIpKSk6KGE9ITAsaT1SbChuPW51bGw9PW4/cltlXTpzLnBhcnNlKG4pLHIsdSkpLGNbZV09bixoW2VdPWl9KSxzRChjKSxzRChoKTt2YXIgZD10aGlzLl9taW5NYXhTcGFuO2Z1bmN0aW9uIHQodCxlLGksbixvKXt2YXIgYT1vPyJTcGFuIjoiVmFsdWVTcGFuIjtzYigwLHQsaSwiYWxsIixkWyJtaW4iK2FdLGRbIm1heCIrYV0pO2Zvcih2YXIgcj0wO3I8MjtyKyspZVtyXT1SbCh0W3JdLGksbiwhMCksbyYmKGVbcl09cy5wYXJzZShlW3JdKSl9cmV0dXJuIGE/dChjLGgscix1LCExKTp0KGgsYyx1LHIsITApLHt2YWx1ZVdpbmRvdzpjLHBlcmNlbnRXaW5kb3c6aH19LHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgZT10aGlzLmdldFRhcmdldFNlcmllc01vZGVscygpO3RoaXMuX2RhdGFFeHRlbnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVsxLzAsLTEvMF07ckQoaSxmdW5jdGlvbih0KXt2YXIgaT10LmdldERhdGEoKTtpJiZyRChpLm1hcERpbWVuc2lvbihlLCEwKSxmdW5jdGlvbih0KXt2YXIgZT1pLmdldEFwcHJveGltYXRlRXh0ZW50KHQpO2VbMF08blswXSYmKG5bMF09ZVswXSksZVsxXT5uWzFdJiYoblsxXT1lWzFdKX0pfSksblsxXTxuWzBdJiYobj1bTmFOLE5hTl0pO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0QXhpc01vZGVsKCksbj1pLmdldE1pbighMCksbz0iY2F0ZWdvcnkiPT09aS5nZXQoInR5cGUiKSxhPW8mJmkuZ2V0Q2F0ZWdvcmllcygpLmxlbmd0aDtudWxsIT1uJiYiZGF0YU1pbiIhPT1uJiYiZnVuY3Rpb24iIT10eXBlb2Ygbj9lWzBdPW46byYmKGVbMF09MDxhPzA6TmFOKTt2YXIgcj1pLmdldE1heCghMCk7bnVsbCE9ciYmImRhdGFNYXgiIT09ciYmImZ1bmN0aW9uIiE9dHlwZW9mIHI/ZVsxXT1yOm8mJihlWzFdPTA8YT9hLTE6TmFOKTtpLmdldCgic2NhbGUiLCEwKXx8KDA8ZVswXSYmKGVbMF09MCksZVsxXTwwJiYoZVsxXT0wKSl9KHQsbiksbn0odGhpcyx0aGlzLl9kaW1OYW1lLGUpLGZ1bmN0aW9uKG4pe3ZhciBvPW4uX21pbk1heFNwYW49e30sYT1uLl9kYXRhWm9vbU1vZGVsLHI9bi5fZGF0YUV4dGVudDtyRChbIm1pbiIsIm1heCJdLGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0KHQrIlNwYW4iKSxpPWEuZ2V0KHQrIlZhbHVlU3BhbiIpO251bGwhPWkmJihpPW4uZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZS5wYXJzZShpKSksbnVsbCE9aT9lPVJsKHJbMF0raSxyLFswLDEwMF0sITApOm51bGwhPWUmJihpPVJsKGUsWzAsMTAwXSxyLCEwKS1yWzBdKSxvW3QrIlNwYW4iXT1lLG9bdCsiVmFsdWVTcGFuIl09aX0pfSh0aGlzKTt2YXIgaT10aGlzLmNhbGN1bGF0ZURhdGFXaW5kb3codC5zZXR0bGVkT3B0aW9uKTt0aGlzLl92YWx1ZVdpbmRvdz1pLnZhbHVlV2luZG93LHRoaXMuX3BlcmNlbnRXaW5kb3c9aS5wZXJjZW50V2luZG93LGxEKHRoaXMpfX0scmVzdG9yZTpmdW5jdGlvbih0KXt0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCYmKHRoaXMuX3ZhbHVlV2luZG93PXRoaXMuX3BlcmNlbnRXaW5kb3c9bnVsbCxsRCh0aGlzLCEwKSl9LGZpbHRlckRhdGE6ZnVuY3Rpb24odCxlKXtpZih0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCl7dmFyIG49dGhpcy5fZGltTmFtZSxpPXRoaXMuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCksbz10LmdldCgiZmlsdGVyTW9kZSIpLGM9dGhpcy5fdmFsdWVXaW5kb3c7Im5vbmUiIT09byYmckQoaSxmdW5jdGlvbihpKXt2YXIgdT1pLmdldERhdGEoKSxoPXUubWFwRGltZW5zaW9uKG4sITApO2gubGVuZ3RoJiYoIndlYWtGaWx0ZXIiPT09bz91LmZpbHRlclNlbGYoZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixvPTA7bzxoLmxlbmd0aDtvKyspe3ZhciBhPXUuZ2V0KGhbb10sdCkscj0haXNOYU4oYSkscz1hPGNbMF0sbD1hPmNbMV07aWYociYmIXMmJiFsKXJldHVybiEwO3ImJihuPSEwKSxzJiYoZT0hMCksbCYmKGk9ITApfXJldHVybiBuJiZlJiZpfSk6ckQoaCxmdW5jdGlvbih0KXtpZigiZW1wdHkiPT09bylpLnNldERhdGEodT11Lm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdD49Y1swXSYmdDw9Y1sxXX0odCk/dDpOYU59KSk7ZWxzZXt2YXIgZT17fTtlW3RdPWMsdS5zZWxlY3RSYW5nZShlKX19KSxyRChoLGZ1bmN0aW9uKHQpe3Uuc2V0QXBwcm94aW1hdGVFeHRlbnQoYyx0KX0pKX0pfX19O3ZhciB1RD1SLGhEPW5ELGNEPVRmKHt0eXBlOiJkYXRhWm9vbSIsZGVwZW5kZW5jaWVzOlsieEF4aXMiLCJ5QXhpcyIsInpBeGlzIiwicmFkaXVzQXhpcyIsImFuZ2xlQXhpcyIsInNpbmdsZUF4aXMiLCJzZXJpZXMiXSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjQsb3JpZW50Om51bGwseEF4aXNJbmRleDpudWxsLHlBeGlzSW5kZXg6bnVsbCxmaWx0ZXJNb2RlOiJmaWx0ZXIiLHRocm90dGxlOm51bGwsc3RhcnQ6MCxlbmQ6MTAwLHN0YXJ0VmFsdWU6bnVsbCxlbmRWYWx1ZTpudWxsLG1pblNwYW46bnVsbCxtYXhTcGFuOm51bGwsbWluVmFsdWVTcGFuOm51bGwsbWF4VmFsdWVTcGFuOm51bGwscmFuZ2VNb2RlOm51bGx9LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RhdGFJbnRlcnZhbEJ5QXhpcz17fSx0aGlzLl9kYXRhSW5mbz17fSx0aGlzLl9heGlzUHJveGllcz17fSx0aGlzLnRleHRTdHlsZU1vZGVsLHRoaXMuX2F1dG9UaHJvdHRsZT0hMCx0aGlzLl9yYW5nZVByb3BNb2RlPVsicGVyY2VudCIsInBlcmNlbnQiXTt2YXIgbj1kRCh0KTt0aGlzLnNldHRsZWRPcHRpb249bix0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksdGhpcy5kb0luaXQobil9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPWREKHQpO20odGhpcy5vcHRpb24sdCwhMCksbSh0aGlzLnNldHRsZWRPcHRpb24sZSwhMCksdGhpcy5kb0luaXQoZSl9LGRvSW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbjt2LmNhbnZhc1N1cHBvcnRlZHx8KGkucmVhbHRpbWU9ITEpLHRoaXMuX3NldERlZmF1bHRUaHJvdHRsZSh0KSxmRCh0aGlzLHQpO3ZhciBuPXRoaXMuc2V0dGxlZE9wdGlvbjt1RChbWyJzdGFydCIsInN0YXJ0VmFsdWUiXSxbImVuZCIsImVuZFZhbHVlIl1dLGZ1bmN0aW9uKHQsZSl7InZhbHVlIj09PXRoaXMuX3JhbmdlUHJvcE1vZGVbZV0mJihpW3RbMF1dPW5bdFswXV09bnVsbCl9LHRoaXMpLHRoaXMudGV4dFN0eWxlTW9kZWw9dGhpcy5nZXRNb2RlbCgidGV4dFN0eWxlIiksdGhpcy5fcmVzZXRUYXJnZXQoKSx0aGlzLl9naXZlQXhpc1Byb3hpZXMoKX0sX2dpdmVBeGlzUHJveGllczpmdW5jdGlvbigpe3ZhciByPXRoaXMuX2F4aXNQcm94aWVzO3RoaXMuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5kZXBlbmRlbnRNb2RlbHNbdC5heGlzXVtlXSxhPW8uX19kekF4aXNQcm94eXx8KG8uX19kekF4aXNQcm94eT1uZXcgYUQodC5uYW1lLGUsdGhpcyxuKSk7clt0Lm5hbWUrIl8iK2VdPWF9LHRoaXMpfSxfcmVzZXRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm9wdGlvbix0PXRoaXMuX2p1ZGdlQXV0b01vZGUoKTtoRChmdW5jdGlvbih0KXt2YXIgZT10LmF4aXNJbmRleDtpW2VdPVZvKGlbZV0pfSx0aGlzKSwiYXhpc0luZGV4Ij09PXQ/dGhpcy5fYXV0b1NldEF4aXNJbmRleCgpOiJvcmllbnQiPT09dCYmdGhpcy5fYXV0b1NldE9yaWVudCgpfSxfanVkZ2VBdXRvTW9kZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9uLGk9ITE7aEQoZnVuY3Rpb24odCl7bnVsbCE9ZVt0LmF4aXNJbmRleF0mJihpPSEwKX0sdGhpcyk7dmFyIHQ9ZS5vcmllbnQ7cmV0dXJuIG51bGw9PXQmJmk/Im9yaWVudCI6aT92b2lkIDA6KG51bGw9PXQmJihlLm9yaWVudD0iaG9yaXpvbnRhbCIpLCJheGlzSW5kZXgiKX0sX2F1dG9TZXRBeGlzSW5kZXg6ZnVuY3Rpb24oKXt2YXIgYT0hMCxlPXRoaXMuZ2V0KCJvcmllbnQiLCEwKSxyPXRoaXMub3B0aW9uLHQ9dGhpcy5kZXBlbmRlbnRNb2RlbHM7aWYoYSl7dmFyIGk9InZlcnRpY2FsIj09PWU/InkiOiJ4Ijt0W2krIkF4aXMiXS5sZW5ndGg/KHJbaSsiQXhpc0luZGV4Il09WzBdLGE9ITEpOnVEKHQuc2luZ2xlQXhpcyxmdW5jdGlvbih0KXthJiZ0LmdldCgib3JpZW50IiwhMCk9PT1lJiYoci5zaW5nbGVBeGlzSW5kZXg9W3QuY29tcG9uZW50SW5kZXhdLGE9ITEpfSl9YSYmaEQoZnVuY3Rpb24odCl7aWYoYSl7dmFyIGU9W10saT10aGlzLmRlcGVuZGVudE1vZGVsc1t0LmF4aXNdO2lmKGkubGVuZ3RoJiYhZS5sZW5ndGgpZm9yKHZhciBuPTAsbz1pLmxlbmd0aDtuPG87bisrKSJjYXRlZ29yeSI9PT1pW25dLmdldCgidHlwZSIpJiZlLnB1c2gobik7KHJbdC5heGlzSW5kZXhdPWUpLmxlbmd0aCYmKGE9ITEpfX0sdGhpcyksYSYmdGhpcy5lY01vZGVsLmVhY2hTZXJpZXMoZnVuY3Rpb24obyl7dGhpcy5faXNTZXJpZXNIYXNBbGxBeGVzVHlwZU9mKG8sInZhbHVlIikmJmhEKGZ1bmN0aW9uKHQpe3ZhciBlPXJbdC5heGlzSW5kZXhdLGk9by5nZXQodC5heGlzSW5kZXgpLG49by5nZXQodC5heGlzSWQpO18oZSxpPW8uZWNNb2RlbC5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOnQuYXhpcyxpbmRleDppLGlkOm59KVswXS5jb21wb25lbnRJbmRleCk8MCYmZS5wdXNoKGkpfSl9LHRoaXMpfSxfYXV0b1NldE9yaWVudDpmdW5jdGlvbigpe3ZhciBlO3RoaXMuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24odCl7ZT1lfHx0Lm5hbWV9LHRoaXMpLHRoaXMub3B0aW9uLm9yaWVudD0ieSI9PT1lPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxfaXNTZXJpZXNIYXNBbGxBeGVzVHlwZU9mOmZ1bmN0aW9uKG4sbyl7dmFyIGE9ITA7cmV0dXJuIGhEKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0KHQuYXhpc0luZGV4KSxpPXRoaXMuZGVwZW5kZW50TW9kZWxzW3QuYXhpc11bZV07aSYmaS5nZXQoInR5cGUiKT09PW98fChhPSExKX0sdGhpcyksYX0sX3NldERlZmF1bHRUaHJvdHRsZTpmdW5jdGlvbih0KXtpZih0Lmhhc093blByb3BlcnR5KCJ0aHJvdHRsZSIpJiYodGhpcy5fYXV0b1Rocm90dGxlPSExKSx0aGlzLl9hdXRvVGhyb3R0bGUpe3ZhciBlPXRoaXMuZWNNb2RlbC5vcHRpb247dGhpcy5vcHRpb24udGhyb3R0bGU9ZS5hbmltYXRpb24mJjA8ZS5hbmltYXRpb25EdXJhdGlvblVwZGF0ZT8xMDA6MjB9fSxnZXRGaXJzdFRhcmdldEF4aXNNb2RlbDpmdW5jdGlvbigpe3ZhciBpO3JldHVybiBoRChmdW5jdGlvbih0KXtpZihudWxsPT1pKXt2YXIgZT10aGlzLmdldCh0LmF4aXNJbmRleCk7ZS5sZW5ndGgmJihpPXRoaXMuZGVwZW5kZW50TW9kZWxzW3QuYXhpc11bZVswXV0pfX0sdGhpcyksaX0sZWFjaFRhcmdldEF4aXM6ZnVuY3Rpb24oaSxuKXt2YXIgbz10aGlzLmVjTW9kZWw7aEQoZnVuY3Rpb24oZSl7dUQodGhpcy5nZXQoZS5heGlzSW5kZXgpLGZ1bmN0aW9uKHQpe2kuY2FsbChuLGUsdCx0aGlzLG8pfSx0aGlzKX0sdGhpcyl9LGdldEF4aXNQcm94eTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9heGlzUHJveGllc1t0KyJfIitlXX0sZ2V0QXhpc01vZGVsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRBeGlzUHJveHkodCxlKTtyZXR1cm4gaSYmaS5nZXRBeGlzTW9kZWwoKX0sc2V0UmF3UmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb24sbj10aGlzLnNldHRsZWRPcHRpb247dUQoW1sic3RhcnQiLCJzdGFydFZhbHVlIl0sWyJlbmQiLCJlbmRWYWx1ZSJdXSxmdW5jdGlvbih0KXtudWxsPT1lW3RbMF1dJiZudWxsPT1lW3RbMV1dfHwoaVt0WzBdXT1uW3RbMF1dPWVbdFswXV0saVt0WzFdXT1uW3RbMV1dPWVbdFsxXV0pfSx0aGlzKSxmRCh0aGlzLGUpfSxzZXRDYWxjdWxhdGVkUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb247dUQoWyJzdGFydCIsInN0YXJ0VmFsdWUiLCJlbmQiLCJlbmRWYWx1ZSJdLGZ1bmN0aW9uKHQpe2lbdF09ZVt0XX0pfSxnZXRQZXJjZW50UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO2lmKHQpcmV0dXJuIHQuZ2V0RGF0YVBlcmNlbnRXaW5kb3coKX0sZ2V0VmFsdWVSYW5nZTpmdW5jdGlvbih0LGUpe2lmKG51bGwhPXR8fG51bGwhPWUpcmV0dXJuIHRoaXMuZ2V0QXhpc1Byb3h5KHQsZSkuZ2V0RGF0YVZhbHVlV2luZG93KCk7dmFyIGk9dGhpcy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtyZXR1cm4gaT9pLmdldERhdGFWYWx1ZVdpbmRvdygpOnZvaWQgMH0sZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5OmZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIHQuX19kekF4aXNQcm94eTt2YXIgZT10aGlzLl9heGlzUHJveGllcztmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpJiZlW2ldLmhvc3RlZEJ5KHRoaXMpKXJldHVybiBlW2ldO2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkmJiFlW2ldLmhvc3RlZEJ5KHRoaXMpKXJldHVybiBlW2ldfSxnZXRSYW5nZVByb3BNb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlUHJvcE1vZGUuc2xpY2UoKX19KTtmdW5jdGlvbiBkRChlKXt2YXIgaT17fTtyZXR1cm4gdUQoWyJzdGFydCIsImVuZCIsInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSIsInRocm90dGxlIl0sZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKGlbdF09ZVt0XSl9KSxpfWZ1bmN0aW9uIGZEKHQsbyl7dmFyIGE9dC5fcmFuZ2VQcm9wTW9kZSxyPXQuZ2V0KCJyYW5nZU1vZGUiKTt1RChbWyJzdGFydCIsInN0YXJ0VmFsdWUiXSxbImVuZCIsImVuZFZhbHVlIl1dLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbCE9b1t0WzBdXSxuPW51bGwhPW9bdFsxXV07aSYmIW4/YVtlXT0icGVyY2VudCI6IWkmJm4/YVtlXT0idmFsdWUiOnI/YVtlXT1yW2VdOmkmJihhW2VdPSJwZXJjZW50Iil9KX12YXIgcEQ9Z2MuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbSIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPWl9LGdldFRhcmdldENvb3JkSW5mbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YVpvb21Nb2RlbCxvPXRoaXMuZWNNb2RlbCxhPXt9O3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKGZ1bmN0aW9uKHQsZSl7dmFyIGk9by5nZXRDb21wb25lbnQodC5heGlzLGUpO2lmKGkpe3ZhciBuPWkuZ2V0Q29vcmRTeXNNb2RlbCgpO24mJmZ1bmN0aW9uKHQsZSxpLG4pe2Zvcih2YXIgbyxhPTA7YTxpLmxlbmd0aDthKyspaWYoaVthXS5tb2RlbD09PXQpe289aVthXTticmVha31vfHxpLnB1c2gobz17bW9kZWw6dCxheGlzTW9kZWxzOltdLGNvb3JkSW5kZXg6bn0pO28uYXhpc01vZGVscy5wdXNoKGUpfShuLGksYVtuLm1haW5UeXBlXXx8KGFbbi5tYWluVHlwZV09W10pLG4uY29tcG9uZW50SW5kZXgpfX0sdGhpcyksYX19KTtjRC5leHRlbmQoe3R5cGU6ImRhdGFab29tLnNlbGVjdCJ9KSxwRC5leHRlbmQoe3R5cGU6ImRhdGFab29tLnNlbGVjdCJ9KSx4Zih7Z2V0VGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKHQpe3ZhciBuPVEoKTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsZnVuY3Rpb24odCl7dC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbih0LGUsaSl7UihpLmdldEF4aXNQcm94eSh0Lm5hbWUsZSkuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCksZnVuY3Rpb24odCl7bi5zZXQodC51aWQsdCl9KX0pfSksbn0sbW9kaWZ5T3V0cHV0RW5kOiEwLG92ZXJhbGxSZXNldDpmdW5jdGlvbih0LG4pe3QuZWFjaENvbXBvbmVudCgiZGF0YVpvb20iLGZ1bmN0aW9uKHQpe3QuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24odCxlLGkpe2kuZ2V0QXhpc1Byb3h5KHQubmFtZSxlKS5yZXNldChpLG4pfSksdC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbih0LGUsaSl7aS5nZXRBeGlzUHJveHkodC5uYW1lLGUpLmZpbHRlckRhdGEoaSxuKX0pfSksdC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsZnVuY3Rpb24odCl7dmFyIGU9dC5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKSxpPWUuZ2V0RGF0YVBlcmNlbnRXaW5kb3coKSxuPWUuZ2V0RGF0YVZhbHVlV2luZG93KCk7dC5zZXRDYWxjdWxhdGVkUmFuZ2Uoe3N0YXJ0OmlbMF0sZW5kOmlbMV0sc3RhcnRWYWx1ZTpuWzBdLGVuZFZhbHVlOm5bMV19KX0pfX0pLF9mKCJkYXRhWm9vbSIsZnVuY3Rpb24oaSx0KXt2YXIgbj1vRChBKHQuZWFjaENvbXBvbmVudCx0LCJkYXRhWm9vbSIpLG5ELGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0KGUuYXhpc0luZGV4KX0pLG89W107dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiZGF0YVpvb20iLHF1ZXJ5Oml9LGZ1bmN0aW9uKHQsZSl7by5wdXNoLmFwcGx5KG8sbih0KS5ub2Rlcyl9KSxSKG8sZnVuY3Rpb24odCxlKXt0LnNldFJhd1JhbmdlKHtzdGFydDppLnN0YXJ0LGVuZDppLmVuZCxzdGFydFZhbHVlOmkuc3RhcnRWYWx1ZSxlbmRWYWx1ZTppLmVuZFZhbHVlfSl9KX0pO3ZhciBnRD1PYy50b29sYm94LmRhdGFab29tLG1EPVI7ZnVuY3Rpb24gdkQodCxlLGkpeyh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IE9iKGkuZ2V0WnIoKSkpLm9uKCJicnVzaCIsQSh0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpLHRoaXMuX2lzWm9vbUFjdGl2ZX12RC5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLGZpbHRlck1vZGU6ImZpbHRlciIsaWNvbjp7em9vbToiTTAsMTMuNWgyNi45IE0xMy41LDI2LjlWMCBNMzIuMSwxMy41SDU4VjU4SDEzLjUgVjMyLjEiLGJhY2s6Ik0yMiwxLjRMOS45LDEzLjVsMTIuMywxMi4zIE0xMC4zLDEzLjVINTQuOXY0NC42IEgxMC4zdi0yNiJ9LHRpdGxlOmsoZ0QudGl0bGUpLGJydXNoU3R5bGU6e2JvcmRlcldpZHRoOjAsY29sb3I6InJnYmEoMCwwLDAsMC4yKSJ9fTt2YXIgeUQ9dkQucHJvdG90eXBlO3lELnJlbmRlcj1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLm1vZGVsPXQsdGhpcy5lY01vZGVsPWUsdGhpcy5hcGk9aSxmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuX2lzWm9vbUFjdGl2ZTtuJiYidGFrZUdsb2JhbEN1cnNvciI9PT1uLnR5cGUmJihhPSJkYXRhWm9vbVNlbGVjdCI9PT1uLmtleSYmbi5kYXRhWm9vbVNlbGVjdEFjdGl2ZSk7aS5faXNab29tQWN0aXZlPWEsdC5zZXRJY29uU3RhdHVzKCJ6b29tIixhPyJlbXBoYXNpcyI6Im5vcm1hbCIpO3ZhciByPW5ldyBFQShfRCh0Lm9wdGlvbiksZSx7aW5jbHVkZTpbImdyaWQiXX0pO2kuX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHMoci5tYWtlUGFuZWxPcHRzKG8sZnVuY3Rpb24odCl7cmV0dXJuIHQueEF4aXNEZWNsYXJlZCYmIXQueUF4aXNEZWNsYXJlZD8ibGluZVgiOiF0LnhBeGlzRGVjbGFyZWQmJnQueUF4aXNEZWNsYXJlZD8ibGluZVkiOiJyZWN0In0pKS5lbmFibGVCcnVzaCghIWEmJnticnVzaFR5cGU6ImF1dG8iLGJydXNoU3R5bGU6dC5nZXRNb2RlbCgiYnJ1c2hTdHlsZSIpLmdldEl0ZW1TdHlsZSgpfSl9KHQsZSx0aGlzLG4saSksZnVuY3Rpb24odCxlKXt0LnNldEljb25TdGF0dXMoImJhY2siLDE8ZnVuY3Rpb24odCl7cmV0dXJuICRBKHQpLmxlbmd0aH0oZSk/ImVtcGhhc2lzIjoibm9ybWFsIil9KHQsZSl9LHlELm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe3hEW2ldLmNhbGwodGhpcyl9LHlELnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2JydXNoQ29udHJvbGxlci51bm1vdW50KCl9LHlELmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfTt2YXIgeEQ9e3pvb206ZnVuY3Rpb24oKXt2YXIgdD0hdGhpcy5faXNab29tQWN0aXZlO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0YWtlR2xvYmFsQ3Vyc29yIixrZXk6ImRhdGFab29tU2VsZWN0IixkYXRhWm9vbVNlbGVjdEFjdGl2ZTp0fSl9LGJhY2s6ZnVuY3Rpb24oKXt0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oZnVuY3Rpb24odCl7dmFyIG49JEEodCksZT1uW24ubGVuZ3RoLTFdOzE8bi5sZW5ndGgmJm4ucG9wKCk7dmFyIG89e307cmV0dXJuIHFBKGUsZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9bi5sZW5ndGgtMTswPD1pO2ktLSl7aWYodD1uW2ldW2VdKXtvW2VdPXQ7YnJlYWt9fX0pLG99KHRoaXMuZWNNb2RlbCkpfX07ZnVuY3Rpb24gX0QoZSl7dmFyIGk9e307cmV0dXJuIFIoWyJ4QXhpc0luZGV4IiwieUF4aXNJbmRleCJdLGZ1bmN0aW9uKHQpe2lbdF09ZVt0XSxudWxsPT1pW3RdJiYoaVt0XT0iYWxsIiksITEhPT1pW3RdJiYibm9uZSIhPT1pW3RdfHwoaVt0XT1bXSl9KSxpfXlELl9vbkJydXNoPWZ1bmN0aW9uKHQsZSl7aWYoZS5pc0VuZCYmdC5sZW5ndGgpe3ZhciBzPXt9LGw9dGhpcy5lY01vZGVsO3RoaXMuX2JydXNoQ29udHJvbGxlci51cGRhdGVDb3ZlcnMoW10pLG5ldyBFQShfRCh0aGlzLm1vZGVsLm9wdGlvbiksbCx7aW5jbHVkZTpbImdyaWQiXX0pLm1hdGNoT3V0cHV0UmFuZ2VzKHQsbCxmdW5jdGlvbih0LGUsaSl7aWYoImNhcnRlc2lhbjJkIj09PWkudHlwZSl7dmFyIG49dC5icnVzaFR5cGU7InJlY3QiPT09bj8obygieCIsaSxlWzBdKSxvKCJ5IixpLGVbMV0pKTpvKHtsaW5lWDoieCIsbGluZVk6InkifVtuXSxpLGUpfX0pLGZ1bmN0aW9uKGEsdCl7dmFyIHI9JEEoYSk7cUEodCxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1yLmxlbmd0aC0xOzA8PWk7aS0tKXtpZihyW2ldW2VdKWJyZWFrfWlmKGk8MCl7dmFyIG49YS5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJkYXRhWm9vbSIsc3ViVHlwZToic2VsZWN0IixpZDplfSlbMF07aWYobil7dmFyIG89bi5nZXRQZXJjZW50UmFuZ2UoKTtyWzBdW2VdPXtkYXRhWm9vbUlkOmUsc3RhcnQ6b1swXSxlbmQ6b1sxXX19fX0pLHIucHVzaCh0KX0obCxzKSx0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24ocyl9ZnVuY3Rpb24gbyh0LGUsaSl7dmFyIG49ZS5nZXRBeGlzKHQpLG89bi5tb2RlbCxhPWZ1bmN0aW9uKGUsaSx0KXt2YXIgbjtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiZGF0YVpvb20iLHN1YlR5cGU6InNlbGVjdCJ9LGZ1bmN0aW9uKHQpe3QuZ2V0QXhpc01vZGVsKGUsaS5jb21wb25lbnRJbmRleCkmJihuPXQpfSksbn0odCxvLGwpLHI9YS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkobykuZ2V0TWluTWF4U3BhbigpO251bGw9PXIubWluVmFsdWVTcGFuJiZudWxsPT1yLm1heFZhbHVlU3Bhbnx8KGk9c2IoMCxpLnNsaWNlKCksbi5zY2FsZS5nZXRFeHRlbnQoKSwwLHIubWluVmFsdWVTcGFuLHIubWF4VmFsdWVTcGFuKSksYSYmKHNbYS5pZF09e2RhdGFab29tSWQ6YS5pZCxzdGFydFZhbHVlOmlbMF0sZW5kVmFsdWU6aVsxXX0pfX0seUQuX2Rpc3BhdGNoWm9vbUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgaT1bXTttRCh0LGZ1bmN0aW9uKHQsZSl7aS5wdXNoKGsodCkpfSksaS5sZW5ndGgmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkYXRhWm9vbSIsZnJvbTp0aGlzLnVpZCxiYXRjaDppfSl9LGRBKCJkYXRhWm9vbSIsdkQpLHlmKGZ1bmN0aW9uKHMpe2lmKHMpe3ZhciBsPXMuZGF0YVpvb218fChzLmRhdGFab29tPVtdKTtMKGwpfHwocy5kYXRhWm9vbT1sPVtsXSk7dmFyIHQ9cy50b29sYm94O2lmKHQmJihMKHQpJiYodD10WzBdKSx0JiZ0LmZlYXR1cmUpKXt2YXIgZT10LmZlYXR1cmUuZGF0YVpvb207aSgieEF4aXMiLGUpLGkoInlBeGlzIixlKX19ZnVuY3Rpb24gaShuLG8pe2lmKG8pe3ZhciBhPW4rIkluZGV4IixyPW9bYV07bnVsbD09cnx8ImFsbCI9PT1yfHxMKHIpfHwocj0hMT09PXJ8fCJub25lIj09PXI/W106W3JdKSxmdW5jdGlvbih0LGUpe3ZhciBpPXNbdF07TChpKXx8KGk9aT9baV06W10pO21EKGksZSl9KG4sZnVuY3Rpb24odCxlKXtpZihudWxsPT1yfHwiYWxsIj09PXJ8fC0xIT09XyhyLGUpKXt2YXIgaT17dHlwZToic2VsZWN0IiwkZnJvbVRvb2xib3g6ITAsZmlsdGVyTW9kZTpvLmZpbHRlck1vZGV8fCJmaWx0ZXIiLGlkOiJcMF9lY19cMHRvb2xib3gtZGF0YVpvb21fIituK2V9O2lbYV09ZSxsLnB1c2goaSl9fSl9fX0pO3ZhciB3RD1PYy50b29sYm94LnJlc3RvcmU7ZnVuY3Rpb24gYkQodCl7dGhpcy5tb2RlbD10fWJELmRlZmF1bHRPcHRpb249e3Nob3c6ITAsaWNvbjoiTTMuOCwzMy40IE00NywxOC45aDkuOFY4LjcgTTU2LjMsMjAuMSBDNTIuMSw5LDQwLjUsMC42LDI2LjgsMi4xQzEyLjYsMy43LDEuNiwxNi4yLDIuMSwzMC42IE0xMyw0MS4xSDMuMXYxMC4yIE0zLjcsMzkuOWM0LjIsMTEuMSwxNS44LDE5LjUsMjkuNSwxOCBjMTQuMi0xLjYsMjUuMi0xNC4xLDI0LjctMjguNSIsdGl0bGU6d0QudGl0bGV9LGJELnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSxpKXshZnVuY3Rpb24odCl7dFtLQV09bnVsbH0odCksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToicmVzdG9yZSIsZnJvbTp0aGlzLnVpZH0pfSxkQSgicmVzdG9yZSIsYkQpLF9mKHt0eXBlOiJyZXN0b3JlIixldmVudDoicmVzdG9yZSIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sZnVuY3Rpb24odCxlKXtlLnJlc2V0T3B0aW9uKCJyZWNyZWF0ZSIpfSksVGYoe3R5cGU6InRvb2x0aXAiLGRlcGVuZGVuY2llczpbImF4aXNQb2ludGVyIl0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo2MCxzaG93OiEwLHNob3dDb250ZW50OiEwLHRyaWdnZXI6Iml0ZW0iLHRyaWdnZXJPbjoibW91c2Vtb3ZlfGNsaWNrIixhbHdheXNTaG93Q29udGVudDohMSxkaXNwbGF5TW9kZToic2luZ2xlIixyZW5kZXJNb2RlOiJhdXRvIixjb25maW5lOiExLHNob3dEZWxheTowLGhpZGVEZWxheToxMDAsdHJhbnNpdGlvbkR1cmF0aW9uOi40LGVudGVyYWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoNTAsNTAsNTAsMC43KSIsYm9yZGVyQ29sb3I6IiMzMzMiLGJvcmRlclJhZGl1czo0LGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGV4dHJhQ3NzVGV4dDoiIixheGlzUG9pbnRlcjp7dHlwZToibGluZSIsYXhpczoiYXV0byIsYW5pbWF0aW9uOiJhdXRvIixhbmltYXRpb25EdXJhdGlvblVwZGF0ZToyMDAsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOiJleHBvbmVudGlhbE91dCIsY3Jvc3NTdHlsZTp7Y29sb3I6IiM5OTkiLHdpZHRoOjEsdHlwZToiZGFzaGVkIix0ZXh0U3R5bGU6e319fSx0ZXh0U3R5bGU6e2NvbG9yOiIjZmZmIixmb250U2l6ZToxNH19fSk7dmFyIFNEPVIsTUQ9ZXUsSUQ9WyIiLCItd2Via2l0LSIsIi1tb3otIiwiLW8tIl07ZnVuY3Rpb24gVEQobyl7dmFyIGE9W10sdD1vLmdldCgidHJhbnNpdGlvbkR1cmF0aW9uIiksZT1vLmdldCgiYmFja2dyb3VuZENvbG9yIiksaT1vLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxuPW8uZ2V0KCJwYWRkaW5nIik7cmV0dXJuIHQmJmEucHVzaChmdW5jdGlvbih0KXt2YXIgZT0iY3ViaWMtYmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpIixpPSJsZWZ0ICIrdCsicyAiK2UrIix0b3AgIit0KyJzICIrZTtyZXR1cm4gTyhJRCxmdW5jdGlvbih0KXtyZXR1cm4gdCsidHJhbnNpdGlvbjoiK2l9KS5qb2luKCI7Iil9KHQpKSxlJiYodi5jYW52YXNTdXBwb3J0ZWQ/YS5wdXNoKCJiYWNrZ3JvdW5kLUNvbG9yOiIrZSk6KGEucHVzaCgiYmFja2dyb3VuZC1Db2xvcjojIitaZShlKSksYS5wdXNoKCJmaWx0ZXI6YWxwaGEob3BhY2l0eT03MCkiKSkpLFNEKFsid2lkdGgiLCJjb2xvciIsInJhZGl1cyJdLGZ1bmN0aW9uKHQpe3ZhciBlPSJib3JkZXItIit0LGk9TUQoZSksbj1vLmdldChpKTtudWxsIT1uJiZhLnB1c2goZSsiOiIrbisoImNvbG9yIj09PXQ/IiI6InB4IikpfSksYS5wdXNoKGZ1bmN0aW9uKGkpe3ZhciBuPVtdLHQ9aS5nZXQoImZvbnRTaXplIiksZT1pLmdldFRleHRDb2xvcigpO2UmJm4ucHVzaCgiY29sb3I6IitlKSxuLnB1c2goImZvbnQ6IitpLmdldEZvbnQoKSk7dmFyIG89aS5nZXQoImxpbmVIZWlnaHQiKTtudWxsPT1vJiYobz1NYXRoLnJvdW5kKDMqdC8yKSksdCYmbi5wdXNoKCJsaW5lLWhlaWdodDoiK28rInB4Iik7dmFyIGE9aS5nZXQoInRleHRTaGFkb3dDb2xvciIpLHI9aS5nZXQoInRleHRTaGFkb3dCbHVyIil8fDAscz1pLmdldCgidGV4dFNoYWRvd09mZnNldFgiKXx8MCxsPWkuZ2V0KCJ0ZXh0U2hhZG93T2Zmc2V0WSIpfHwwO3JldHVybiByJiZuLnB1c2goInRleHQtc2hhZG93OiIrcysicHggIitsKyJweCAiK3IrInB4ICIrYSksU0QoWyJkZWNvcmF0aW9uIiwiYWxpZ24iXSxmdW5jdGlvbih0KXt2YXIgZT1pLmdldCh0KTtlJiZuLnB1c2goInRleHQtIit0KyI6IitlKX0pLG4uam9pbigiOyIpfShpKSksbnVsbCE9biYmYS5wdXNoKCJwYWRkaW5nOiIraXUobikuam9pbigicHggIikrInB4IiksYS5qb2luKCI7IikrIjsifWZ1bmN0aW9uIEFEKHQsZSxpLG4sbyl7dmFyIGE9ZSYmZS5wYWludGVyO2lmKGkpe3ZhciByPWEmJmEuZ2V0Vmlld3BvcnRSb290KCk7ciYmZnVuY3Rpb24odCxlLGksbixvKXt6dChSdCxlLG4sbywhMCkmJnp0KHQsaSxSdFswXSxSdFsxXSl9KHQscixkb2N1bWVudC5ib2R5LG4sbyl9ZWxzZXt0WzBdPW4sdFsxXT1vO3ZhciBzPWEmJmEuZ2V0Vmlld3BvcnRSb290T2Zmc2V0KCk7cyYmKHRbMF0rPXMub2Zmc2V0TGVmdCx0WzFdKz1zLm9mZnNldFRvcCl9dFsyXT10WzBdL2UuZ2V0V2lkdGgoKSx0WzNdPXRbMV0vZS5nZXRIZWlnaHQoKX1mdW5jdGlvbiBERCh0LGUsaSl7aWYodi53eGEpcmV0dXJuIG51bGw7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5kb21CZWxvbmdUb1pyPSEwLHRoaXMuZWw9bjt2YXIgbz10aGlzLl96cj1lLmdldFpyKCksYT10aGlzLl9hcHBlbmRUb0JvZHk9aSYmaS5hcHBlbmRUb0JvZHk7dGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sQUQodGhpcy5fc3R5bGVDb29yZCxvLGEsZS5nZXRXaWR0aCgpLzIsZS5nZXRIZWlnaHQoKS8yKSxhP2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobik6dC5hcHBlbmRDaGlsZChuKSx0aGlzLl9jb250YWluZXI9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0O3ZhciByPXRoaXM7bi5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXtyLl9lbnRlcmFibGUmJihjbGVhclRpbWVvdXQoci5faGlkZVRpbWVvdXQpLHIuX3Nob3c9ITApLHIuX2luQ29udGVudD0hMH0sbi5vbm1vdXNlbW92ZT1mdW5jdGlvbih0KXtpZih0PXR8fHdpbmRvdy5ldmVudCwhci5fZW50ZXJhYmxlKXt2YXIgZT1vLmhhbmRsZXI7WnQoby5wYWludGVyLmdldFZpZXdwb3J0Um9vdCgpLHQsITApLGUuZGlzcGF0Y2goIm1vdXNlbW92ZSIsdCl9fSxuLm9ubW91c2VsZWF2ZT1mdW5jdGlvbigpe3IuX2VudGVyYWJsZSYmci5fc2hvdyYmci5oaWRlTGF0ZXIoci5faGlkZURlbGF5KSxyLl9pbkNvbnRlbnQ9ITF9fWZ1bmN0aW9uIENEKHQsZSxpLG4pe3RbMF09aSx0WzFdPW4sdFsyXT10WzBdL2UuZ2V0V2lkdGgoKSx0WzNdPXRbMV0vZS5nZXRIZWlnaHQoKX1mdW5jdGlvbiBMRCh0KXt2YXIgZT10aGlzLl96cj10LmdldFpyKCk7dGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sQ0QodGhpcy5fc3R5bGVDb29yZCxlLHQuZ2V0V2lkdGgoKS8yLHQuZ2V0SGVpZ2h0KCkvMiksdGhpcy5fc2hvdz0hMSx0aGlzLl9oaWRlVGltZW91dH1ERC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkRELF9lbnRlcmFibGU6ITAsdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnRhaW5lcixpPWUuY3VycmVudFN0eWxlfHxkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUpLG49ZS5zdHlsZTsiYWJzb2x1dGUiIT09bi5wb3NpdGlvbiYmImFic29sdXRlIiE9PWkucG9zaXRpb24mJihuLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHQuZ2V0KCJhbHdheXNTaG93Q29udGVudCIpJiZ0aGlzLl9tb3ZlVG9vbHRpcElmUmVzaXplZCgpfSxfbW92ZVRvb2x0aXBJZlJlc2l6ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdHlsZUNvb3JkWzJdLGU9dGhpcy5fc3R5bGVDb29yZFszXSxpPXQqdGhpcy5fenIuZ2V0V2lkdGgoKSxuPWUqdGhpcy5fenIuZ2V0SGVpZ2h0KCk7dGhpcy5tb3ZlVG8oaSxuKX0sc2hvdzpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO3ZhciBlPXRoaXMuZWwsaT10aGlzLl9zdHlsZUNvb3JkO2Uuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6OTk5OTk5OTsiK1REKHQpKyI7bGVmdDoiK2lbMF0rInB4O3RvcDoiK2lbMV0rInB4OyIrKHQuZ2V0KCJleHRyYUNzc1RleHQiKXx8IiIpLGUuc3R5bGUuZGlzcGxheT1lLmlubmVySFRNTD8iYmxvY2siOiJub25lIixlLnN0eWxlLnBvaW50ZXJFdmVudHM9dGhpcy5fZW50ZXJhYmxlPyJhdXRvIjoibm9uZSIsdGhpcy5fc2hvdz0hMH0sc2V0Q29udGVudDpmdW5jdGlvbih0KXt0aGlzLmVsLmlubmVySFRNTD1udWxsPT10PyIiOnR9LHNldEVudGVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLl9lbnRlcmFibGU9dH0sZ2V0U2l6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7cmV0dXJuW3QuY2xpZW50V2lkdGgsdC5jbGllbnRIZWlnaHRdfSxtb3ZlVG86ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9zdHlsZUNvb3JkO0FEKGksdGhpcy5fenIsdGhpcy5fYXBwZW5kVG9Cb2R5LHQsZSk7dmFyIG49dGhpcy5lbC5zdHlsZTtuLmxlZnQ9aVswXSsicHgiLG4udG9wPWlbMV0rInB4In0saGlkZTpmdW5jdGlvbigpe3RoaXMuZWwuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fc2hvdz0hMX0saGlkZUxhdGVyOmZ1bmN0aW9uKHQpeyF0aGlzLl9zaG93fHx0aGlzLl9pbkNvbnRlbnQmJnRoaXMuX2VudGVyYWJsZXx8KHQ/KHRoaXMuX2hpZGVEZWxheT10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ9c2V0VGltZW91dChBKHRoaXMuaGlkZSx0aGlzKSx0KSk6dGhpcy5oaWRlKCkpfSxpc1Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKX0sZ2V0T3V0ZXJTaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbC5jbGllbnRXaWR0aCxlPXRoaXMuZWwuY2xpZW50SGVpZ2h0O2lmKGRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKXt2YXIgaT1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWwpO2kmJih0Kz1wYXJzZUludChpLmJvcmRlckxlZnRXaWR0aCwxMCkrcGFyc2VJbnQoaS5ib3JkZXJSaWdodFdpZHRoLDEwKSxlKz1wYXJzZUludChpLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChpLmJvcmRlckJvdHRvbVdpZHRoLDEwKSl9cmV0dXJue3dpZHRoOnQsaGVpZ2h0OmV9fX0sTEQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpMRCxfZW50ZXJhYmxlOiEwLHVwZGF0ZTpmdW5jdGlvbih0KXt0LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKSYmdGhpcy5fbW92ZVRvb2x0aXBJZlJlc2l6ZWQoKX0sX21vdmVUb29sdGlwSWZSZXNpemVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3R5bGVDb29yZFsyXSxlPXRoaXMuX3N0eWxlQ29vcmRbM10saT10KnRoaXMuX3pyLmdldFdpZHRoKCksbj1lKnRoaXMuX3pyLmdldEhlaWdodCgpO3RoaXMubW92ZVRvKGksbil9LHNob3c6ZnVuY3Rpb24odCl7dGhpcy5faGlkZVRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLl9oaWRlVGltZW91dCksdGhpcy5lbC5hdHRyKCJzaG93IiwhMCksdGhpcy5fc2hvdz0hMH0sc2V0Q29udGVudDpmdW5jdGlvbih0LGUsaSl7dGhpcy5lbCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuZWwpO2Zvcih2YXIgbj17fSxvPXQsYT0ie21hcmtlciIscj1vLmluZGV4T2YoYSk7MDw9cjspe3ZhciBzPW8uaW5kZXhPZigifH0iKSxsPW8uc3Vic3RyKHIrYS5sZW5ndGgscy1yLWEubGVuZ3RoKTstMTxsLmluZGV4T2YoInN1YiIpP25bIm1hcmtlciIrbF09e3RleHRXaWR0aDo0LHRleHRIZWlnaHQ6NCx0ZXh0Qm9yZGVyUmFkaXVzOjIsdGV4dEJhY2tncm91bmRDb2xvcjplW2xdLHRleHRPZmZzZXQ6WzMsMF19Om5bIm1hcmtlciIrbF09e3RleHRXaWR0aDoxMCx0ZXh0SGVpZ2h0OjEwLHRleHRCb3JkZXJSYWRpdXM6NSx0ZXh0QmFja2dyb3VuZENvbG9yOmVbbF19LHI9KG89by5zdWJzdHIocysxKSkuaW5kZXhPZigie21hcmtlciIpfXZhciB1PWkuZ2V0TW9kZWwoInRleHRTdHlsZSIpLGg9dS5nZXQoImZvbnRTaXplIiksYz1pLmdldCgidGV4dExpbmVIZWlnaHQiKTtudWxsPT1jJiYoYz1NYXRoLnJvdW5kKDMqaC8yKSksdGhpcy5lbD1uZXcgVXIoe3N0eWxlOm5sKHt9LHUse3JpY2g6bix0ZXh0OnQsdGV4dEJhY2tncm91bmRDb2xvcjppLmdldCgiYmFja2dyb3VuZENvbG9yIiksdGV4dEJvcmRlclJhZGl1czppLmdldCgiYm9yZGVyUmFkaXVzIiksdGV4dEZpbGw6aS5nZXQoInRleHRTdHlsZS5jb2xvciIpLHRleHRQYWRkaW5nOmkuZ2V0KCJwYWRkaW5nIiksdGV4dExpbmVIZWlnaHQ6Y30pLHo6aS5nZXQoInoiKX0pLHRoaXMuX3pyLmFkZCh0aGlzLmVsKTt2YXIgZD10aGlzO3RoaXMuZWwub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtkLl9lbnRlcmFibGUmJihjbGVhclRpbWVvdXQoZC5faGlkZVRpbWVvdXQpLGQuX3Nob3c9ITApLGQuX2luQ29udGVudD0hMH0pLHRoaXMuZWwub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe2QuX2VudGVyYWJsZSYmZC5fc2hvdyYmZC5oaWRlTGF0ZXIoZC5faGlkZURlbGF5KSxkLl9pbkNvbnRlbnQ9ITF9KX0sc2V0RW50ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuX2VudGVyYWJsZT10fSxnZXRTaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbC5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm5bdC53aWR0aCx0LmhlaWdodF19LG1vdmVUbzpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZWwpe3ZhciBpPXRoaXMuX3N0eWxlQ29vcmQ7Q0QoaSx0aGlzLl96cix0LGUpLHRoaXMuZWwuYXR0cigicG9zaXRpb24iLFtpWzBdLGlbMV1dKX19LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVsJiZ0aGlzLmVsLmhpZGUoKSx0aGlzLl9zaG93PSExfSxoaWRlTGF0ZXI6ZnVuY3Rpb24odCl7IXRoaXMuX3Nob3d8fHRoaXMuX2luQ29udGVudCYmdGhpcy5fZW50ZXJhYmxlfHwodD8odGhpcy5faGlkZURlbGF5PXQsdGhpcy5fc2hvdz0hMSx0aGlzLl9oaWRlVGltZW91dD1zZXRUaW1lb3V0KEEodGhpcy5oaWRlLHRoaXMpLHQpKTp0aGlzLmhpZGUoKSl9LGlzU2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG93fSxkaXNwb3NlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KSx0aGlzLmVsJiZ0aGlzLl96ci5yZW1vdmUodGhpcy5lbCl9LGdldE91dGVyU2l6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2l6ZSgpO3JldHVybnt3aWR0aDp0WzBdLGhlaWdodDp0WzFdfX19O3ZhciBrRD1BLFBEPVIsTkQ9emwsT0Q9bmV3IHJzKHtzaGFwZTp7eDotMSx5Oi0xLHdpZHRoOjIsaGVpZ2h0OjJ9fSk7ZnVuY3Rpb24gUkQodCl7Zm9yKHZhciBlPXQucG9wKCk7dC5sZW5ndGg7KXt2YXIgaT10LnBvcCgpO2kmJihDbC5pc0luc3RhbmNlKGkpJiYoaT1pLmdldCgidG9vbHRpcCIsITApKSwic3RyaW5nIj09dHlwZW9mIGkmJihpPXtmb3JtYXR0ZXI6aX0pLGU9bmV3IENsKGksZSxlLmVjTW9kZWwpKX1yZXR1cm4gZX1mdW5jdGlvbiB6RCh0LGUpe3JldHVybiB0LmRpc3BhdGNoQWN0aW9ufHxBKGUuZGlzcGF0Y2hBY3Rpb24sZSl9ZnVuY3Rpb24gRUQodCl7cmV0dXJuImNlbnRlciI9PT10fHwibWlkZGxlIj09PXR9QWYoe3R5cGU6InRvb2x0aXAiLGluaXQ6ZnVuY3Rpb24odCxlKXtpZighdi5ub2RlKXt2YXIgaSxuPXQuZ2V0Q29tcG9uZW50KCJ0b29sdGlwIiksbz1uLmdldCgicmVuZGVyTW9kZSIpO3RoaXMuX3JlbmRlck1vZGU9UW8obyksImh0bWwiPT09dGhpcy5fcmVuZGVyTW9kZT8oaT1uZXcgREQoZS5nZXREb20oKSxlLHthcHBlbmRUb0JvZHk6bi5nZXQoImFwcGVuZFRvQm9keSIsITApfSksdGhpcy5fbmV3TGluZT0iPGJyLz4iKTooaT1uZXcgTEQoZSksdGhpcy5fbmV3TGluZT0iXG4iKSx0aGlzLl90b29sdGlwQ29udGVudD1pfX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXtpZighdi5ub2RlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9aSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKTt2YXIgbj10aGlzLl90b29sdGlwQ29udGVudDtuLnVwZGF0ZSh0KSxuLnNldEVudGVyYWJsZSh0LmdldCgiZW50ZXJhYmxlIikpLHRoaXMuX2luaXRHbG9iYWxMaXN0ZW5lcigpLHRoaXMuX2tlZXBTaG93KCl9fSxfaW5pdEdsb2JhbExpc3RlbmVyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fdG9vbHRpcE1vZGVsLmdldCgidHJpZ2dlck9uIik7YkkoIml0ZW1Ub29sdGlwIix0aGlzLl9hcGksa0QoZnVuY3Rpb24odCxlLGkpeyJub25lIiE9PW4mJigwPD1uLmluZGV4T2YodCk/dGhpcy5fdHJ5U2hvdyhlLGkpOiJsZWF2ZSI9PT10JiZ0aGlzLl9oaWRlKGkpKX0sdGhpcykpfSxfa2VlcFNob3c6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90b29sdGlwTW9kZWwsZT10aGlzLl9lY01vZGVsLGk9dGhpcy5fYXBpO2lmKG51bGwhPXRoaXMuX2xhc3RYJiZudWxsIT10aGlzLl9sYXN0WSYmIm5vbmUiIT09dC5nZXQoInRyaWdnZXJPbiIpKXt2YXIgbj10aGlzO2NsZWFyVGltZW91dCh0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dCksdGhpcy5fcmVmcmVzaFVwZGF0ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2kuaXNEaXNwb3NlZCgpfHxuLm1hbnVhbGx5U2hvd1RpcCh0LGUsaSx7eDpuLl9sYXN0WCx5Om4uX2xhc3RZfSl9KX19LG1hbnVhbGx5U2hvd1RpcDpmdW5jdGlvbih0LGUsaSxuKXtpZihuLmZyb20hPT10aGlzLnVpZCYmIXYubm9kZSl7dmFyIG89ekQobixpKTt0aGlzLl90aWNrZXQ9IiI7dmFyIGE9bi5kYXRhQnlDb29yZFN5cztpZihuLnRvb2x0aXAmJm51bGwhPW4ueCYmbnVsbCE9bi55KXt2YXIgcj1PRDtyLnBvc2l0aW9uPVtuLngsbi55XSxyLnVwZGF0ZSgpLHIudG9vbHRpcD1uLnRvb2x0aXAsdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpuLngsb2Zmc2V0WTpuLnksdGFyZ2V0OnJ9LG8pfWVsc2UgaWYoYSl0aGlzLl90cnlTaG93KHtvZmZzZXRYOm4ueCxvZmZzZXRZOm4ueSxwb3NpdGlvbjpuLnBvc2l0aW9uLGRhdGFCeUNvb3JkU3lzOm4uZGF0YUJ5Q29vcmRTeXMsdG9vbHRpcE9wdGlvbjpuLnRvb2x0aXBPcHRpb259LG8pO2Vsc2UgaWYobnVsbCE9bi5zZXJpZXNJbmRleCl7aWYodGhpcy5fbWFudWFsbHlBeGlzU2hvd1RpcCh0LGUsaSxuKSlyZXR1cm47dmFyIHM9Y0kobixlKSxsPXMucG9pbnRbMF0sdT1zLnBvaW50WzFdO251bGwhPWwmJm51bGwhPXUmJnRoaXMuX3RyeVNob3coe29mZnNldFg6bCxvZmZzZXRZOnUscG9zaXRpb246bi5wb3NpdGlvbix0YXJnZXQ6cy5lbH0sbyl9ZWxzZSBudWxsIT1uLngmJm51bGwhPW4ueSYmKGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIix4Om4ueCx5Om4ueX0pLHRoaXMuX3RyeVNob3coe29mZnNldFg6bi54LG9mZnNldFk6bi55LHBvc2l0aW9uOm4ucG9zaXRpb24sdGFyZ2V0OmkuZ2V0WnIoKS5maW5kSG92ZXIobi54LG4ueSkudGFyZ2V0fSxvKSl9fSxtYW51YWxseUhpZGVUaXA6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5fdG9vbHRpcENvbnRlbnQ7IXRoaXMuX2Fsd2F5c1Nob3dDb250ZW50JiZ0aGlzLl90b29sdGlwTW9kZWwmJm8uaGlkZUxhdGVyKHRoaXMuX3Rvb2x0aXBNb2RlbC5nZXQoImhpZGVEZWxheSIpKSx0aGlzLl9sYXN0WD10aGlzLl9sYXN0WT1udWxsLG4uZnJvbSE9PXRoaXMudWlkJiZ0aGlzLl9oaWRlKHpEKG4saSkpfSxfbWFudWFsbHlBeGlzU2hvd1RpcDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1uLnNlcmllc0luZGV4LGE9bi5kYXRhSW5kZXgscj1lLmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvO2lmKG51bGwhPW8mJm51bGwhPWEmJm51bGwhPXIpe3ZhciBzPWUuZ2V0U2VyaWVzQnlJbmRleChvKTtpZihzKWlmKCJheGlzIj09PSh0PVJEKFtzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwoYSkscywocy5jb29yZGluYXRlU3lzdGVtfHx7fSkubW9kZWwsdF0pKS5nZXQoInRyaWdnZXIiKSlyZXR1cm4gaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHNlcmllc0luZGV4Om8sZGF0YUluZGV4OmEscG9zaXRpb246bi5wb3NpdGlvbn0pLCEwfX0sX3RyeVNob3c6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRhcmdldDtpZih0aGlzLl90b29sdGlwTW9kZWwpe3RoaXMuX2xhc3RYPXQub2Zmc2V0WCx0aGlzLl9sYXN0WT10Lm9mZnNldFk7dmFyIG49dC5kYXRhQnlDb29yZFN5cztuJiZuLmxlbmd0aD90aGlzLl9zaG93QXhpc1Rvb2x0aXAobix0KTppJiZudWxsIT1pLmRhdGFJbmRleD8odGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5fc2hvd1Nlcmllc0l0ZW1Ub29sdGlwKHQsaSxlKSk6aSYmaS50b29sdGlwPyh0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXAodCxpLGUpKToodGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5faGlkZShlKSl9fSxfc2hvd09yTW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJzaG93RGVsYXkiKTtlPUEoZSx0aGlzKSxjbGVhclRpbWVvdXQodGhpcy5fc2hvd1RpbW91dCksMDxpP3RoaXMuX3Nob3dUaW1vdXQ9c2V0VGltZW91dChlLGkpOmUoKX0sX3Nob3dBeGlzVG9vbHRpcDpmdW5jdGlvbih0LGUpe3ZhciBkPXRoaXMuX2VjTW9kZWwsaT10aGlzLl90b29sdGlwTW9kZWwsbj1bZS5vZmZzZXRYLGUub2Zmc2V0WV0sbz1bXSxmPVtdLGE9UkQoW2UudG9vbHRpcE9wdGlvbixpXSkscD10aGlzLl9yZW5kZXJNb2RlLHI9dGhpcy5fbmV3TGluZSxnPXt9O1BEKHQsZnVuY3Rpb24odCl7UEQodC5kYXRhQnlBeGlzLGZ1bmN0aW9uKHMpe3ZhciBsPWQuZ2V0Q29tcG9uZW50KHMuYXhpc0RpbSsiQXhpcyIscy5heGlzSW5kZXgpLHU9cy52YWx1ZSxoPVtdO2lmKGwmJm51bGwhPXUpe3ZhciBjPUVJKHUsbC5heGlzLGQscy5zZXJpZXNEYXRhSW5kaWNlcyxzLnZhbHVlTGFiZWxPcHQpO1Iocy5zZXJpZXNEYXRhSW5kaWNlcyxmdW5jdGlvbih0KXt2YXIgZT1kLmdldFNlcmllc0J5SW5kZXgodC5zZXJpZXNJbmRleCksaT10LmRhdGFJbmRleEluc2lkZSxuPWUmJmUuZ2V0RGF0YVBhcmFtcyhpKTtpZihuLmF4aXNEaW09cy5heGlzRGltLG4uYXhpc0luZGV4PXMuYXhpc0luZGV4LG4uYXhpc1R5cGU9cy5heGlzVHlwZSxuLmF4aXNJZD1zLmF4aXNJZCxuLmF4aXNWYWx1ZT11ZyhsLmF4aXMsdSksbi5heGlzVmFsdWVMYWJlbD1jLG4pe2YucHVzaChuKTt2YXIgbyxhPWUuZm9ybWF0VG9vbHRpcChpLCEwLG51bGwscCk7aWYoRShhKSl7bz1hLmh0bWw7dmFyIHI9YS5tYXJrZXJzO20oZyxyKX1lbHNlIG89YTtoLnB1c2gobyl9fSk7dmFyIHQ9YzsiaHRtbCIhPT1wP28ucHVzaChoLmpvaW4ocikpOm8ucHVzaCgodD9hdSh0KStyOiIiKStoLmpvaW4ocikpfX0pfSx0aGlzKSxvLnJldmVyc2UoKSxvPW8uam9pbih0aGlzLl9uZXdMaW5lK3RoaXMuX25ld0xpbmUpO3ZhciBzPWUucG9zaXRpb247dGhpcy5fc2hvd09yTW92ZShhLGZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXModCk/dGhpcy5fdXBkYXRlUG9zaXRpb24oYSxzLG5bMF0sblsxXSx0aGlzLl90b29sdGlwQ29udGVudCxmKTp0aGlzLl9zaG93VG9vbHRpcENvbnRlbnQoYSxvLGYsTWF0aC5yYW5kb20oKSxuWzBdLG5bMV0scyx2b2lkIDAsZyl9KX0sX3Nob3dTZXJpZXNJdGVtVG9vbHRpcDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZWNNb2RlbCxvPWUuc2VyaWVzSW5kZXgsYT1uLmdldFNlcmllc0J5SW5kZXgobykscj1lLmRhdGFNb2RlbHx8YSxzPWUuZGF0YUluZGV4LGw9ZS5kYXRhVHlwZSx1PXIuZ2V0RGF0YShsKSxoPVJEKFt1LmdldEl0ZW1Nb2RlbChzKSxyLGEmJihhLmNvb3JkaW5hdGVTeXN0ZW18fHt9KS5tb2RlbCx0aGlzLl90b29sdGlwTW9kZWxdKSxjPWguZ2V0KCJ0cmlnZ2VyIik7aWYobnVsbD09Y3x8Iml0ZW0iPT09Yyl7dmFyIGQsZixwPXIuZ2V0RGF0YVBhcmFtcyhzLGwpLGc9ci5mb3JtYXRUb29sdGlwKHMsITEsbCx0aGlzLl9yZW5kZXJNb2RlKTtmPUUoZyk/KGQ9Zy5odG1sLGcubWFya2Vycyk6KGQ9ZyxudWxsKTt2YXIgbT0iaXRlbV8iK3IubmFtZSsiXyIrczt0aGlzLl9zaG93T3JNb3ZlKGgsZnVuY3Rpb24oKXt0aGlzLl9zaG93VG9vbHRpcENvbnRlbnQoaCxkLHAsbSx0Lm9mZnNldFgsdC5vZmZzZXRZLHQucG9zaXRpb24sdC50YXJnZXQsZil9KSxpKHt0eXBlOiJzaG93VGlwIixkYXRhSW5kZXhJbnNpZGU6cyxkYXRhSW5kZXg6dS5nZXRSYXdJbmRleChzKSxzZXJpZXNJbmRleDpvLGZyb206dGhpcy51aWR9KX19LF9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUudG9vbHRpcDtpZigic3RyaW5nIj09dHlwZW9mIG4pe249e2NvbnRlbnQ6bixmb3JtYXR0ZXI6bn19dmFyIG89bmV3IENsKG4sdGhpcy5fdG9vbHRpcE1vZGVsLHRoaXMuX2VjTW9kZWwpLGE9by5nZXQoImNvbnRlbnQiKSxyPU1hdGgucmFuZG9tKCk7dGhpcy5fc2hvd09yTW92ZShvLGZ1bmN0aW9uKCl7dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KG8sYSxvLmdldCgiZm9ybWF0dGVyUGFyYW1zIil8fHt9LHIsdC5vZmZzZXRYLHQub2Zmc2V0WSx0LnBvc2l0aW9uLGUpfSksaSh7dHlwZToic2hvd1RpcCIsZnJvbTp0aGlzLnVpZH0pfSxfc2hvd1Rvb2x0aXBDb250ZW50OmZ1bmN0aW9uKGksdCxuLGUsbyxhLHIscyxsKXtpZih0aGlzLl90aWNrZXQ9IiIsaS5nZXQoInNob3dDb250ZW50IikmJmkuZ2V0KCJzaG93Iikpe3ZhciB1PXRoaXMuX3Rvb2x0aXBDb250ZW50LGg9aS5nZXQoImZvcm1hdHRlciIpO3I9cnx8aS5nZXQoInBvc2l0aW9uIik7dmFyIGM9dDtpZihoJiYic3RyaW5nIj09dHlwZW9mIGgpYz1sdShoLG4sITApO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGgpe3ZhciBkPWtEKGZ1bmN0aW9uKHQsZSl7dD09PXRoaXMuX3RpY2tldCYmKHUuc2V0Q29udGVudChlLGwsaSksdGhpcy5fdXBkYXRlUG9zaXRpb24oaSxyLG8sYSx1LG4scykpfSx0aGlzKTt0aGlzLl90aWNrZXQ9ZSxjPWgobixlLGQpfXUuc2V0Q29udGVudChjLGwsaSksdS5zaG93KGkpLHRoaXMuX3VwZGF0ZVBvc2l0aW9uKGkscixvLGEsdSxuLHMpfX0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIpe3ZhciBzPXRoaXMuX2FwaS5nZXRXaWR0aCgpLGw9dGhpcy5fYXBpLmdldEhlaWdodCgpO2U9ZXx8dC5nZXQoInBvc2l0aW9uIik7dmFyIHU9by5nZXRTaXplKCksaD10LmdldCgiYWxpZ24iKSxjPXQuZ2V0KCJ2ZXJ0aWNhbEFsaWduIiksZD1yJiZyLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7aWYociYmZC5hcHBseVRyYW5zZm9ybShyLnRyYW5zZm9ybSksImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPWUoW2ksbl0sYSxvLmVsLGQse3ZpZXdTaXplOltzLGxdLGNvbnRlbnRTaXplOnUuc2xpY2UoKX0pKSxMKGUpKWk9TkQoZVswXSxzKSxuPU5EKGVbMV0sbCk7ZWxzZSBpZihFKGUpKXtlLndpZHRoPXVbMF0sZS5oZWlnaHQ9dVsxXTt2YXIgZj1idShlLHt3aWR0aDpzLGhlaWdodDpsfSk7aT1mLngsbj1mLnksYz1oPW51bGx9ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGUmJnIpe2k9KHA9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWlbMF0sbz1pWzFdLGE9MCxyPTAscz1lLndpZHRoLGw9ZS5oZWlnaHQ7c3dpdGNoKHQpe2Nhc2UiaW5zaWRlIjphPWUueCtzLzItbi8yLHI9ZS55K2wvMi1vLzI7YnJlYWs7Y2FzZSJ0b3AiOmE9ZS54K3MvMi1uLzIscj1lLnktby01O2JyZWFrO2Nhc2UiYm90dG9tIjphPWUueCtzLzItbi8yLHI9ZS55K2wrNTticmVhaztjYXNlImxlZnQiOmE9ZS54LW4tNSxyPWUueStsLzItby8yO2JyZWFrO2Nhc2UicmlnaHQiOmE9ZS54K3MrNSxyPWUueStsLzItby8yfXJldHVyblthLHJdfShlLGQsdSkpWzBdLG49cFsxXX1lbHNle3ZhciBwO2k9KHA9ZnVuY3Rpb24odCxlLGksbixvLGEscil7dmFyIHM9aS5nZXRPdXRlclNpemUoKSxsPXMud2lkdGgsdT1zLmhlaWdodDtudWxsIT1hJiYobjx0K2wrYT90LT1sK2E6dCs9YSk7bnVsbCE9ciYmKG88ZSt1K3I/ZS09dStyOmUrPXIpO3JldHVyblt0LGVdfShpLG4sbyxzLGwsaD9udWxsOjIwLGM/bnVsbDoyMCkpWzBdLG49cFsxXX1oJiYoaS09RUQoaCk/dVswXS8yOiJyaWdodCI9PT1oP3VbMF06MCksYyYmKG4tPUVEKGMpP3VbMV0vMjoiYm90dG9tIj09PWM/dVsxXTowKSx0LmdldCgiY29uZmluZSIpJiYoaT0ocD1mdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuZ2V0T3V0ZXJTaXplKCkscj1hLndpZHRoLHM9YS5oZWlnaHQ7cmV0dXJuIHQ9TWF0aC5taW4odCtyLG4pLXIsZT1NYXRoLm1pbihlK3Msbyktcyx0PU1hdGgubWF4KHQsMCksZT1NYXRoLm1heChlLDApLFt0LGVdfShpLG4sbyxzLGwpKVswXSxuPXBbMV0pO28ubW92ZVRvKGksbil9LF91cGRhdGVDb250ZW50Tm90Q2hhbmdlZE9uQXhpczpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXMscj0hIXQmJnQubGVuZ3RoPT09bi5sZW5ndGg7cmV0dXJuIHImJlBEKHQsZnVuY3Rpb24odCxlKXt2YXIgaT10LmRhdGFCeUF4aXN8fHt9LGE9KG5bZV18fHt9KS5kYXRhQnlBeGlzfHxbXTsociY9aS5sZW5ndGg9PT1hLmxlbmd0aCkmJlBEKGksZnVuY3Rpb24odCxlKXt2YXIgaT1hW2VdfHx7fSxuPXQuc2VyaWVzRGF0YUluZGljZXN8fFtdLG89aS5zZXJpZXNEYXRhSW5kaWNlc3x8W107KHImPXQudmFsdWU9PT1pLnZhbHVlJiZ0LmF4aXNUeXBlPT09aS5heGlzVHlwZSYmdC5heGlzSWQ9PT1pLmF4aXNJZCYmbi5sZW5ndGg9PT1vLmxlbmd0aCkmJlBEKG4sZnVuY3Rpb24odCxlKXt2YXIgaT1vW2VdO3ImPXQuc2VyaWVzSW5kZXg9PT1pLnNlcmllc0luZGV4JiZ0LmRhdGFJbmRleD09PWkuZGF0YUluZGV4fSl9KX0pLHRoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1uLCEhcn0sX2hpZGU6ZnVuY3Rpb24odCl7dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdCh7dHlwZToiaGlkZVRpcCIsZnJvbTp0aGlzLnVpZH0pfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7di5ub2RlfHwodGhpcy5fdG9vbHRpcENvbnRlbnQuZGlzcG9zZSgpLElJKCJpdGVtVG9vbHRpcCIsZSkpfX0pLF9mKHt0eXBlOiJzaG93VGlwIixldmVudDoic2hvd1RpcCIsdXBkYXRlOiJ0b29sdGlwOm1hbnVhbGx5U2hvd1RpcCJ9LGZ1bmN0aW9uKCl7fSksX2Yoe3R5cGU6ImhpZGVUaXAiLGV2ZW50OiJoaWRlVGlwIix1cGRhdGU6InRvb2x0aXA6bWFudWFsbHlIaWRlVGlwIn0sZnVuY3Rpb24oKXt9KTt2YXIgQkQ9WyJyZWN0IiwicG9seWdvbiIsImtlZXAiLCJjbGVhciJdO3ZhciBWRD1SO2Z1bmN0aW9uIEdEKHQpe2lmKHQpZm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4hMH1mdW5jdGlvbiBGRCh0LGUsYSl7dmFyIGk9e307cmV0dXJuIFZEKGUsZnVuY3Rpb24obil7dmFyIG89aVtuXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLl9faGlkZGVuPXQucHJvdG90eXBlLG5ldyB0fSgpO1ZEKHRbbl0sZnVuY3Rpb24odCxlKXtpZihnXy5pc1ZhbGlkVHlwZShlKSl7dmFyIGk9e3R5cGU6ZSx2aXN1YWw6dH07YSYmYShpLG4pLG9bZV09bmV3IGdfKGkpLCJvcGFjaXR5Ij09PWUmJigoaT1rKGkpKS50eXBlPSJjb2xvckFscGhhIixvLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyBnXyhpKSl9fSl9KSxpfWZ1bmN0aW9uIFdEKGUsaSx0KXt2YXIgbjtSKHQsZnVuY3Rpb24odCl7aS5oYXNPd25Qcm9wZXJ0eSh0KSYmR0QoaVt0XSkmJihuPSEwKX0pLG4mJlIodCxmdW5jdGlvbih0KXtpLmhhc093blByb3BlcnR5KHQpJiZHRChpW3RdKT9lW3RdPWsoaVt0XSk6ZGVsZXRlIGVbdF19KX12YXIgSEQ9e2xpbmVYOlpEKDApLGxpbmVZOlpEKDEpLHJlY3Q6e3BvaW50OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCYmaS5ib3VuZGluZ1JlY3QuY29udGFpbih0WzBdLHRbMV0pfSxyZWN0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCYmaS5ib3VuZGluZ1JlY3QuaW50ZXJzZWN0KHQpfX0scG9seWdvbjp7cG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0JiZpLmJvdW5kaW5nUmVjdC5jb250YWluKHRbMF0sdFsxXSkmJlRnKGkucmFuZ2UsdFswXSx0WzFdKX0scmVjdDpmdW5jdGlvbih0LGUsaSl7dmFyIG49aS5yYW5nZTtpZighdHx8bi5sZW5ndGg8PTEpcmV0dXJuITE7dmFyIG89dC54LGE9dC55LHI9dC53aWR0aCxzPXQuaGVpZ2h0LGw9blswXTtyZXR1cm4hIShUZyhuLG8sYSl8fFRnKG4sbytyLGEpfHxUZyhuLG8sYStzKXx8VGcobixvK3IsYStzKXx8RGkuY3JlYXRlKHQpLmNvbnRhaW4obFswXSxsWzFdKXx8eGwobyxhLG8rcixhLG4pfHx4bChvLGEsbyxhK3Msbil8fHhsKG8rcixhLG8rcixhK3Msbil8fHhsKG8sYStzLG8rcixhK3MsbikpfHx2b2lkIDB9fX07ZnVuY3Rpb24gWkQoYSl7dmFyIHI9WyJ4IiwieSJdLHM9WyJ3aWR0aCIsImhlaWdodCJdO3JldHVybntwb2ludDpmdW5jdGlvbih0LGUsaSl7aWYodCl7dmFyIG49aS5yYW5nZTtyZXR1cm4gVUQodFthXSxuKX19LHJlY3Q6ZnVuY3Rpb24odCxlLGkpe2lmKHQpe3ZhciBuPWkucmFuZ2Usbz1bdFtyW2FdXSx0W3JbYV1dK3Rbc1thXV1dO3JldHVybiBvWzFdPG9bMF0mJm8ucmV2ZXJzZSgpLFVEKG9bMF0sbil8fFVEKG9bMV0sbil8fFVEKG5bMF0sbyl8fFVEKG5bMV0sbyl9fX19ZnVuY3Rpb24gVUQodCxlKXtyZXR1cm4gZVswXTw9dCYmdDw9ZVsxXX12YXIgWEQ9WyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdLFlEPSJfX2VjQnJ1c2hTZWxlY3QiLGpEPSJfX2VjSW5CcnVzaFNlbGVjdEV2ZW50IixxRD1MZC5WSVNVQUwuQlJVU0g7ZnVuY3Rpb24gS0QoZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSxmdW5jdGlvbih0KXsodC5icnVzaFRhcmdldE1hbmFnZXI9bmV3IEVBKHQub3B0aW9uLGUpKS5zZXRJbnB1dFJhbmdlcyh0LmFyZWFzLGUpfSl9ZnVuY3Rpb24gJEQodCxlKXtpZighdC5pc0Rpc3Bvc2VkKCkpe3ZhciBpPXQuZ2V0WnIoKTtpW2pEXT0hMCx0LmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaFNlbGVjdCIsYmF0Y2g6ZX0pLGlbakRdPSExfX1mdW5jdGlvbiBKRCh0LGUsaSxuKXtmb3IodmFyIG89MCxhPWUubGVuZ3RoO288YTtvKyspe3ZhciByPWVbb107aWYodFtyLmJydXNoVHlwZV0obixpLHIuc2VsZWN0b3JzLHIpKXJldHVybiEwfX1mdW5jdGlvbiBRRCh0KXt2YXIgcj10LmJydXNoU2VsZWN0b3I7aWYoeihyKSl7dmFyIGU9W107cmV0dXJuIFIoSEQsZnVuY3Rpb24oYSx0KXtlW3RdPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWUuZ2V0SXRlbUxheW91dCh0KTtyZXR1cm4gYVtyXShvLGksbil9fSksZX1pZihDKHIpKXt2YXIgaT17fTtyZXR1cm4gUihIRCxmdW5jdGlvbih0LGUpe2lbZV09cn0pLGl9cmV0dXJuIHJ9YmYocUQsZnVuY3Rpb24odCxlLGkpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIn0sZnVuY3Rpb24odCl7aSYmInRha2VHbG9iYWxDdXJzb3IiPT09aS50eXBlJiZ0LnNldEJydXNoT3B0aW9uKCJicnVzaCI9PT1pLmtleT9pLmJydXNoT3B0aW9uOnticnVzaFR5cGU6ITF9KX0pLEtEKHQpfSksU2YocUQsZnVuY3Rpb24ocCx0LGUpe3ZhciBvLGcsbT1bXTtwLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LGZ1bmN0aW9uKGEsdCl7dmFyIHM9e2JydXNoSWQ6YS5pZCxicnVzaEluZGV4OnQsYnJ1c2hOYW1lOmEubmFtZSxhcmVhczprKGEuYXJlYXMpLHNlbGVjdGVkOltdfTttLnB1c2gocyk7dmFyIGU9YS5vcHRpb24saT1lLmJydXNoTGluayxuPVtdLGw9W10sdT1bXSxoPTA7dHx8KG89ZS50aHJvdHRsZVR5cGUsZz1lLnRocm90dGxlRGVsYXkpO3ZhciByPU8oYS5hcmVhcyxmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG49aS5zZWxlY3RvcnM9e307cmV0dXJuIFIoSERbaS5icnVzaFR5cGVdLGZ1bmN0aW9uKGUsdCl7blt0XT1mdW5jdGlvbih0KXtyZXR1cm4gZSh0LG4saSl9fSksaX0oRCh7Ym91bmRpbmdSZWN0OnRDW3QuYnJ1c2hUeXBlXSh0KX0sdCkpfSksYz1GRChhLm9wdGlvbixYRCxmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9ImZpeGVkIn0pO2Z1bmN0aW9uIGQodCl7cmV0dXJuImFsbCI9PT1pfHxuW3RdfWZ1bmN0aW9uIGYodCl7cmV0dXJuISF0Lmxlbmd0aH1MKGkpJiZSKGksZnVuY3Rpb24odCl7blt0XT0xfSkscC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dVtlXT1bXTsicGFyYWxsZWwiPT09dC5zdWJUeXBlP2Z1bmN0aW9uKHQsZSl7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtO2h8PWkuaGFzQXhpc0JydXNoZWQoKSxkKGUpJiZpLmVhY2hBY3RpdmVTdGF0ZSh0LmdldERhdGEoKSxmdW5jdGlvbih0LGUpeyJhY3RpdmUiPT09dCYmKGxbZV09MSl9KX0odCxlKTpmdW5jdGlvbihlLHQsaSl7dmFyIG49UUQoZSk7aWYoIW58fGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5vcHRpb24uc2VyaWVzSW5kZXg7cmV0dXJuIG51bGwhPWkmJiJhbGwiIT09aSYmKEwoaSk/XyhpLGUpPDA6ZSE9PWkpfShhLHQpKXJldHVybjtpZihSKHIsZnVuY3Rpb24odCl7blt0LmJydXNoVHlwZV0mJmEuYnJ1c2hUYXJnZXRNYW5hZ2VyLmNvbnRyb2xTZXJpZXModCxlLHApJiZpLnB1c2godCksaHw9ZihpKX0pLGQodCkmJmYoaSkpe3ZhciBvPWUuZ2V0RGF0YSgpO28uZWFjaChmdW5jdGlvbih0KXtKRChuLGksbyx0KSYmKGxbdF09MSl9KX19KHQsZSxpKX0pLHAuZWFjaFNlcmllcyhmdW5jdGlvbih0LGUpe3ZhciBpPXtzZXJpZXNJZDp0LmlkLHNlcmllc0luZGV4OmUsc2VyaWVzTmFtZTp0Lm5hbWUsZGF0YUluZGV4OltdfTtzLnNlbGVjdGVkLnB1c2goaSk7dmFyIG49UUQodCksbz11W2VdLGE9dC5nZXREYXRhKCkscj1kKGUpP2Z1bmN0aW9uKHQpe3JldHVybiBsW3RdPyhpLmRhdGFJbmRleC5wdXNoKGEuZ2V0UmF3SW5kZXgodCkpLCJpbkJydXNoIik6Im91dE9mQnJ1c2gifTpmdW5jdGlvbih0KXtyZXR1cm4gSkQobixvLGEsdCk/KGkuZGF0YUluZGV4LnB1c2goYS5nZXRSYXdJbmRleCh0KSksImluQnJ1c2giKToib3V0T2ZCcnVzaCJ9OyhkKGUpP2g6ZihvKSkmJmZ1bmN0aW9uKHQsdSxoLGMsZCxmKXt2YXIgcCxnPXt9O2Z1bmN0aW9uIG0odCl7cmV0dXJuIGguZ2V0SXRlbVZpc3VhbChwLHQpfWZ1bmN0aW9uIHYodCxlKXtoLnNldEl0ZW1WaXN1YWwocCx0LGUpfWZ1bmN0aW9uIGUodCxlKXtwPW51bGw9PWY/dDplO3ZhciBpPWguZ2V0UmF3RGF0YUl0ZW0ocCk7aWYoIWl8fCExIT09aS52aXN1YWxNYXApZm9yKHZhciBuPWMuY2FsbChkLHQpLG89dVtuXSxhPWdbbl0scj0wLHM9YS5sZW5ndGg7cjxzO3IrKyl7dmFyIGw9YVtyXTtvW2xdJiZvW2xdLmFwcGx5VmlzdWFsKHQsbSx2KX19Uih0LGZ1bmN0aW9uKHQpe3ZhciBlPWdfLnByZXBhcmVWaXN1YWxUeXBlcyh1W3RdKTtnW3RdPWV9KSxudWxsPT1mP2guZWFjaChlKTpoLmVhY2goW2ZdLGUpfShYRCxjLGEscil9KX0pLGZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYoIW8pcmV0dXJuO3ZhciBhPXQuZ2V0WnIoKTtpZihhW2pEXSlyZXR1cm47YVtZRF18fChhW1lEXT0kRCk7a2MoYSxZRCxpLGUpKHQsbil9KHQsbyxnLG0sZSl9KTt2YXIgdEM9e2xpbmVYOmV0LGxpbmVZOmV0LHJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGVDKHQucmFuZ2UpfSxwb2x5Z29uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXQucmFuZ2Usbj0wLG89aS5sZW5ndGg7bjxvO24rKyl7ZT1lfHxbWzEvMCwtMS8wXSxbMS8wLC0xLzBdXTt2YXIgYT1pW25dO2FbMF08ZVswXVswXSYmKGVbMF1bMF09YVswXSksYVswXT5lWzBdWzFdJiYoZVswXVsxXT1hWzBdKSxhWzFdPGVbMV1bMF0mJihlWzFdWzBdPWFbMV0pLGFbMV0+ZVsxXVsxXSYmKGVbMV1bMV09YVsxXSl9cmV0dXJuIGUmJmVDKGUpfX07ZnVuY3Rpb24gZUModCl7cmV0dXJuIG5ldyBEaSh0WzBdWzBdLHRbMV1bMF0sdFswXVsxXS10WzBdWzBdLHRbMV1bMV0tdFsxXVswXSl9dmFyIGlDPVsiI2RkZCJdO1RmKHt0eXBlOiJicnVzaCIsZGVwZW5kZW5jaWVzOlsiZ2VvIiwiZ3JpZCIsInhBeGlzIiwieUF4aXMiLCJwYXJhbGxlbCIsInNlcmllcyJdLGRlZmF1bHRPcHRpb246e3Rvb2xib3g6bnVsbCxicnVzaExpbms6bnVsbCxzZXJpZXNJbmRleDoiYWxsIixnZW9JbmRleDpudWxsLHhBeGlzSW5kZXg6bnVsbCx5QXhpc0luZGV4Om51bGwsYnJ1c2hUeXBlOiJyZWN0IixicnVzaE1vZGU6InNpbmdsZSIsdHJhbnNmb3JtYWJsZTohMCxicnVzaFN0eWxlOntib3JkZXJXaWR0aDoxLGNvbG9yOiJyZ2JhKDEyMCwxNDAsMTgwLDAuMykiLGJvcmRlckNvbG9yOiJyZ2JhKDEyMCwxNDAsMTgwLDAuOCkifSx0aHJvdHRsZVR5cGU6ImZpeFJhdGUiLHRocm90dGxlRGVsYXk6MCxyZW1vdmVPbkNsaWNrOiEwLHo6MWU0fSxhcmVhczpbXSxicnVzaFR5cGU6bnVsbCxicnVzaE9wdGlvbjp7fSxjb29yZEluZm9MaXN0OltdLG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbjtlfHxXRChpLHQsWyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdKTt2YXIgbj1pLmluQnJ1c2g9aS5pbkJydXNofHx7fTtpLm91dE9mQnJ1c2g9aS5vdXRPZkJydXNofHx7Y29sb3I6aUN9LG4uaGFzT3duUHJvcGVydHkoImxpZnRaIil8fChuLmxpZnRaPTUpfSxzZXRBcmVhczpmdW5jdGlvbih0KXt0JiYodGhpcy5hcmVhcz1PKHQsZnVuY3Rpb24odCl7cmV0dXJuIG5DKHRoaXMub3B0aW9uLHQpfSx0aGlzKSl9LHNldEJydXNoT3B0aW9uOmZ1bmN0aW9uKHQpe3RoaXMuYnJ1c2hPcHRpb249bkModGhpcy5vcHRpb24sdCksdGhpcy5icnVzaFR5cGU9dGhpcy5icnVzaE9wdGlvbi5icnVzaFR5cGV9fSk7ZnVuY3Rpb24gbkModCxlKXtyZXR1cm4gbSh7YnJ1c2hUeXBlOnQuYnJ1c2hUeXBlLGJydXNoTW9kZTp0LmJydXNoTW9kZSx0cmFuc2Zvcm1hYmxlOnQudHJhbnNmb3JtYWJsZSxicnVzaFN0eWxlOm5ldyBDbCh0LmJydXNoU3R5bGUpLmdldEl0ZW1TdHlsZSgpLHJlbW92ZU9uQ2xpY2s6dC5yZW1vdmVPbkNsaWNrLHo6dC56fSxlLCEwKX1mdW5jdGlvbiBvQyh0LGUsaSxuKXtuJiZuLiRmcm9tPT09dC5pZHx8dGhpcy5fYnJ1c2hDb250cm9sbGVyLnNldFBhbmVscyh0LmJydXNoVGFyZ2V0TWFuYWdlci5tYWtlUGFuZWxPcHRzKGkpKS5lbmFibGVCcnVzaCh0LmJydXNoT3B0aW9uKS51cGRhdGVDb3ZlcnModC5hcmVhcy5zbGljZSgpKX1BZih7dHlwZToiYnJ1c2giLGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLmVjTW9kZWw9dCx0aGlzLmFwaT1lLHRoaXMubW9kZWwsKHRoaXMuX2JydXNoQ29udHJvbGxlcj1uZXcgT2IoZS5nZXRacigpKSkub24oImJydXNoIixBKHRoaXMuX29uQnJ1c2gsdGhpcykpLm1vdW50KCl9LHJlbmRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RlbD10LG9DLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEtEKGUpLG9DLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdXBkYXRlVmlldzpvQyxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fYnJ1c2hDb250cm9sbGVyLmRpc3Bvc2UoKX0sX29uQnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm1vZGVsLmlkO3RoaXMubW9kZWwuYnJ1c2hUYXJnZXRNYW5hZ2VyLnNldE91dHB1dFJhbmdlcyh0LHRoaXMuZWNNb2RlbCksZS5pc0VuZCYmIWUucmVtb3ZlT25DbGlja3x8dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImJydXNoIixicnVzaElkOmksYXJlYXM6ayh0KSwkZnJvbTppfSksZS5pc0VuZCYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImJydXNoRW5kIixicnVzaElkOmksYXJlYXM6ayh0KSwkZnJvbTppfSl9fSksX2Yoe3R5cGU6ImJydXNoIixldmVudDoiYnJ1c2gifSxmdW5jdGlvbihlLHQpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIixxdWVyeTplfSxmdW5jdGlvbih0KXt0LnNldEFyZWFzKGUuYXJlYXMpfSl9KSxfZih7dHlwZToiYnJ1c2hTZWxlY3QiLGV2ZW50OiJicnVzaFNlbGVjdGVkIix1cGRhdGU6Im5vbmUifSxmdW5jdGlvbigpe30pLF9mKHt0eXBlOiJicnVzaEVuZCIsZXZlbnQ6ImJydXNoRW5kIix1cGRhdGU6Im5vbmUifSxmdW5jdGlvbigpe30pO3ZhciBhQz1PYy50b29sYm94LmJydXNoO2Z1bmN0aW9uIHJDKHQsZSxpKXt0aGlzLm1vZGVsPXQsdGhpcy5lY01vZGVsPWUsdGhpcy5hcGk9aSx0aGlzLl9icnVzaFR5cGUsdGhpcy5fYnJ1c2hNb2RlfXJDLmRlZmF1bHRPcHRpb249e3Nob3c6ITAsdHlwZTpbInJlY3QiLCJwb2x5Z29uIiwibGluZVgiLCJsaW5lWSIsImtlZXAiLCJjbGVhciJdLGljb246e3JlY3Q6Ik03LjMsMzQuNyBNMC40LDEwVi0wLjJoOS44IE04OS42LDEwVi0wLjJoLTkuOCBNMC40LDYwdjEwLjJoOS44IE04OS42LDYwdjEwLjJoLTkuOCBNMTIuMywyMi40VjEwLjVoMTMuMSBNMzMuNiwxMC41aDcuOCBNNDkuMSwxMC41aDcuOCBNNzcuNSwyMi40VjEwLjVoLTEzIE0xMi4zLDMxLjF2OC4yIE03Ny43LDMxLjF2OC4yIE0xMi4zLDQ3LjZ2MTEuOWgxMy4xIE0zMy42LDU5LjVoNy42IE00OS4xLDU5LjUgaDcuNyBNNzcuNSw0Ny42djExLjloLTEzIixwb2x5Z29uOiJNNTUuMiwzNC45YzEuNywwLDMuMSwxLjQsMy4xLDMuMXMtMS40LDMuMS0zLjEsMy4xIHMtMy4xLTEuNC0zLjEtMy4xUzUzLjUsMzQuOSw1NS4yLDM0Ljl6IE01MC40LDUxYzEuNywwLDMuMSwxLjQsMy4xLDMuMWMwLDEuNy0xLjQsMy4xLTMuMSwzLjFjLTEuNywwLTMuMS0xLjQtMy4xLTMuMSBDNDcuMyw1Mi40LDQ4LjcsNTEsNTAuNCw1MXogTTU1LjYsMzcuMWwxLjUtNy44IE02MC4xLDEzLjVsMS42LTguN2wtNy44LDQgTTU5LDE5bC0xLDUuMyBNMjQsMTYuMWw2LjQsNC45bDYuNC0zLjMgTTQ4LjUsMTEuNiBsLTUuOSwzLjEgTTE5LjEsMTIuOEw5LjcsNS4xbDEuMSw3LjcgTTEzLjQsMjkuOGwxLDcuM2w2LjYsMS42IE0xMS42LDE4LjRsMSw2LjEgTTMyLjgsNDEuOSBNMjYuNiw0MC40IE0yNy4zLDQwLjJsNi4xLDEuNiBNNDkuOSw1Mi4xbC01LjYtNy42bC00LjktMS4yIixsaW5lWDoiTTE1LjIsMzAgTTE5LjcsMTUuNlYxLjlIMjkgTTM0LjgsMS45SDQwLjQgTTU1LjMsMTUuNlYxLjlINDUuOSBNMTkuNyw0NC40VjU4LjFIMjkgTTM0LjgsNTguMUg0MC40IE01NS4zLDQ0LjQgVjU4LjFINDUuOSBNMTIuNSwyMC4zbC05LjQsOS42bDkuNiw5LjggTTMuMSwyOS45aDE2LjUgTTYyLjUsMjAuM2w5LjQsOS42TDYyLjMsMzkuNyBNNzEuOSwyOS45SDU1LjQiLGxpbmVZOiJNMzguOCw3LjcgTTUyLjcsMTJoMTMuMnY5IE02NS45LDI2LjZWMzIgTTUyLjcsNDYuM2gxMy4ydi05IE0yNC45LDEySDExLjh2OSBNMTEuOCwyNi42VjMyIE0yNC45LDQ2LjNIMTEuOHYtOSBNNDguMiw1LjFsLTkuMy05bC05LjQsOS4yIE0zOC45LTMuOVYxMiBNNDguMiw1My4zbC05LjMsOWwtOS40LTkuMiBNMzguOSw2Mi4zVjQ2LjQiLGtlZXA6Ik00LDEwLjVWMWgxMC4zIE0yMC43LDFoNi4xIE0zMywxaDYuMSBNNTUuNCwxMC41VjFINDUuMiBNNCwxNy4zdjYuNiBNNTUuNiwxNy4zdjYuNiBNNCwzMC41VjQwaDEwLjMgTTIwLjcsNDAgaDYuMSBNMzMsNDBoNi4xIE01NS40LDMwLjVWNDBINDUuMiBNMjEsMTguOWg2Mi45djQ4LjZIMjFWMTguOXoiLGNsZWFyOiJNMjIsMTQuN2wzMC45LDMxIE01Mi45LDE0LjdMMjIsNDUuNyBNNC43LDE2LjhWNC4yaDEzLjEgTTI2LDQuMmg3LjggTTQxLjYsNC4yaDcuOCBNNzAuMywxNi44VjQuMkg1Ny4yIE00LjcsMjUuOXY4LjYgTTcwLjMsMjUuOXY4LjYgTTQuNyw0My4ydjEyLjZoMTMuMSBNMjYsNTUuOGg3LjggTTQxLjYsNTUuOGg3LjggTTcwLjMsNDMuMnYxMi42SDU3LjIifSx0aXRsZTprKGFDLnRpdGxlKX07dmFyIHNDPXJDLnByb3RvdHlwZTtzQy5yZW5kZXI9c0MudXBkYXRlVmlldz1mdW5jdGlvbihlLHQsaSl7dmFyIG4sbyxhO3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIn0sZnVuY3Rpb24odCl7bj10LmJydXNoVHlwZSxvPXQuYnJ1c2hPcHRpb24uYnJ1c2hNb2RlfHwic2luZ2xlIixhfD10LmFyZWFzLmxlbmd0aH0pLHRoaXMuX2JydXNoVHlwZT1uLHRoaXMuX2JydXNoTW9kZT1vLFIoZS5nZXQoInR5cGUiLCEwKSxmdW5jdGlvbih0KXtlLnNldEljb25TdGF0dXModCwoImtlZXAiPT09dD8ibXVsdGlwbGUiPT09bzoiY2xlYXIiPT09dD9hOnQ9PT1uKT8iZW1waGFzaXMiOiJub3JtYWwiKX0pfSxzQy5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIsITApLGk9e307cmV0dXJuIFIodC5nZXQoInR5cGUiLCEwKSxmdW5jdGlvbih0KXtlW3RdJiYoaVt0XT1lW3RdKX0pLGl9LHNDLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2JydXNoVHlwZSxvPXRoaXMuX2JydXNoTW9kZTsiY2xlYXIiPT09aT8oZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiYXhpc0FyZWFTZWxlY3QiLGludGVydmFsczpbXX0pLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImJydXNoIixjb21tYW5kOiJjbGVhciIsYXJlYXM6W119KSk6ZS5kaXNwYXRjaEFjdGlvbih7dHlwZToidGFrZUdsb2JhbEN1cnNvciIsa2V5OiJicnVzaCIsYnJ1c2hPcHRpb246e2JydXNoVHlwZToia2VlcCI9PT1pP246biE9PWkmJmksYnJ1c2hNb2RlOiJrZWVwIj09PWk/Im11bHRpcGxlIj09PW8/InNpbmdsZSI6Im11bHRpcGxlIjpvfX0pfSxkQSgiYnJ1c2giLHJDKSx5ZihmdW5jdGlvbih0LGUpe3ZhciBpPXQmJnQuYnJ1c2g7aWYoTChpKXx8KGk9aT9baV06W10pLGkubGVuZ3RoKXt2YXIgbj1bXTtSKGksZnVuY3Rpb24odCl7dmFyIGU9dC5oYXNPd25Qcm9wZXJ0eSgidG9vbGJveCIpP3QudG9vbGJveDpbXTtlIGluc3RhbmNlb2YgQXJyYXkmJihuPW4uY29uY2F0KGUpKX0pO3ZhciBvPXQmJnQudG9vbGJveDtMKG8pJiYobz1vWzBdKSxvfHwobz17ZmVhdHVyZTp7fX0sdC50b29sYm94PVtvXSk7dmFyIGE9by5mZWF0dXJlfHwoby5mZWF0dXJlPXt9KSxyPWEuYnJ1c2h8fChhLmJydXNoPXt9KSxzPXIudHlwZXx8KHIudHlwZT1bXSk7cy5wdXNoLmFwcGx5KHMsbiksZnVuY3Rpb24oaSl7dmFyIGU9e307UihpLGZ1bmN0aW9uKHQpe2VbdF09MX0pLGkubGVuZ3RoPTAsUihlLGZ1bmN0aW9uKHQsZSl7aS5wdXNoKGUpfSl9KHMpLGUmJiFzLmxlbmd0aCYmcy5wdXNoLmFwcGx5KHMsQkQpfX0pLFRmKHt0eXBlOiJ0aXRsZSIsbGF5b3V0TW9kZTp7dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjYsc2hvdzohMCx0ZXh0OiIiLHRhcmdldDoiYmxhbmsiLHN1YnRleHQ6IiIsc3VidGFyZ2V0OiJibGFuayIsbGVmdDowLHRvcDowLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1HYXA6MTAsdGV4dFN0eWxlOntmb250U2l6ZToxOCxmb250V2VpZ2h0OiJib2xkZXIiLGNvbG9yOiIjMzMzIn0sc3VidGV4dFN0eWxlOntjb2xvcjoiI2FhYSJ9fX0pLEFmKHt0eXBlOiJ0aXRsZSIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KCJzaG93Iikpe3ZhciBuPXRoaXMuZ3JvdXAsbz10LmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxhPXQuZ2V0TW9kZWwoInN1YnRleHRTdHlsZSIpLHI9dC5nZXQoInRleHRBbGlnbiIpLHM9SCh0LmdldCgidGV4dEJhc2VsaW5lIiksdC5nZXQoInRleHRWZXJ0aWNhbEFsaWduIikpLGw9bmV3IFVyKHtzdHlsZTpubCh7fSxvLHt0ZXh0OnQuZ2V0KCJ0ZXh0IiksdGV4dEZpbGw6by5nZXRUZXh0Q29sb3IoKX0se2Rpc2FibGVCb3g6ITB9KSx6MjoxMH0pLHU9bC5nZXRCb3VuZGluZ1JlY3QoKSxoPXQuZ2V0KCJzdWJ0ZXh0IiksYz1uZXcgVXIoe3N0eWxlOm5sKHt9LGEse3RleHQ6aCx0ZXh0RmlsbDphLmdldFRleHRDb2xvcigpLHk6dS5oZWlnaHQrdC5nZXQoIml0ZW1HYXAiKSx0ZXh0VmVydGljYWxBbGlnbjoidG9wIn0se2Rpc2FibGVCb3g6ITB9KSx6MjoxMH0pLGQ9dC5nZXQoImxpbmsiKSxmPXQuZ2V0KCJzdWJsaW5rIikscD10LmdldCgidHJpZ2dlckV2ZW50IiwhMCk7bC5zaWxlbnQ9IWQmJiFwLGMuc2lsZW50PSFmJiYhcCxkJiZsLm9uKCJjbGljayIsZnVuY3Rpb24oKXtndShkLCJfIit0LmdldCgidGFyZ2V0IikpfSksZiYmYy5vbigiY2xpY2siLGZ1bmN0aW9uKCl7Z3UoZiwiXyIrdC5nZXQoInN1YnRhcmdldCIpKX0pLGwuZXZlbnREYXRhPWMuZXZlbnREYXRhPXA/e2NvbXBvbmVudFR5cGU6InRpdGxlIixjb21wb25lbnRJbmRleDp0LmNvbXBvbmVudEluZGV4fTpudWxsLG4uYWRkKGwpLGgmJm4uYWRkKGMpO3ZhciBnPW4uZ2V0Qm91bmRpbmdSZWN0KCksbT10LmdldEJveExheW91dFBhcmFtcygpO20ud2lkdGg9Zy53aWR0aCxtLmhlaWdodD1nLmhlaWdodDt2YXIgdj1idShtLHt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpO3J8fCgibWlkZGxlIj09PShyPXQuZ2V0KCJsZWZ0Iil8fHQuZ2V0KCJyaWdodCIpKSYmKHI9ImNlbnRlciIpLCJyaWdodCI9PT1yP3YueCs9di53aWR0aDoiY2VudGVyIj09PXImJih2LngrPXYud2lkdGgvMikpLHN8fCgiY2VudGVyIj09PShzPXQuZ2V0KCJ0b3AiKXx8dC5nZXQoImJvdHRvbSIpKSYmKHM9Im1pZGRsZSIpLCJib3R0b20iPT09cz92LnkrPXYuaGVpZ2h0OiJtaWRkbGUiPT09cyYmKHYueSs9di5oZWlnaHQvMikscz1zfHwidG9wIiksbi5hdHRyKCJwb3NpdGlvbiIsW3YueCx2LnldKTt2YXIgeT17dGV4dEFsaWduOnIsdGV4dFZlcnRpY2FsQWxpZ246c307bC5zZXRTdHlsZSh5KSxjLnNldFN0eWxlKHkpLGc9bi5nZXRCb3VuZGluZ1JlY3QoKTt2YXIgeD12Lm1hcmdpbixfPXQuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO18uZmlsbD10LmdldCgiYmFja2dyb3VuZENvbG9yIik7dmFyIHc9bmV3IHJzKHtzaGFwZTp7eDpnLngteFszXSx5OmcueS14WzBdLHdpZHRoOmcud2lkdGgreFsxXSt4WzNdLGhlaWdodDpnLmhlaWdodCt4WzBdK3hbMl0scjp0LmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOl8sc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaWxlbnQ6ITB9KTtuLmFkZCh3KX19fSk7ZnVuY3Rpb24gbEModCl7dmFyIGU9dC5pdGVtU3R5bGV8fCh0Lml0ZW1TdHlsZT17fSksaT1lLmVtcGhhc2lzfHwoZS5lbXBoYXNpcz17fSksbj10LmxhYmVsfHx0LmxhYmVsfHx7fSxvPW4ubm9ybWFsfHwobi5ub3JtYWw9e30pLGE9e25vcm1hbDoxLGVtcGhhc2lzOjF9O1IobixmdW5jdGlvbih0LGUpe2FbZV18fHVDKG8sZSl8fChvW2VdPXQpfSksaS5sYWJlbCYmIXVDKG4sImVtcGhhc2lzIikmJihuLmVtcGhhc2lzPWkubGFiZWwsZGVsZXRlIGkubGFiZWwpfWZ1bmN0aW9uIHVDKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9a3UucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJ0aW1lbGluZSIsZnVuY3Rpb24oKXtyZXR1cm4ic2xpZGVyIn0pLF9mKHt0eXBlOiJ0aW1lbGluZUNoYW5nZSIsZXZlbnQ6InRpbWVsaW5lQ2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldENvbXBvbmVudCgidGltZWxpbmUiKTtyZXR1cm4gaSYmbnVsbCE9dC5jdXJyZW50SW5kZXgmJihpLnNldEN1cnJlbnRJbmRleCh0LmN1cnJlbnRJbmRleCksIWkuZ2V0KCJsb29wIiwhMCkmJmkuaXNJbmRleE1heCgpJiZpLnNldFBsYXlTdGF0ZSghMSkpLGUucmVzZXRPcHRpb24oInRpbWVsaW5lIiksRCh7Y3VycmVudEluZGV4Omkub3B0aW9uLmN1cnJlbnRJbmRleH0sdCl9KSxfZih7dHlwZToidGltZWxpbmVQbGF5Q2hhbmdlIixldmVudDoidGltZWxpbmVQbGF5Q2hhbmdlZCIsdXBkYXRlOiJ1cGRhdGUifSxmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO2kmJm51bGwhPXQucGxheVN0YXRlJiZpLnNldFBsYXlTdGF0ZSh0LnBsYXlTdGF0ZSl9KTt2YXIgaEM9a3UuZXh0ZW5kKHt0eXBlOiJ0aW1lbGluZSIsbGF5b3V0TW9kZToiYm94IixkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjQsc2hvdzohMCxheGlzVHlwZToidGltZSIscmVhbHRpbWU6ITAsbGVmdDoiMjAlIix0b3A6bnVsbCxyaWdodDoiMjAlIixib3R0b206MCx3aWR0aDpudWxsLGhlaWdodDo0MCxwYWRkaW5nOjUsY29udHJvbFBvc2l0aW9uOiJsZWZ0IixhdXRvUGxheTohMSxyZXdpbmQ6ITEsbG9vcDohMCxwbGF5SW50ZXJ2YWw6MmUzLGN1cnJlbnRJbmRleDowLGl0ZW1TdHlsZTp7fSxsYWJlbDp7Y29sb3I6IiMwMDAifSxkYXRhOltdfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9kYXRhLHRoaXMuX25hbWVzLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKSx0aGlzLl9pbml0RGF0YSgpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtoQy5zdXBlckFwcGx5KHRoaXMsIm1lcmdlT3B0aW9uIixhcmd1bWVudHMpLHRoaXMuX2luaXREYXRhKCl9LHNldEN1cnJlbnRJbmRleDpmdW5jdGlvbih0KXtudWxsPT10JiYodD10aGlzLm9wdGlvbi5jdXJyZW50SW5kZXgpO3ZhciBlPXRoaXMuX2RhdGEuY291bnQoKTt0aGlzLm9wdGlvbi5sb29wP3Q9KHQlZStlKSVlOihlPD10JiYodD1lLTEpLHQ8MCYmKHQ9MCkpLHRoaXMub3B0aW9uLmN1cnJlbnRJbmRleD10fSxnZXRDdXJyZW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24uY3VycmVudEluZGV4fSxpc0luZGV4TWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudEluZGV4KCk+PXRoaXMuX2RhdGEuY291bnQoKS0xfSxzZXRQbGF5U3RhdGU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uYXV0b1BsYXk9ISF0fSxnZXRQbGF5U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMub3B0aW9uLmF1dG9QbGF5fSxfaW5pdERhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPXQuZGF0YXx8W10saT10LmF4aXNUeXBlLG89dGhpcy5fbmFtZXM9W107aWYoImNhdGVnb3J5Ij09PWkpe3ZhciBhPVtdO1IoZSxmdW5jdGlvbih0LGUpe3ZhciBpLG49V28odCk7RSh0KT8oaT1rKHQpKS52YWx1ZT1lOmk9ZSxhLnB1c2goaSkseihuKXx8bnVsbCE9biYmIWlzTmFOKG4pfHwobj0iIiksby5wdXNoKG4rIiIpfSksZT1hfXZhciBuPXtjYXRlZ29yeToib3JkaW5hbCIsdGltZToidGltZSJ9W2ldfHwibnVtYmVyIjsodGhpcy5fZGF0YT1uZXcgWWYoW3tuYW1lOiJ2YWx1ZSIsdHlwZTpufV0sdGhpcykpLmluaXREYXRhKGUsbyl9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sZ2V0Q2F0ZWdvcmllczpmdW5jdGlvbigpe2lmKCJjYXRlZ29yeSI9PT10aGlzLmdldCgiYXhpc1R5cGUiKSlyZXR1cm4gdGhpcy5fbmFtZXMuc2xpY2UoKX19KTtiKGhDLmV4dGVuZCh7dHlwZToidGltZWxpbmUuc2xpZGVyIixkZWZhdWx0T3B0aW9uOntiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlckNvbG9yOiIjY2NjIixib3JkZXJXaWR0aDowLG9yaWVudDoiaG9yaXpvbnRhbCIsaW52ZXJzZTohMSx0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZToxMCxsaW5lU3R5bGU6e3Nob3c6ITAsd2lkdGg6Mixjb2xvcjoiIzMwNDY1NCJ9LGxhYmVsOntwb3NpdGlvbjoiYXV0byIsc2hvdzohMCxpbnRlcnZhbDoiYXV0byIscm90YXRlOjAsY29sb3I6IiMzMDQ2NTQifSxpdGVtU3R5bGU6e2NvbG9yOiIjMzA0NjU0Iixib3JkZXJXaWR0aDoxfSxjaGVja3BvaW50U3R5bGU6e3N5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjEzLGNvbG9yOiIjYzIzNTMxIixib3JkZXJXaWR0aDo1LGJvcmRlckNvbG9yOiJyZ2JhKDE5NCw1Myw0OSwgMC41KSIsYW5pbWF0aW9uOiEwLGFuaW1hdGlvbkR1cmF0aW9uOjMwMCxhbmltYXRpb25FYXNpbmc6InF1aW50aWNJbk91dCJ9LGNvbnRyb2xTdHlsZTp7c2hvdzohMCxzaG93UGxheUJ0bjohMCxzaG93UHJldkJ0bjohMCxzaG93TmV4dEJ0bjohMCxpdGVtU2l6ZToyMixpdGVtR2FwOjEyLHBvc2l0aW9uOiJsZWZ0IixwbGF5SWNvbjoicGF0aDovL00zMS42LDUzQzE3LjUsNTMsNiw0MS41LDYsMjcuNFMxNy41LDEuOCwzMS42LDEuOEM0NS43LDEuOCw1Ny4yLDEzLjMsNTcuMiwyNy40UzQ1LjcsNTMsMzEuNiw1M3ogTTMxLjYsMy4zIEMxOC40LDMuMyw3LjUsMTQuMSw3LjUsMjcuNGMwLDEzLjMsMTAuOCwyNC4xLDI0LjEsMjQuMUM0NC45LDUxLjUsNTUuNyw0MC43LDU1LjcsMjcuNEM1NS43LDE0LjEsNDQuOSwzLjMsMzEuNiwzLjN6IE0yNC45LDIxLjMgYzAtMi4yLDEuNi0zLjEsMy41LTJsMTAuNSw2LjFjMS44OTksMS4xLDEuODk5LDIuOSwwLDRsLTEwLjUsNi4xYy0xLjksMS4xLTMuNSwwLjItMy41LTJWMjEuM3oiLHN0b3BJY29uOiJwYXRoOi8vTTMwLjksNTMuMkMxNi44LDUzLjIsNS4zLDQxLjcsNS4zLDI3LjZTMTYuOCwyLDMwLjksMkM0NSwyLDU2LjQsMTMuNSw1Ni40LDI3LjZTNDUsNTMuMiwzMC45LDUzLjJ6IE0zMC45LDMuNUMxNy42LDMuNSw2LjgsMTQuNCw2LjgsMjcuNmMwLDEzLjMsMTAuOCwyNC4xLDI0LjEwMSwyNC4xQzQ0LjIsNTEuNyw1NSw0MC45LDU1LDI3LjZDNTQuOSwxNC40LDQ0LjEsMy41LDMwLjksMy41eiBNMzYuOSwzNS44YzAsMC42MDEtMC40LDEtMC45LDFoLTEuM2MtMC41LDAtMC45LTAuMzk5LTAuOS0xVjE5LjVjMC0wLjYsMC40LTEsMC45LTFIMzZjMC41LDAsMC45LDAuNCwwLjksMVYzNS44eiBNMjcuOCwzNS44IGMwLDAuNjAxLTAuNCwxLTAuOSwxaC0xLjNjLTAuNSwwLTAuOS0wLjM5OS0wLjktMVYxOS41YzAtMC42LDAuNC0xLDAuOS0xSDI3YzAuNSwwLDAuOSwwLjQsMC45LDFMMjcuOCwzNS44TDI3LjgsMzUuOHoiLG5leHRJY29uOiJwYXRoOi8vTTE4LjYsNTAuOGwyMi41LTIyLjVjMC4yLTAuMiwwLjMtMC40LDAuMy0wLjdjMC0wLjMtMC4xLTAuNS0wLjMtMC43TDE4LjcsNC40Yy0wLjEtMC4xLTAuMi0wLjMtMC4yLTAuNSBjMC0wLjQsMC4zLTAuOCwwLjgtMC44YzAuMiwwLDAuNSwwLjEsMC42LDAuM2wyMy41LDIzLjVsMCwwYzAuMiwwLjIsMC4zLDAuNCwwLjMsMC43YzAsMC4zLTAuMSwwLjUtMC4zLDAuN2wtMC4xLDAuMUwxOS43LDUyIGMtMC4xLDAuMS0wLjMsMC4yLTAuNSwwLjJjLTAuNCwwLTAuOC0wLjMtMC44LTAuOEMxOC40LDUxLjIsMTguNSw1MSwxOC42LDUwLjh6IixwcmV2SWNvbjoicGF0aDovL000Myw1Mi44TDIwLjQsMzAuM2MtMC4yLTAuMi0wLjMtMC40LTAuMy0wLjdjMC0wLjMsMC4xLTAuNSwwLjMtMC43TDQyLjksNi40YzAuMS0wLjEsMC4yLTAuMywwLjItMC41IGMwLTAuNC0wLjMtMC44LTAuOC0wLjhjLTAuMiwwLTAuNSwwLjEtMC42LDAuM0wxOC4zLDI4LjhsMCwwYy0wLjIsMC4yLTAuMywwLjQtMC4zLDAuN2MwLDAuMywwLjEsMC41LDAuMywwLjdsMC4xLDAuMUw0MS45LDU0IGMwLjEsMC4xLDAuMywwLjIsMC41LDAuMmMwLjQsMCwwLjgtMC4zLDAuOC0wLjhDNDMuMiw1My4yLDQzLjEsNTMsNDMsNTIuOHoiLGNvbG9yOiIjMzA0NjU0Iixib3JkZXJDb2xvcjoiIzMwNDY1NCIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLGNvbG9yOiIjYzIzNTMxIn0saXRlbVN0eWxlOntjb2xvcjoiI2MyMzUzMSJ9LGNvbnRyb2xTdHlsZTp7Y29sb3I6IiNjMjM1MzEiLGJvcmRlckNvbG9yOiIjYzIzNTMxIixib3JkZXJXaWR0aDoyfX0sZGF0YTpbXX19KSxYaCk7ZnVuY3Rpb24gY0ModCxlLGksbil7R2cuY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9bnx8InZhbHVlIix0aGlzLm1vZGVsPW51bGx9dmFyIGRDPWdjLmV4dGVuZCh7dHlwZToidGltZWxpbmUifSk7Y0MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpjQyxnZXRMYWJlbE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0TW9kZWwoImxhYmVsIil9LGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3JldHVybiJob3Jpem9udGFsIj09PXRoaXMubW9kZWwuZ2V0KCJvcmllbnQiKX19LHcoY0MsR2cpO3ZhciBmQz1BLHBDPVIsZ0M9TWF0aC5QSTtmdW5jdGlvbiBtQyh0LGUsaSxuLG8sYSl7dmFyIHI9ZS5nZXQoImNvbG9yIik7bz8oby5zZXRDb2xvcihyKSxpLmFkZChvKSxhJiZhLm9uVXBkYXRlKG8pKTooKG89d2codC5nZXQoInN5bWJvbCIpLC0xLC0xLDIsMixyKSkuc2V0U3R5bGUoInN0cm9rZU5vU2NhbGUiLCEwKSxpLmFkZChvKSxhJiZhLm9uQ3JlYXRlKG8pKTt2YXIgcz1lLmdldEl0ZW1TdHlsZShbImNvbG9yIiwic3ltYm9sIiwic3ltYm9sU2l6ZSJdKTtvLnNldFN0eWxlKHMpLG49bSh7cmVjdEhvdmVyOiEwLHoyOjEwMH0sbiwhMCk7dmFyIGw9dC5nZXQoInN5bWJvbFNpemUiKTsobD1sIGluc3RhbmNlb2YgQXJyYXk/bC5zbGljZSgpOlsrbCwrbF0pWzBdLz0yLGxbMV0vPTIsbi5zY2FsZT1sO3ZhciB1PXQuZ2V0KCJzeW1ib2xPZmZzZXQiKTtpZih1KXt2YXIgaD1uLnBvc2l0aW9uPW4ucG9zaXRpb258fFswLDBdO2hbMF0rPXpsKHVbMF0sbFswXSksaFsxXSs9emwodVsxXSxsWzFdKX12YXIgYz10LmdldCgic3ltYm9sUm90YXRlIik7cmV0dXJuIG4ucm90YXRpb249KGN8fDApKk1hdGguUEkvMTgwfHwwLG8uYXR0cihuKSxvLnVwZGF0ZVRyYW5zZm9ybSgpLG99ZnVuY3Rpb24gdkModCxlLGksbixvKXtpZighdC5kcmFnZ2luZyl7dmFyIGE9bi5nZXRNb2RlbCgiY2hlY2twb2ludFN0eWxlIikscj1pLmRhdGFUb0Nvb3JkKG4uZ2V0RGF0YSgpLmdldChbInZhbHVlIl0sZSkpO298fCFhLmdldCgiYW5pbWF0aW9uIiwhMCk/dC5hdHRyKHtwb3NpdGlvbjpbciwwXX0pOih0LnN0b3BBbmltYXRpb24oITApLHQuYW5pbWF0ZVRvKHtwb3NpdGlvbjpbciwwXX0sYS5nZXQoImFuaW1hdGlvbkR1cmF0aW9uIiwhMCksYS5nZXQoImFuaW1hdGlvbkVhc2luZyIsITApKSl9fWRDLmV4dGVuZCh7dHlwZToidGltZWxpbmUuc2xpZGVyIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5hcGk9ZSx0aGlzLl9heGlzLHRoaXMuX3ZpZXdSZWN0LHRoaXMuX3RpbWVyLHRoaXMuX2N1cnJlbnRQb2ludGVyLHRoaXMuX21haW5Hcm91cCx0aGlzLl9sYWJlbEdyb3VwfSxyZW5kZXI6ZnVuY3Rpb24oZSx0LGksbil7aWYodGhpcy5tb2RlbD1lLHRoaXMuYXBpPWksdGhpcy5lY01vZGVsPXQsdGhpcy5ncm91cC5yZW1vdmVBbGwoKSxlLmdldCgic2hvdyIsITApKXt2YXIgbz10aGlzLl9sYXlvdXQoZSxpKSxhPXRoaXMuX2NyZWF0ZUdyb3VwKCJtYWluR3JvdXAiKSxyPXRoaXMuX2NyZWF0ZUdyb3VwKCJsYWJlbEdyb3VwIikscz10aGlzLl9heGlzPXRoaXMuX2NyZWF0ZUF4aXMobyxlKTtlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCl7cmV0dXJuIGF1KHMuc2NhbGUuZ2V0TGFiZWwodCkpfSxwQyhbIkF4aXNMaW5lIiwiQXhpc1RpY2siLCJDb250cm9sIiwiQ3VycmVudFBvaW50ZXIiXSxmdW5jdGlvbih0KXt0aGlzWyJfcmVuZGVyIit0XShvLGEscyxlKX0sdGhpcyksdGhpcy5fcmVuZGVyQXhpc0xhYmVsKG8scixzLGUpLHRoaXMuX3Bvc2l0aW9uKG8sZSl9dGhpcy5fZG9QbGF5U3RvcCgpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyVGltZXIoKX0sX2xheW91dDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJsYWJlbC5wb3NpdGlvbiIpLG49dC5nZXQoIm9yaWVudCIpLG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gYnUodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSx0LmdldCgicGFkZGluZyIpKX0odCxlKTtudWxsPT1pfHwiYXV0byI9PT1pP2k9Imhvcml6b250YWwiPT09bj9vLnkrby5oZWlnaHQvMjxlLmdldEhlaWdodCgpLzI/Ii0iOiIrIjpvLngrby53aWR0aC8yPGUuZ2V0V2lkdGgoKS8yPyIrIjoiLSI6aXNOYU4oaSkmJihpPXtob3Jpem9udGFsOnt0b3A6Ii0iLGJvdHRvbToiKyJ9LHZlcnRpY2FsOntsZWZ0OiItIixyaWdodDoiKyJ9fVtuXVtpXSk7dmFyIGEscixzLGwsdT17aG9yaXpvbnRhbDoiY2VudGVyIix2ZXJ0aWNhbDowPD1pfHwiKyI9PT1pPyJsZWZ0IjoicmlnaHQifSxoPXtob3Jpem9udGFsOjA8PWl8fCIrIj09PWk/InRvcCI6ImJvdHRvbSIsdmVydGljYWw6Im1pZGRsZSJ9LGM9e2hvcml6b250YWw6MCx2ZXJ0aWNhbDpnQy8yfSxkPSJ2ZXJ0aWNhbCI9PT1uP28uaGVpZ2h0Om8ud2lkdGgsZj10LmdldE1vZGVsKCJjb250cm9sU3R5bGUiKSxwPWYuZ2V0KCJzaG93IiwhMCksZz1wP2YuZ2V0KCJpdGVtU2l6ZSIpOjAsbT1wP2YuZ2V0KCJpdGVtR2FwIik6MCx2PWcrbSx5PXQuZ2V0KCJsYWJlbC5yb3RhdGUiKXx8MDt5PXkqZ0MvMTgwO3ZhciB4PWYuZ2V0KCJwb3NpdGlvbiIsITApLF89cCYmZi5nZXQoInNob3dQbGF5QnRuIiwhMCksdz1wJiZmLmdldCgic2hvd1ByZXZCdG4iLCEwKSxiPXAmJmYuZ2V0KCJzaG93TmV4dEJ0biIsITApLFM9MCxNPWQ7cmV0dXJuImxlZnQiPT09eHx8ImJvdHRvbSI9PT14PyhfJiYoYT1bMCwwXSxTKz12KSx3JiYocj1bUywwXSxTKz12KSk6KF8mJihhPVtNLWcsMF0sTS09diksdyYmKHI9WzAsMF0sUys9dikpLGImJihzPVtNLWcsMF0sTS09diksbD1bUyxNXSx0LmdldCgiaW52ZXJzZSIpJiZsLnJldmVyc2UoKSx7dmlld1JlY3Q6byxtYWluTGVuZ3RoOmQsb3JpZW50Om4scm90YXRpb246Y1tuXSxsYWJlbFJvdGF0aW9uOnksbGFiZWxQb3NPcHQ6aSxsYWJlbEFsaWduOnQuZ2V0KCJsYWJlbC5hbGlnbiIpfHx1W25dLGxhYmVsQmFzZWxpbmU6dC5nZXQoImxhYmVsLnZlcnRpY2FsQWxpZ24iKXx8dC5nZXQoImxhYmVsLmJhc2VsaW5lIil8fGhbbl0scGxheVBvc2l0aW9uOmEscHJldkJ0blBvc2l0aW9uOnIsbmV4dEJ0blBvc2l0aW9uOnMsYXhpc0V4dGVudDpsLGNvbnRyb2xTaXplOmcsY29udHJvbEdhcDptfX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbWFpbkdyb3VwLG49dGhpcy5fbGFiZWxHcm91cCxvPXQudmlld1JlY3Q7aWYoInZlcnRpY2FsIj09PXQub3JpZW50KXt2YXIgYT1hZSgpLHI9by54LHM9by55K28uaGVpZ2h0O3VlKGEsYSxbLXIsLXNdKSxoZShhLGEsLWdDLzIpLHVlKGEsYSxbcixzXSksKG89by5jbG9uZSgpKS5hcHBseVRyYW5zZm9ybShhKX12YXIgbD1tKG8pLHU9bShpLmdldEJvdW5kaW5nUmVjdCgpKSxoPW0obi5nZXRCb3VuZGluZ1JlY3QoKSksYz1pLnBvc2l0aW9uLGQ9bi5wb3NpdGlvbjtkWzBdPWNbMF09bFswXVswXTt2YXIgZixwPXQubGFiZWxQb3NPcHQ7aXNOYU4ocCk/KHYoYyx1LGwsMSxmPSIrIj09PXA/MDoxKSx2KGQsaCxsLDEsMS1mKSk6KHYoYyx1LGwsMSxmPTA8PXA/MDoxKSxkWzFdPWNbMV0rcCk7ZnVuY3Rpb24gZyh0KXt2YXIgZT10LnBvc2l0aW9uO3Qub3JpZ2luPVtsWzBdWzBdLWVbMF0sbFsxXVswXS1lWzFdXX1mdW5jdGlvbiBtKHQpe3JldHVybltbdC54LHQueCt0LndpZHRoXSxbdC55LHQueSt0LmhlaWdodF1dfWZ1bmN0aW9uIHYodCxlLGksbixvKXt0W25dKz1pW25dW29dLWVbbl1bb119aS5hdHRyKCJwb3NpdGlvbiIsYyksbi5hdHRyKCJwb3NpdGlvbiIsZCksaS5yb3RhdGlvbj1uLnJvdGF0aW9uPXQucm90YXRpb24sZyhpKSxnKG4pfSxfY3JlYXRlQXhpczpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0RGF0YSgpLG49ZS5nZXQoImF4aXNUeXBlIiksbz1zZyhlLG4pO28uZ2V0VGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXBBcnJheShbInZhbHVlIl0sZnVuY3Rpb24odCl7cmV0dXJuIHR9KX07dmFyIGE9aS5nZXREYXRhRXh0ZW50KCJ2YWx1ZSIpO28uc2V0RXh0ZW50KGFbMF0sYVsxXSksby5uaWNlVGlja3MoKTt2YXIgcj1uZXcgY0MoInZhbHVlIixvLHQuYXhpc0V4dGVudCxuKTtyZXR1cm4gci5tb2RlbD1lLHJ9LF9jcmVhdGVHcm91cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzWyJfIit0XT1uZXcgQ2k7cmV0dXJuIHRoaXMuZ3JvdXAuYWRkKGUpLGV9LF9yZW5kZXJBeGlzTGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLmdldEV4dGVudCgpO24uZ2V0KCJsaW5lU3R5bGUuc2hvdyIpJiZlLmFkZChuZXcgbHMoe3NoYXBlOnt4MTpvWzBdLHkxOjAseDI6b1sxXSx5MjowfSxzdHlsZTpQKHtsaW5lQ2FwOiJyb3VuZCJ9LG4uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITAsejI6MX0pKX0sX3JlbmRlckF4aXNUaWNrOmZ1bmN0aW9uKHQscyxsLHUpe3ZhciBoPXUuZ2V0RGF0YSgpLGU9bC5zY2FsZS5nZXRUaWNrcygpO3BDKGUsZnVuY3Rpb24odCl7dmFyIGU9bC5kYXRhVG9Db29yZCh0KSxpPWguZ2V0SXRlbU1vZGVsKHQpLG49aS5nZXRNb2RlbCgiaXRlbVN0eWxlIiksbz1pLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKSxhPXtwb3NpdGlvbjpbZSwwXSxvbmNsaWNrOmZDKHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsdCl9LHI9bUMoaSxuLHMsYSk7JHMocixvLmdldEl0ZW1TdHlsZSgpKSxpLmdldCgidG9vbHRpcCIpPyhyLmRhdGFJbmRleD10LHIuZGF0YU1vZGVsPXUpOnIuZGF0YUluZGV4PXIuZGF0YU1vZGVsPW51bGx9LHRoaXMpfSxfcmVuZGVyQXhpc0xhYmVsOmZ1bmN0aW9uKHMsbCx1LHQpe2lmKHUuZ2V0TGFiZWxNb2RlbCgpLmdldCgic2hvdyIpKXt2YXIgaD10LmdldERhdGEoKSxlPXUuZ2V0Vmlld0xhYmVscygpO3BDKGUsZnVuY3Rpb24odCl7dmFyIGU9dC50aWNrVmFsdWUsaT1oLmdldEl0ZW1Nb2RlbChlKSxuPWkuZ2V0TW9kZWwoImxhYmVsIiksbz1pLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLGE9dS5kYXRhVG9Db29yZCh0LnRpY2tWYWx1ZSkscj1uZXcgVXIoe3Bvc2l0aW9uOlthLDBdLHJvdGF0aW9uOnMubGFiZWxSb3RhdGlvbi1zLnJvdGF0aW9uLG9uY2xpY2s6ZkModGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyxlKSxzaWxlbnQ6ITF9KTtubChyLnN0eWxlLG4se3RleHQ6dC5mb3JtYXR0ZWRMYWJlbCx0ZXh0QWxpZ246cy5sYWJlbEFsaWduLHRleHRWZXJ0aWNhbEFsaWduOnMubGFiZWxCYXNlbGluZX0pLGwuYWRkKHIpLCRzKHIsbmwoe30sbykpfSx0aGlzKX19LF9yZW5kZXJDb250cm9sOmZ1bmN0aW9uKHQsYSxlLHIpe3ZhciBzPXQuY29udHJvbFNpemUsbD10LnJvdGF0aW9uLHU9ci5nZXRNb2RlbCgiY29udHJvbFN0eWxlIikuZ2V0SXRlbVN0eWxlKCksaD1yLmdldE1vZGVsKCJlbXBoYXNpcy5jb250cm9sU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxjPVswLC1zLzIscyxzXSxpPXIuZ2V0UGxheVN0YXRlKCksbj1yLmdldCgiaW52ZXJzZSIsITApO2Z1bmN0aW9uIG8odCxlLGksbil7aWYodCl7dmFyIG89ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bi5zdHlsZSxhPXlsKHQuZ2V0KGUpLG58fHt9LG5ldyBEaShpWzBdLGlbMV0saVsyXSxpWzNdKSk7byYmYS5zZXRTdHlsZShvKTtyZXR1cm4gYX0ocixlLGMse3Bvc2l0aW9uOnQsb3JpZ2luOltzLzIsMF0scm90YXRpb246bj8tbDowLHJlY3RIb3ZlcjohMCxzdHlsZTp1LG9uY2xpY2s6aX0pO2EuYWRkKG8pLCRzKG8saCl9fW8odC5uZXh0QnRuUG9zaXRpb24sImNvbnRyb2xTdHlsZS5uZXh0SWNvbiIsZkModGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyxuPyItIjoiKyIpKSxvKHQucHJldkJ0blBvc2l0aW9uLCJjb250cm9sU3R5bGUucHJldkljb24iLGZDKHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsbj8iKyI6Ii0iKSksbyh0LnBsYXlQb3NpdGlvbiwiY29udHJvbFN0eWxlLiIrKGk/InN0b3BJY29uIjoicGxheUljb24iKSxmQyh0aGlzLl9oYW5kbGVQbGF5Q2xpY2ssdGhpcywhaSksITApfSxfcmVuZGVyQ3VycmVudFBvaW50ZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bi5nZXREYXRhKCksYT1uLmdldEN1cnJlbnRJbmRleCgpLHI9by5nZXRJdGVtTW9kZWwoYSkuZ2V0TW9kZWwoImNoZWNrcG9pbnRTdHlsZSIpLHM9dGhpcyxsPXtvbkNyZWF0ZTpmdW5jdGlvbih0KXt0LmRyYWdnYWJsZT0hMCx0LmRyaWZ0PWZDKHMuX2hhbmRsZVBvaW50ZXJEcmFnLHMpLHQub25kcmFnZW5kPWZDKHMuX2hhbmRsZVBvaW50ZXJEcmFnZW5kLHMpLHZDKHQsYSxpLG4sITApfSxvblVwZGF0ZTpmdW5jdGlvbih0KXt2Qyh0LGEsaSxuKX19O3RoaXMuX2N1cnJlbnRQb2ludGVyPW1DKHIscix0aGlzLl9tYWluR3JvdXAse30sdGhpcy5fY3VycmVudFBvaW50ZXIsbCl9LF9oYW5kbGVQbGF5Q2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLHBsYXlTdGF0ZTp0LGZyb206dGhpcy51aWR9KX0sX2hhbmRsZVBvaW50ZXJEcmFnOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5fcG9pbnRlckNoYW5nZVRpbWVsaW5lKFtpLm9mZnNldFgsaS5vZmZzZXRZXSl9LF9oYW5kbGVQb2ludGVyRHJhZ2VuZDpmdW5jdGlvbih0KXt0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW3Qub2Zmc2V0WCx0Lm9mZnNldFldLCEwKX0sX3BvaW50ZXJDaGFuZ2VUaW1lbGluZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3RvQXhpc0Nvb3JkKHQpWzBdLG49QmwodGhpcy5fYXhpcy5nZXRFeHRlbnQoKS5zbGljZSgpKTtpPm5bMV0mJihpPW5bMV0pLGk8blswXSYmKGk9blswXSksdGhpcy5fY3VycmVudFBvaW50ZXIucG9zaXRpb25bMF09aSx0aGlzLl9jdXJyZW50UG9pbnRlci5kaXJ0eSgpO3ZhciBvPXRoaXMuX2ZpbmROZWFyZXN0VGljayhpKSxhPXRoaXMubW9kZWw7KGV8fG8hPT1hLmdldEN1cnJlbnRJbmRleCgpJiZhLmdldCgicmVhbHRpbWUiKSkmJnRoaXMuX2NoYW5nZVRpbWVsaW5lKG8pfSxfZG9QbGF5U3RvcDpmdW5jdGlvbigpe3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLm1vZGVsLmdldFBsYXlTdGF0ZSgpJiYodGhpcy5fdGltZXI9c2V0VGltZW91dChmQyhmdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWw7dGhpcy5fY2hhbmdlVGltZWxpbmUodC5nZXRDdXJyZW50SW5kZXgoKSsodC5nZXQoInJld2luZCIsITApPy0xOjEpKX0sdGhpcyksdGhpcy5tb2RlbC5nZXQoInBsYXlJbnRlcnZhbCIpKSl9LF90b0F4aXNDb29yZDpmdW5jdGlvbih0KXtyZXR1cm4gcGwodCx0aGlzLl9tYWluR3JvdXAuZ2V0TG9jYWxUcmFuc2Zvcm0oKSwhMCl9LF9maW5kTmVhcmVzdFRpY2s6ZnVuY3Rpb24obyl7dmFyIGEsdD10aGlzLm1vZGVsLmdldERhdGEoKSxyPTEvMCxzPXRoaXMuX2F4aXM7cmV0dXJuIHQuZWFjaChbInZhbHVlIl0sZnVuY3Rpb24odCxlKXt2YXIgaT1zLmRhdGFUb0Nvb3JkKHQpLG49TWF0aC5hYnMoaS1vKTtuPHImJihyPW4sYT1lKX0pLGF9LF9jbGVhclRpbWVyOmZ1bmN0aW9uKCl7dGhpcy5fdGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPW51bGwpfSxfY2hhbmdlVGltZWxpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tb2RlbC5nZXRDdXJyZW50SW5kZXgoKTsiKyI9PT10P3Q9ZSsxOiItIj09PXQmJih0PWUtMSksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRpbWVsaW5lQ2hhbmdlIixjdXJyZW50SW5kZXg6dCxmcm9tOnRoaXMudWlkfSl9fSkseWYoZnVuY3Rpb24odCl7dmFyIGU9dCYmdC50aW1lbGluZTtMKGUpfHwoZT1lP1tlXTpbXSksUihlLGZ1bmN0aW9uKHQpe3QmJmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxpPXtudW1iZXI6InZhbHVlIix0aW1lOiJ0aW1lIn07aVtlXSYmKHQuYXhpc1R5cGU9aVtlXSxkZWxldGUgdC50eXBlKTtpZihsQyh0KSx1Qyh0LCJjb250cm9sUG9zaXRpb24iKSl7dmFyIG49dC5jb250cm9sU3R5bGV8fCh0LmNvbnRyb2xTdHlsZT17fSk7dUMobiwicG9zaXRpb24iKXx8KG4ucG9zaXRpb249dC5jb250cm9sUG9zaXRpb24pLCJub25lIiE9PW4ucG9zaXRpb258fHVDKG4sInNob3ciKXx8KG4uc2hvdz0hMSxkZWxldGUgbi5wb3NpdGlvbiksZGVsZXRlIHQuY29udHJvbFBvc2l0aW9ufVIodC5kYXRhfHxbXSxmdW5jdGlvbih0KXtFKHQpJiYhTCh0KSYmKCF1Qyh0LCJ2YWx1ZSIpJiZ1Qyh0LCJuYW1lIikmJih0LnZhbHVlPXQubmFtZSksbEModCkpfSl9KHQpfSl9KTt2YXIgeUM9dHUseEM9YXU7ZnVuY3Rpb24gX0ModCl7R28odCwibGFiZWwiLFsic2hvdyJdKX12YXIgd0M9VGYoe3R5cGU6Im1hcmtlciIsZGVwZW5kZW5jaWVzOlsic2VyaWVzIiwiZ3JpZCIsInBvbGFyIiwiZ2VvIl0saW5pdDpmdW5jdGlvbih0LGUsaSl7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMuX21lcmdlT3B0aW9uKHQsaSwhMSwhMCl9LGlzQW5pbWF0aW9uRW5hYmxlZDpmdW5jdGlvbigpe2lmKHYubm9kZSlyZXR1cm4hMTt2YXIgdD10aGlzLl9faG9zdFNlcmllcztyZXR1cm4gdGhpcy5nZXRTaGFsbG93KCJhbmltYXRpb24iKSYmdCYmdC5pc0FuaW1hdGlvbkVuYWJsZWQoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXt0aGlzLl9tZXJnZU9wdGlvbih0LGUsITEsITEpfSxfbWVyZ2VPcHRpb246ZnVuY3Rpb24odCxuLGUsbyl7dmFyIGE9dGhpcy5jb25zdHJ1Y3RvcixyPXRoaXMubWFpblR5cGUrIk1vZGVsIjtlfHxuLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQodGhpcy5tYWluVHlwZSwhMCksaT10W3JdO2UmJmUuZGF0YT8oaT9pLl9tZXJnZU9wdGlvbihlLG4sITApOihvJiZfQyhlKSxSKGUuZGF0YSxmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXk/KF9DKHRbMF0pLF9DKHRbMV0pKTpfQyh0KX0pLFAoaT1uZXcgYShlLHRoaXMsbikse21haW5UeXBlOnRoaXMubWFpblR5cGUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxuYW1lOnQubmFtZSxjcmVhdGVkQnlTZWxmOiEwfSksaS5fX2hvc3RTZXJpZXM9dCksdFtyXT1pKTp0W3JdPW51bGx9LHRoaXMpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ2V0RGF0YSgpLGE9dGhpcy5nZXRSYXdWYWx1ZSh0KSxyPUwoYSk/TyhhLHlDKS5qb2luKCIsICIpOnlDKGEpLHM9by5nZXROYW1lKHQpLGw9eEModGhpcy5uYW1lKTtyZXR1cm4gbnVsbD09YSYmIXN8fChsKz0iaHRtbCI9PT1uPyI8YnIvPiI6IlxuIikscyYmKGwrPXhDKHMpLG51bGwhPWEmJihsKz0iIDogIikpLG51bGwhPWEmJihsKz14QyhyKSksbH0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxzZXREYXRhOmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH19KTtiKHdDLFhoKSx3Qy5leHRlbmQoe3R5cGU6Im1hcmtQb2ludCIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo1LHN5bWJvbDoicGluIixzeW1ib2xTaXplOjUwLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoiaW5zaWRlIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoyfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX19KTt2YXIgYkM9XztmdW5jdGlvbiBTQyh0LGUsaSxuLG8sYSl7dmFyIHI9W10scz1mcChlLG4pP2UuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpOm4sbD1MQyhlLHMsdCksdT1lLmluZGljZXNPZk5lYXJlc3QocyxsKVswXTtyW29dPWUuZ2V0KGksdSksclthXT1lLmdldChzLHUpO3ZhciBoPWUuZ2V0KG4sdSksYz1WbChlLmdldChuLHUpKTtyZXR1cm4gMDw9KGM9TWF0aC5taW4oYywyMCkpJiYoclthXT0rclthXS50b0ZpeGVkKGMpKSxbcixoXX12YXIgTUM9VCxJQz17bWluOk1DKFNDLCJtaW4iKSxtYXg6TUMoU0MsIm1heCIpLGF2ZXJhZ2U6TUMoU0MsImF2ZXJhZ2UiKX07ZnVuY3Rpb24gVEModCxlKXt2YXIgaT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihlJiYhZnVuY3Rpb24odCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodC54KSkmJiFpc05hTihwYXJzZUZsb2F0KHQueSkpfShlKSYmIUwoZS5jb29yZCkmJm4pe3ZhciBvPW4uZGltZW5zaW9ucyxhPUFDKGUsaSxuLHQpO2lmKChlPWsoZSkpLnR5cGUmJklDW2UudHlwZV0mJmEuYmFzZUF4aXMmJmEudmFsdWVBeGlzKXt2YXIgcj1iQyhvLGEuYmFzZUF4aXMuZGltKSxzPWJDKG8sYS52YWx1ZUF4aXMuZGltKSxsPUlDW2UudHlwZV0oaSxhLmJhc2VEYXRhRGltLGEudmFsdWVEYXRhRGltLHIscyk7ZS5jb29yZD1sWzBdLGUudmFsdWU9bFsxXX1lbHNle2Zvcih2YXIgdT1bbnVsbCE9ZS54QXhpcz9lLnhBeGlzOmUucmFkaXVzQXhpcyxudWxsIT1lLnlBeGlzP2UueUF4aXM6ZS5hbmdsZUF4aXNdLGg9MDtoPDI7aCsrKUlDW3VbaF1dJiYodVtoXT1MQyhpLGkubWFwRGltZW5zaW9uKG9baF0pLHVbaF0pKTtlLmNvb3JkPXV9fXJldHVybiBlfWZ1bmN0aW9uIEFDKHQsZSxpLG4pe3ZhciBvPXt9O3JldHVybiBudWxsIT10LnZhbHVlSW5kZXh8fG51bGwhPXQudmFsdWVEaW0/KG8udmFsdWVEYXRhRGltPW51bGwhPXQudmFsdWVJbmRleD9lLmdldERpbWVuc2lvbih0LnZhbHVlSW5kZXgpOnQudmFsdWVEaW0sby52YWx1ZUF4aXM9aS5nZXRBeGlzKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXREYXRhKCksbj1pLmRpbWVuc2lvbnM7ZT1pLmdldERpbWVuc2lvbihlKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9aS5nZXREaW1lbnNpb25JbmZvKG5bb10pO2lmKGEubmFtZT09PWUpcmV0dXJuIGEuY29vcmREaW19fShuLG8udmFsdWVEYXRhRGltKSksby5iYXNlQXhpcz1pLmdldE90aGVyQXhpcyhvLnZhbHVlQXhpcyksby5iYXNlRGF0YURpbT1lLm1hcERpbWVuc2lvbihvLmJhc2VBeGlzLmRpbSkpOihvLmJhc2VBeGlzPW4uZ2V0QmFzZUF4aXMoKSxvLnZhbHVlQXhpcz1pLmdldE90aGVyQXhpcyhvLmJhc2VBeGlzKSxvLmJhc2VEYXRhRGltPWUubWFwRGltZW5zaW9uKG8uYmFzZUF4aXMuZGltKSxvLnZhbHVlRGF0YURpbT1lLm1hcERpbWVuc2lvbihvLnZhbHVlQXhpcy5kaW0pKSxvfWZ1bmN0aW9uIERDKHQsZSl7cmV0dXJuISh0JiZ0LmNvbnRhaW5EYXRhJiZlLmNvb3JkJiYhZnVuY3Rpb24odCl7cmV0dXJuIShpc05hTihwYXJzZUZsb2F0KHQueCkpJiZpc05hTihwYXJzZUZsb2F0KHQueSkpKX0oZSkpfHx0LmNvbnRhaW5EYXRhKGUuY29vcmQpfWZ1bmN0aW9uIENDKHQsZSxpLG4pe3JldHVybiBuPDI/dC5jb29yZCYmdC5jb29yZFtuXTp0LnZhbHVlfWZ1bmN0aW9uIExDKHQsZSxpKXtpZigiYXZlcmFnZSIhPT1pKXJldHVybiJtZWRpYW4iPT09aT90LmdldE1lZGlhbihlKTp0LmdldERhdGFFeHRlbnQoZSwhMClbIm1heCI9PT1pPzE6MF07dmFyIG49MCxvPTA7cmV0dXJuIHQuZWFjaChlLGZ1bmN0aW9uKHQsZSl7aXNOYU4odCl8fChuKz10LG8rKyl9KSxuL299dmFyIGtDPUFmKHt0eXBlOiJtYXJrZXIiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLm1hcmtlckdyb3VwTWFwPVEoKX0scmVuZGVyOmZ1bmN0aW9uKHQsaSxuKXt2YXIgZT10aGlzLm1hcmtlckdyb3VwTWFwO2UuZWFjaChmdW5jdGlvbih0KXt0Ll9fa2VlcD0hMX0pO3ZhciBvPXRoaXMudHlwZSsiTW9kZWwiO2kuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgZT10W29dO2UmJnRoaXMucmVuZGVyU2VyaWVzKHQsZSxpLG4pfSx0aGlzKSxlLmVhY2goZnVuY3Rpb24odCl7dC5fX2tlZXB8fHRoaXMuZ3JvdXAucmVtb3ZlKHQuZ3JvdXApfSx0aGlzKX0scmVuZGVyU2VyaWVzOmZ1bmN0aW9uKCl7fX0pO2Z1bmN0aW9uIFBDKHMsbCx1KXt2YXIgaD1sLmNvb3JkaW5hdGVTeXN0ZW07cy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLGk9cy5nZXRJdGVtTW9kZWwodCksbj16bChpLmdldCgieCIpLHUuZ2V0V2lkdGgoKSksbz16bChpLmdldCgieSIpLHUuZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKG4pfHxpc05hTihvKSl7aWYobC5nZXRNYXJrZXJQb3NpdGlvbillPWwuZ2V0TWFya2VyUG9zaXRpb24ocy5nZXRWYWx1ZXMocy5kaW1lbnNpb25zLHQpKTtlbHNlIGlmKGgpe3ZhciBhPXMuZ2V0KGguZGltZW5zaW9uc1swXSx0KSxyPXMuZ2V0KGguZGltZW5zaW9uc1sxXSx0KTtlPWguZGF0YVRvUG9pbnQoW2Escl0pfX1lbHNlIGU9W24sb107aXNOYU4obil8fChlWzBdPW4pLGlzTmFOKG8pfHwoZVsxXT1vKSxzLnNldEl0ZW1MYXlvdXQodCxlKX0pfWtDLmV4dGVuZCh7dHlwZToibWFya1BvaW50Iix1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkpe2UuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgZT10Lm1hcmtQb2ludE1vZGVsO2UmJihQQyhlLmdldERhdGEoKSx0LGkpLHRoaXMubWFya2VyR3JvdXBNYXAuZ2V0KHQuaWQpLnVwZGF0ZUxheW91dChlKSl9LHRoaXMpfSxyZW5kZXJTZXJpZXM6ZnVuY3Rpb24odCxoLGUsaSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLG89dC5pZCxjPXQuZ2V0RGF0YSgpLGE9dGhpcy5tYXJrZXJHcm91cE1hcCxyPWEuZ2V0KG8pfHxhLnNldChvLG5ldyBpbSksZD1mdW5jdGlvbih0LGUsaSl7dmFyIG47bj10P08odCYmdC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3JldHVybiBEKHtuYW1lOnR9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pfSk6W3tuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifV07dmFyIG89bmV3IFlmKG4saSksYT1PKGkuZ2V0KCJkYXRhIiksVChUQyxlKSk7dCYmKGE9TShhLFQoREMsdCkpKTtyZXR1cm4gby5pbml0RGF0YShhLG51bGwsdD9DQzpmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0pLG99KG4sdCxoKTtoLnNldERhdGEoZCksUEMoaC5nZXREYXRhKCksdCxpKSxkLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9ZC5nZXRJdGVtTW9kZWwodCksaT1lLmdldFNoYWxsb3coInN5bWJvbCIpLG49ZS5nZXRTaGFsbG93KCJzeW1ib2xTaXplIiksbz1lLmdldFNoYWxsb3coInN5bWJvbFJvdGF0ZSIpLGE9QyhpKSxyPUMobikscz1DKG8pO2lmKGF8fHJ8fHMpe3ZhciBsPWguZ2V0UmF3VmFsdWUodCksdT1oLmdldERhdGFQYXJhbXModCk7YSYmKGk9aShsLHUpKSxyJiYobj1uKGwsdSkpLHMmJihvPW8obCx1KSl9ZC5zZXRJdGVtVmlzdWFsKHQse3N5bWJvbDppLHN5bWJvbFNpemU6bixzeW1ib2xSb3RhdGU6byxjb2xvcjplLmdldCgiaXRlbVN0eWxlLmNvbG9yIil8fGMuZ2V0VmlzdWFsKCJjb2xvciIpfSl9KSxyLnVwZGF0ZURhdGEoZCksdGhpcy5ncm91cC5hZGQoci5ncm91cCksZC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXt0LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuZGF0YU1vZGVsPWh9KX0pLHIuX19rZWVwPSEwLHIuZ3JvdXAuc2lsZW50PWguZ2V0KCJzaWxlbnQiKXx8dC5nZXQoInNpbGVudCIpfX0pLHlmKGZ1bmN0aW9uKHQpe3QubWFya1BvaW50PXQubWFya1BvaW50fHx7fX0pLHdDLmV4dGVuZCh7dHlwZToibWFya0xpbmUiLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NSxzeW1ib2w6WyJjaXJjbGUiLCJhcnJvdyJdLHN5bWJvbFNpemU6WzgsMTZdLHByZWNpc2lvbjoyLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoiZW5kIixkaXN0YW5jZTo1fSxsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH0sbGluZVN0eWxlOnt3aWR0aDozfX0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIifX0pO2Z1bmN0aW9uIE5DKHQsZSxpLG4pe3ZhciBvPXQuZ2V0RGF0YSgpLGE9bi50eXBlO2lmKCFMKG4pJiYoIm1pbiI9PT1hfHwibWF4Ij09PWF8fCJhdmVyYWdlIj09PWF8fCJtZWRpYW4iPT09YXx8bnVsbCE9bi54QXhpc3x8bnVsbCE9bi55QXhpcykpe3ZhciByLHM7aWYobnVsbCE9bi55QXhpc3x8bnVsbCE9bi54QXhpcylyPWUuZ2V0QXhpcyhudWxsIT1uLnlBeGlzPyJ5IjoieCIpLHM9VyhuLnlBeGlzLG4ueEF4aXMpO2Vsc2V7dmFyIGw9QUMobixvLGUsdCk7cj1sLnZhbHVlQXhpcyxzPUxDKG8scHAobyxsLnZhbHVlRGF0YURpbSksYSl9dmFyIHU9IngiPT09ci5kaW0/MDoxLGg9MS11LGM9ayhuKSxkPXt9O2MudHlwZT1udWxsLGMuY29vcmQ9W10sZC5jb29yZD1bXSxjLmNvb3JkW2hdPS0xLzAsZC5jb29yZFtoXT0xLzA7dmFyIGY9aS5nZXQoInByZWNpc2lvbiIpOzA8PWYmJiJudW1iZXIiPT10eXBlb2YgcyYmKHM9K3MudG9GaXhlZChNYXRoLm1pbihmLDIwKSkpLGMuY29vcmRbdV09ZC5jb29yZFt1XT1zLG49W2MsZCx7dHlwZTphLHZhbHVlSW5kZXg6bi52YWx1ZUluZGV4LHZhbHVlOnN9XX1yZXR1cm4obj1bVEModCxuWzBdKSxUQyh0LG5bMV0pLFAoe30sblsyXSldKVsyXS50eXBlPW5bMl0udHlwZXx8IiIsbShuWzJdLG5bMF0pLG0oblsyXSxuWzFdKSxufWZ1bmN0aW9uIE9DKHQpe3JldHVybiFpc05hTih0KSYmIWlzRmluaXRlKHQpfWZ1bmN0aW9uIFJDKHQsZSxpLG4pe3ZhciBvPTEtdCxhPW4uZGltZW5zaW9uc1t0XTtyZXR1cm4gT0MoZVtvXSkmJk9DKGlbb10pJiZlW3RdPT09aVt0XSYmbi5nZXRBeGlzKGEpLmNvbnRhaW5EYXRhKGVbdF0pfWZ1bmN0aW9uIHpDKHQsZSl7aWYoImNhcnRlc2lhbjJkIj09PXQudHlwZSl7dmFyIGk9ZVswXS5jb29yZCxuPWVbMV0uY29vcmQ7aWYoaSYmbiYmKFJDKDEsaSxuLHQpfHxSQygwLGksbix0KSkpcmV0dXJuITB9cmV0dXJuIERDKHQsZVswXSkmJkRDKHQsZVsxXSl9ZnVuY3Rpb24gRUModCxlLGksbixvKXt2YXIgYSxyPW4uY29vcmRpbmF0ZVN5c3RlbSxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9emwocy5nZXQoIngiKSxvLmdldFdpZHRoKCkpLHU9emwocy5nZXQoInkiKSxvLmdldEhlaWdodCgpKTtpZihpc05hTihsKXx8aXNOYU4odSkpe2lmKG4uZ2V0TWFya2VyUG9zaXRpb24pYT1uLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKHQuZGltZW5zaW9ucyxlKSk7ZWxzZXt2YXIgaD1yLmRpbWVuc2lvbnMsYz10LmdldChoWzBdLGUpLGQ9dC5nZXQoaFsxXSxlKTthPXIuZGF0YVRvUG9pbnQoW2MsZF0pfWlmKCJjYXJ0ZXNpYW4yZCI9PT1yLnR5cGUpe3ZhciBmPXIuZ2V0QXhpcygieCIpLHA9ci5nZXRBeGlzKCJ5Iik7aD1yLmRpbWVuc2lvbnM7T0ModC5nZXQoaFswXSxlKSk/YVswXT1mLnRvR2xvYmFsQ29vcmQoZi5nZXRFeHRlbnQoKVtpPzA6MV0pOk9DKHQuZ2V0KGhbMV0sZSkpJiYoYVsxXT1wLnRvR2xvYmFsQ29vcmQocC5nZXRFeHRlbnQoKVtpPzA6MV0pKX1pc05hTihsKXx8KGFbMF09bCksaXNOYU4odSl8fChhWzFdPXUpfWVsc2UgYT1bbCx1XTt0LnNldEl0ZW1MYXlvdXQoZSxhKX1rQy5leHRlbmQoe3R5cGU6Im1hcmtMaW5lIix1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGEpe2UuZWFjaFNlcmllcyhmdW5jdGlvbihlKXt2YXIgdD1lLm1hcmtMaW5lTW9kZWw7aWYodCl7dmFyIGk9dC5nZXREYXRhKCksbj10Ll9fZnJvbSxvPXQuX190bztuLmVhY2goZnVuY3Rpb24odCl7RUMobix0LCEwLGUsYSksRUMobyx0LCExLGUsYSl9KSxpLmVhY2goZnVuY3Rpb24odCl7aS5zZXRJdGVtTGF5b3V0KHQsW24uZ2V0SXRlbUxheW91dCh0KSxvLmdldEl0ZW1MYXlvdXQodCldKX0pLHRoaXMubWFya2VyR3JvdXBNYXAuZ2V0KGUuaWQpLnVwZGF0ZUxheW91dCgpfX0sdGhpcyl9LHJlbmRlclNlcmllczpmdW5jdGlvbihvLGksdCxhKXt2YXIgZT1vLmNvb3JkaW5hdGVTeXN0ZW0sbj1vLmlkLHI9by5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobil8fHMuc2V0KG4sbmV3IFN3KTt0aGlzLmdyb3VwLmFkZChsLmdyb3VwKTt2YXIgdT1mdW5jdGlvbih0LGUsaSl7dmFyIG47bj10P08odCYmdC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3JldHVybiBEKHtuYW1lOnR9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pfSk6W3tuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifV07dmFyIG89bmV3IFlmKG4saSksYT1uZXcgWWYobixpKSxyPW5ldyBZZihbXSxpKSxzPU8oaS5nZXQoImRhdGEiKSxUKE5DLGUsdCxpKSk7dCYmKHM9TShzLFQoekMsdCkpKTt2YXIgbD10P0NDOmZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfTtyZXR1cm4gby5pbml0RGF0YShPKHMsZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSxudWxsLGwpLGEuaW5pdERhdGEoTyhzLGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSksbnVsbCxsKSxyLmluaXREYXRhKE8ocyxmdW5jdGlvbih0KXtyZXR1cm4gdFsyXX0pKSxyLmhhc0l0ZW1PcHRpb249ITAse2Zyb206byx0bzphLGxpbmU6cn19KGUsbyxpKSxoPXUuZnJvbSxjPXUudG8sZD11LmxpbmU7aS5fX2Zyb209aCxpLl9fdG89YyxpLnNldERhdGEoZCk7dmFyIGY9aS5nZXQoInN5bWJvbCIpLHA9aS5nZXQoInN5bWJvbFNpemUiKTtmdW5jdGlvbiBnKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKTtFQyh0LGUsaSxvLGEpLHQuc2V0SXRlbVZpc3VhbChlLHtzeW1ib2xSb3RhdGU6bi5nZXQoInN5bWJvbFJvdGF0ZSIpLHN5bWJvbFNpemU6bi5nZXQoInN5bWJvbFNpemUiKXx8cFtpPzA6MV0sc3ltYm9sOm4uZ2V0KCJzeW1ib2wiLCEwKXx8ZltpPzA6MV0sY29sb3I6bi5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxyLmdldFZpc3VhbCgiY29sb3IiKX0pfUwoZil8fChmPVtmLGZdKSwibnVtYmVyIj09dHlwZW9mIHAmJihwPVtwLHBdKSx1LmZyb20uZWFjaChmdW5jdGlvbih0KXtnKGgsdCwhMCksZyhjLHQsITEpfSksZC5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWQuZ2V0SXRlbU1vZGVsKHQpLmdldCgibGluZVN0eWxlLmNvbG9yIik7ZC5zZXRJdGVtVmlzdWFsKHQse2NvbG9yOmV8fGguZ2V0SXRlbVZpc3VhbCh0LCJjb2xvciIpfSksZC5zZXRJdGVtTGF5b3V0KHQsW2guZ2V0SXRlbUxheW91dCh0KSxjLmdldEl0ZW1MYXlvdXQodCldKSxkLnNldEl0ZW1WaXN1YWwodCx7ZnJvbVN5bWJvbFJvdGF0ZTpoLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sUm90YXRlIiksZnJvbVN5bWJvbFNpemU6aC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbFNpemUiKSxmcm9tU3ltYm9sOmguZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2wiKSx0b1N5bWJvbFJvdGF0ZTpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sUm90YXRlIiksdG9TeW1ib2xTaXplOmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksdG9TeW1ib2w6Yy5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbCIpfSl9KSxsLnVwZGF0ZURhdGEoZCksdS5saW5lLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmRhdGFNb2RlbD1pfSl9KSxsLl9fa2VlcD0hMCxsLmdyb3VwLnNpbGVudD1pLmdldCgic2lsZW50Iil8fG8uZ2V0KCJzaWxlbnQiKX19KSx5ZihmdW5jdGlvbih0KXt0Lm1hcmtMaW5lPXQubWFya0xpbmV8fHt9fSksd0MuZXh0ZW5kKHt0eXBlOiJtYXJrQXJlYSIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoxLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxhbmltYXRpb246ITEsbGFiZWw6e3Nob3c6ITAscG9zaXRpb246InRvcCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MH0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJ0b3AifX19fSk7ZnVuY3Rpb24gQkModCxlLGksbil7dmFyIG89VEModCxuWzBdKSxhPVRDKHQsblsxXSkscj1XLHM9by5jb29yZCxsPWEuY29vcmQ7c1swXT1yKHNbMF0sLTEvMCksc1sxXT1yKHNbMV0sLTEvMCksbFswXT1yKGxbMF0sMS8wKSxsWzFdPXIobFsxXSwxLzApO3ZhciB1PXAoW3t9LG8sYV0pO3JldHVybiB1LmNvb3JkPVtvLmNvb3JkLGEuY29vcmRdLHUueDA9by54LHUueTA9by55LHUueDE9YS54LHUueTE9YS55LHV9ZnVuY3Rpb24gVkModCl7cmV0dXJuIWlzTmFOKHQpJiYhaXNGaW5pdGUodCl9ZnVuY3Rpb24gR0ModCxlLGkpe3ZhciBuPTEtdDtyZXR1cm4gVkMoZVtuXSkmJlZDKGlbbl0pfWZ1bmN0aW9uIEZDKHQsZSl7dmFyIGk9ZS5jb29yZFswXSxuPWUuY29vcmRbMV07cmV0dXJuISgiY2FydGVzaWFuMmQiIT09dC50eXBlfHwhaXx8IW58fCFHQygxLGksbikmJiFHQygwLGksbikpfHwoREModCx7Y29vcmQ6aSx4OmUueDAseTplLnkwfSl8fERDKHQse2Nvb3JkOm4seDplLngxLHk6ZS55MX0pKX1mdW5jdGlvbiBXQyh0LGUsaSxuLG8pe3ZhciBhLHI9bi5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRJdGVtTW9kZWwoZSksbD16bChzLmdldChpWzBdKSxvLmdldFdpZHRoKCkpLHU9emwocy5nZXQoaVsxXSksby5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihuLmdldE1hcmtlclBvc2l0aW9uKWE9bi5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyhpLGUpKTtlbHNle3ZhciBoPVtmPXQuZ2V0KGlbMF0sZSkscD10LmdldChpWzFdLGUpXTtyLmNsYW1wRGF0YSYmci5jbGFtcERhdGEoaCxoKSxhPXIuZGF0YVRvUG9pbnQoaCwhMCl9aWYoImNhcnRlc2lhbjJkIj09PXIudHlwZSl7dmFyIGM9ci5nZXRBeGlzKCJ4IiksZD1yLmdldEF4aXMoInkiKSxmPXQuZ2V0KGlbMF0sZSkscD10LmdldChpWzFdLGUpO1ZDKGYpP2FbMF09Yy50b0dsb2JhbENvb3JkKGMuZ2V0RXh0ZW50KClbIngwIj09PWlbMF0/MDoxXSk6VkMocCkmJihhWzFdPWQudG9HbG9iYWxDb29yZChkLmdldEV4dGVudCgpWyJ5MCI9PT1pWzFdPzA6MV0pKX1pc05hTihsKXx8KGFbMF09bCksaXNOYU4odSl8fChhWzFdPXUpfWVsc2UgYT1bbCx1XTtyZXR1cm4gYX12YXIgSEM9W1sieDAiLCJ5MCJdLFsieDEiLCJ5MCJdLFsieDEiLCJ5MSJdLFsieDAiLCJ5MSJdXTtrQy5leHRlbmQoe3R5cGU6Im1hcmtBcmVhIix1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLG8pe2UuZWFjaFNlcmllcyhmdW5jdGlvbihpKXt2YXIgdD1pLm1hcmtBcmVhTW9kZWw7aWYodCl7dmFyIG49dC5nZXREYXRhKCk7bi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PU8oSEMsZnVuY3Rpb24odCl7cmV0dXJuIFdDKG4sZSx0LGksbyl9KTtuLnNldEl0ZW1MYXlvdXQoZSx0KSxuLmdldEl0ZW1HcmFwaGljRWwoZSkuc2V0U2hhcGUoInBvaW50cyIsdCl9KX19LHRoaXMpfSxyZW5kZXJTZXJpZXM6ZnVuY3Rpb24oZSxyLHQsaSl7dmFyIGE9ZS5jb29yZGluYXRlU3lzdGVtLG49ZS5pZCxzPWUuZ2V0RGF0YSgpLG89dGhpcy5tYXJrZXJHcm91cE1hcCxsPW8uZ2V0KG4pfHxvLnNldChuLHtncm91cDpuZXcgQ2l9KTt0aGlzLmdyb3VwLmFkZChsLmdyb3VwKSxsLl9fa2VlcD0hMDt2YXIgdT1mdW5jdGlvbih0LGksZSl7dmFyIG4sbztvPXQ/KG49Tyh0JiZ0LmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9aS5nZXREYXRhKCk7cmV0dXJuIEQoe25hbWU6dH0sZS5nZXREaW1lbnNpb25JbmZvKGUubWFwRGltZW5zaW9uKHQpKXx8e30pfSksbmV3IFlmKE8oWyJ4MCIsInkwIiwieDEiLCJ5MSJdLGZ1bmN0aW9uKHQsZSl7cmV0dXJue25hbWU6dCx0eXBlOm5bZSUyXS50eXBlfX0pLGUpKTpuZXcgWWYobj1be25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9XSxlKTt2YXIgYT1PKGUuZ2V0KCJkYXRhIiksVChCQyxpLHQsZSkpO3QmJihhPU0oYSxUKEZDLHQpKSk7dmFyIHI9dD9mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdC5jb29yZFtNYXRoLmZsb29yKG4vMildW24lMl19OmZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfTtyZXR1cm4gby5pbml0RGF0YShhLG51bGwsciksby5oYXNJdGVtT3B0aW9uPSEwLG99KGEsZSxyKTtyLnNldERhdGEodSksdS5lYWNoKGZ1bmN0aW9uKG4pe3ZhciB0PU8oSEMsZnVuY3Rpb24odCl7cmV0dXJuIFdDKHUsbix0LGUsaSl9KSxvPSEwO1IoSEMsZnVuY3Rpb24odCl7aWYobyl7dmFyIGU9dS5nZXQodFswXSxuKSxpPXUuZ2V0KHRbMV0sbik7KFZDKGUpfHxhLmdldEF4aXMoIngiKS5jb250YWluRGF0YShlKSkmJihWQyhpKXx8YS5nZXRBeGlzKCJ5IikuY29udGFpbkRhdGEoaSkpJiYobz0hMSl9fSksdS5zZXRJdGVtTGF5b3V0KG4se3BvaW50czp0LGFsbENsaXBwZWQ6b30pLHUuc2V0SXRlbVZpc3VhbChuLHtjb2xvcjpzLmdldFZpc3VhbCgiY29sb3IiKX0pfSksdS5kaWZmKGwuX19kYXRhKS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9dS5nZXRJdGVtTGF5b3V0KHQpO2lmKCFlLmFsbENsaXBwZWQpe3ZhciBpPW5ldyBRcih7c2hhcGU6e3BvaW50czplLnBvaW50c319KTt1LnNldEl0ZW1HcmFwaGljRWwodCxpKSxsLmdyb3VwLmFkZChpKX19KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1sLl9fZGF0YS5nZXRJdGVtR3JhcGhpY0VsKGUpLG49dS5nZXRJdGVtTGF5b3V0KHQpO24uYWxsQ2xpcHBlZD9pJiZsLmdyb3VwLnJlbW92ZShpKTooaT9jbChpLHtzaGFwZTp7cG9pbnRzOm4ucG9pbnRzfX0scix0KTppPW5ldyBRcih7c2hhcGU6e3BvaW50czpuLnBvaW50c319KSx1LnNldEl0ZW1HcmFwaGljRWwodCxpKSxsLmdyb3VwLmFkZChpKSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9bC5fX2RhdGEuZ2V0SXRlbUdyYXBoaWNFbCh0KTtsLmdyb3VwLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSx1LmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dS5nZXRJdGVtTW9kZWwoZSksbj1pLmdldE1vZGVsKCJsYWJlbCIpLG89aS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxhPXUuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO3QudXNlU3R5bGUoRChpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSx7ZmlsbDpLZShhLC40KSxzdHJva2U6YX0pKSx0LmhvdmVyU3R5bGU9aS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksZWwodC5zdHlsZSx0LmhvdmVyU3R5bGUsbixvLHtsYWJlbEZldGNoZXI6cixsYWJlbERhdGFJbmRleDplLGRlZmF1bHRUZXh0OnUuZ2V0TmFtZShlKXx8IiIsaXNSZWN0VGV4dDohMCxhdXRvQ29sb3I6YX0pLCRzKHQse30pLHQuZGF0YU1vZGVsPXJ9KSxsLl9fZGF0YT11LGwuZ3JvdXAuc2lsZW50PXIuZ2V0KCJzaWxlbnQiKXx8ZS5nZXQoInNpbGVudCIpfX0pLHlmKGZ1bmN0aW9uKHQpe3QubWFya0FyZWE9dC5tYXJrQXJlYXx8e319KTt2YXIgWkM9T2MubGVnZW5kLnNlbGVjdG9yLFVDPXthbGw6e3R5cGU6ImFsbCIsdGl0bGU6ayhaQy5hbGwpfSxpbnZlcnNlOnt0eXBlOiJpbnZlcnNlIix0aXRsZTprKFpDLmludmVyc2UpfX0sWEM9VGYoe3R5cGU6ImxlZ2VuZC5wbGFpbiIsZGVwZW5kZW5jaWVzOlsic2VyaWVzIl0sbGF5b3V0TW9kZTp7dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksdC5zZWxlY3RlZD10LnNlbGVjdGVkfHx7fSx0aGlzLl91cGRhdGVTZWxlY3Rvcih0KX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7WEMuc3VwZXJDYWxsKHRoaXMsIm1lcmdlT3B0aW9uIix0KSx0aGlzLl91cGRhdGVTZWxlY3Rvcih0KX0sX3VwZGF0ZVNlbGVjdG9yOmZ1bmN0aW9uKHQpe3ZhciBpPXQuc2VsZWN0b3I7ITA9PT1pJiYoaT10LnNlbGVjdG9yPVsiYWxsIiwiaW52ZXJzZSJdKSxMKGkpJiZSKGksZnVuY3Rpb24odCxlKXt6KHQpJiYodD17dHlwZTp0fSksaVtlXT1tKHQsVUNbdC50eXBlXSl9KX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURhdGEodGhpcy5lY01vZGVsKTt2YXIgdD10aGlzLl9kYXRhO2lmKHRbMF0mJiJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpKXtmb3IodmFyIGU9ITEsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldLmdldCgibmFtZSIpO2lmKHRoaXMuaXNTZWxlY3RlZChuKSl7dGhpcy5zZWxlY3QobiksZT0hMDticmVha319ZXx8dGhpcy5zZWxlY3QodFswXS5nZXQoIm5hbWUiKSl9fSxfdXBkYXRlRGF0YTpmdW5jdGlvbihvKXt2YXIgYT1bXSxyPVtdO28uZWFjaFJhd1NlcmllcyhmdW5jdGlvbih0KXt2YXIgZSxpPXQubmFtZTtpZihyLnB1c2goaSksdC5sZWdlbmRWaXN1YWxQcm92aWRlcil7dmFyIG49dC5sZWdlbmRWaXN1YWxQcm92aWRlci5nZXRBbGxOYW1lcygpO28uaXNTZXJpZXNGaWx0ZXJlZCh0KXx8KHI9ci5jb25jYXQobikpLG4ubGVuZ3RoP2E9YS5jb25jYXQobik6ZT0hMH1lbHNlIGU9ITA7ZSYmVW8odCkmJmEucHVzaCh0Lm5hbWUpfSksdGhpcy5fYXZhaWxhYmxlTmFtZXM9cjt2YXIgdD1PKHRoaXMuZ2V0KCJkYXRhIil8fGEsZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYibnVtYmVyIiE9dHlwZW9mIHR8fCh0PXtuYW1lOnR9KSxuZXcgQ2wodCx0aGlzLHRoaXMuZWNNb2RlbCl9LHRoaXMpO3RoaXMuX2RhdGE9dH0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxzZWxlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7InNpbmdsZSI9PT10aGlzLmdldCgic2VsZWN0ZWRNb2RlIikmJlIodGhpcy5fZGF0YSxmdW5jdGlvbih0KXtlW3QuZ2V0KCJuYW1lIildPSExfSk7ZVt0XT0hMH0sdW5TZWxlY3Q6ZnVuY3Rpb24odCl7InNpbmdsZSIhPT10aGlzLmdldCgic2VsZWN0ZWRNb2RlIikmJih0aGlzLm9wdGlvbi5zZWxlY3RlZFt0XT0hMSl9LHRvZ2dsZVNlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkO2UuaGFzT3duUHJvcGVydHkodCl8fChlW3RdPSEwKSx0aGlzW2VbdF0/InVuU2VsZWN0Ijoic2VsZWN0Il0odCl9LGFsbFNlbGVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtSKHQsZnVuY3Rpb24odCl7ZVt0LmdldCgibmFtZSIsITApXT0hMH0pfSxpbnZlcnNlU2VsZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxpPXRoaXMub3B0aW9uLnNlbGVjdGVkO1IodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldCgibmFtZSIsITApO2kuaGFzT3duUHJvcGVydHkoZSl8fChpW2VdPSEwKSxpW2VdPSFpW2VdfSl9LGlzU2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7cmV0dXJuIShlLmhhc093blByb3BlcnR5KHQpJiYhZVt0XSkmJjA8PV8odGhpcy5fYXZhaWxhYmxlTmFtZXMsdCl9LGdldE9yaWVudDpmdW5jdGlvbigpe3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLmdldCgib3JpZW50Iik/e2luZGV4OjEsbmFtZToidmVydGljYWwifTp7aW5kZXg6MCxuYW1lOiJob3Jpem9udGFsIn19LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NCxzaG93OiEwLG9yaWVudDoiaG9yaXpvbnRhbCIsbGVmdDoiY2VudGVyIix0b3A6MCxhbGlnbjoiYXV0byIsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyUmFkaXVzOjAsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbUdhcDoxMCxpdGVtV2lkdGg6MjUsaXRlbUhlaWdodDoxNCxpbmFjdGl2ZUNvbG9yOiIjY2NjIixpbmFjdGl2ZUJvcmRlckNvbG9yOiIjY2NjIixpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjB9LHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifSxzZWxlY3RlZE1vZGU6ITAsc2VsZWN0b3I6ITEsc2VsZWN0b3JMYWJlbDp7c2hvdzohMCxib3JkZXJSYWRpdXM6MTAscGFkZGluZzpbMyw1LDMsNV0sZm9udFNpemU6MTIsZm9udEZhbWlseToiIHNhbnMtc2VyaWYiLGNvbG9yOiIjNjY2Iixib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiIjNjY2In0sZW1waGFzaXM6e3NlbGVjdG9yTGFiZWw6e3Nob3c6ITAsY29sb3I6IiNlZWUiLGJhY2tncm91bmRDb2xvcjoiIzY2NiJ9fSxzZWxlY3RvclBvc2l0aW9uOiJhdXRvIixzZWxlY3Rvckl0ZW1HYXA6NyxzZWxlY3RvckJ1dHRvbkdhcDoxMCx0b29sdGlwOntzaG93OiExfX19KTtmdW5jdGlvbiBZQyh0LGUsaSl7dmFyIG8sYT17fSxyPSJ0b2dnbGVTZWxlY3RlZCI9PT10O3JldHVybiBpLmVhY2hDb21wb25lbnQoImxlZ2VuZCIsZnVuY3Rpb24obil7ciYmbnVsbCE9bz9uW28/InNlbGVjdCI6InVuU2VsZWN0Il0oZS5uYW1lKToiYWxsU2VsZWN0Ij09PXR8fCJpbnZlcnNlU2VsZWN0Ij09PXQ/blt0XSgpOihuW3RdKGUubmFtZSksbz1uLmlzU2VsZWN0ZWQoZS5uYW1lKSksUihuLmdldERhdGEoKSxmdW5jdGlvbih0KXt2YXIgZT10LmdldCgibmFtZSIpO2lmKCJcbiIhPT1lJiYiIiE9PWUpe3ZhciBpPW4uaXNTZWxlY3RlZChlKTthLmhhc093blByb3BlcnR5KGUpP2FbZV09YVtlXSYmaTphW2VdPWl9fSl9KSwiYWxsU2VsZWN0Ij09PXR8fCJpbnZlcnNlU2VsZWN0Ij09PXQ/e3NlbGVjdGVkOmF9OntuYW1lOmUubmFtZSxzZWxlY3RlZDphfX1fZigibGVnZW5kVG9nZ2xlU2VsZWN0IiwibGVnZW5kc2VsZWN0Y2hhbmdlZCIsVChZQywidG9nZ2xlU2VsZWN0ZWQiKSksX2YoImxlZ2VuZEFsbFNlbGVjdCIsImxlZ2VuZHNlbGVjdGFsbCIsVChZQywiYWxsU2VsZWN0IikpLF9mKCJsZWdlbmRJbnZlcnNlU2VsZWN0IiwibGVnZW5kaW52ZXJzZXNlbGVjdCIsVChZQywiaW52ZXJzZVNlbGVjdCIpKSxfZigibGVnZW5kU2VsZWN0IiwibGVnZW5kc2VsZWN0ZWQiLFQoWUMsInNlbGVjdCIpKSxfZigibGVnZW5kVW5TZWxlY3QiLCJsZWdlbmR1bnNlbGVjdGVkIixUKFlDLCJ1blNlbGVjdCIpKTt2YXIgakM9VCxxQz1SLEtDPUNpLCRDPUFmKHt0eXBlOiJsZWdlbmQucGxhaW4iLG5ld2xpbmVEaXNhYmxlZDohMSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5hZGQodGhpcy5fY29udGVudEdyb3VwPW5ldyBLQyksdGhpcy5fYmFja2dyb3VuZEVsLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX3NlbGVjdG9yR3JvdXA9bmV3IEtDKSx0aGlzLl9pc0ZpcnN0UmVuZGVyPSEwfSxnZXRDb250ZW50R3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudEdyb3VwfSxnZXRTZWxlY3Rvckdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdG9yR3JvdXB9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5faXNGaXJzdFJlbmRlcjtpZih0aGlzLl9pc0ZpcnN0UmVuZGVyPSExLHRoaXMucmVzZXRJbm5lcigpLHQuZ2V0KCJzaG93IiwhMCkpe3ZhciBvPXQuZ2V0KCJhbGlnbiIpLGE9dC5nZXQoIm9yaWVudCIpO28mJiJhdXRvIiE9PW98fChvPSJyaWdodCI9PT10LmdldCgibGVmdCIpJiYidmVydGljYWwiPT09YT8icmlnaHQiOiJsZWZ0Iik7dmFyIHI9dC5nZXQoInNlbGVjdG9yIiwhMCkscz10LmdldCgic2VsZWN0b3JQb3NpdGlvbiIsITApOyFyfHxzJiYiYXV0byIhPT1zfHwocz0iaG9yaXpvbnRhbCI9PT1hPyJlbmQiOiJzdGFydCIpLHRoaXMucmVuZGVySW5uZXIobyx0LGUsaSxyLGEscyk7dmFyIGw9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx1PXt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LGg9dC5nZXQoInBhZGRpbmciKSxjPWJ1KGwsdSxoKSxkPXRoaXMubGF5b3V0SW5uZXIodCxvLGMsbixyLHMpLGY9YnUoRCh7d2lkdGg6ZC53aWR0aCxoZWlnaHQ6ZC5oZWlnaHR9LGwpLHUsaCk7dGhpcy5ncm91cC5hdHRyKCJwb3NpdGlvbiIsW2YueC1kLngsZi55LWQueV0pLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2JhY2tncm91bmRFbD1nQShkLHQpKX19LHJlc2V0SW5uZXI6ZnVuY3Rpb24oKXt0aGlzLmdldENvbnRlbnRHcm91cCgpLnJlbW92ZUFsbCgpLHRoaXMuX2JhY2tncm91bmRFbCYmdGhpcy5ncm91cC5yZW1vdmUodGhpcy5fYmFja2dyb3VuZEVsKSx0aGlzLmdldFNlbGVjdG9yR3JvdXAoKS5yZW1vdmVBbGwoKX0scmVuZGVySW5uZXI6ZnVuY3Rpb24odSxoLGMsZCx0LGUsaSl7dmFyIGY9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxwPVEoKSxnPWguZ2V0KCJzZWxlY3RlZE1vZGUiKSxtPVtdO2MuZWFjaFJhd1NlcmllcyhmdW5jdGlvbih0KXt0LmdldCgibGVnZW5kSG92ZXJMaW5rIil8fG0ucHVzaCh0LmlkKX0pLHFDKGguZ2V0RGF0YSgpLGZ1bmN0aW9uKGEscil7dmFyIHM9YS5nZXQoIm5hbWUiKTtpZih0aGlzLm5ld2xpbmVEaXNhYmxlZHx8IiIhPT1zJiYiXG4iIT09cyl7dmFyIHQ9Yy5nZXRTZXJpZXNCeU5hbWUocylbMF07aWYoIXAuZ2V0KHMpKWlmKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9ZS5nZXRWaXN1YWwoImNvbG9yIiksbj1lLmdldFZpc3VhbCgiYm9yZGVyQ29sb3IiKTsiZnVuY3Rpb24iPT10eXBlb2YgaSYmKGk9aSh0LmdldERhdGFQYXJhbXMoMCkpKSwiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bih0LmdldERhdGFQYXJhbXMoMCkpKTt2YXIgbz1lLmdldFZpc3VhbCgibGVnZW5kU3ltYm9sIil8fCJyb3VuZFJlY3QiLGw9ZS5nZXRWaXN1YWwoInN5bWJvbCIpO3RoaXMuX2NyZWF0ZUl0ZW0ocyxyLGEsaCxvLGwsdSxpLG4sZykub24oImNsaWNrIixqQyhRQyxzLG51bGwsZCxtKSkub24oIm1vdXNlb3ZlciIsakModEwsdC5uYW1lLG51bGwsZCxtKSkub24oIm1vdXNlb3V0IixqQyhlTCx0Lm5hbWUsbnVsbCxkLG0pKSxwLnNldChzLCEwKX1lbHNlIGMuZWFjaFJhd1NlcmllcyhmdW5jdGlvbih0KXtpZighcC5nZXQocykmJnQubGVnZW5kVmlzdWFsUHJvdmlkZXIpe3ZhciBlPXQubGVnZW5kVmlzdWFsUHJvdmlkZXI7aWYoIWUuY29udGFpbk5hbWUocykpcmV0dXJuO3ZhciBpPWUuaW5kZXhPZk5hbWUocyksbj1lLmdldEl0ZW1WaXN1YWwoaSwiY29sb3IiKSxvPWUuZ2V0SXRlbVZpc3VhbChpLCJib3JkZXJDb2xvciIpO3RoaXMuX2NyZWF0ZUl0ZW0ocyxyLGEsaCwicm91bmRSZWN0IixudWxsLHUsbixvLGcpLm9uKCJjbGljayIsakMoUUMsbnVsbCxzLGQsbSkpLm9uKCJtb3VzZW92ZXIiLGpDKHRMLG51bGwscyxkLG0pKS5vbigibW91c2VvdXQiLGpDKGVMLG51bGwscyxkLG0pKSxwLnNldChzLCEwKX19LHRoaXMpfWVsc2UgZi5hZGQobmV3IEtDKHtuZXdsaW5lOiEwfSkpfSx0aGlzKSx0JiZ0aGlzLl9jcmVhdGVTZWxlY3Rvcih0LGgsZCxlLGkpfSxfY3JlYXRlU2VsZWN0b3I6ZnVuY3Rpb24odCxhLHIsZSxpKXt2YXIgcz10aGlzLmdldFNlbGVjdG9yR3JvdXAoKTtxQyh0LGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsaT1uZXcgVXIoe3N0eWxlOnt4OjAseTowLGFsaWduOiJjZW50ZXIiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LG9uY2xpY2s6ZnVuY3Rpb24oKXtyLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJhbGwiPT09ZT8ibGVnZW5kQWxsU2VsZWN0IjoibGVnZW5kSW52ZXJzZVNlbGVjdCJ9KX19KTtzLmFkZChpKTt2YXIgbj1hLmdldE1vZGVsKCJzZWxlY3RvckxhYmVsIiksbz1hLmdldE1vZGVsKCJlbXBoYXNpcy5zZWxlY3RvckxhYmVsIik7ZWwoaS5zdHlsZSxpLmhvdmVyU3R5bGU9e30sbixvLHtkZWZhdWx0VGV4dDp0LnRpdGxlLGlzUmVjdFRleHQ6ITF9KSwkcyhpKX0odCl9KX0sX2NyZWF0ZUl0ZW06ZnVuY3Rpb24odCxlLGksbixvLGEscixzLGwsdSl7dmFyIGg9bi5nZXQoIml0ZW1XaWR0aCIpLGM9bi5nZXQoIml0ZW1IZWlnaHQiKSxkPW4uZ2V0KCJpbmFjdGl2ZUNvbG9yIiksZj1uLmdldCgiaW5hY3RpdmVCb3JkZXJDb2xvciIpLHA9bi5nZXQoInN5bWJvbEtlZXBBc3BlY3QiKSxnPW4uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG09bi5pc1NlbGVjdGVkKHQpLHY9bmV3IEtDLHk9aS5nZXRNb2RlbCgidGV4dFN0eWxlIikseD1pLmdldCgiaWNvbiIpLF89aS5nZXRNb2RlbCgidG9vbHRpcCIpLHc9Xy5wYXJlbnRNb2RlbCxiPXdnKG89eHx8bywwLDAsaCxjLG0/czpkLG51bGw9PXB8fHApO2lmKHYuYWRkKEpDKGIsbyxnLGwsZixtKSksIXgmJmEmJihhIT09b3x8Im5vbmUiPT09YSkpe3ZhciBTPS44KmM7Im5vbmUiPT09YSYmKGE9ImNpcmNsZSIpO3ZhciBNPXdnKGEsKGgtUykvMiwoYy1TKS8yLFMsUyxtP3M6ZCxudWxsPT1wfHxwKTt2LmFkZChKQyhNLGEsZyxsLGYsbSkpfXZhciBJPSJsZWZ0Ij09PXI/aCs1Oi01LFQ9cixBPW4uZ2V0KCJmb3JtYXR0ZXIiKSxEPXQ7InN0cmluZyI9PXR5cGVvZiBBJiZBP0Q9QS5yZXBsYWNlKCJ7bmFtZX0iLG51bGwhPXQ/dDoiIik6ImZ1bmN0aW9uIj09dHlwZW9mIEEmJihEPUEodCkpLHYuYWRkKG5ldyBVcih7c3R5bGU6bmwoe30seSx7dGV4dDpELHg6SSx5OmMvMix0ZXh0RmlsbDptP3kuZ2V0VGV4dENvbG9yKCk6ZCx0ZXh0QWxpZ246VCx0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0pfSkpO3ZhciBDPW5ldyBycyh7c2hhcGU6di5nZXRCb3VuZGluZ1JlY3QoKSxpbnZpc2libGU6ITAsdG9vbHRpcDpfLmdldCgic2hvdyIpP1Aoe2NvbnRlbnQ6dCxmb3JtYXR0ZXI6dy5nZXQoImZvcm1hdHRlciIsITApfHxmdW5jdGlvbigpe3JldHVybiB0fSxmb3JtYXR0ZXJQYXJhbXM6e2NvbXBvbmVudFR5cGU6ImxlZ2VuZCIsbGVnZW5kSW5kZXg6bi5jb21wb25lbnRJbmRleCxuYW1lOnQsJHZhcnM6WyJuYW1lIl19fSxfLm9wdGlvbik6bnVsbH0pO3JldHVybiB2LmFkZChDKSx2LmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LnNpbGVudD0hMH0pLEMuc2lsZW50PSF1LHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuYWRkKHYpLCRzKHYpLHYuX19sZWdlbmREYXRhSW5kZXg9ZSx2fSxsYXlvdXRJbm5lcjpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxzPXRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpO3d1KHQuZ2V0KCJvcmllbnQiKSxyLHQuZ2V0KCJpdGVtR2FwIiksaS53aWR0aCxpLmhlaWdodCk7dmFyIGw9ci5nZXRCb3VuZGluZ1JlY3QoKSx1PVstbC54LC1sLnldO2lmKG8pe3d1KCJob3Jpem9udGFsIixzLHQuZ2V0KCJzZWxlY3Rvckl0ZW1HYXAiLCEwKSk7dmFyIGg9cy5nZXRCb3VuZGluZ1JlY3QoKSxjPVstaC54LC1oLnldLGQ9dC5nZXQoInNlbGVjdG9yQnV0dG9uR2FwIiwhMCksZj10LmdldE9yaWVudCgpLmluZGV4LHA9MD09PWY/IndpZHRoIjoiaGVpZ2h0IixnPTA9PT1mPyJoZWlnaHQiOiJ3aWR0aCIsbT0wPT09Zj8ieSI6IngiOyJlbmQiPT09YT9jW2ZdKz1sW3BdK2Q6dVtmXSs9aFtwXStkLGNbMS1mXSs9bFtnXS8yLWhbZ10vMixzLmF0dHIoInBvc2l0aW9uIixjKSxyLmF0dHIoInBvc2l0aW9uIix1KTt2YXIgdj17eDowLHk6MH07cmV0dXJuIHZbcF09bFtwXStkK2hbcF0sdltnXT1NYXRoLm1heChsW2ddLGhbZ10pLHZbbV09TWF0aC5taW4oMCxoW21dK2NbMS1mXSksdn1yZXR1cm4gci5hdHRyKCJwb3NpdGlvbiIsdSksdGhpcy5ncm91cC5nZXRCb3VuZGluZ1JlY3QoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5nZXRDb250ZW50R3JvdXAoKS5yZW1vdmVBbGwoKSx0aGlzLl9pc0ZpcnN0UmVuZGVyPSEwfX0pO2Z1bmN0aW9uIEpDKHQsZSxpLG4sbyxhKXt2YXIgcjtyZXR1cm4ibGluZSIhPT1lJiZlLmluZGV4T2YoImVtcHR5Iik8MD8ocj1pLmdldEl0ZW1TdHlsZSgpLHQuc3R5bGUuc3Ryb2tlPW4sYXx8KHIuc3Ryb2tlPW8pKTpyPWkuZ2V0SXRlbVN0eWxlKFsiYm9yZGVyV2lkdGgiLCJib3JkZXJDb2xvciJdKSx0LnNldFN0eWxlKHIpfWZ1bmN0aW9uIFFDKHQsZSxpLG4pe2VMKHQsZSxpLG4pLGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImxlZ2VuZFRvZ2dsZVNlbGVjdCIsbmFtZTpudWxsIT10P3Q6ZX0pLHRMKHQsZSxpLG4pfWZ1bmN0aW9uIHRMKHQsZSxpLG4pe3ZhciBvPWkuZ2V0WnIoKS5zdG9yYWdlLmdldERpc3BsYXlMaXN0KClbMF07byYmby51c2VIb3ZlckxheWVyfHxpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWdobGlnaHQiLHNlcmllc05hbWU6dCxuYW1lOmUsZXhjbHVkZVNlcmllc0lkOm59KX1mdW5jdGlvbiBlTCh0LGUsaSxuKXt2YXIgbz1pLmdldFpyKCkuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpWzBdO28mJm8udXNlSG92ZXJMYXllcnx8aS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZG93bnBsYXkiLHNlcmllc05hbWU6dCxuYW1lOmUsZXhjbHVkZVNlcmllc0lkOm59KX14ZihMZC5QUk9DRVNTT1IuU0VSSUVTX0ZJTFRFUixmdW5jdGlvbih0KXt2YXIgaT10LmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2kmJmkubGVuZ3RoJiZ0LmZpbHRlclNlcmllcyhmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPGkubGVuZ3RoO2UrKylpZighaVtlXS5pc1NlbGVjdGVkKHQubmFtZSkpcmV0dXJuITE7cmV0dXJuITB9KX0pLGt1LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcigibGVnZW5kIixmdW5jdGlvbigpe3JldHVybiJwbGFpbiJ9KTt2YXIgaUw9WEMuZXh0ZW5kKHt0eXBlOiJsZWdlbmQuc2Nyb2xsIixzZXRTY3JvbGxEYXRhSW5kZXg6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uc2Nyb2xsRGF0YUluZGV4PXR9LGRlZmF1bHRPcHRpb246e3Njcm9sbERhdGFJbmRleDowLHBhZ2VCdXR0b25JdGVtR2FwOjUscGFnZUJ1dHRvbkdhcDpudWxsLHBhZ2VCdXR0b25Qb3NpdGlvbjoiZW5kIixwYWdlRm9ybWF0dGVyOiJ7Y3VycmVudH0ve3RvdGFsfSIscGFnZUljb25zOntob3Jpem9udGFsOlsiTTAsMEwxMiwtMTBMMTIsMTB6IiwiTTAsMEwtMTIsLTEwTC0xMiwxMHoiXSx2ZXJ0aWNhbDpbIk0wLDBMMjAsMEwxMCwtMjB6IiwiTTAsMEwyMCwwTDEwLDIweiJdfSxwYWdlSWNvbkNvbG9yOiIjMmY0NTU0IixwYWdlSWNvbkluYWN0aXZlQ29sb3I6IiNhYWEiLHBhZ2VJY29uU2l6ZToxNSxwYWdlVGV4dFN0eWxlOntjb2xvcjoiIzMzMyJ9LGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjgwMH0saW5pdDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1JdSh0KTtpTC5zdXBlckNhbGwodGhpcywiaW5pdCIsdCxlLGksbiksbkwodGhpcyx0LG8pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0LGUpe2lMLnN1cGVyQ2FsbCh0aGlzLCJtZXJnZU9wdGlvbiIsdCxlKSxuTCh0aGlzLHRoaXMub3B0aW9uLHQpfX0pO2Z1bmN0aW9uIG5MKHQsZSxpKXt2YXIgbj1bMSwxXTtuW3QuZ2V0T3JpZW50KCkuaW5kZXhdPTAsTXUoZSxpLHt0eXBlOiJib3giLGlnbm9yZVNpemU6bn0pfXZhciBvTD1DaSxhTD1bIndpZHRoIiwiaGVpZ2h0Il0sckw9WyJ4IiwieSJdLHNMPSRDLmV4dGVuZCh7dHlwZToibGVnZW5kLnNjcm9sbCIsbmV3bGluZURpc2FibGVkOiEwLGluaXQ6ZnVuY3Rpb24oKXtzTC5zdXBlckNhbGwodGhpcywiaW5pdCIpLHRoaXMuX2N1cnJlbnRJbmRleD0wLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRhaW5lckdyb3VwPW5ldyBvTCksdGhpcy5fY29udGFpbmVyR3JvdXAuYWRkKHRoaXMuZ2V0Q29udGVudEdyb3VwKCkpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRyb2xsZXJHcm91cD1uZXcgb0wpLHRoaXMuX3Nob3dDb250cm9sbGVyfSxyZXNldElubmVyOmZ1bmN0aW9uKCl7c0wuc3VwZXJDYWxsKHRoaXMsInJlc2V0SW5uZXIiKSx0aGlzLl9jb250cm9sbGVyR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY29udGFpbmVyR3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9jb250YWluZXJHcm91cC5fX3JlY3RTaXplPW51bGx9LHJlbmRlcklubmVyOmZ1bmN0aW9uKHQsbyxlLGEsaSxuLHIpe3ZhciBzPXRoaXM7c0wuc3VwZXJDYWxsKHRoaXMsInJlbmRlcklubmVyIix0LG8sZSxhLGksbixyKTt2YXIgbD10aGlzLl9jb250cm9sbGVyR3JvdXAsdT1vLmdldCgicGFnZUljb25TaXplIiwhMCk7TCh1KXx8KHU9W3UsdV0pLGMoInBhZ2VQcmV2IiwwKTt2YXIgaD1vLmdldE1vZGVsKCJwYWdlVGV4dFN0eWxlIik7ZnVuY3Rpb24gYyh0LGUpe3ZhciBpPXQrIkRhdGFJbmRleCIsbj15bChvLmdldCgicGFnZUljb25zIiwhMClbby5nZXRPcmllbnQoKS5uYW1lXVtlXSx7b25jbGljazpBKHMuX3BhZ2VHbyxzLGksbyxhKX0se3g6LXVbMF0vMix5Oi11WzFdLzIsd2lkdGg6dVswXSxoZWlnaHQ6dVsxXX0pO24ubmFtZT10LGwuYWRkKG4pfWwuYWRkKG5ldyBVcih7bmFtZToicGFnZVRleHQiLHN0eWxlOnt0ZXh0RmlsbDpoLmdldFRleHRDb2xvcigpLGZvbnQ6aC5nZXRGb250KCksdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOiJjZW50ZXIifSxzaWxlbnQ6ITB9KSksYygicGFnZU5leHQiLDEpfSxsYXlvdXRJbm5lcjpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9dGhpcy5nZXRTZWxlY3Rvckdyb3VwKCkscz10LmdldE9yaWVudCgpLmluZGV4LGw9YUxbc10sdT1yTFtzXSxoPWFMWzEtc10sYz1yTFsxLXNdO28mJnd1KCJob3Jpem9udGFsIixyLHQuZ2V0KCJzZWxlY3Rvckl0ZW1HYXAiLCEwKSk7dmFyIGQ9dC5nZXQoInNlbGVjdG9yQnV0dG9uR2FwIiwhMCksZj1yLmdldEJvdW5kaW5nUmVjdCgpLHA9Wy1mLngsLWYueV0sZz1rKGkpO28mJihnW2xdPWlbbF0tZltsXS1kKTt2YXIgbT10aGlzLl9sYXlvdXRDb250ZW50QW5kQ29udHJvbGxlcih0LG4sZyxzLGwsaCxjKTtpZihvKXtpZigiZW5kIj09PWEpcFtzXSs9bVtsXStkO2Vsc2V7dmFyIHY9ZltsXStkO3Bbc10tPXYsbVt1XS09dn1tW2xdKz1mW2xdK2QscFsxLXNdKz1tW2NdK21baF0vMi1mW2hdLzIsbVtoXT1NYXRoLm1heChtW2hdLGZbaF0pLG1bY109TWF0aC5taW4obVtjXSxmW2NdK3BbMS1zXSksci5hdHRyKCJwb3NpdGlvbiIscCl9cmV0dXJuIG19LF9sYXlvdXRDb250ZW50QW5kQ29udHJvbGxlcjpmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXt2YXIgcz10aGlzLmdldENvbnRlbnRHcm91cCgpLGw9dGhpcy5fY29udGFpbmVyR3JvdXAsdT10aGlzLl9jb250cm9sbGVyR3JvdXA7d3UodC5nZXQoIm9yaWVudCIpLHMsdC5nZXQoIml0ZW1HYXAiKSxuP2kud2lkdGg6bnVsbCxuP251bGw6aS5oZWlnaHQpLHd1KCJob3Jpem9udGFsIix1LHQuZ2V0KCJwYWdlQnV0dG9uSXRlbUdhcCIsITApKTt2YXIgaD1zLmdldEJvdW5kaW5nUmVjdCgpLGM9dS5nZXRCb3VuZGluZ1JlY3QoKSxkPXRoaXMuX3Nob3dDb250cm9sbGVyPWhbb10+aVtvXSxmPVstaC54LC1oLnldO2V8fChmW25dPXMucG9zaXRpb25bbl0pO3ZhciBwPVswLDBdLGc9Wy1jLngsLWMueV0sbT1IKHQuZ2V0KCJwYWdlQnV0dG9uR2FwIiwhMCksdC5nZXQoIml0ZW1HYXAiLCEwKSk7ZCYmKCJlbmQiPT09dC5nZXQoInBhZ2VCdXR0b25Qb3NpdGlvbiIsITApP2dbbl0rPWlbb10tY1tvXTpwW25dKz1jW29dK20pO2dbMS1uXSs9aFthXS8yLWNbYV0vMixzLmF0dHIoInBvc2l0aW9uIixmKSxsLmF0dHIoInBvc2l0aW9uIixwKSx1LmF0dHIoInBvc2l0aW9uIixnKTt2YXIgdj17eDowLHk6MH07aWYodltvXT1kP2lbb106aFtvXSx2W2FdPU1hdGgubWF4KGhbYV0sY1thXSksdltyXT1NYXRoLm1pbigwLGNbcl0rZ1sxLW5dKSxsLl9fcmVjdFNpemU9aVtvXSxkKXt2YXIgeT17eDowLHk6MH07eVtvXT1NYXRoLm1heChpW29dLWNbb10tbSwwKSx5W2FdPXZbYV0sbC5zZXRDbGlwUGF0aChuZXcgcnMoe3NoYXBlOnl9KSksbC5fX3JlY3RTaXplPXlbb119ZWxzZSB1LmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LmF0dHIoe2ludmlzaWJsZTohMCxzaWxlbnQ6ITB9KX0pO3ZhciB4PXRoaXMuX2dldFBhZ2VJbmZvKHQpO3JldHVybiBudWxsIT14LnBhZ2VJbmRleCYmY2wocyx7cG9zaXRpb246eC5jb250ZW50UG9zaXRpb259LGQmJnQpLHRoaXMuX3VwZGF0ZVBhZ2VJbmZvVmlldyh0LHgpLHZ9LF9wYWdlR286ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2dldFBhZ2VJbmZvKGUpW3RdO251bGwhPW4mJmkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImxlZ2VuZFNjcm9sbCIsc2Nyb2xsRGF0YUluZGV4Om4sbGVnZW5kSWQ6ZS5pZH0pfSxfdXBkYXRlUGFnZUluZm9WaWV3OmZ1bmN0aW9uKG4sbyl7dmFyIGE9dGhpcy5fY29udHJvbGxlckdyb3VwO1IoWyJwYWdlUHJldiIsInBhZ2VOZXh0Il0sZnVuY3Rpb24odCl7dmFyIGU9bnVsbCE9b1t0KyJEYXRhSW5kZXgiXSxpPWEuY2hpbGRPZk5hbWUodCk7aSYmKGkuc2V0U3R5bGUoImZpbGwiLGU/bi5nZXQoInBhZ2VJY29uQ29sb3IiLCEwKTpuLmdldCgicGFnZUljb25JbmFjdGl2ZUNvbG9yIiwhMCkpLGkuY3Vyc29yPWU/InBvaW50ZXIiOiJkZWZhdWx0Iil9KTt2YXIgdD1hLmNoaWxkT2ZOYW1lKCJwYWdlVGV4dCIpLGU9bi5nZXQoInBhZ2VGb3JtYXR0ZXIiKSxpPW8ucGFnZUluZGV4LHI9bnVsbCE9aT9pKzE6MCxzPW8ucGFnZUNvdW50O3QmJmUmJnQuc2V0U3R5bGUoInRleHQiLHooZSk/ZS5yZXBsYWNlKCJ7Y3VycmVudH0iLHIpLnJlcGxhY2UoInt0b3RhbH0iLHMpOmUoe2N1cnJlbnQ6cix0b3RhbDpzfSkpfSxfZ2V0UGFnZUluZm86ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoInNjcm9sbERhdGFJbmRleCIsITApLGk9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxuPXRoaXMuX2NvbnRhaW5lckdyb3VwLl9fcmVjdFNpemUsbz10LmdldE9yaWVudCgpLmluZGV4LGE9YUxbb10scj1yTFtvXSxzPXRoaXMuX2ZpbmRUYXJnZXRJdGVtSW5kZXgoZSksbD1pLmNoaWxkcmVuKCksdT1sW3NdLGg9bC5sZW5ndGgsYz1oPzE6MCxkPXtjb250ZW50UG9zaXRpb246aS5wb3NpdGlvbi5zbGljZSgpLHBhZ2VDb3VudDpjLHBhZ2VJbmRleDpjLTEscGFnZVByZXZEYXRhSW5kZXg6bnVsbCxwYWdlTmV4dERhdGFJbmRleDpudWxsfTtpZighdSlyZXR1cm4gZDt2YXIgZj15KHUpO2QuY29udGVudFBvc2l0aW9uW29dPS1mLnM7Zm9yKHZhciBwPXMrMSxnPWYsbT1mLHY9bnVsbDtwPD1oOysrcCkoISh2PXkobFtwXSkpJiZtLmU+Zy5zK258fHYmJiF4KHYsZy5zKSkmJihnPW0uaT5nLmk/bTp2KSYmKG51bGw9PWQucGFnZU5leHREYXRhSW5kZXgmJihkLnBhZ2VOZXh0RGF0YUluZGV4PWcuaSksKytkLnBhZ2VDb3VudCksbT12O2ZvcihwPXMtMSxnPWYsbT1mLHY9bnVsbDstMTw9cDstLXApKHY9eShsW3BdKSkmJngobSx2LnMpfHwhKGcuaTxtLmkpfHwobT1nLG51bGw9PWQucGFnZVByZXZEYXRhSW5kZXgmJihkLnBhZ2VQcmV2RGF0YUluZGV4PWcuaSksKytkLnBhZ2VDb3VudCwrK2QucGFnZUluZGV4KSxnPXY7cmV0dXJuIGQ7ZnVuY3Rpb24geSh0KXtpZih0KXt2YXIgZT10LmdldEJvdW5kaW5nUmVjdCgpLGk9ZVtyXSt0LnBvc2l0aW9uW29dO3JldHVybntzOmksZTppK2VbYV0saTp0Ll9fbGVnZW5kRGF0YUluZGV4fX19ZnVuY3Rpb24geCh0LGUpe3JldHVybiB0LmU+PWUmJnQuczw9ZStufX0sX2ZpbmRUYXJnZXRJdGVtSW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Nob3dDb250cm9sbGVyPyh0aGlzLmdldENvbnRlbnRHcm91cCgpLmVhY2hDaGlsZChmdW5jdGlvbih0LGUpe3ZhciBpPXQuX19sZWdlbmREYXRhSW5kZXg7bnVsbD09YSYmbnVsbCE9aSYmKGE9ZSksaT09PW4mJihvPWUpfSksbnVsbCE9bz9vOmEpOjA7dmFyIG8sYX19KTtfZigibGVnZW5kU2Nyb2xsIiwibGVnZW5kc2Nyb2xsIixmdW5jdGlvbih0LGUpe3ZhciBpPXQuc2Nyb2xsRGF0YUluZGV4O251bGwhPWkmJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImxlZ2VuZCIsc3ViVHlwZToic2Nyb2xsIixxdWVyeTp0fSxmdW5jdGlvbih0KXt0LnNldFNjcm9sbERhdGFJbmRleChpKX0pfSk7Y0QuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zbGlkZXIiLGxheW91dE1vZGU6ImJveCIsZGVmYXVsdE9wdGlvbjp7c2hvdzohMCxyaWdodDoicGgiLHRvcDoicGgiLHdpZHRoOiJwaCIsaGVpZ2h0OiJwaCIsbGVmdDpudWxsLGJvdHRvbTpudWxsLGJhY2tncm91bmRDb2xvcjoicmdiYSg0Nyw2OSw4NCwwKSIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiMyZjQ1NTQiLHdpZHRoOi41LG9wYWNpdHk6LjN9LGFyZWFTdHlsZTp7Y29sb3I6InJnYmEoNDcsNjksODQsMC4zKSIsb3BhY2l0eTouM319LGJvcmRlckNvbG9yOiIjZGRkIixmaWxsZXJDb2xvcjoicmdiYSgxNjcsMTgzLDIwNCwwLjQpIixoYW5kbGVJY29uOiJNOC4yLDEzLjZWMy45SDYuM3Y5LjdIMy4xdjE0LjloMy4zdjkuN2gxLjh2LTkuN2gzLjNWMTMuNkg4LjJ6IE05LjcsMjQuNEg0Ljh2LTEuNGg0LjlWMjQuNHogTTkuNywxOS4xSDQuOHYtMS40aDQuOVYxOS4xeiIsaGFuZGxlU2l6ZToiMTAwJSIsaGFuZGxlU3R5bGU6e2NvbG9yOiIjYTdiN2NjIn0sbGFiZWxQcmVjaXNpb246bnVsbCxsYWJlbEZvcm1hdHRlcjpudWxsLHNob3dEZXRhaWw6ITAsc2hvd0RhdGFTaGFkb3c6ImF1dG8iLHJlYWx0aW1lOiEwLHpvb21Mb2NrOiExLHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifX19KTt2YXIgbEw9cnMsdUw9UmwsaEw9QmwsY0w9QSxkTD1SLGZMPSJob3Jpem9udGFsIixwTD0idmVydGljYWwiLGdMPVsibGluZSIsImJhciIsImNhbmRsZXN0aWNrIiwic2NhdHRlciJdLG1MPXBELmV4dGVuZCh7dHlwZToiZGF0YVpvb20uc2xpZGVyIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fZGlzcGxheWFibGVzPXt9LHRoaXMuX29yaWVudCx0aGlzLl9yYW5nZSx0aGlzLl9oYW5kbGVFbmRzLHRoaXMuX3NpemUsdGhpcy5faGFuZGxlV2lkdGgsdGhpcy5faGFuZGxlSGVpZ2h0LHRoaXMuX2xvY2F0aW9uLHRoaXMuX2RyYWdnaW5nLHRoaXMuX2RhdGFTaGFkb3dJbmZvLHRoaXMuYXBpPWV9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXttTC5zdXBlckFwcGx5KHRoaXMsInJlbmRlciIsYXJndW1lbnRzKSxrYyh0aGlzLCJfZGlzcGF0Y2hab29tQWN0aW9uIix0aGlzLmRhdGFab29tTW9kZWwuZ2V0KCJ0aHJvdHRsZSIpLCJmaXhSYXRlIiksdGhpcy5fb3JpZW50PXQuZ2V0KCJvcmllbnQiKSwhMSE9PXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInNob3ciKT8obiYmImRhdGFab29tIj09PW4udHlwZSYmbi5mcm9tPT09dGhpcy51aWR8fHRoaXMuX2J1aWxkVmlldygpLHRoaXMuX3VwZGF0ZVZpZXcoKSk6dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7bUwuc3VwZXJBcHBseSh0aGlzLCJyZW1vdmUiLGFyZ3VtZW50cyksUGModGhpcywiX2Rpc3BhdGNoWm9vbUFjdGlvbiIpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7bUwuc3VwZXJBcHBseSh0aGlzLCJkaXNwb3NlIixhcmd1bWVudHMpLFBjKHRoaXMsIl9kaXNwYXRjaFpvb21BY3Rpb24iKX0sX2J1aWxkVmlldzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXA7dC5yZW1vdmVBbGwoKSx0aGlzLl9yZXNldExvY2F0aW9uKCksdGhpcy5fcmVzZXRJbnRlcnZhbCgpO3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cD1uZXcgQ2k7dGhpcy5fcmVuZGVyQmFja2dyb3VuZCgpLHRoaXMuX3JlbmRlckhhbmRsZSgpLHRoaXMuX3JlbmRlckRhdGFTaGFkb3coKSx0LmFkZChlKSx0aGlzLl9wb3NpdGlvbkdyb3VwKCl9LF9yZXNldExvY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5hcGksaT10aGlzLl9maW5kQ29vcmRSZWN0KCksbj17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxvPXRoaXMuX29yaWVudD09PWZMP3tyaWdodDpuLndpZHRoLWkueC1pLndpZHRoLHRvcDpuLmhlaWdodC0zMC03LHdpZHRoOmkud2lkdGgsaGVpZ2h0OjMwfTp7cmlnaHQ6Nyx0b3A6aS55LHdpZHRoOjMwLGhlaWdodDppLmhlaWdodH0sYT1JdSh0Lm9wdGlvbik7UihbInJpZ2h0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbih0KXsicGgiPT09YVt0XSYmKGFbdF09b1t0XSl9KTt2YXIgcj1idShhLG4sdC5wYWRkaW5nKTt0aGlzLl9sb2NhdGlvbj17eDpyLngseTpyLnl9LHRoaXMuX3NpemU9W3Iud2lkdGgsci5oZWlnaHRdLHRoaXMuX29yaWVudD09PXBMJiZ0aGlzLl9zaXplLnJldmVyc2UoKX0sX3Bvc2l0aW9uR3JvdXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwLGU9dGhpcy5fbG9jYXRpb24saT10aGlzLl9vcmllbnQsbj10aGlzLmRhdGFab29tTW9kZWwuZ2V0Rmlyc3RUYXJnZXRBeGlzTW9kZWwoKSxvPW4mJm4uZ2V0KCJpbnZlcnNlIiksYT10aGlzLl9kaXNwbGF5YWJsZXMuYmFyR3JvdXAscj0odGhpcy5fZGF0YVNoYWRvd0luZm98fHt9KS5vdGhlckF4aXNJbnZlcnNlO2EuYXR0cihpIT09Zkx8fG8/aT09PWZMJiZvP3tzY2FsZTpyP1stMSwxXTpbLTEsLTFdfTppIT09cEx8fG8/e3NjYWxlOnI/Wy0xLC0xXTpbLTEsMV0scm90YXRpb246TWF0aC5QSS8yfTp7c2NhbGU6cj9bMSwtMV06WzEsMV0scm90YXRpb246TWF0aC5QSS8yfTp7c2NhbGU6cj9bMSwxXTpbMSwtMV19KTt2YXIgcz10LmdldEJvdW5kaW5nUmVjdChbYV0pO3QuYXR0cigicG9zaXRpb24iLFtlLngtcy54LGUueS1zLnldKX0sX2dldFZpZXdFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm5bMCx0aGlzLl9zaXplWzBdXX0sX3JlbmRlckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGFab29tTW9kZWwsZT10aGlzLl9zaXplLGk9dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwO2kuYWRkKG5ldyBsTCh7c2lsZW50OiEwLHNoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOnQuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKX0sejI6LTQwfSkpLGkuYWRkKG5ldyBsTCh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6ZVswXSxoZWlnaHQ6ZVsxXX0sc3R5bGU6e2ZpbGw6InRyYW5zcGFyZW50In0sejI6MCxvbmNsaWNrOkEodGhpcy5fb25DbGlja1BhbmVsQ2xpY2ssdGhpcyl9KSl9LF9yZW5kZXJEYXRhU2hhZG93OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YVNoYWRvd0luZm89dGhpcy5fcHJlcGFyZURhdGFTaGFkb3dJbmZvKCk7aWYodCl7dmFyIGU9dGhpcy5fc2l6ZSxpPXQuc2VyaWVzLG49aS5nZXRSYXdEYXRhKCksbz1pLmdldFNoYWRvd0RpbT9pLmdldFNoYWRvd0RpbSgpOnQub3RoZXJEaW07aWYobnVsbCE9byl7dmFyIGE9bi5nZXREYXRhRXh0ZW50KG8pLHI9LjMqKGFbMV0tYVswXSk7YT1bYVswXS1yLGFbMV0rcl07dmFyIHMsbD1bMCxlWzFdXSx1PVswLGVbMF1dLGg9W1tlWzBdLDBdLFswLDBdXSxjPVtdLGQ9dVsxXS8obi5jb3VudCgpLTEpLGY9MCxwPU1hdGgucm91bmQobi5jb3VudCgpL2VbMF0pO24uZWFjaChbb10sZnVuY3Rpb24odCxlKXtpZigwPHAmJmUlcClmKz1kO2Vsc2V7dmFyIGk9bnVsbD09dHx8aXNOYU4odCl8fCIiPT09dCxuPWk/MDp1TCh0LGEsbCwhMCk7aSYmIXMmJmU/KGgucHVzaChbaFtoLmxlbmd0aC0xXVswXSwwXSksYy5wdXNoKFtjW2MubGVuZ3RoLTFdWzBdLDBdKSk6IWkmJnMmJihoLnB1c2goW2YsMF0pLGMucHVzaChbZiwwXSkpLGgucHVzaChbZixuXSksYy5wdXNoKFtmLG5dKSxmKz1kLHM9aX19KTt2YXIgZz10aGlzLmRhdGFab29tTW9kZWw7dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLmFkZChuZXcgUXIoe3NoYXBlOntwb2ludHM6aH0sc3R5bGU6RCh7ZmlsbDpnLmdldCgiZGF0YUJhY2tncm91bmRDb2xvciIpfSxnLmdldE1vZGVsKCJkYXRhQmFja2dyb3VuZC5hcmVhU3R5bGUiKS5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwLHoyOi0yMH0pKSx0aGlzLl9kaXNwbGF5YWJsZXMuYmFyR3JvdXAuYWRkKG5ldyB0cyh7c2hhcGU6e3BvaW50czpjfSxzdHlsZTpnLmdldE1vZGVsKCJkYXRhQmFja2dyb3VuZC5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxzaWxlbnQ6ITAsejI6LTE5fSkpfX19LF9wcmVwYXJlRGF0YVNoYWRvd0luZm86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGFab29tTW9kZWwscz10LmdldCgic2hvd0RhdGFTaGFkb3ciKTtpZighMSE9PXMpe3ZhciBsLHU9dGhpcy5lY01vZGVsO3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKGZ1bmN0aW9uKGEscil7Uih0LmdldEF4aXNQcm94eShhLm5hbWUscikuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCksZnVuY3Rpb24odCl7aWYoIShsfHwhMCE9PXMmJl8oZ0wsdC5nZXQoInR5cGUiKSk8MCkpe3ZhciBlLGk9dS5nZXRDb21wb25lbnQoYS5heGlzLHIpLmF4aXMsbj1mdW5jdGlvbih0KXtyZXR1cm57eDoieSIseToieCIscmFkaXVzOiJhbmdsZSIsYW5nbGU6InJhZGl1cyJ9W3RdfShhLm5hbWUpLG89dC5jb29yZGluYXRlU3lzdGVtO251bGwhPW4mJm8uZ2V0T3RoZXJBeGlzJiYoZT1vLmdldE90aGVyQXhpcyhpKS5pbnZlcnNlKSxuPXQuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbihuKSxsPXt0aGlzQXhpczppLHNlcmllczp0LHRoaXNEaW06YS5uYW1lLG90aGVyRGltOm4sb3RoZXJBeGlzSW52ZXJzZTplfX19LHRoaXMpfSx0aGlzKSxsfX0sX3JlbmRlckhhbmRsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Rpc3BsYXlhYmxlcyxhPXQuaGFuZGxlcz1bXSxyPXQuaGFuZGxlTGFiZWxzPVtdLHM9dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLGU9dGhpcy5fc2l6ZSxsPXRoaXMuZGF0YVpvb21Nb2RlbDtzLmFkZCh0LmZpbGxlcj1uZXcgbEwoe2RyYWdnYWJsZTohMCxjdXJzb3I6dkwodGhpcy5fb3JpZW50KSxkcmlmdDpjTCh0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsImFsbCIpLG9uZHJhZ3N0YXJ0OmNMKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCEwKSxvbmRyYWdlbmQ6Y0wodGhpcy5fb25EcmFnRW5kLHRoaXMpLG9ubW91c2VvdmVyOmNMKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCEwKSxvbm1vdXNlb3V0OmNMKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCExKSxzdHlsZTp7ZmlsbDpsLmdldCgiZmlsbGVyQ29sb3IiKSx0ZXh0UG9zaXRpb246Imluc2lkZSJ9fSkpLHMuYWRkKG5ldyBsTCh7c2lsZW50OiEwLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6e3g6MCx5OjAsd2lkdGg6ZVswXSxoZWlnaHQ6ZVsxXX0sc3R5bGU6e3N0cm9rZTpsLmdldCgiZGF0YUJhY2tncm91bmRDb2xvciIpfHxsLmdldCgiYm9yZGVyQ29sb3IiKSxsaW5lV2lkdGg6MSxmaWxsOiJyZ2JhKDAsMCwwLDApIn19KSksZEwoWzAsMV0sZnVuY3Rpb24odCl7dmFyIGU9eWwobC5nZXQoImhhbmRsZUljb24iKSx7Y3Vyc29yOnZMKHRoaXMuX29yaWVudCksZHJhZ2dhYmxlOiEwLGRyaWZ0OmNMKHRoaXMuX29uRHJhZ01vdmUsdGhpcyx0KSxvbmRyYWdlbmQ6Y0wodGhpcy5fb25EcmFnRW5kLHRoaXMpLG9ubW91c2VvdmVyOmNMKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCEwKSxvbm1vdXNlb3V0OmNMKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCExKX0se3g6LTEseTowLHdpZHRoOjIsaGVpZ2h0OjJ9KSxpPWUuZ2V0Qm91bmRpbmdSZWN0KCk7dGhpcy5faGFuZGxlSGVpZ2h0PXpsKGwuZ2V0KCJoYW5kbGVTaXplIiksdGhpcy5fc2l6ZVsxXSksdGhpcy5faGFuZGxlV2lkdGg9aS53aWR0aC9pLmhlaWdodCp0aGlzLl9oYW5kbGVIZWlnaHQsZS5zZXRTdHlsZShsLmdldE1vZGVsKCJoYW5kbGVTdHlsZSIpLmdldEl0ZW1TdHlsZSgpKTt2YXIgbj1sLmdldCgiaGFuZGxlQ29sb3IiKTtudWxsIT1uJiYoZS5zdHlsZS5maWxsPW4pLHMuYWRkKGFbdF09ZSk7dmFyIG89bC50ZXh0U3R5bGVNb2RlbDt0aGlzLmdyb3VwLmFkZChyW3RdPW5ldyBVcih7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUiLHRleHRBbGlnbjoiY2VudGVyIix0ZXh0RmlsbDpvLmdldFRleHRDb2xvcigpLHRleHRGb250Om8uZ2V0Rm9udCgpfSx6MjoxMH0pKX0sdGhpcyl9LF9yZXNldEludGVydmFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmFuZ2U9dGhpcy5kYXRhWm9vbU1vZGVsLmdldFBlcmNlbnRSYW5nZSgpLGU9dGhpcy5fZ2V0Vmlld0V4dGVudCgpO3RoaXMuX2hhbmRsZUVuZHM9W3VMKHRbMF0sWzAsMTAwXSxlLCEwKSx1TCh0WzFdLFswLDEwMF0sZSwhMCldfSxfdXBkYXRlSW50ZXJ2YWw6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmRhdGFab29tTW9kZWwsbj10aGlzLl9oYW5kbGVFbmRzLG89dGhpcy5fZ2V0Vmlld0V4dGVudCgpLGE9aS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKS5nZXRNaW5NYXhTcGFuKCkscj1bMCwxMDBdO3NiKGUsbixvLGkuZ2V0KCJ6b29tTG9jayIpPyJhbGwiOnQsbnVsbCE9YS5taW5TcGFuP3VMKGEubWluU3BhbixyLG8sITApOm51bGwsbnVsbCE9YS5tYXhTcGFuP3VMKGEubWF4U3BhbixyLG8sITApOm51bGwpO3ZhciBzPXRoaXMuX3JhbmdlLGw9dGhpcy5fcmFuZ2U9aEwoW3VMKG5bMF0sbyxyLCEwKSx1TChuWzFdLG8sciwhMCldKTtyZXR1cm4hc3x8c1swXSE9PWxbMF18fHNbMV0hPT1sWzFdfSxfdXBkYXRlVmlldzpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9kaXNwbGF5YWJsZXMsbz10aGlzLl9oYW5kbGVFbmRzLGU9aEwoby5zbGljZSgpKSxhPXRoaXMuX3NpemU7ZEwoWzAsMV0sZnVuY3Rpb24odCl7dmFyIGU9bi5oYW5kbGVzW3RdLGk9dGhpcy5faGFuZGxlSGVpZ2h0O2UuYXR0cih7c2NhbGU6W2kvMixpLzJdLHBvc2l0aW9uOltvW3RdLGFbMV0vMi1pLzJdfSl9LHRoaXMpLG4uZmlsbGVyLnNldFNoYXBlKHt4OmVbMF0seTowLHdpZHRoOmVbMV0tZVswXSxoZWlnaHQ6YVsxXX0pLHRoaXMuX3VwZGF0ZURhdGFJbmZvKHQpfSxfdXBkYXRlRGF0YUluZm86ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhWm9vbU1vZGVsLGE9dGhpcy5fZGlzcGxheWFibGVzLHI9YS5oYW5kbGVMYWJlbHMscz10aGlzLl9vcmllbnQsbD1bIiIsIiJdO2lmKGUuZ2V0KCJzaG93RGV0YWlsIikpe3ZhciBpPWUuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYoaSl7dmFyIG49aS5nZXRBeGlzTW9kZWwoKS5heGlzLG89dGhpcy5fcmFuZ2UsdT10P2kuY2FsY3VsYXRlRGF0YVdpbmRvdyh7c3RhcnQ6b1swXSxlbmQ6b1sxXX0pLnZhbHVlV2luZG93OmkuZ2V0RGF0YVZhbHVlV2luZG93KCk7bD1bdGhpcy5fZm9ybWF0TGFiZWwodVswXSxuKSx0aGlzLl9mb3JtYXRMYWJlbCh1WzFdLG4pXX19dmFyIGg9aEwodGhpcy5faGFuZGxlRW5kcy5zbGljZSgpKTtmdW5jdGlvbiBjKHQpe3ZhciBlPWZsKGEuaGFuZGxlc1t0XS5wYXJlbnQsdGhpcy5ncm91cCksaT1nbCgwPT09dD8icmlnaHQiOiJsZWZ0IixlKSxuPXRoaXMuX2hhbmRsZVdpZHRoLzIrNSxvPXBsKFtoW3RdKygwPT09dD8tbjpuKSx0aGlzLl9zaXplWzFdLzJdLGUpO3JbdF0uc2V0U3R5bGUoe3g6b1swXSx5Om9bMV0sdGV4dFZlcnRpY2FsQWxpZ246cz09PWZMPyJtaWRkbGUiOmksdGV4dEFsaWduOnM9PT1mTD9pOiJjZW50ZXIiLHRleHQ6bFt0XX0pfWMuY2FsbCh0aGlzLDApLGMuY2FsbCh0aGlzLDEpfSxfZm9ybWF0TGFiZWw6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmRhdGFab29tTW9kZWwsbj1pLmdldCgibGFiZWxGb3JtYXR0ZXIiKSxvPWkuZ2V0KCJsYWJlbFByZWNpc2lvbiIpO251bGwhPW8mJiJhdXRvIiE9PW98fChvPWUuZ2V0UGl4ZWxQcmVjaXNpb24oKSk7dmFyIGE9bnVsbD09dHx8aXNOYU4odCk/IiI6ImNhdGVnb3J5Ij09PWUudHlwZXx8InRpbWUiPT09ZS50eXBlP2Uuc2NhbGUuZ2V0TGFiZWwoTWF0aC5yb3VuZCh0KSk6dC50b0ZpeGVkKE1hdGgubWluKG8sMjApKTtyZXR1cm4gQyhuKT9uKHQsYSk6eihuKT9uLnJlcGxhY2UoInt2YWx1ZX0iLGEpOmF9LF9zaG93RGF0YUluZm86ZnVuY3Rpb24odCl7dD10aGlzLl9kcmFnZ2luZ3x8dDt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMuaGFuZGxlTGFiZWxzO2VbMF0uYXR0cigiaW52aXNpYmxlIiwhdCksZVsxXS5hdHRyKCJpbnZpc2libGUiLCF0KX0sX29uRHJhZ01vdmU6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5fZHJhZ2dpbmc9ITAsWHQobi5ldmVudCk7dmFyIG89cGwoW2UsaV0sdGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLmdldExvY2FsVHJhbnNmb3JtKCksITApLGE9dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxvWzBdKSxyPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInJlYWx0aW1lIik7dGhpcy5fdXBkYXRlVmlldyghciksYSYmciYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCl9LF9vbkRyYWdFbmQ6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl9zaG93RGF0YUluZm8oITEpLHRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInJlYWx0aW1lIil8fHRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbigpfSxfb25DbGlja1BhbmVsQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2l6ZSxpPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoIShpWzBdPDB8fGlbMF0+ZVswXXx8aVsxXTwwfHxpWzFdPmVbMV0pKXt2YXIgbj10aGlzLl9oYW5kbGVFbmRzLG89KG5bMF0rblsxXSkvMixhPXRoaXMuX3VwZGF0ZUludGVydmFsKCJhbGwiLGlbMF0tbyk7dGhpcy5fdXBkYXRlVmlldygpLGEmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbigpfX0sX2Rpc3BhdGNoWm9vbUFjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JhbmdlO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkYXRhWm9vbSIsZnJvbTp0aGlzLnVpZCxkYXRhWm9vbUlkOnRoaXMuZGF0YVpvb21Nb2RlbC5pZCxzdGFydDp0WzBdLGVuZDp0WzFdfSl9LF9maW5kQ29vcmRSZWN0OmZ1bmN0aW9uKCl7dmFyIGk7aWYoZEwodGhpcy5nZXRUYXJnZXRDb29yZEluZm8oKSxmdW5jdGlvbih0KXtpZighaSYmdC5sZW5ndGgpe3ZhciBlPXRbMF0ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbTtpPWUuZ2V0UmVjdCYmZS5nZXRSZWN0KCl9fSksIWkpe3ZhciB0PXRoaXMuYXBpLmdldFdpZHRoKCksZT10aGlzLmFwaS5nZXRIZWlnaHQoKTtpPXt4Oi4yKnQseTouMiplLHdpZHRoOi42KnQsaGVpZ2h0Oi42KmV9fXJldHVybiBpfX0pO2Z1bmN0aW9uIHZMKHQpe3JldHVybiJ2ZXJ0aWNhbCI9PT10PyJucy1yZXNpemUiOiJldy1yZXNpemUifWNELmV4dGVuZCh7dHlwZToiZGF0YVpvb20uaW5zaWRlIixkZWZhdWx0T3B0aW9uOntkaXNhYmxlZDohMSx6b29tTG9jazohMSx6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiExLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEwfX0pO3ZhciB5TD0iXDBfZWNfZGF0YVpvb21fcm9hbXMiO2Z1bmN0aW9uIHhMKHQsbil7dmFyIGU9d0wodCksbz1uLmRhdGFab29tSWQsYT1uLmNvb3JkSWQ7UihlLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5kYXRhWm9vbUluZm9zO2lbb10mJl8obi5hbGxDb29yZElkcyxhKTwwJiYoZGVsZXRlIGlbb10sdC5jb3VudC0tKX0pLGJMKGUpO3ZhciBpPWVbYV07aXx8KChpPWVbYV09e2Nvb3JkSWQ6YSxkYXRhWm9vbUluZm9zOnt9LGNvdW50OjB9KS5jb250cm9sbGVyPWZ1bmN0aW9uKHQscil7dmFyIGU9bmV3IFZ5KHQuZ2V0WnIoKSk7cmV0dXJuIFIoWyJwYW4iLCJ6b29tIiwic2Nyb2xsTW92ZSJdLGZ1bmN0aW9uKGEpe2Uub24oYSxmdW5jdGlvbihuKXt2YXIgbz1bXTtSKHIuZGF0YVpvb21JbmZvcyxmdW5jdGlvbih0KXtpZihuLmlzQXZhaWxhYmxlQmVoYXZpb3IodC5kYXRhWm9vbU1vZGVsLm9wdGlvbikpe3ZhciBlPSh0LmdldFJhbmdlfHx7fSlbYV0saT1lJiZlKHIuY29udHJvbGxlcixuKTshdC5kYXRhWm9vbU1vZGVsLmdldCgiZGlzYWJsZWQiLCEwKSYmaSYmby5wdXNoKHtkYXRhWm9vbUlkOnQuZGF0YVpvb21JZCxzdGFydDppWzBdLGVuZDppWzFdfSl9fSksby5sZW5ndGgmJnIuZGlzcGF0Y2hBY3Rpb24obyl9KX0pLGV9KHQsaSksaS5kaXNwYXRjaEFjdGlvbj1UKFNMLHQpKSxpLmRhdGFab29tSW5mb3Nbb118fGkuY291bnQrKyxpLmRhdGFab29tSW5mb3Nbb109bjt2YXIgcj1mdW5jdGlvbih0KXt2YXIgbixvPXt0eXBlX3RydWU6Mix0eXBlX21vdmU6MSx0eXBlX2ZhbHNlOjAsdHlwZV91bmRlZmluZWQ6LTF9LGE9ITA7cmV0dXJuIFIodCxmdW5jdGlvbih0KXt2YXIgZT10LmRhdGFab29tTW9kZWwsaT0hZS5nZXQoImRpc2FibGVkIiwhMCkmJighZS5nZXQoInpvb21Mb2NrIiwhMCl8fCJtb3ZlIik7b1sidHlwZV8iK25dPG9bInR5cGVfIitpXSYmKG49aSksYSY9ZS5nZXQoInByZXZlbnREZWZhdWx0TW91c2VNb3ZlIiwhMCl9KSx7Y29udHJvbFR5cGU6bixvcHQ6e3pvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLG1vdmVPbk1vdXNlV2hlZWw6ITAscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ISFhfX19KGkuZGF0YVpvb21JbmZvcyk7aS5jb250cm9sbGVyLmVuYWJsZShyLmNvbnRyb2xUeXBlLHIub3B0KSxpLmNvbnRyb2xsZXIuc2V0UG9pbnRlckNoZWNrZXIobi5jb250YWluc1BvaW50KSxrYyhpLCJkaXNwYXRjaEFjdGlvbiIsbi5kYXRhWm9vbU1vZGVsLmdldCgidGhyb3R0bGUiLCEwKSwiZml4UmF0ZSIpfWZ1bmN0aW9uIF9MKHQpe3JldHVybiB0LnR5cGUrIlwwXyIrdC5pZH1mdW5jdGlvbiB3TCh0KXt2YXIgZT10LmdldFpyKCk7cmV0dXJuIGVbeUxdfHwoZVt5TF09e30pfWZ1bmN0aW9uIGJMKGkpe1IoaSxmdW5jdGlvbih0LGUpe3QuY291bnR8fCh0LmNvbnRyb2xsZXIuZGlzcG9zZSgpLGRlbGV0ZSBpW2VdKX0pfWZ1bmN0aW9uIFNMKHQsZSl7dC5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGJhdGNoOmV9KX12YXIgTUw9QSxJTD1wRC5leHRlbmQoe3R5cGU6ImRhdGFab29tLmluc2lkZSIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX3JhbmdlfSxyZW5kZXI6ZnVuY3Rpb24ocix0LHMsZSl7SUwuc3VwZXJBcHBseSh0aGlzLCJyZW5kZXIiLGFyZ3VtZW50cyksdGhpcy5fcmFuZ2U9ci5nZXRQZXJjZW50UmFuZ2UoKSxSKHRoaXMuZ2V0VGFyZ2V0Q29vcmRJbmZvKCksZnVuY3Rpb24odCxvKXt2YXIgYT1PKHQsZnVuY3Rpb24odCl7cmV0dXJuIF9MKHQubW9kZWwpfSk7Uih0LGZ1bmN0aW9uKGUpe3ZhciBuPWUubW9kZWwsaT17fTtSKFsicGFuIiwiem9vbSIsInNjcm9sbE1vdmUiXSxmdW5jdGlvbih0KXtpW3RdPU1MKFRMW3RdLHRoaXMsZSxvKX0sdGhpcykseEwocyx7Y29vcmRJZDpfTChuKSxhbGxDb29yZElkczphLGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuLmNvb3JkaW5hdGVTeXN0ZW0uY29udGFpblBvaW50KFtlLGldKX0sZGF0YVpvb21JZDpyLmlkLGRhdGFab29tTW9kZWw6cixnZXRSYW5nZTppfSl9LHRoaXMpfSx0aGlzKX0sZGlzcG9zZTpmdW5jdGlvbigpeyFmdW5jdGlvbih0LGkpe3ZhciBlPXdMKHQpO1IoZSxmdW5jdGlvbih0KXt0LmNvbnRyb2xsZXIuZGlzcG9zZSgpO3ZhciBlPXQuZGF0YVpvb21JbmZvcztlW2ldJiYoZGVsZXRlIGVbaV0sdC5jb3VudC0tKX0pLGJMKGUpfSh0aGlzLmFwaSx0aGlzLmRhdGFab29tTW9kZWwuaWQpLElMLnN1cGVyQXBwbHkodGhpcywiZGlzcG9zZSIsYXJndW1lbnRzKSx0aGlzLl9yYW5nZT1udWxsfX0pLFRMPXt6b29tOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuX3JhbmdlLGE9by5zbGljZSgpLHI9dC5heGlzTW9kZWxzWzBdO2lmKHIpe3ZhciBzPUNMW2VdKG51bGwsW24ub3JpZ2luWCxuLm9yaWdpblldLHIsaSx0KSxsPSgwPHMuc2lnbmFsP3MucGl4ZWxTdGFydCtzLnBpeGVsTGVuZ3RoLXMucGl4ZWw6cy5waXhlbC1zLnBpeGVsU3RhcnQpL3MucGl4ZWxMZW5ndGgqKGFbMV0tYVswXSkrYVswXSx1PU1hdGgubWF4KDEvbi5zY2FsZSwwKTthWzBdPShhWzBdLWwpKnUrbCxhWzFdPShhWzFdLWwpKnUrbDt2YXIgaD10aGlzLmRhdGFab29tTW9kZWwuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCkuZ2V0TWluTWF4U3BhbigpO3JldHVybiBzYigwLGEsWzAsMTAwXSwwLGgubWluU3BhbixoLm1heFNwYW4pLHRoaXMuX3JhbmdlPWEsb1swXSE9PWFbMF18fG9bMV0hPT1hWzFdP2E6dm9pZCAwfX0scGFuOkFMKGZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj1DTFtuXShbYS5vbGRYLGEub2xkWV0sW2EubmV3WCxhLm5ld1ldLGUsbyxpKTtyZXR1cm4gci5zaWduYWwqKHRbMV0tdFswXSkqci5waXhlbC9yLnBpeGVsTGVuZ3RofSksc2Nyb2xsTW92ZTpBTChmdW5jdGlvbih0LGUsaSxuLG8sYSl7cmV0dXJuIENMW25dKFswLDBdLFthLnNjcm9sbERlbHRhLGEuc2Nyb2xsRGVsdGFdLGUsbyxpKS5zaWduYWwqKHRbMV0tdFswXSkqYS5zY3JvbGxEZWx0YX0pfTtmdW5jdGlvbiBBTChsKXtyZXR1cm4gZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5fcmFuZ2UsYT1vLnNsaWNlKCkscj10LmF4aXNNb2RlbHNbMF07aWYocil7dmFyIHM9bChhLHIsdCxlLGksbik7cmV0dXJuIHNiKHMsYSxbMCwxMDBdLCJhbGwiKSx0aGlzLl9yYW5nZT1hLG9bMF0hPT1hWzBdfHxvWzFdIT09YVsxXT9hOnZvaWQgMH19fWZ1bmN0aW9uIERMKHQpe3ZhciBlPXQmJnQudmlzdWFsTWFwO0woZSl8fChlPWU/W2VdOltdKSxMTChlLGZ1bmN0aW9uKHQpe2lmKHQpe2tMKHQsInNwbGl0TGlzdCIpJiYha0wodCwicGllY2VzIikmJih0LnBpZWNlcz10LnNwbGl0TGlzdCxkZWxldGUgdC5zcGxpdExpc3QpO3ZhciBlPXQucGllY2VzO2UmJkwoZSkmJkxMKGUsZnVuY3Rpb24odCl7RSh0KSYmKGtMKHQsInN0YXJ0IikmJiFrTCh0LCJtaW4iKSYmKHQubWluPXQuc3RhcnQpLGtMKHQsImVuZCIpJiYha0wodCwibWF4IikmJih0Lm1heD10LmVuZCkpfSl9fSl9dmFyIENMPXtncmlkOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9aS5heGlzLHI9e30scz1vLm1vZGVsLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpO3JldHVybiB0PXR8fFswLDBdLCJ4Ij09PWEuZGltPyhyLnBpeGVsPWVbMF0tdFswXSxyLnBpeGVsTGVuZ3RoPXMud2lkdGgsci5waXhlbFN0YXJ0PXMueCxyLnNpZ25hbD1hLmludmVyc2U/MTotMSk6KHIucGl4ZWw9ZVsxXS10WzFdLHIucGl4ZWxMZW5ndGg9cy5oZWlnaHQsci5waXhlbFN0YXJ0PXMueSxyLnNpZ25hbD1hLmludmVyc2U/LTE6MSkscn0scG9sYXI6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1pLmF4aXMscj17fSxzPW8ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbSxsPXMuZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpLHU9cy5nZXRBbmdsZUF4aXMoKS5nZXRFeHRlbnQoKTtyZXR1cm4gdD10P3MucG9pbnRUb0Nvb3JkKHQpOlswLDBdLGU9cy5wb2ludFRvQ29vcmQoZSksInJhZGl1c0F4aXMiPT09aS5tYWluVHlwZT8oci5waXhlbD1lWzBdLXRbMF0sci5waXhlbExlbmd0aD1sWzFdLWxbMF0sci5waXhlbFN0YXJ0PWxbMF0sci5zaWduYWw9YS5pbnZlcnNlPzE6LTEpOihyLnBpeGVsPWVbMV0tdFsxXSxyLnBpeGVsTGVuZ3RoPXVbMV0tdVswXSxyLnBpeGVsU3RhcnQ9dVswXSxyLnNpZ25hbD1hLmludmVyc2U/LTE6MSkscn0sc2luZ2xlQXhpczpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuYXhpcyxyPW8ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCkscz17fTtyZXR1cm4gdD10fHxbMCwwXSwiaG9yaXpvbnRhbCI9PT1hLm9yaWVudD8ocy5waXhlbD1lWzBdLXRbMF0scy5waXhlbExlbmd0aD1yLndpZHRoLHMucGl4ZWxTdGFydD1yLngscy5zaWduYWw9YS5pbnZlcnNlPzE6LTEpOihzLnBpeGVsPWVbMV0tdFsxXSxzLnBpeGVsTGVuZ3RoPXIuaGVpZ2h0LHMucGl4ZWxTdGFydD1yLnkscy5zaWduYWw9YS5pbnZlcnNlPy0xOjEpLHN9fSxMTD1SO2Z1bmN0aW9uIGtMKHQsZSl7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoZSl9a3UucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJ2aXN1YWxNYXAiLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhdGVnb3JpZXN8fCh0LnBpZWNlcz8wPHQucGllY2VzLmxlbmd0aDowPHQuc3BsaXROdW1iZXIpJiYhdC5jYWxjdWxhYmxlPyJwaWVjZXdpc2UiOiJjb250aW51b3VzIn0pO3ZhciBQTD1MZC5WSVNVQUwuQ09NUE9ORU5UO2Z1bmN0aW9uIE5MKHQsZSxpLG4pe2Zvcih2YXIgbz1lLnRhcmdldFZpc3VhbHNbbl0sYT1nXy5wcmVwYXJlVmlzdWFsVHlwZXMobykscj17Y29sb3I6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJjb2xvciIpfSxzPTAsbD1hLmxlbmd0aDtzPGw7cysrKXt2YXIgdT1hW3NdLGg9b1sib3BhY2l0eSI9PT11PyJfX2FscGhhRm9yT3BhY2l0eSI6dV07aCYmaC5hcHBseVZpc3VhbChpLGMsZCl9cmV0dXJuIHIuY29sb3I7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gclt0XX1mdW5jdGlvbiBkKHQsZSl7clt0XT1lfX1TZihQTCx7Y3JlYXRlT25BbGxTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24oaSx0KXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJ2aXN1YWxNYXAiLGZ1bmN0aW9uKHQpe3ZhciBlPWkucGlwZWxpbmVDb250ZXh0OyF0LmlzVGFyZ2V0U2VyaWVzKGkpfHxlJiZlLmxhcmdlfHxuLnB1c2goZnVuY3Rpb24odCxmLHAsZyl7dmFyIG09e307cmV0dXJuIFIodCxmdW5jdGlvbih0KXt2YXIgZT1nXy5wcmVwYXJlVmlzdWFsVHlwZXMoZlt0XSk7bVt0XT1lfSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaS5nZXRJdGVtVmlzdWFsKG8sdCl9ZnVuY3Rpb24gbih0LGUpe2kuc2V0SXRlbVZpc3VhbChvLHQsZSl9dmFyIG87Zm9yKG51bGwhPWcmJihnPWkuZ2V0RGltZW5zaW9uKGcpKTtudWxsIT0obz10Lm5leHQoKSk7KXt2YXIgYT1pLmdldFJhd0RhdGFJdGVtKG8pO2lmKCFhfHwhMSE9PWEudmlzdWFsTWFwKWZvcih2YXIgcj1udWxsIT1nP2kuZ2V0KGcsbywhMCk6byxzPXAociksbD1mW3NdLHU9bVtzXSxoPTAsYz11Lmxlbmd0aDtoPGM7aCsrKXt2YXIgZD11W2hdO2xbZF0mJmxbZF0uYXBwbHlWaXN1YWwocixlLG4pfX19fX0odC5zdGF0ZUxpc3QsdC50YXJnZXRWaXN1YWxzLEEodC5nZXRWYWx1ZVN0YXRlLHQpLHQuZ2V0RGF0YURpbWVuc2lvbihpLmdldERhdGEoKSkpKX0pLG59fSksU2YoUEwse2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKG8sdCl7dmFyIGE9by5nZXREYXRhKCkscj1bXTt0LmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsZnVuY3Rpb24odCl7aWYodC5pc1RhcmdldFNlcmllcyhvKSl7dmFyIGU9dC5nZXRWaXN1YWxNZXRhKEEoTkwsbnVsbCxvLHQpKXx8e3N0b3BzOltdLG91dGVyQ29sb3JzOltdfSxpPXQuZ2V0RGF0YURpbWVuc2lvbihhKSxuPWEuZ2V0RGltZW5zaW9uSW5mbyhpKTtudWxsIT1uJiYoZS5kaW1lbnNpb249bi5pbmRleCxyLnB1c2goZSkpfX0pLG8uZ2V0RGF0YSgpLnNldFZpc3VhbCgidmlzdWFsTWV0YSIscil9fSk7dmFyIE9MPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1rKChSTFt0XXx8e30pW2VdKTtyZXR1cm4gaSYmTChuKT9uW24ubGVuZ3RoLTFdOm59LFJMPXtjb2xvcjp7YWN0aXZlOlsiIzAwNmVkZCIsIiNlMGZmZmYiXSxpbmFjdGl2ZTpbInJnYmEoMCwwLDAsMCkiXX0sY29sb3JIdWU6e2FjdGl2ZTpbMCwzNjBdLGluYWN0aXZlOlswLDBdfSxjb2xvclNhdHVyYXRpb246e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LGNvbG9yTGlnaHRuZXNzOnthY3RpdmU6Wy45LC41XSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JBbHBoYTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sb3BhY2l0eTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sc3ltYm9sOnthY3RpdmU6WyJjaXJjbGUiLCJyb3VuZFJlY3QiLCJkaWFtb25kIl0saW5hY3RpdmU6WyJub25lIl19LHN5bWJvbFNpemU6e2FjdGl2ZTpbMTAsNTBdLGluYWN0aXZlOlswLDBdfX0sekw9Z18ubWFwVmlzdWFsLEVMPWdfLmVhY2hWaXN1YWwsQkw9TCxWTD1SLEdMPUJsLEZMPVJsLFdMPVRmKHt0eXBlOiJ2aXN1YWxNYXAiLGRlcGVuZGVuY2llczpbInNlcmllcyJdLHN0YXRlTGlzdDpbImluUmFuZ2UiLCJvdXRPZlJhbmdlIl0scmVwbGFjYWJsZU9wdGlvbktleXM6WyJpblJhbmdlIiwib3V0T2ZSYW5nZSIsInRhcmdldCIsImNvbnRyb2xsZXIiLCJjb2xvciJdLGRhdGFCb3VuZDpbLTEvMCwxLzBdLGxheW91dE1vZGU6e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sZGVmYXVsdE9wdGlvbjp7c2hvdzohMCx6bGV2ZWw6MCx6OjQsc2VyaWVzSW5kZXg6ImFsbCIsbWluOjAsbWF4OjIwMCxkaW1lbnNpb246bnVsbCxpblJhbmdlOm51bGwsb3V0T2ZSYW5nZTpudWxsLGxlZnQ6MCxyaWdodDpudWxsLHRvcDpudWxsLGJvdHRvbTowLGl0ZW1XaWR0aDpudWxsLGl0ZW1IZWlnaHQ6bnVsbCxpbnZlcnNlOiExLG9yaWVudDoidmVydGljYWwiLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGNvbnRlbnRDb2xvcjoiIzU3OTNmMyIsaW5hY3RpdmVDb2xvcjoiI2FhYSIsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsdGV4dEdhcDoxMCxwcmVjaXNpb246MCxjb2xvcjpudWxsLGZvcm1hdHRlcjpudWxsLHRleHQ6bnVsbCx0ZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn19LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RhdGFFeHRlbnQsdGhpcy50YXJnZXRWaXN1YWxzPXt9LHRoaXMuY29udHJvbGxlclZpc3VhbHM9e30sdGhpcy50ZXh0U3R5bGVNb2RlbCx0aGlzLml0ZW1TaXplLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uO3YuY2FudmFzU3VwcG9ydGVkfHwoaS5yZWFsdGltZT0hMSksZXx8V0QoaSx0LHRoaXMucmVwbGFjYWJsZU9wdGlvbktleXMpLHRoaXMudGV4dFN0eWxlTW9kZWw9dGhpcy5nZXRNb2RlbCgidGV4dFN0eWxlIiksdGhpcy5yZXNldEl0ZW1TaXplKCksdGhpcy5jb21wbGV0ZVZpc3VhbE9wdGlvbigpfSxyZXNldFZpc3VhbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlTGlzdDt0PUEodCx0aGlzKSx0aGlzLmNvbnRyb2xsZXJWaXN1YWxzPUZEKHRoaXMub3B0aW9uLmNvbnRyb2xsZXIsZSx0KSx0aGlzLnRhcmdldFZpc3VhbHM9RkQodGhpcy5vcHRpb24udGFyZ2V0LGUsdCl9LGdldFRhcmdldFNlcmllc0luZGljZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5zZXJpZXNJbmRleCxpPVtdO3JldHVybiBudWxsPT10fHwiYWxsIj09PXQ/dGhpcy5lY01vZGVsLmVhY2hTZXJpZXMoZnVuY3Rpb24odCxlKXtpLnB1c2goZSl9KTppPVZvKHQpLGl9LGVhY2hUYXJnZXRTZXJpZXM6ZnVuY3Rpb24oZSxpKXtSKHRoaXMuZ2V0VGFyZ2V0U2VyaWVzSW5kaWNlcygpLGZ1bmN0aW9uKHQpe2UuY2FsbChpLHRoaXMuZWNNb2RlbC5nZXRTZXJpZXNCeUluZGV4KHQpKX0sdGhpcyl9LGlzVGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKGUpe3ZhciBpPSExO3JldHVybiB0aGlzLmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24odCl7dD09PWUmJihpPSEwKX0pLGl9LGZvcm1hdFZhbHVlVGV4dDpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxhPXRoaXMub3B0aW9uLHI9YS5wcmVjaXNpb24scz10aGlzLmRhdGFCb3VuZCxsPWEuZm9ybWF0dGVyO3JldHVybiBpPWl8fFsiPCIsIj4iXSxMKHQpJiYodD10LnNsaWNlKCksbj0hMCksbz1lP3Q6bj9bdSh0WzBdKSx1KHRbMV0pXTp1KHQpLHoobCk/bC5yZXBsYWNlKCJ7dmFsdWV9IixuP29bMF06bykucmVwbGFjZSgie3ZhbHVlMn0iLG4/b1sxXTpvKTpDKGwpP24/bCh0WzBdLHRbMV0pOmwodCk6bj90WzBdPT09c1swXT9pWzBdKyIgIitvWzFdOnRbMV09PT1zWzFdP2lbMV0rIiAiK29bMF06b1swXSsiIC0gIitvWzFdOm87ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdD09PXNbMF0/Im1pbiI6dD09PXNbMV0/Im1heCI6KCt0KS50b0ZpeGVkKE1hdGgubWluKHIsMjApKX19LHJlc2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT1HTChbdC5taW4sdC5tYXhdKTt0aGlzLl9kYXRhRXh0ZW50PWV9LGdldERhdGFEaW1lbnNpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uZGltZW5zaW9uLGk9dC5kaW1lbnNpb25zO2lmKG51bGwhPWV8fGkubGVuZ3RoKXtpZihudWxsIT1lKXJldHVybiB0LmdldERpbWVuc2lvbihlKTtmb3IodmFyIG49dC5kaW1lbnNpb25zLG89bi5sZW5ndGgtMTswPD1vO28tLSl7dmFyIGE9bltvXTtpZighdC5nZXREaW1lbnNpb25JbmZvKGEpLmlzQ2FsY3VsYXRpb25Db29yZClyZXR1cm4gYX19fSxnZXRFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUV4dGVudC5zbGljZSgpfSxjb21wbGV0ZVZpc3VhbE9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWNNb2RlbCxlPXRoaXMub3B0aW9uLGk9e2luUmFuZ2U6ZS5pblJhbmdlLG91dE9mUmFuZ2U6ZS5vdXRPZlJhbmdlfSxuPWUudGFyZ2V0fHwoZS50YXJnZXQ9e30pLG89ZS5jb250cm9sbGVyfHwoZS5jb250cm9sbGVyPXt9KTttKG4saSksbShvLGkpO3ZhciB1PXRoaXMuaXNDYXRlZ29yeSgpO2Z1bmN0aW9uIGEobil7QkwoZS5jb2xvcikmJiFuLmluUmFuZ2UmJihuLmluUmFuZ2U9e2NvbG9yOmUuY29sb3Iuc2xpY2UoKS5yZXZlcnNlKCl9KSxuLmluUmFuZ2U9bi5pblJhbmdlfHx7Y29sb3I6dC5nZXQoImdyYWRpZW50Q29sb3IiKX0sVkwodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24odCl7dmFyIGU9blt0XTtpZih6KGUpKXt2YXIgaT1PTChlLCJhY3RpdmUiLHUpO2k/KG5bdF09e30sblt0XVtlXT1pKTpkZWxldGUgblt0XX19LHRoaXMpfWEuY2FsbCh0aGlzLG4pLGEuY2FsbCh0aGlzLG8pLGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10W2VdLG89dFtpXTtuJiYhbyYmKG89dFtpXT17fSxWTChuLGZ1bmN0aW9uKHQsZSl7aWYoZ18uaXNWYWxpZFR5cGUoZSkpe3ZhciBpPU9MKGUsImluYWN0aXZlIix1KTtudWxsIT1pJiYob1tlXT1pLCJjb2xvciIhPT1lfHxvLmhhc093blByb3BlcnR5KCJvcGFjaXR5Iil8fG8uaGFzT3duUHJvcGVydHkoImNvbG9yQWxwaGEiKXx8KG8ub3BhY2l0eT1bMCwwXSkpfX0pKX0uY2FsbCh0aGlzLG4sImluUmFuZ2UiLCJvdXRPZlJhbmdlIiksZnVuY3Rpb24oYSl7dmFyIHI9KGEuaW5SYW5nZXx8e30pLnN5bWJvbHx8KGEub3V0T2ZSYW5nZXx8e30pLnN5bWJvbCxzPShhLmluUmFuZ2V8fHt9KS5zeW1ib2xTaXplfHwoYS5vdXRPZlJhbmdlfHx7fSkuc3ltYm9sU2l6ZSxsPXRoaXMuZ2V0KCJpbmFjdGl2ZUNvbG9yIik7VkwodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pdGVtU2l6ZSxpPWFbdF07bnVsbD09KGk9aXx8KGFbdF09e2NvbG9yOnU/bDpbbF19KSkuc3ltYm9sJiYoaS5zeW1ib2w9ciYmayhyKXx8KHU/InJvdW5kUmVjdCI6WyJyb3VuZFJlY3QiXSkpLG51bGw9PWkuc3ltYm9sU2l6ZSYmKGkuc3ltYm9sU2l6ZT1zJiZrKHMpfHwodT9lWzBdOltlWzBdLGVbMF1dKSksaS5zeW1ib2w9ekwoaS5zeW1ib2wsZnVuY3Rpb24odCl7cmV0dXJuIm5vbmUiPT09dHx8InNxdWFyZSI9PT10PyJyb3VuZFJlY3QiOnR9KTt2YXIgbj1pLnN5bWJvbFNpemU7aWYobnVsbCE9bil7dmFyIG89LTEvMDtFTChuLGZ1bmN0aW9uKHQpe288dCYmKG89dCl9KSxpLnN5bWJvbFNpemU9ekwobixmdW5jdGlvbih0KXtyZXR1cm4gRkwodCxbMCxvXSxbMCxlWzBdXSwhMCl9KX19LHRoaXMpfS5jYWxsKHRoaXMsbyl9LHJlc2V0SXRlbVNpemU6ZnVuY3Rpb24oKXt0aGlzLml0ZW1TaXplPVtwYXJzZUZsb2F0KHRoaXMuZ2V0KCJpdGVtV2lkdGgiKSkscGFyc2VGbG9hdCh0aGlzLmdldCgiaXRlbUhlaWdodCIpKV19LGlzQ2F0ZWdvcnk6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMub3B0aW9uLmNhdGVnb3JpZXN9LHNldFNlbGVjdGVkOmV0LGdldFZhbHVlU3RhdGU6ZXQsZ2V0VmlzdWFsTWV0YTpldH0pLEhMPVsyMCwxNDBdLFpMPVdMLmV4dGVuZCh7dHlwZToidmlzdWFsTWFwLmNvbnRpbnVvdXMiLGRlZmF1bHRPcHRpb246e2FsaWduOiJhdXRvIixjYWxjdWxhYmxlOiExLHJhbmdlOm51bGwscmVhbHRpbWU6ITAsaXRlbUhlaWdodDpudWxsLGl0ZW1XaWR0aDpudWxsLGhvdmVyTGluazohMCxob3ZlckxpbmtEYXRhU2l6ZTpudWxsLGhvdmVyTGlua09uSGFuZGxlOm51bGx9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24odCxlKXtaTC5zdXBlckFwcGx5KHRoaXMsIm9wdGlvblVwZGF0ZWQiLGFyZ3VtZW50cyksdGhpcy5yZXNldEV4dGVudCgpLHRoaXMucmVzZXRWaXN1YWwoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJsaW5lYXIiLHQuZGF0YUV4dGVudD10aGlzLmdldEV4dGVudCgpfSksdGhpcy5fcmVzZXRSYW5nZSgpfSxyZXNldEl0ZW1TaXplOmZ1bmN0aW9uKCl7Wkwuc3VwZXJBcHBseSh0aGlzLCJyZXNldEl0ZW1TaXplIixhcmd1bWVudHMpO3ZhciB0PXRoaXMuaXRlbVNpemU7Imhvcml6b250YWwiPT09dGhpcy5fb3JpZW50JiZ0LnJldmVyc2UoKSxudWxsIT10WzBdJiYhaXNOYU4odFswXSl8fCh0WzBdPUhMWzBdKSxudWxsIT10WzFdJiYhaXNOYU4odFsxXSl8fCh0WzFdPUhMWzFdKX0sX3Jlc2V0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dGVudCgpLGU9dGhpcy5vcHRpb24ucmFuZ2U7IWV8fGUuYXV0bz8odC5hdXRvPTEsdGhpcy5vcHRpb24ucmFuZ2U9dCk6TChlKSYmKGVbMF0+ZVsxXSYmZS5yZXZlcnNlKCksZVswXT1NYXRoLm1heChlWzBdLHRbMF0pLGVbMV09TWF0aC5taW4oZVsxXSx0WzFdKSl9LGNvbXBsZXRlVmlzdWFsT3B0aW9uOmZ1bmN0aW9uKCl7V0wucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxSKHRoaXMuc3RhdGVMaXN0LGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmNvbnRyb2xsZXJbdF0uc3ltYm9sU2l6ZTtlJiZlWzBdIT09ZVsxXSYmKGVbMF09MCl9LHRoaXMpfSxzZXRTZWxlY3RlZDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5yYW5nZT10LnNsaWNlKCksdGhpcy5fcmVzZXRSYW5nZSgpfSxnZXRTZWxlY3RlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT1CbCgodGhpcy5nZXQoInJhbmdlIil8fFtdKS5zbGljZSgpKTtyZXR1cm4gZVswXT50WzFdJiYoZVswXT10WzFdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMF08dFswXSYmKGVbMF09dFswXSksZVsxXTx0WzBdJiYoZVsxXT10WzBdKSxlfSxnZXRWYWx1ZVN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnJhbmdlLGk9dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4oZVswXTw9aVswXXx8ZVswXTw9dCkmJihlWzFdPj1pWzFdfHx0PD1lWzFdKT8iaW5SYW5nZSI6Im91dE9mUmFuZ2UifSxmaW5kVGFyZ2V0RGF0YUluZGljZXM6ZnVuY3Rpb24obil7dmFyIG89W107cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT1bXSxlPXQuZ2V0RGF0YSgpO2UuZWFjaCh0aGlzLmdldERhdGFEaW1lbnNpb24oZSksZnVuY3Rpb24odCxlKXtuWzBdPD10JiZ0PD1uWzFdJiZpLnB1c2goZSl9LHRoaXMpLG8ucHVzaCh7c2VyaWVzSWQ6dC5pZCxkYXRhSW5kZXg6aX0pfSx0aGlzKSxvfSxnZXRWaXN1YWxNZXRhOmZ1bmN0aW9uKGkpe3ZhciB0PVVMKHRoaXMsIm91dE9mUmFuZ2UiLHRoaXMuZ2V0RXh0ZW50KCkpLGU9VUwodGhpcywiaW5SYW5nZSIsdGhpcy5vcHRpb24ucmFuZ2Uuc2xpY2UoKSksbj1bXTtmdW5jdGlvbiBvKHQsZSl7bi5wdXNoKHt2YWx1ZTp0LGNvbG9yOmkodCxlKX0pfWZvcih2YXIgYT0wLHI9MCxzPWUubGVuZ3RoLGw9dC5sZW5ndGg7cjxsJiYoIWUubGVuZ3RofHx0W3JdPD1lWzBdKTtyKyspdFtyXTxlW2FdJiZvKHRbcl0sIm91dE9mUmFuZ2UiKTtmb3IodmFyIHU9MTthPHM7YSsrLHU9MCl1JiZuLmxlbmd0aCYmbyhlW2FdLCJvdXRPZlJhbmdlIiksbyhlW2FdLCJpblJhbmdlIik7Zm9yKHU9MTtyPGw7cisrKSghZS5sZW5ndGh8fGVbZS5sZW5ndGgtMV08dFtyXSkmJih1JiYobi5sZW5ndGgmJm8obltuLmxlbmd0aC0xXS52YWx1ZSwib3V0T2ZSYW5nZSIpLHU9MCksbyh0W3JdLCJvdXRPZlJhbmdlIikpO3ZhciBoPW4ubGVuZ3RoO3JldHVybntzdG9wczpuLG91dGVyQ29sb3JzOltoP25bMF0uY29sb3I6InRyYW5zcGFyZW50IixoP25baC0xXS5jb2xvcjoidHJhbnNwYXJlbnQiXX19fSk7ZnVuY3Rpb24gVUwodCxlLGkpe2lmKGlbMF09PT1pWzFdKXJldHVybiBpLnNsaWNlKCk7Zm9yKHZhciBuPShpWzFdLWlbMF0pLzIwMCxvPWlbMF0sYT1bXSxyPTA7cjw9MjAwJiZvPGlbMV07cisrKWEucHVzaChvKSxvKz1uO3JldHVybiBhLnB1c2goaVsxXSksYX12YXIgWEw9QWYoe3R5cGU6InZpc3VhbE1hcCIsYXV0b1Bvc2l0aW9uVmFsdWVzOntsZWZ0OjEscmlnaHQ6MSx0b3A6MSxib3R0b206MX0saW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuZWNNb2RlbD10LHRoaXMuYXBpPWUsdGhpcy52aXN1YWxNYXBNb2RlbH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4peyExIT09KHRoaXMudmlzdWFsTWFwTW9kZWw9dCkuZ2V0KCJzaG93Iik/dGhpcy5kb1JlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0scmVuZGVyQmFja2dyb3VuZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLGk9aXUoZS5nZXQoInBhZGRpbmciKXx8MCksbj10LmdldEJvdW5kaW5nUmVjdCgpO3QuYWRkKG5ldyBycyh7ejI6LTEsc2lsZW50OiEwLHNoYXBlOnt4Om4ueC1pWzNdLHk6bi55LWlbMF0sd2lkdGg6bi53aWR0aCtpWzNdK2lbMV0saGVpZ2h0Om4uaGVpZ2h0K2lbMF0raVsyXX0sc3R5bGU6e2ZpbGw6ZS5nZXQoImJhY2tncm91bmRDb2xvciIpLHN0cm9rZTplLmdldCgiYm9yZGVyQ29sb3IiKSxsaW5lV2lkdGg6ZS5nZXQoImJvcmRlcldpZHRoIil9fSkpfSxnZXRDb250cm9sbGVyVmlzdWFsOmZ1bmN0aW9uKGksbixvKXt2YXIgdD0obz1vfHx7fSkuZm9yY2VTdGF0ZSxlPXRoaXMudmlzdWFsTWFwTW9kZWwsYT17fTtpZigic3ltYm9sIj09PW4mJihhLnN5bWJvbD1lLmdldCgiaXRlbVN5bWJvbCIpKSwiY29sb3IiPT09bil7dmFyIHI9ZS5nZXQoImNvbnRlbnRDb2xvciIpO2EuY29sb3I9cn1mdW5jdGlvbiBzKHQpe3JldHVybiBhW3RdfWZ1bmN0aW9uIGwodCxlKXthW3RdPWV9dmFyIHU9ZS5jb250cm9sbGVyVmlzdWFsc1t0fHxlLmdldFZhbHVlU3RhdGUoaSldO3JldHVybiBSKGdfLnByZXBhcmVWaXN1YWxUeXBlcyh1KSxmdW5jdGlvbih0KXt2YXIgZT11W3RdO28uY29udmVydE9wYWNpdHlUb0FscGhhJiYib3BhY2l0eSI9PT10JiYodD0iY29sb3JBbHBoYSIsZT11Ll9fYWxwaGFGb3JPcGFjaXR5KSxnXy5kZXBlbmRzT24odCxuKSYmZSYmZS5hcHBseVZpc3VhbChpLHMsbCl9KSxhW25dfSxwb3NpdGlvbkdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT10aGlzLmFwaTtTdSh0LGUuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmkuZ2V0V2lkdGgoKSxoZWlnaHQ6aS5nZXRIZWlnaHQoKX0pfSxkb1JlbmRlcjpldH0pO2Z1bmN0aW9uIFlMKHQsZSxpKXt2YXIgbj10Lm9wdGlvbixvPW4uYWxpZ247aWYobnVsbCE9byYmImF1dG8iIT09bylyZXR1cm4gbztmb3IodmFyIGE9e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0scj0iaG9yaXpvbnRhbCI9PT1uLm9yaWVudD8xOjAscz1bWyJsZWZ0IiwicmlnaHQiLCJ3aWR0aCJdLFsidG9wIiwiYm90dG9tIiwiaGVpZ2h0Il1dLGw9c1tyXSx1PVswLG51bGwsMTBdLGg9e30sYz0wO2M8MztjKyspaFtzWzEtcl1bY11dPXVbY10saFtsW2NdXT0yPT09Yz9pWzBdOm5bbFtjXV07dmFyIGQ9W1sieCIsIndpZHRoIiwzXSxbInkiLCJoZWlnaHQiLDBdXVtyXSxmPWJ1KGgsYSxuLnBhZGRpbmcpO3JldHVybiBsWyhmLm1hcmdpbltkWzJdXXx8MCkrZltkWzBdXSsuNSpmW2RbMV1dPC41KmFbZFsxXV0/MDoxXX1mdW5jdGlvbiBqTCh0LGUpe3JldHVybiBSKHR8fFtdLGZ1bmN0aW9uKHQpe251bGwhPXQuZGF0YUluZGV4JiYodC5kYXRhSW5kZXhJbnNpZGU9dC5kYXRhSW5kZXgsdC5kYXRhSW5kZXg9bnVsbCksdC5oaWdobGlnaHRLZXk9InZpc3VhbE1hcCIrKGU/ZS5jb21wb25lbnRJbmRleDoiIil9KSx0fXZhciBxTD1SbCxLTD1SLCRMPU1hdGgubWluLEpMPU1hdGgubWF4LFFMPVhMLmV4dGVuZCh7dHlwZToidmlzdWFsTWFwLmNvbnRpbnVvdXMiLGluaXQ6ZnVuY3Rpb24oKXtRTC5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyksdGhpcy5fc2hhcGVzPXt9LHRoaXMuX2RhdGFJbnRlcnZhbD1bXSx0aGlzLl9oYW5kbGVFbmRzPVtdLHRoaXMuX29yaWVudCx0aGlzLl91c2VIYW5kbGUsdGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXM9W10sdGhpcy5fZHJhZ2dpbmcsdGhpcy5faG92ZXJpbmd9LGRvUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe24mJiJzZWxlY3REYXRhUmFuZ2UiPT09bi50eXBlJiZuLmZyb209PT10aGlzLnVpZHx8dGhpcy5fYnVpbGRWaWV3KCl9LF9idWlsZFZpZXc6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLmdyb3VwO3RoaXMuX29yaWVudD10LmdldCgib3JpZW50IiksdGhpcy5fdXNlSGFuZGxlPXQuZ2V0KCJjYWxjdWxhYmxlIiksdGhpcy5fcmVzZXRJbnRlcnZhbCgpLHRoaXMuX3JlbmRlckJhcihlKTt2YXIgaT10LmdldCgidGV4dCIpO3RoaXMuX3JlbmRlckVuZHNUZXh0KGUsaSwwKSx0aGlzLl9yZW5kZXJFbmRzVGV4dChlLGksMSksdGhpcy5fdXBkYXRlVmlldyghMCksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKGUpLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9lbmFibGVIb3ZlckxpbmtUb1NlcmllcygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLnBvc2l0aW9uR3JvdXAoZSl9LF9yZW5kZXJFbmRzVGV4dDpmdW5jdGlvbih0LGUsaSl7aWYoZSl7dmFyIG49ZVsxLWldO249bnVsbCE9bj9uKyIiOiIiO3ZhciBvPXRoaXMudmlzdWFsTWFwTW9kZWwsYT1vLmdldCgidGV4dEdhcCIpLHI9by5pdGVtU2l6ZSxzPXRoaXMuX3NoYXBlcy5iYXJHcm91cCxsPXRoaXMuX2FwcGx5VHJhbnNmb3JtKFtyWzBdLzIsMD09PWk/LWE6clsxXSthXSxzKSx1PXRoaXMuX2FwcGx5VHJhbnNmb3JtKDA9PT1pPyJib3R0b20iOiJ0b3AiLHMpLGg9dGhpcy5fb3JpZW50LGM9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbDt0aGlzLmdyb3VwLmFkZChuZXcgVXIoe3N0eWxlOnt4OmxbMF0seTpsWzFdLHRleHRWZXJ0aWNhbEFsaWduOiJob3Jpem9udGFsIj09PWg/Im1pZGRsZSI6dSx0ZXh0QWxpZ246Imhvcml6b250YWwiPT09aD91OiJjZW50ZXIiLHRleHQ6bix0ZXh0Rm9udDpjLmdldEZvbnQoKSx0ZXh0RmlsbDpjLmdldFRleHRDb2xvcigpfX0pKX19LF9yZW5kZXJCYXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuX3NoYXBlcyxuPWUuaXRlbVNpemUsbz10aGlzLl9vcmllbnQsYT10aGlzLl91c2VIYW5kbGUscj1ZTChlLHRoaXMuYXBpLG4pLHM9aS5iYXJHcm91cD10aGlzLl9jcmVhdGVCYXJHcm91cChyKTtzLmFkZChpLm91dE9mUmFuZ2U9dGsoKSkscy5hZGQoaS5pblJhbmdlPXRrKG51bGwsYT9payh0aGlzLl9vcmllbnQpOm51bGwsQSh0aGlzLl9kcmFnSGFuZGxlLHRoaXMsImFsbCIsITEpLEEodGhpcy5fZHJhZ0hhbmRsZSx0aGlzLCJhbGwiLCEwKSkpO3ZhciBsPWUudGV4dFN0eWxlTW9kZWwuZ2V0VGV4dFJlY3QoIuWbvSIpLHU9SkwobC53aWR0aCxsLmhlaWdodCk7YSYmKGkuaGFuZGxlVGh1bWJzPVtdLGkuaGFuZGxlTGFiZWxzPVtdLGkuaGFuZGxlTGFiZWxQb2ludHM9W10sdGhpcy5fY3JlYXRlSGFuZGxlKHMsMCxuLHUsbyxyKSx0aGlzLl9jcmVhdGVIYW5kbGUocywxLG4sdSxvLHIpKSx0aGlzLl9jcmVhdGVJbmRpY2F0b3IocyxuLHUsbyksdC5hZGQocyl9LF9jcmVhdGVIYW5kbGU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1BKHRoaXMuX2RyYWdIYW5kbGUsdGhpcyxlLCExKSxyPUEodGhpcy5fZHJhZ0hhbmRsZSx0aGlzLGUsITApLHM9dGsoZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PXQ/W1swLDBdLFtlLDBdLFtlLC1lXV06W1swLDBdLFtlLDBdLFtlLGVdXX0oZSxuKSxpayh0aGlzLl9vcmllbnQpLGEscik7cy5wb3NpdGlvblswXT1pWzBdLHQuYWRkKHMpO3ZhciBsPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWwsdT1uZXcgVXIoe2RyYWdnYWJsZTohMCxkcmlmdDphLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe1h0KHQuZXZlbnQpfSxvbmRyYWdlbmQ6cixzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLHRleHRGb250OmwuZ2V0Rm9udCgpLHRleHRGaWxsOmwuZ2V0VGV4dENvbG9yKCl9fSk7dGhpcy5ncm91cC5hZGQodSk7dmFyIGg9WyJob3Jpem9udGFsIj09PW8/bi8yOjEuNSpuLCJob3Jpem9udGFsIj09PW8/MD09PWU/LTEuNSpuOjEuNSpuOjA9PT1lPy1uLzI6bi8yXSxjPXRoaXMuX3NoYXBlcztjLmhhbmRsZVRodW1ic1tlXT1zLGMuaGFuZGxlTGFiZWxQb2ludHNbZV09aCxjLmhhbmRsZUxhYmVsc1tlXT11fSxfY3JlYXRlSW5kaWNhdG9yOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRrKFtbMCwwXV0sIm1vdmUiKTtvLnBvc2l0aW9uWzBdPWVbMF0sby5hdHRyKHtpbnZpc2libGU6ITAsc2lsZW50OiEwfSksdC5hZGQobyk7dmFyIGE9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxyPW5ldyBVcih7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLHRleHRGb250OmEuZ2V0Rm9udCgpLHRleHRGaWxsOmEuZ2V0VGV4dENvbG9yKCl9fSk7dGhpcy5ncm91cC5hZGQocik7dmFyIHM9WyJob3Jpem9udGFsIj09PW4/aS8yOjksMF0sbD10aGlzLl9zaGFwZXM7bC5pbmRpY2F0b3I9byxsLmluZGljYXRvckxhYmVsPXIsbC5pbmRpY2F0b3JMYWJlbFBvaW50PXN9LF9kcmFnSGFuZGxlOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKHRoaXMuX3VzZUhhbmRsZSl7aWYodGhpcy5fZHJhZ2dpbmc9IWUsIWUpe3ZhciBvPXRoaXMuX2FwcGx5VHJhbnNmb3JtKFtpLG5dLHRoaXMuX3NoYXBlcy5iYXJHcm91cCwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxvWzFdKSx0aGlzLl91cGRhdGVWaWV3KCl9ZT09PSF0aGlzLnZpc3VhbE1hcE1vZGVsLmdldCgicmVhbHRpbWUiKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InNlbGVjdERhdGFSYW5nZSIsZnJvbTp0aGlzLnVpZCx2aXN1YWxNYXBJZDp0aGlzLnZpc3VhbE1hcE1vZGVsLmlkLHNlbGVjdGVkOnRoaXMuX2RhdGFJbnRlcnZhbC5zbGljZSgpfSksZT90aGlzLl9ob3ZlcmluZ3x8dGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpOmVrKHRoaXMudmlzdWFsTWFwTW9kZWwpJiZ0aGlzLl9kb0hvdmVyTGlua1RvU2VyaWVzKHRoaXMuX2hhbmRsZUVuZHNbdF0sITEpfX0sX3Jlc2V0SW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dGhpcy5fZGF0YUludGVydmFsPXQuZ2V0U2VsZWN0ZWQoKSxpPXQuZ2V0RXh0ZW50KCksbj1bMCx0Lml0ZW1TaXplWzFdXTt0aGlzLl9oYW5kbGVFbmRzPVtxTChlWzBdLGksbiwhMCkscUwoZVsxXSxpLG4sITApXX0sX3VwZGF0ZUludGVydmFsOmZ1bmN0aW9uKHQsZSl7ZT1lfHwwO3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWwsbj10aGlzLl9oYW5kbGVFbmRzLG89WzAsaS5pdGVtU2l6ZVsxXV07c2IoZSxuLG8sdCwwKTt2YXIgYT1pLmdldEV4dGVudCgpO3RoaXMuX2RhdGFJbnRlcnZhbD1bcUwoblswXSxvLGEsITApLHFMKG5bMV0sbyxhLCEwKV19LF91cGRhdGVWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT1lLmdldEV4dGVudCgpLG49dGhpcy5fc2hhcGVzLG89WzAsZS5pdGVtU2l6ZVsxXV0sYT10P286dGhpcy5faGFuZGxlRW5kcyxyPXRoaXMuX2NyZWF0ZUJhclZpc3VhbCh0aGlzLl9kYXRhSW50ZXJ2YWwsaSxhLCJpblJhbmdlIikscz10aGlzLl9jcmVhdGVCYXJWaXN1YWwoaSxpLG8sIm91dE9mUmFuZ2UiKTtuLmluUmFuZ2Uuc2V0U3R5bGUoe2ZpbGw6ci5iYXJDb2xvcixvcGFjaXR5OnIub3BhY2l0eX0pLnNldFNoYXBlKCJwb2ludHMiLHIuYmFyUG9pbnRzKSxuLm91dE9mUmFuZ2Uuc2V0U3R5bGUoe2ZpbGw6cy5iYXJDb2xvcixvcGFjaXR5OnMub3BhY2l0eX0pLnNldFNoYXBlKCJwb2ludHMiLHMuYmFyUG9pbnRzKSx0aGlzLl91cGRhdGVIYW5kbGUoYSxyKX0sX2NyZWF0ZUJhclZpc3VhbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz17Zm9yY2VTdGF0ZTpuLGNvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0sYT10aGlzLl9tYWtlQ29sb3JHcmFkaWVudCh0LG8pLHI9W3RoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzBdLCJzeW1ib2xTaXplIixvKSx0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFsxXSwic3ltYm9sU2l6ZSIsbyldLHM9dGhpcy5fY3JlYXRlQmFyUG9pbnRzKGkscik7cmV0dXJue2JhckNvbG9yOm5ldyBncygwLDAsMCwxLGEpLGJhclBvaW50czpzLGhhbmRsZXNDb2xvcjpbYVswXS5jb2xvcixhW2EubGVuZ3RoLTFdLmNvbG9yXX19LF9tYWtlQ29sb3JHcmFkaWVudDpmdW5jdGlvbih0LGUpe3ZhciBpPVtdLG49KHRbMV0tdFswXSkvMTAwO2kucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sImNvbG9yIixlKSxvZmZzZXQ6MH0pO2Zvcih2YXIgbz0xO288MTAwO28rKyl7dmFyIGE9dFswXStuKm87aWYoYT50WzFdKWJyZWFrO2kucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGEsImNvbG9yIixlKSxvZmZzZXQ6by8xMDB9KX1yZXR1cm4gaS5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFsxXSwiY29sb3IiLGUpLG9mZnNldDoxfSksaX0sX2NyZWF0ZUJhclBvaW50czpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWwuaXRlbVNpemU7cmV0dXJuW1tpWzBdLWVbMF0sdFswXV0sW2lbMF0sdFswXV0sW2lbMF0sdFsxXV0sW2lbMF0tZVsxXSx0WzFdXV19LF9jcmVhdGVCYXJHcm91cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmllbnQsaT10aGlzLnZpc3VhbE1hcE1vZGVsLmdldCgiaW52ZXJzZSIpO3JldHVybiBuZXcgQ2koImhvcml6b250YWwiIT09ZXx8aT8iaG9yaXpvbnRhbCI9PT1lJiZpP3tzY2FsZToiYm90dG9tIj09PXQ/Wy0xLDFdOlsxLDFdLHJvdGF0aW9uOi1NYXRoLlBJLzJ9OiJ2ZXJ0aWNhbCIhPT1lfHxpP3tzY2FsZToibGVmdCI9PT10P1sxLDFdOlstMSwxXX06e3NjYWxlOiJsZWZ0Ij09PXQ/WzEsLTFdOlstMSwtMV19OntzY2FsZToiYm90dG9tIj09PXQ/WzEsMV06Wy0xLDFdLHJvdGF0aW9uOk1hdGguUEkvMn0pfSxfdXBkYXRlSGFuZGxlOmZ1bmN0aW9uKG4sbyl7aWYodGhpcy5fdXNlSGFuZGxlKXt2YXIgYT10aGlzLl9zaGFwZXMscj10aGlzLnZpc3VhbE1hcE1vZGVsLHM9YS5oYW5kbGVUaHVtYnMsbD1hLmhhbmRsZUxhYmVscztLTChbMCwxXSxmdW5jdGlvbih0KXt2YXIgZT1zW3RdO2Uuc2V0U3R5bGUoImZpbGwiLG8uaGFuZGxlc0NvbG9yW3RdKSxlLnBvc2l0aW9uWzFdPW5bdF07dmFyIGk9cGwoYS5oYW5kbGVMYWJlbFBvaW50c1t0XSxmbChlLHRoaXMuZ3JvdXApKTtsW3RdLnNldFN0eWxlKHt4OmlbMF0seTppWzFdLHRleHQ6ci5mb3JtYXRWYWx1ZVRleHQodGhpcy5fZGF0YUludGVydmFsW3RdKSx0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIix0ZXh0QWxpZ246dGhpcy5fYXBwbHlUcmFuc2Zvcm0oImhvcml6b250YWwiPT09dGhpcy5fb3JpZW50PzA9PT10PyJib3R0b20iOiJ0b3AiOiJsZWZ0IixhLmJhckdyb3VwKX0pfSx0aGlzKX19LF9zaG93SW5kaWNhdG9yOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMudmlzdWFsTWFwTW9kZWwsYT1vLmdldEV4dGVudCgpLHI9by5pdGVtU2l6ZSxzPVswLHJbMV1dLGw9cUwodCxhLHMsITApLHU9dGhpcy5fc2hhcGVzLGg9dS5pbmRpY2F0b3I7aWYoaCl7aC5wb3NpdGlvblsxXT1sLGguYXR0cigiaW52aXNpYmxlIiwhMSksaC5zZXRTaGFwZSgicG9pbnRzIixmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdD9bWzAsLSRMKGUsSkwoaSwwKSldLFs2LDBdLFswLCRMKGUsSkwobi1pLDApKV1dOltbMCwwXSxbNSwtNV0sWzUsNV1dfSghIWksbixsLHJbMV0pKTt2YXIgYz10aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodCwiY29sb3IiLHtjb252ZXJ0T3BhY2l0eVRvQWxwaGE6ITB9KTtoLnNldFN0eWxlKCJmaWxsIixjKTt2YXIgZD1wbCh1LmluZGljYXRvckxhYmVsUG9pbnQsZmwoaCx0aGlzLmdyb3VwKSksZj11LmluZGljYXRvckxhYmVsO2YuYXR0cigiaW52aXNpYmxlIiwhMSk7dmFyIHA9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oImxlZnQiLHUuYmFyR3JvdXApLGc9dGhpcy5fb3JpZW50O2Yuc2V0U3R5bGUoe3RleHQ6KGl8fCIiKStvLmZvcm1hdFZhbHVlVGV4dChlKSx0ZXh0VmVydGljYWxBbGlnbjoiaG9yaXpvbnRhbCI9PT1nP3A6Im1pZGRsZSIsdGV4dEFsaWduOiJob3Jpem9udGFsIj09PWc/ImNlbnRlciI6cCx4OmRbMF0seTpkWzFdfSl9fSxfZW5hYmxlSG92ZXJMaW5rVG9TZXJpZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX3NoYXBlcy5iYXJHcm91cC5vbigibW91c2Vtb3ZlIixmdW5jdGlvbih0KXtpZihuLl9ob3ZlcmluZz0hMCwhbi5fZHJhZ2dpbmcpe3ZhciBlPW4udmlzdWFsTWFwTW9kZWwuaXRlbVNpemUsaT1uLl9hcHBseVRyYW5zZm9ybShbdC5vZmZzZXRYLHQub2Zmc2V0WV0sbi5fc2hhcGVzLmJhckdyb3VwLCEwLCEwKTtpWzFdPSRMKEpMKDAsaVsxXSksZVsxXSksbi5fZG9Ib3ZlckxpbmtUb1NlcmllcyhpWzFdLDA8PWlbMF0mJmlbMF08PWVbMF0pfX0pLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oKXtuLl9ob3ZlcmluZz0hMSxuLl9kcmFnZ2luZ3x8bi5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfSl9LF9lbmFibGVIb3ZlckxpbmtGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hcGkuZ2V0WnIoKTt0aGlzLnZpc3VhbE1hcE1vZGVsLm9wdGlvbi5ob3Zlckxpbms/KHQub24oIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3Zlcix0aGlzKSx0Lm9uKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LF9kb0hvdmVyTGlua1RvU2VyaWVzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWkuaXRlbVNpemU7aWYoaS5vcHRpb24uaG92ZXJMaW5rKXt2YXIgbz1bMCxuWzFdXSxhPWkuZ2V0RXh0ZW50KCk7dD0kTChKTChvWzBdLHQpLG9bMV0pO3ZhciByPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj02LG89dC5nZXQoImhvdmVyTGlua0RhdGFTaXplIik7byYmKG49cUwobyxlLGksITApLzIpO3JldHVybiBufShpLGEsbykscz1bdC1yLHQrcl0sbD1xTCh0LG8sYSwhMCksdT1bcUwoc1swXSxvLGEsITApLHFMKHNbMV0sbyxhLCEwKV07c1swXTxvWzBdJiYodVswXT0tMS8wKSxvWzFdPHNbMV0mJih1WzFdPTEvMCksZSYmKHVbMF09PT0tMS8wP3RoaXMuX3Nob3dJbmRpY2F0b3IobCx1WzFdLCI8ICIscik6dVsxXT09PTEvMD90aGlzLl9zaG93SW5kaWNhdG9yKGwsdVswXSwiPiAiLHIpOnRoaXMuX3Nob3dJbmRpY2F0b3IobCxsLCLiiYggIixyKSk7dmFyIGg9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXMsYz1bXTsoZXx8ZWsoaSkpJiYoYz10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1pLmZpbmRUYXJnZXREYXRhSW5kaWNlcyh1KSk7dmFyIGQ9ZnVuY3Rpb24odCxlKXt2YXIgaT17fSxuPXt9O3JldHVybiBvKHR8fFtdLGkpLG8oZXx8W10sbixpKSxbYShpKSxhKG4pXTtmdW5jdGlvbiBvKHQsZSxpKXtmb3IodmFyIG49MCxvPXQubGVuZ3RoO248bztuKyspZm9yKHZhciBhPXRbbl0uc2VyaWVzSWQscj1Wbyh0W25dLmRhdGFJbmRleCkscz1pJiZpW2FdLGw9MCx1PXIubGVuZ3RoO2w8dTtsKyspe3ZhciBoPXJbbF07cyYmc1toXT9zW2hdPW51bGw6KGVbYV18fChlW2FdPXt9KSlbaF09MX19ZnVuY3Rpb24gYSh0LGUpe3ZhciBpPVtdO2Zvcih2YXIgbiBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkobikmJm51bGwhPXRbbl0paWYoZSlpLnB1c2goK24pO2Vsc2V7dmFyIG89YSh0W25dLCEwKTtvLmxlbmd0aCYmaS5wdXNoKHtzZXJpZXNJZDpuLGRhdGFJbmRleDpvfSl9cmV0dXJuIGl9fShoLGMpO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixqTChkWzBdLGkpKSx0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJoaWdobGlnaHQiLGpMKGRbMV0saSkpfX0sX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQsaT10aGlzLnZpc3VhbE1hcE1vZGVsO2lmKGUmJm51bGwhPWUuZGF0YUluZGV4KXt2YXIgbj10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChlLnNlcmllc0luZGV4KTtpZihpLmlzVGFyZ2V0U2VyaWVzKG4pKXt2YXIgbz1uLmdldERhdGEoZS5kYXRhVHlwZSksYT1vLmdldChpLmdldERhdGFEaW1lbnNpb24obyksZS5kYXRhSW5kZXgsITApO2lzTmFOKGEpfHx0aGlzLl9zaG93SW5kaWNhdG9yKGEsYSl9fX0sX2hpZGVJbmRpY2F0b3I6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zaGFwZXM7dC5pbmRpY2F0b3ImJnQuaW5kaWNhdG9yLmF0dHIoImludmlzaWJsZSIsITApLHQuaW5kaWNhdG9yTGFiZWwmJnQuaW5kaWNhdG9yTGFiZWwuYXR0cigiaW52aXNpYmxlIiwhMCl9LF9jbGVhckhvdmVyTGlua1RvU2VyaWVzOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixqTCh0LHRoaXMudmlzdWFsTWFwTW9kZWwpKSx0Lmxlbmd0aD0wfSxfY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuYXBpLmdldFpyKCk7dC5vZmYoIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3ZlciksdC5vZmYoIm1vdXNlb3V0Iix0aGlzLl9oaWRlSW5kaWNhdG9yKX0sX2FwcGx5VHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWZsKGUsbj9udWxsOnRoaXMuZ3JvdXApO3JldHVybiBibFtMKHQpPyJhcHBseVRyYW5zZm9ybSI6InRyYW5zZm9ybURpcmVjdGlvbiJdKHQsbyxpKX0sX2Rpc3BhdGNoSGlnaERvd246ZnVuY3Rpb24odCxlKXtlJiZlLmxlbmd0aCYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dCxiYXRjaDplfSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX19KTtmdW5jdGlvbiB0ayh0LGUsaSxuKXtyZXR1cm4gbmV3IFFyKHtzaGFwZTp7cG9pbnRzOnR9LGRyYWdnYWJsZTohIWksY3Vyc29yOmUsZHJpZnQ6aSxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtYdCh0LmV2ZW50KX0sb25kcmFnZW5kOm59KX1mdW5jdGlvbiBlayh0KXt2YXIgZT10LmdldCgiaG92ZXJMaW5rT25IYW5kbGUiKTtyZXR1cm4hIShudWxsPT1lP3QuZ2V0KCJyZWFsdGltZSIpOmUpfWZ1bmN0aW9uIGlrKHQpe3JldHVybiJ2ZXJ0aWNhbCI9PT10PyJucy1yZXNpemUiOiJldy1yZXNpemUifV9mKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGV2ZW50OiJkYXRhUmFuZ2VTZWxlY3RlZCIsdXBkYXRlOiJ1cGRhdGUifSxmdW5jdGlvbihlLHQpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InZpc3VhbE1hcCIscXVlcnk6ZX0sZnVuY3Rpb24odCl7dC5zZXRTZWxlY3RlZChlLnNlbGVjdGVkKX0pfSkseWYoREwpO3ZhciBuaz1XTC5leHRlbmQoe3R5cGU6InZpc3VhbE1hcC5waWVjZXdpc2UiLGRlZmF1bHRPcHRpb246e3NlbGVjdGVkOm51bGwsbWluT3BlbjohMSxtYXhPcGVuOiExLGFsaWduOiJhdXRvIixpdGVtV2lkdGg6MjAsaXRlbUhlaWdodDoxNCxpdGVtU3ltYm9sOiJyb3VuZFJlY3QiLHBpZWNlTGlzdDpudWxsLGNhdGVnb3JpZXM6bnVsbCxzcGxpdE51bWJlcjo1LHNlbGVjdGVkTW9kZToibXVsdGlwbGUiLGl0ZW1HYXA6MTAsaG92ZXJMaW5rOiEwLHNob3dMYWJlbDpudWxsfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQsZSl7bmsuc3VwZXJBcHBseSh0aGlzLCJvcHRpb25VcGRhdGVkIixhcmd1bWVudHMpLHRoaXMuX3BpZWNlTGlzdD1bXSx0aGlzLnJlc2V0RXh0ZW50KCk7dmFyIGk9dGhpcy5fbW9kZT10aGlzLl9kZXRlcm1pbmVNb2RlKCk7b2tbdGhpcy5fbW9kZV0uY2FsbCh0aGlzKSx0aGlzLl9yZXNldFNlbGVjdGVkKHQsZSk7dmFyIG49dGhpcy5vcHRpb24uY2F0ZWdvcmllczt0aGlzLnJlc2V0VmlzdWFsKGZ1bmN0aW9uKHQsZSl7ImNhdGVnb3JpZXMiPT09aT8odC5tYXBwaW5nTWV0aG9kPSJjYXRlZ29yeSIsdC5jYXRlZ29yaWVzPWsobikpOih0LmRhdGFFeHRlbnQ9dGhpcy5nZXRFeHRlbnQoKSx0Lm1hcHBpbmdNZXRob2Q9InBpZWNld2lzZSIsdC5waWVjZUxpc3Q9Tyh0aGlzLl9waWVjZUxpc3QsZnVuY3Rpb24odCl7dD1rKHQpO3JldHVybiJpblJhbmdlIiE9PWUmJih0LnZpc3VhbD1udWxsKSx0fSkpfSl9LGNvbXBsZXRlVmlzdWFsT3B0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb24saT17fSx0PWdfLmxpc3RWaXN1YWxUeXBlcygpLG89dGhpcy5pc0NhdGVnb3J5KCk7ZnVuY3Rpb24gYSh0LGUsaSl7cmV0dXJuIHQmJnRbZV0mJihFKHRbZV0pP3RbZV0uaGFzT3duUHJvcGVydHkoaSk6dFtlXT09PWkpfVIobi5waWVjZXMsZnVuY3Rpb24oZSl7Uih0LGZ1bmN0aW9uKHQpe2UuaGFzT3duUHJvcGVydHkodCkmJihpW3RdPTEpfSl9KSxSKGksZnVuY3Rpb24odCxlKXt2YXIgaT0wO1IodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24odCl7aXw9YShuLHQsZSl8fGEobi50YXJnZXQsdCxlKX0sdGhpcyksaXx8Uih0aGlzLnN0YXRlTGlzdCxmdW5jdGlvbih0KXsoblt0XXx8KG5bdF09e30pKVtlXT1PTChlLCJpblJhbmdlIj09PXQ/ImFjdGl2ZSI6ImluYWN0aXZlIixvKX0pfSx0aGlzKSxXTC5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfcmVzZXRTZWxlY3RlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5fcGllY2VMaXN0LG89KGU/aTp0KS5zZWxlY3RlZHx8e307aWYoaS5zZWxlY3RlZD1vLFIobixmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7by5oYXNPd25Qcm9wZXJ0eShpKXx8KG9baV09ITApfSx0aGlzKSwic2luZ2xlIj09PWkuc2VsZWN0ZWRNb2RlKXt2YXIgYT0hMTtSKG4sZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNlbGVjdGVkTWFwS2V5KHQpO29baV0mJihhP29baV09ITE6YT0hMCl9LHRoaXMpfX0sZ2V0U2VsZWN0ZWRNYXBLZXk6ZnVuY3Rpb24odCl7cmV0dXJuImNhdGVnb3JpZXMiPT09dGhpcy5fbW9kZT90LnZhbHVlKyIiOnQuaW5kZXgrIiJ9LGdldFBpZWNlTGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWVjZUxpc3R9LF9kZXRlcm1pbmVNb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIHQucGllY2VzJiYwPHQucGllY2VzLmxlbmd0aD8icGllY2VzIjp0aGlzLm9wdGlvbi5jYXRlZ29yaWVzPyJjYXRlZ29yaWVzIjoic3BsaXROdW1iZXIifSxzZXRTZWxlY3RlZDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zZWxlY3RlZD1rKHQpfSxnZXRWYWx1ZVN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPWdfLmZpbmRQaWVjZUluZGV4KHQsdGhpcy5fcGllY2VMaXN0KTtyZXR1cm4gbnVsbCE9ZSYmdGhpcy5vcHRpb24uc2VsZWN0ZWRbdGhpcy5nZXRTZWxlY3RlZE1hcEtleSh0aGlzLl9waWVjZUxpc3RbZV0pXT8iaW5SYW5nZSI6Im91dE9mUmFuZ2UifSxmaW5kVGFyZ2V0RGF0YUluZGljZXM6ZnVuY3Rpb24obil7dmFyIG89W107cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT1bXSxlPXQuZ2V0RGF0YSgpO2UuZWFjaCh0aGlzLmdldERhdGFEaW1lbnNpb24oZSksZnVuY3Rpb24odCxlKXtnXy5maW5kUGllY2VJbmRleCh0LHRoaXMuX3BpZWNlTGlzdCk9PT1uJiZpLnB1c2goZSl9LHRoaXMpLG8ucHVzaCh7c2VyaWVzSWQ6dC5pZCxkYXRhSW5kZXg6aX0pfSx0aGlzKSxvfSxnZXRSZXByZXNlbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZTtpZih0aGlzLmlzQ2F0ZWdvcnkoKSllPXQudmFsdWU7ZWxzZSBpZihudWxsIT10LnZhbHVlKWU9dC52YWx1ZTtlbHNle3ZhciBpPXQuaW50ZXJ2YWx8fFtdO2U9aVswXT09PS0xLzAmJmlbMV09PT0xLzA/MDooaVswXStpWzFdKS8yfXJldHVybiBlfSxnZXRWaXN1YWxNZXRhOmZ1bmN0aW9uKG8pe2lmKCF0aGlzLmlzQ2F0ZWdvcnkoKSl7dmFyIGE9W10scj1bXSxzPXRoaXMsdD10aGlzLl9waWVjZUxpc3Quc2xpY2UoKTtpZih0Lmxlbmd0aCl7dmFyIGU9dFswXS5pbnRlcnZhbFswXTtlIT09LTEvMCYmdC51bnNoaWZ0KHtpbnRlcnZhbDpbLTEvMCxlXX0pLChlPXRbdC5sZW5ndGgtMV0uaW50ZXJ2YWxbMV0pIT09MS8wJiZ0LnB1c2goe2ludGVydmFsOltlLDEvMF19KX1lbHNlIHQucHVzaCh7aW50ZXJ2YWw6Wy0xLzAsMS8wXX0pO3ZhciBpPS0xLzA7cmV0dXJuIFIodCxmdW5jdGlvbih0KXt2YXIgZT10LmludGVydmFsO2UmJihlWzBdPmkmJm4oW2ksZVswXV0sIm91dE9mUmFuZ2UiKSxuKGUuc2xpY2UoKSksaT1lWzFdKX0sdGhpcykse3N0b3BzOmEsb3V0ZXJDb2xvcnM6cn19ZnVuY3Rpb24gbih0LGUpe3ZhciBpPXMuZ2V0UmVwcmVzZW50VmFsdWUoe2ludGVydmFsOnR9KTtlPWV8fHMuZ2V0VmFsdWVTdGF0ZShpKTt2YXIgbj1vKGksZSk7dFswXT09PS0xLzA/clswXT1uOnRbMV09PT0xLzA/clsxXT1uOmEucHVzaCh7dmFsdWU6dFswXSxjb2xvcjpufSx7dmFsdWU6dFsxXSxjb2xvcjpufSl9fX0pLG9rPXtzcGxpdE51bWJlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dGhpcy5fcGllY2VMaXN0LGk9TWF0aC5taW4odC5wcmVjaXNpb24sMjApLG49dGhpcy5nZXRFeHRlbnQoKSxvPXQuc3BsaXROdW1iZXI7bz1NYXRoLm1heChwYXJzZUludChvLDEwKSwxKSx0LnNwbGl0TnVtYmVyPW87Zm9yKHZhciBhPShuWzFdLW5bMF0pL287K2EudG9GaXhlZChpKSE9PWEmJmk8NTspaSsrO3QucHJlY2lzaW9uPWksYT0rYS50b0ZpeGVkKGkpLHQubWluT3BlbiYmZS5wdXNoKHtpbnRlcnZhbDpbLTEvMCxuWzBdXSxjbG9zZTpbMCwwXX0pO2Zvcih2YXIgcj0wLHM9blswXTtyPG87cys9YSxyKyspe3ZhciBsPXI9PT1vLTE/blsxXTpzK2E7ZS5wdXNoKHtpbnRlcnZhbDpbcyxsXSxjbG9zZTpbMSwxXX0pfXQubWF4T3BlbiYmZS5wdXNoKHtpbnRlcnZhbDpbblsxXSwxLzBdLGNsb3NlOlswLDBdfSksJGwoZSksUihlLGZ1bmN0aW9uKHQsZSl7dC5pbmRleD1lLHQudGV4dD10aGlzLmZvcm1hdFZhbHVlVGV4dCh0LmludGVydmFsKX0sdGhpcyl9LGNhdGVnb3JpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtSKHQuY2F0ZWdvcmllcyxmdW5jdGlvbih0KXt0aGlzLl9waWVjZUxpc3QucHVzaCh7dGV4dDp0aGlzLmZvcm1hdFZhbHVlVGV4dCh0LCEwKSx2YWx1ZTp0fSl9LHRoaXMpLGFrKHQsdGhpcy5fcGllY2VMaXN0KX0scGllY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZD10aGlzLl9waWVjZUxpc3Q7Uih0LnBpZWNlcyxmdW5jdGlvbih0LGUpe0UodCl8fCh0PXt2YWx1ZTp0fSk7dmFyIGk9e3RleHQ6IiIsaW5kZXg6ZX07aWYobnVsbCE9dC5sYWJlbCYmKGkudGV4dD10LmxhYmVsKSx0Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpKXt2YXIgbj1pLnZhbHVlPXQudmFsdWU7aS5pbnRlcnZhbD1bbixuXSxpLmNsb3NlPVsxLDFdfWVsc2V7Zm9yKHZhciBvPWkuaW50ZXJ2YWw9W10sYT1pLmNsb3NlPVswLDBdLHI9WzEsMCwxXSxzPVstMS8wLDEvMF0sbD1bXSx1PTA7dTwyO3UrKyl7Zm9yKHZhciBoPVtbImd0ZSIsImd0IiwibWluIl0sWyJsdGUiLCJsdCIsIm1heCJdXVt1XSxjPTA7YzwzJiZudWxsPT1vW3VdO2MrKylvW3VdPXRbaFtjXV0sYVt1XT1yW2NdLGxbdV09Mj09PWM7bnVsbD09b1t1XSYmKG9bdV09c1t1XSl9bFswXSYmb1sxXT09PTEvMCYmKGFbMF09MCksbFsxXSYmb1swXT09PS0xLzAmJihhWzFdPTApLG9bMF09PT1vWzFdJiZhWzBdJiZhWzFdJiYoaS52YWx1ZT1vWzBdKX1pLnZpc3VhbD1nXy5yZXRyaWV2ZVZpc3VhbHModCksZC5wdXNoKGkpfSx0aGlzKSxhayh0LGQpLCRsKGQpLFIoZCxmdW5jdGlvbih0KXt2YXIgZT10LmNsb3NlLGk9W1siPCIsIuKJpCJdW2VbMV1dLFsiPiIsIuKJpSJdW2VbMF1dXTt0LnRleHQ9dC50ZXh0fHx0aGlzLmZvcm1hdFZhbHVlVGV4dChudWxsIT10LnZhbHVlP3QudmFsdWU6dC5pbnRlcnZhbCwhMSxpKX0sdGhpcyl9fTtmdW5jdGlvbiBhayh0LGUpe3ZhciBpPXQuaW52ZXJzZTsoInZlcnRpY2FsIj09PXQub3JpZW50PyFpOmkpJiZlLnJldmVyc2UoKX1YTC5leHRlbmQoe3R5cGU6InZpc3VhbE1hcC5waWVjZXdpc2UiLGRvUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncm91cDthLnJlbW92ZUFsbCgpO3ZhciByPXRoaXMudmlzdWFsTWFwTW9kZWwscz1yLmdldCgidGV4dEdhcCIpLHQ9ci50ZXh0U3R5bGVNb2RlbCxsPXQuZ2V0Rm9udCgpLHU9dC5nZXRUZXh0Q29sb3IoKSxoPXRoaXMuX2dldEl0ZW1BbGlnbigpLGM9ci5pdGVtU2l6ZSxlPXRoaXMuX2dldFZpZXdEYXRhKCksaT1lLmVuZHNUZXh0LGQ9VyhyLmdldCgic2hvd0xhYmVsIiwhMCksIWkpO2kmJnRoaXMuX3JlbmRlckVuZHNUZXh0KGEsaVswXSxjLGQsaCksUihlLnZpZXdQaWVjZUxpc3QsZnVuY3Rpb24odCl7dmFyIGU9dC5waWVjZSxpPW5ldyBDaTtpLm9uY2xpY2s9QSh0aGlzLl9vbkl0ZW1DbGljayx0aGlzLGUpLHRoaXMuX2VuYWJsZUhvdmVyTGluayhpLHQuaW5kZXhJbk1vZGVsUGllY2VMaXN0KTt2YXIgbj1yLmdldFJlcHJlc2VudFZhbHVlKGUpO2lmKHRoaXMuX2NyZWF0ZUl0ZW1TeW1ib2woaSxuLFswLDAsY1swXSxjWzFdXSksZCl7dmFyIG89dGhpcy52aXN1YWxNYXBNb2RlbC5nZXRWYWx1ZVN0YXRlKG4pO2kuYWRkKG5ldyBVcih7c3R5bGU6e3g6InJpZ2h0Ij09PWg/LXM6Y1swXStzLHk6Y1sxXS8yLHRleHQ6ZS50ZXh0LHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUiLHRleHRBbGlnbjpoLHRleHRGb250OmwsdGV4dEZpbGw6dSxvcGFjaXR5OiJvdXRPZlJhbmdlIj09PW8/LjU6MX19KSl9YS5hZGQoaSl9LHRoaXMpLGkmJnRoaXMuX3JlbmRlckVuZHNUZXh0KGEsaVsxXSxjLGQsaCksd3Uoci5nZXQoIm9yaWVudCIpLGEsci5nZXQoIml0ZW1HYXAiKSksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKGEpLHRoaXMucG9zaXRpb25Hcm91cChhKX0sX2VuYWJsZUhvdmVyTGluazpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbDtlLm9wdGlvbi5ob3ZlckxpbmsmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOnQsYmF0Y2g6akwoZS5maW5kVGFyZ2V0RGF0YUluZGljZXMoaSksZSl9KX10Lm9uKCJtb3VzZW92ZXIiLEEoZSx0aGlzLCJoaWdobGlnaHQiKSkub24oIm1vdXNlb3V0IixBKGUsdGhpcywiZG93bnBsYXkiKSl9LF9nZXRJdGVtQWxpZ246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dC5vcHRpb247aWYoInZlcnRpY2FsIj09PWUub3JpZW50KXJldHVybiBZTCh0LHRoaXMuYXBpLHQuaXRlbVNpemUpO3ZhciBpPWUuYWxpZ247cmV0dXJuIGkmJiJhdXRvIiE9PWl8fChpPSJsZWZ0IiksaX0sX3JlbmRlckVuZHNUZXh0OmZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYoZSl7dmFyIGE9bmV3IENpLHI9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbDthLmFkZChuZXcgVXIoe3N0eWxlOnt4Om4/InJpZ2h0Ij09PW8/aVswXTowOmlbMF0vMix5OmlbMV0vMix0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIix0ZXh0QWxpZ246bj9vOiJjZW50ZXIiLHRleHQ6ZSx0ZXh0Rm9udDpyLmdldEZvbnQoKSx0ZXh0RmlsbDpyLmdldFRleHRDb2xvcigpfX0pKSx0LmFkZChhKX19LF9nZXRWaWV3RGF0YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT1PKHQuZ2V0UGllY2VMaXN0KCksZnVuY3Rpb24odCxlKXtyZXR1cm57cGllY2U6dCxpbmRleEluTW9kZWxQaWVjZUxpc3Q6ZX19KSxpPXQuZ2V0KCJ0ZXh0Iiksbj10LmdldCgib3JpZW50Iiksbz10LmdldCgiaW52ZXJzZSIpO3JldHVybigiaG9yaXpvbnRhbCI9PT1uP286IW8pP2UucmV2ZXJzZSgpOmk9aSYmaS5zbGljZSgpLnJldmVyc2UoKSx7dmlld1BpZWNlTGlzdDplLGVuZHNUZXh0Oml9fSxfY3JlYXRlSXRlbVN5bWJvbDpmdW5jdGlvbih0LGUsaSl7dC5hZGQod2codGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsInN5bWJvbCIpLGlbMF0saVsxXSxpWzJdLGlbM10sdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsImNvbG9yIikpKX0sX29uSXRlbUNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT1lLm9wdGlvbixuPWsoaS5zZWxlY3RlZCksbz1lLmdldFNlbGVjdGVkTWFwS2V5KHQpOyJzaW5nbGUiPT09aS5zZWxlY3RlZE1vZGU/KG5bb109ITAsUihuLGZ1bmN0aW9uKHQsZSl7bltlXT1lPT09b30pKTpuW29dPSFuW29dLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGZyb206dGhpcy51aWQsdmlzdWFsTWFwSWQ6dGhpcy52aXN1YWxNYXBNb2RlbC5pZCxzZWxlY3RlZDpufSl9fSk7eWYoREwpO3ZhciByayxzaz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLGxrPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P251bGw6d2luZG93LHVrPSExLGhrPWxrJiZsay5kb2N1bWVudDtmdW5jdGlvbiBjayh0KXtyZXR1cm4gcmsodCl9aWYoaGsmJiF2LmNhbnZhc1N1cHBvcnRlZCl0cnl7aGsubmFtZXNwYWNlcy56cnZtbHx8aGsubmFtZXNwYWNlcy5hZGQoInpydm1sIixzaykscms9ZnVuY3Rpb24odCl7cmV0dXJuIGhrLmNyZWF0ZUVsZW1lbnQoIjx6cnZtbDoiK3QrJyBjbGFzcz0ienJ2bWwiPicpfX1jYXRjaCh0KXtyaz1mdW5jdGlvbih0KXtyZXR1cm4gaGsuY3JlYXRlRWxlbWVudCgiPCIrdCsnIHhtbG5zPSInK3NrKyciIGNsYXNzPSJ6cnZtbCI+Jyl9fXZhciBkayxmaz1yci5DTUQscGs9TWF0aC5yb3VuZCxnaz1NYXRoLnNxcnQsbWs9TWF0aC5hYnMsdms9TWF0aC5jb3MseWs9TWF0aC5zaW4seGs9TWF0aC5tYXg7aWYoIXYuY2FudmFzU3VwcG9ydGVkKXt2YXIgX2s9IiwiLHdrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQiLGJrPTIxNjAwLFNrPWJrLzIsTWs9ZnVuY3Rpb24odCl7dC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7Iix0LmNvb3Jkc2l6ZT1iaysiLCIrYmssdC5jb29yZG9yaWdpbj0iMCwwIn0sSWs9ZnVuY3Rpb24odCxlLGkpe3JldHVybiJyZ2IoIitbdCxlLGldLmpvaW4oIiwiKSsiKSJ9LFRrPWZ1bmN0aW9uKHQsZSl7ZSYmdCYmZS5wYXJlbnROb2RlIT09dCYmdC5hcHBlbmRDaGlsZChlKX0sQWs9ZnVuY3Rpb24odCxlKXtlJiZ0JiZlLnBhcmVudE5vZGU9PT10JiZ0LnJlbW92ZUNoaWxkKGUpfSxEaz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIDFlNSoocGFyc2VGbG9hdCh0KXx8MCkrMWUzKihwYXJzZUZsb2F0KGUpfHwwKStpfSxDaz1ZbixMaz1mdW5jdGlvbih0LGUsaSl7dmFyIG49RmUoZSk7aT0raSxpc05hTihpKSYmKGk9MSksbiYmKHQuY29sb3I9SWsoblswXSxuWzFdLG5bMl0pLHQub3BhY2l0eT1pKm5bM10pfSxraz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iZmlsbCI9PT1lLGE9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKVswXTtudWxsIT1pW2VdJiYibm9uZSIhPT1pW2VdJiYob3x8IW8mJmkubGluZVdpZHRoKT8odFtvPyJmaWxsZWQiOiJzdHJva2VkIl09InRydWUiLGlbZV1pbnN0YW5jZW9mIGNzJiZBayh0LGEpLGE9YXx8Y2soZSksbz9mdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxhPWUuZmlsbDtpZihudWxsIT1hKWlmKGEgaW5zdGFuY2VvZiBjcyl7dmFyIHIscz0wLGw9WzAsMF0sdT0wLGg9MSxjPWkuZ2V0Qm91bmRpbmdSZWN0KCksZD1jLndpZHRoLGY9Yy5oZWlnaHQ7aWYoImxpbmVhciI9PT1hLnR5cGUpe3I9ImdyYWRpZW50Ijt2YXIgcD1pLnRyYW5zZm9ybSxnPVthLngqZCxhLnkqZl0sbT1bYS54MipkLGEueTIqZl07cCYmKGJ0KGcsZyxwKSxidChtLG0scCkpO3ZhciB2PW1bMF0tZ1swXSx5PW1bMV0tZ1sxXTsocz0xODAqTWF0aC5hdGFuMih2LHkpL01hdGguUEkpPDAmJihzKz0zNjApLHM8MWUtNiYmKHM9MCl9ZWxzZXtyPSJncmFkaWVudHJhZGlhbCI7Zz1bYS54KmQsYS55KmZdLHA9aS50cmFuc2Zvcm07dmFyIHg9aS5zY2FsZSxfPWQsdz1mO2w9WyhnWzBdLWMueCkvXywoZ1sxXS1jLnkpL3ddLHAmJmJ0KGcsZyxwKSxfLz14WzBdKmJrLHcvPXhbMV0qYms7dmFyIGI9eGsoXyx3KTt1PTAvYixoPTIqYS5yL2ItdX12YXIgUz1hLmNvbG9yU3RvcHMuc2xpY2UoKTtTLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vZmZzZXQtZS5vZmZzZXR9KTtmb3IodmFyIE09Uy5sZW5ndGgsST1bXSxUPVtdLEE9MDtBPE07QSsrKXt2YXIgRD1TW0FdLEM9KG49RC5jb2xvcix2b2lkIDAsbz1GZShuKSxbSWsob1swXSxvWzFdLG9bMl0pLG9bM11dKTtULnB1c2goRC5vZmZzZXQqaCt1KyIgIitDWzBdKSwwIT09QSYmQSE9PU0tMXx8SS5wdXNoKEMpfWlmKDI8PU0pe3ZhciBMPUlbMF1bMF0saz1JWzFdWzBdLFA9SVswXVsxXSplLm9wYWNpdHksTj1JWzFdWzFdKmUub3BhY2l0eTt0LnR5cGU9cix0Lm1ldGhvZD0ibm9uZSIsdC5mb2N1cz0iMTAwJSIsdC5hbmdsZT1zLHQuY29sb3I9TCx0LmNvbG9yMj1rLHQuY29sb3JzPVQuam9pbigiLCIpLHQub3BhY2l0eT1OLHQub3BhY2l0eTI9UH0icmFkaWFsIj09PXImJih0LmZvY3VzcG9zaXRpb249bC5qb2luKCIsIikpfWVsc2UgTGsodCxhLGUub3BhY2l0eSl9KGEsaSxuKTpmdW5jdGlvbih0LGUpe2UubGluZURhc2gmJih0LmRhc2hzdHlsZT1lLmxpbmVEYXNoLmpvaW4oIiAiKSksbnVsbD09ZS5zdHJva2V8fGUuc3Ryb2tlIGluc3RhbmNlb2YgY3N8fExrKHQsZS5zdHJva2UsZS5vcGFjaXR5KX0oYSxpKSxUayh0LGEpKToodFtvPyJmaWxsZWQiOiJzdHJva2VkIl09ImZhbHNlIixBayh0LGEpKX0sUGs9W1tdLFtdLFtdXTtBci5wcm90b3R5cGUuYnJ1c2hWTUw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZSxpPXRoaXMuX3ZtbEVsO2l8fChpPWNrKCJzaGFwZSIpLE1rKGkpLHRoaXMuX3ZtbEVsPWkpLGtrKGksImZpbGwiLGUsdGhpcyksa2soaSwic3Ryb2tlIixlLHRoaXMpO3ZhciBuPXRoaXMudHJhbnNmb3JtLG89bnVsbCE9bixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpWzBdO2lmKGEpe3ZhciByPWUubGluZVdpZHRoO2lmKG8mJiFlLnN0cm9rZU5vU2NhbGUpe3ZhciBzPW5bMF0qblszXS1uWzFdKm5bMl07cio9Z2sobWsocykpfWEud2VpZ2h0PXIrInB4In12YXIgbD10aGlzLnBhdGh8fCh0aGlzLnBhdGg9bmV3IHJyKTt0aGlzLl9fZGlydHlQYXRoJiYobC5iZWdpblBhdGgoKSxsLnN1YlBpeGVsT3B0aW1pemU9ITEsdGhpcy5idWlsZFBhdGgobCx0aGlzLnNoYXBlKSxsLnRvU3RhdGljKCksdGhpcy5fX2RpcnR5UGF0aD0hMSksaS5wYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLGEscixzLGw9ZmsuTSx1PWZrLkMsaD1may5MLGM9ZmsuQSxkPWZrLlEsZj1bXSxwPXQuZGF0YSxnPXQubGVuKCk7Zm9yKGE9MDthPGc7KXtzd2l0Y2gobj0iIixpPTAsbz1wW2ErK10pe2Nhc2UgbDpuPSIgbSAiLGk9MSxyPXBbYSsrXSxzPXBbYSsrXSxQa1swXVswXT1yLFBrWzBdWzFdPXM7YnJlYWs7Y2FzZSBoOm49IiBsICIsaT0xLHI9cFthKytdLHM9cFthKytdLFBrWzBdWzBdPXIsUGtbMF1bMV09czticmVhaztjYXNlIGQ6Y2FzZSB1Om49IiBjICIsaT0zO3ZhciBtLHYseT1wW2ErK10seD1wW2ErK10sXz1wW2ErK10sdz1wW2ErK107bz09PWQ/KF89KChtPV8pKzIqeSkvMyx3PSgodj13KSsyKngpLzMseT0ocisyKnkpLzMseD0ocysyKngpLzMpOihtPXBbYSsrXSx2PXBbYSsrXSksUGtbMF1bMF09eSxQa1swXVsxXT14LFBrWzFdWzBdPV8sUGtbMV1bMV09dyxyPVBrWzJdWzBdPW0scz1Qa1syXVsxXT12O2JyZWFrO2Nhc2UgYzp2YXIgYj0wLFM9MCxNPTEsST0xLFQ9MDtlJiYoYj1lWzRdLFM9ZVs1XSxNPWdrKGVbMF0qZVswXStlWzFdKmVbMV0pLEk9Z2soZVsyXSplWzJdK2VbM10qZVszXSksVD1NYXRoLmF0YW4yKC1lWzFdL0ksZVswXS9NKSk7dmFyIEE9cFthKytdLEQ9cFthKytdLEM9cFthKytdLEw9cFthKytdLGs9cFthKytdK1QsUD1wW2ErK10raytUO2ErKzt2YXIgTj1wW2ErK10sTz1BK3ZrKGspKkMsUj1EK3lrKGspKkwsej0oeT1BK3ZrKFApKkMseD1EK3lrKFApKkwsTj8iIHdhICI6IiBhdCAiKTtNYXRoLmFicyhPLXkpPDFlLTQmJiguMDE8TWF0aC5hYnMoUC1rKT9OJiYoTys9LjAxMjUpOk1hdGguYWJzKFItRCk8MWUtND9OJiZPPEF8fCFOJiZBPE8/eC09LjAxMjU6eCs9LjAxMjU6TiYmUjxEfHwhTiYmRDxSP3krPS4wMTI1OnktPS4wMTI1KSxmLnB1c2goeixwaygoKEEtQykqTStiKSpiay1TayksX2sscGsoKChELUwpKkkrUykqYmstU2spLF9rLHBrKCgoQStDKSpNK2IpKmJrLVNrKSxfayxwaygoKEQrTCkqSStTKSpiay1TayksX2sscGsoKE8qTStiKSpiay1TayksX2sscGsoKFIqSStTKSpiay1TayksX2sscGsoKHkqTStiKSpiay1TayksX2sscGsoKHgqSStTKSpiay1TaykpLHI9eSxzPXg7YnJlYWs7Y2FzZSBmay5SOnZhciBFPVBrWzBdLEI9UGtbMV07RVswXT1wW2ErK10sRVsxXT1wW2ErK10sQlswXT1FWzBdK3BbYSsrXSxCWzFdPUVbMV0rcFthKytdLGUmJihidChFLEUsZSksYnQoQixCLGUpKSxFWzBdPXBrKEVbMF0qYmstU2spLEJbMF09cGsoQlswXSpiay1TayksRVsxXT1wayhFWzFdKmJrLVNrKSxCWzFdPXBrKEJbMV0qYmstU2spLGYucHVzaCgiIG0gIixFWzBdLF9rLEVbMV0sIiBsICIsQlswXSxfayxFWzFdLCIgbCAiLEJbMF0sX2ssQlsxXSwiIGwgIixFWzBdLF9rLEJbMV0pO2JyZWFrO2Nhc2UgZmsuWjpmLnB1c2goIiB4ICIpfWlmKDA8aSl7Zi5wdXNoKG4pO2Zvcih2YXIgVj0wO1Y8aTtWKyspe3ZhciBHPVBrW1ZdO2UmJmJ0KEcsRyxlKSxmLnB1c2gocGsoR1swXSpiay1TayksX2sscGsoR1sxXSpiay1TayksVjxpLTE/X2s6IiIpfX19cmV0dXJuIGYuam9pbigiIil9KGwsdGhpcy50cmFuc2Zvcm0pLGkuc3R5bGUuekluZGV4PURrKHRoaXMuemxldmVsLHRoaXMueix0aGlzLnoyKSxUayh0LGkpLG51bGwhPWUudGV4dD90aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpOnRoaXMucmVtb3ZlUmVjdFRleHQodCl9LEFyLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXtBayh0LHRoaXMuX3ZtbEVsKSx0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxBci5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7VGsodCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07UW4ucHJvdG90eXBlLmJydXNoVk1MPWZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLnN0eWxlLG89bi5pbWFnZTtpZihmdW5jdGlvbih0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJnQudGFnTmFtZSYmIklNRyI9PT10LnRhZ05hbWUudG9VcHBlckNhc2UoKX0obykpe3ZhciBhPW8uc3JjO2lmKGE9PT10aGlzLl9pbWFnZVNyYyllPXRoaXMuX2ltYWdlV2lkdGgsaT10aGlzLl9pbWFnZUhlaWdodDtlbHNle3ZhciByPW8ucnVudGltZVN0eWxlLHM9ci53aWR0aCxsPXIuaGVpZ2h0O3Iud2lkdGg9ImF1dG8iLHIuaGVpZ2h0PSJhdXRvIixlPW8ud2lkdGgsaT1vLmhlaWdodCxyLndpZHRoPXMsci5oZWlnaHQ9bCx0aGlzLl9pbWFnZVNyYz1hLHRoaXMuX2ltYWdlV2lkdGg9ZSx0aGlzLl9pbWFnZUhlaWdodD1pfW89YX1lbHNlIG89PT10aGlzLl9pbWFnZVNyYyYmKGU9dGhpcy5faW1hZ2VXaWR0aCxpPXRoaXMuX2ltYWdlSGVpZ2h0KTtpZihvKXt2YXIgdT1uLnh8fDAsaD1uLnl8fDAsYz1uLndpZHRoLGQ9bi5oZWlnaHQsZj1uLnNXaWR0aCxwPW4uc0hlaWdodCxnPW4uc3h8fDAsbT1uLnN5fHwwLHY9ZiYmcCx5PXRoaXMuX3ZtbEVsO3l8fCh5PWhrLmNyZWF0ZUVsZW1lbnQoImRpdiIpLE1rKHkpLHRoaXMuX3ZtbEVsPXkpO3ZhciB4LF89eS5zdHlsZSx3PSExLGI9MSxTPTE7aWYodGhpcy50cmFuc2Zvcm0mJih4PXRoaXMudHJhbnNmb3JtLGI9Z2soeFswXSp4WzBdK3hbMV0qeFsxXSksUz1nayh4WzJdKnhbMl0reFszXSp4WzNdKSx3PXhbMV18fHhbMl0pLHcpe3ZhciBNPVt1LGhdLEk9W3UrYyxoXSxUPVt1LGgrZF0sQT1bdStjLGgrZF07YnQoTSxNLHgpLGJ0KEksSSx4KSxidChULFQseCksYnQoQSxBLHgpO3ZhciBEPXhrKE1bMF0sSVswXSxUWzBdLEFbMF0pLEM9eGsoTVsxXSxJWzFdLFRbMV0sQVsxXSksTD1bXTtMLnB1c2goIk0xMT0iLHhbMF0vYixfaywiTTEyPSIseFsyXS9TLF9rLCJNMjE9Iix4WzFdL2IsX2ssIk0yMj0iLHhbM10vUyxfaywiRHg9Iixwayh1KmIreFs0XSksX2ssIkR5PSIscGsoaCpTK3hbNV0pKSxfLnBhZGRpbmc9IjAgIitwayhEKSsicHggIitwayhDKSsicHggMCIsXy5maWx0ZXI9d2srIi5NYXRyaXgoIitMLmpvaW4oIiIpKyIsIFNpemluZ01ldGhvZD1jbGlwKSJ9ZWxzZSB4JiYodT11KmIreFs0XSxoPWgqUyt4WzVdKSxfLmZpbHRlcj0iIixfLmxlZnQ9cGsodSkrInB4IixfLnRvcD1wayhoKSsicHgiO3ZhciBrPXRoaXMuX2ltYWdlRWwsUD10aGlzLl9jcm9wRWw7a3x8KGs9aGsuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5faW1hZ2VFbD1rKTt2YXIgTj1rLnN0eWxlO2lmKHYpe2lmKGUmJmkpTi53aWR0aD1wayhiKmUqYy9mKSsicHgiLE4uaGVpZ2h0PXBrKFMqaSpkL3ApKyJweCI7ZWxzZXt2YXIgTz1uZXcgSW1hZ2UsUj10aGlzO08ub25sb2FkPWZ1bmN0aW9uKCl7Ty5vbmxvYWQ9bnVsbCxlPU8ud2lkdGgsaT1PLmhlaWdodCxOLndpZHRoPXBrKGIqZSpjL2YpKyJweCIsTi5oZWlnaHQ9cGsoUyppKmQvcCkrInB4IixSLl9pbWFnZVdpZHRoPWUsUi5faW1hZ2VIZWlnaHQ9aSxSLl9pbWFnZVNyYz1vfSxPLnNyYz1vfVB8fCgoUD1oay5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsdGhpcy5fY3JvcEVsPVApO3ZhciB6PVAuc3R5bGU7ei53aWR0aD1waygoYytnKmMvZikqYiksei5oZWlnaHQ9cGsoKGQrbSpkL3ApKlMpLHouZmlsdGVyPXdrKyIuTWF0cml4KER4PSIrLWcqYy9mKmIrIixEeT0iKy1tKmQvcCpTKyIpIixQLnBhcmVudE5vZGV8fHkuYXBwZW5kQ2hpbGQoUCksay5wYXJlbnROb2RlIT09UCYmUC5hcHBlbmRDaGlsZChrKX1lbHNlIE4ud2lkdGg9cGsoYipjKSsicHgiLE4uaGVpZ2h0PXBrKFMqZCkrInB4Iix5LmFwcGVuZENoaWxkKGspLFAmJlAucGFyZW50Tm9kZSYmKHkucmVtb3ZlQ2hpbGQoUCksdGhpcy5fY3JvcEVsPW51bGwpO3ZhciBFPSIiLEI9bi5vcGFjaXR5O0I8MSYmKEUrPSIuQWxwaGEob3BhY2l0eT0iK3BrKDEwMCpCKSsiKSAiKSxFKz13aysiLkFscGhhSW1hZ2VMb2FkZXIoc3JjPSIrbysiLCBTaXppbmdNZXRob2Q9c2NhbGUpIixOLmZpbHRlcj1FLHkuc3R5bGUuekluZGV4PURrKHRoaXMuemxldmVsLHRoaXMueix0aGlzLnoyKSxUayh0LHkpLG51bGwhPW4udGV4dCYmdGhpcy5kcmF3UmVjdFRleHQodCx0aGlzLmdldEJvdW5kaW5nUmVjdCgpKX19LFFuLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXtBayh0LHRoaXMuX3ZtbEVsKSx0aGlzLl92bWxFbD1udWxsLHRoaXMuX2Nyb3BFbD1udWxsLHRoaXMuX2ltYWdlRWw9bnVsbCx0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxRbi5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7VGsodCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07dmFyIE5rLE9rPSJub3JtYWwiLFJrPXt9LHprPTAsRWs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZGs9ZnVuY3Rpb24odCxlKXt2YXIgaT1oaztOa3x8KChOaz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTIwMDAwcHg7bGVmdDowO3BhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6bm9uZTt3aGl0ZS1zcGFjZTpwcmU7Iixoay5ib2R5LmFwcGVuZENoaWxkKE5rKSk7dHJ5e05rLnN0eWxlLmZvbnQ9ZX1jYXRjaCh0KXt9cmV0dXJuIE5rLmlubmVySFRNTD0iIixOay5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKHQpKSx7d2lkdGg6Tmsub2Zmc2V0V2lkdGh9fSxmblsibWVhc3VyZVRleHQiXT1kaztmb3IodmFyIEJrPW5ldyBEaSxWaz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLnN0eWxlO3RoaXMuX19kaXJ0eSYmUm4obyk7dmFyIGE9by50ZXh0O2lmKG51bGwhPWEmJihhKz0iIiksYSl7aWYoby5yaWNoKXt2YXIgcj1JbihhLG8pO2E9W107Zm9yKHZhciBzPTA7czxyLmxpbmVzLmxlbmd0aDtzKyspe2Zvcih2YXIgbD1yLmxpbmVzW3NdLnRva2Vucyx1PVtdLGg9MDtoPGwubGVuZ3RoO2grKyl1LnB1c2gobFtoXS50ZXh0KTthLnB1c2godS5qb2luKCIiKSl9YT1hLmpvaW4oIlxuIil9dmFyIGMsZCxmPW8udGV4dEFsaWduLHA9by50ZXh0VmVydGljYWxBbGlnbixnPWZ1bmN0aW9uKHQpe3ZhciBlPVJrW3RdO2lmKCFlKXsxMDA8emsmJih6az0wLFJrPXt9KTt2YXIgaSxuPUVrLnN0eWxlO3RyeXtuLmZvbnQ9dCxpPW4uZm9udEZhbWlseS5zcGxpdCgiLCIpWzBdfWNhdGNoKHQpe31lPXtzdHlsZTpuLmZvbnRTdHlsZXx8T2ssdmFyaWFudDpuLmZvbnRWYXJpYW50fHxPayx3ZWlnaHQ6bi5mb250V2VpZ2h0fHxPayxzaXplOjB8cGFyc2VGbG9hdChuLmZvbnRTaXplfHwxMiksZmFtaWx5Oml8fCJNaWNyb3NvZnQgWWFIZWkifSxSa1t0XT1lLHprKyt9cmV0dXJuIGV9KG8uZm9udCksbT1nLnN0eWxlKyIgIitnLnZhcmlhbnQrIiAiK2cud2VpZ2h0KyIgIitnLnNpemUrJ3B4ICInK2cuZmFtaWx5KyciJztpPWl8fGduKGEsbSxmLHAsby50ZXh0UGFkZGluZyxvLnRleHRMaW5lSGVpZ2h0KTt2YXIgdj10aGlzLnRyYW5zZm9ybTtpZih2JiYhbiYmKEJrLmNvcHkoZSksQmsuYXBwbHlUcmFuc2Zvcm0odiksZT1CayksbiljPWUueCxkPWUueTtlbHNle3ZhciB5PW8udGV4dFBvc2l0aW9uO2lmKHkgaW5zdGFuY2VvZiBBcnJheSljPWUueCtDayh5WzBdLGUud2lkdGgpLGQ9ZS55K0NrKHlbMV0sZS5oZWlnaHQpLGY9Znx8ImxlZnQiO2Vsc2V7dmFyIHg9dGhpcy5jYWxjdWxhdGVUZXh0UG9zaXRpb24/dGhpcy5jYWxjdWxhdGVUZXh0UG9zaXRpb24oe30sbyxlKTp5bih7fSxvLGUpO2M9eC54LGQ9eC55LGY9Znx8eC50ZXh0QWxpZ24scD1wfHx4LnRleHRWZXJ0aWNhbEFsaWdufX1jPW1uKGMsaS53aWR0aCxmKSxkPXZuKGQsaS5oZWlnaHQscCksZCs9aS5oZWlnaHQvMjt2YXIgXyx3LGIsUz1jayxNPXRoaXMuX3RleHRWbWxFbDtNP3c9KF89KGI9TS5maXJzdENoaWxkKS5uZXh0U2libGluZykubmV4dFNpYmxpbmc6KE09UygibGluZSIpLF89UygicGF0aCIpLHc9UygidGV4dHBhdGgiKSxiPVMoInNrZXciKSx3LnN0eWxlWyJ2LXRleHQtYWxpZ24iXT0ibGVmdCIsTWsoTSksXy50ZXh0cGF0aG9rPSEwLHcub249ITAsTS5mcm9tPSIwIDAiLE0udG89IjEwMDAgMC4wNSIsVGsoTSxiKSxUayhNLF8pLFRrKE0sdyksdGhpcy5fdGV4dFZtbEVsPU0pO3ZhciBJPVtjLGRdLFQ9TS5zdHlsZTt2JiZuPyhidChJLEksdiksYi5vbj0hMCxiLm1hdHJpeD12WzBdLnRvRml4ZWQoMykrX2srdlsyXS50b0ZpeGVkKDMpK19rK3ZbMV0udG9GaXhlZCgzKStfayt2WzNdLnRvRml4ZWQoMykrIiwwLDAiLGIub2Zmc2V0PShwayhJWzBdKXx8MCkrIiwiKyhwayhJWzFdKXx8MCksYi5vcmlnaW49IjAgMCIsVC5sZWZ0PSIwcHgiLFQudG9wPSIwcHgiKTooYi5vbj0hMSxULmxlZnQ9cGsoYykrInB4IixULnRvcD1wayhkKSsicHgiKSx3LnN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpfShhKTt0cnl7dy5zdHlsZS5mb250PW19Y2F0Y2godCl7fWtrKE0sImZpbGwiLHtmaWxsOm8udGV4dEZpbGwsb3BhY2l0eTpvLm9wYWNpdHl9LHRoaXMpLGtrKE0sInN0cm9rZSIse3N0cm9rZTpvLnRleHRTdHJva2Usb3BhY2l0eTpvLm9wYWNpdHksbGluZURhc2g6by5saW5lRGFzaHx8bnVsbH0sdGhpcyksTS5zdHlsZS56SW5kZXg9RGsodGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLFRrKHQsTSl9fSxHaz1mdW5jdGlvbih0KXtBayh0LHRoaXMuX3RleHRWbWxFbCksdGhpcy5fdGV4dFZtbEVsPW51bGx9LEZrPWZ1bmN0aW9uKHQpe1RrKHQsdGhpcy5fdGV4dFZtbEVsKX0sV2s9W0tuLEpuLFFuLEFyLFVyXSxIaz0wO0hrPFdrLmxlbmd0aDtIaysrKXt2YXIgWms9V2tbSGtdLnByb3RvdHlwZTtaay5kcmF3UmVjdFRleHQ9VmssWmsucmVtb3ZlUmVjdFRleHQ9R2ssWmsuYXBwZW5kUmVjdFRleHQ9Rmt9VXIucHJvdG90eXBlLmJydXNoVk1MPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGU7bnVsbCE9ZS50ZXh0P3RoaXMuZHJhd1JlY3RUZXh0KHQse3g6ZS54fHwwLHk6ZS55fHwwLHdpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksITApOnRoaXMucmVtb3ZlUmVjdFRleHQodCl9LFVyLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxVci5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5hcHBlbmRSZWN0VGV4dCh0KX19ZnVuY3Rpb24gVWsodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfWZ1bmN0aW9uIFhrKHQsZSl7IWZ1bmN0aW9uKCl7aWYoIXVrJiZoayl7dWs9ITA7dmFyIHQ9aGsuc3R5bGVTaGVldHM7dC5sZW5ndGg8MzE/aGsuY3JlYXRlU3R5bGVTaGVldCgpLmFkZFJ1bGUoIi56cnZtbCIsImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpIik6dFswXS5hZGRSdWxlKCIuenJ2bWwiLCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIpfX0oKSx0aGlzLnJvb3Q9dCx0aGlzLnN0b3JhZ2U9ZTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjMwMHB4O2hlaWdodDoxNTBweDsiLG4uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowOyIsdC5hcHBlbmRDaGlsZChpKSx0aGlzLl92bWxSb290PW4sdGhpcy5fdm1sVmlld3BvcnQ9aSx0aGlzLnJlc2l6ZSgpO3ZhciBvPWUuZGVsRnJvbVN0b3JhZ2UsYT1lLmFkZFRvU3RvcmFnZTtlLmRlbEZyb21TdG9yYWdlPWZ1bmN0aW9uKHQpe28uY2FsbChlLHQpLHQmJnQub25SZW1vdmUmJnQub25SZW1vdmUobil9LGUuYWRkVG9TdG9yYWdlPWZ1bmN0aW9uKHQpe3Qub25BZGQmJnQub25BZGQobiksYS5jYWxsKGUsdCl9LHRoaXMuX2ZpcnN0UGFpbnQ9ITB9WGsucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpYayxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuInZtbCJ9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92bWxWaWV3cG9ydH0sZ2V0Vmlld3BvcnRSb290T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwLCEwKTt0aGlzLl9wYWludExpc3QodCl9LF9wYWludExpc3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3ZtbFJvb3QsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uaW52aXNpYmxlfHxuLmlnbm9yZT8obi5fX2FscmVhZHlOb3RWaXNpYmxlfHxuLm9uUmVtb3ZlKGUpLG4uX19hbHJlYWR5Tm90VmlzaWJsZT0hMCk6KG4uX19hbHJlYWR5Tm90VmlzaWJsZSYmbi5vbkFkZChlKSxuLl9fYWxyZWFkeU5vdFZpc2libGU9ITEsbi5fX2RpcnR5JiYobi5iZWZvcmVCcnVzaCYmbi5iZWZvcmVCcnVzaCgpLChuLmJydXNoVk1MfHxuLmJydXNoKS5jYWxsKG4sZSksbi5hZnRlckJydXNoJiZuLmFmdGVyQnJ1c2goKSkpLG4uX19kaXJ0eT0hMX10aGlzLl9maXJzdFBhaW50JiYodGhpcy5fdm1sVmlld3BvcnQuYXBwZW5kQ2hpbGQoZSksdGhpcy5fZmlyc3RQYWludD0hMSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3Q9bnVsbD09dD90aGlzLl9nZXRXaWR0aCgpOnQsZT1udWxsPT1lP3RoaXMuX2dldEhlaWdodCgpOmU7aWYodGhpcy5fd2lkdGghPT10fHx0aGlzLl9oZWlnaHQhPT1lKXt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lO3ZhciBpPXRoaXMuX3ZtbFZpZXdwb3J0LnN0eWxlO2kud2lkdGg9dCsicHgiLGkuaGVpZ2h0PWUrInB4In19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPSIiLHRoaXMuX3ZtbFJvb3Q9dGhpcy5fdm1sVmlld3BvcnQ9dGhpcy5zdG9yYWdlPW51bGx9LGdldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSxnZXRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX3ZtbFZpZXdwb3J0JiZ0aGlzLnJvb3QucmVtb3ZlQ2hpbGQodGhpcy5fdm1sVmlld3BvcnQpfSxfZ2V0V2lkdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QsZT10LmN1cnJlbnRTdHlsZTtyZXR1cm4odC5jbGllbnRXaWR0aHx8VWsoZS53aWR0aCkpLVVrKGUucGFkZGluZ0xlZnQpLVVrKGUucGFkZGluZ1JpZ2h0KXwwfSxfZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yb290LGU9dC5jdXJyZW50U3R5bGU7cmV0dXJuKHQuY2xpZW50SGVpZ2h0fHxVayhlLmhlaWdodCkpLVVrKGUucGFkZGluZ1RvcCktVWsoZS5wYWRkaW5nQm90dG9tKXwwfX0sUihbImdldExheWVyIiwiaW5zZXJ0TGF5ZXIiLCJlYWNoTGF5ZXIiLCJlYWNoQnVpbHRpbkxheWVyIiwiZWFjaE90aGVyTGF5ZXIiLCJnZXRMYXllcnMiLCJtb2RMYXllciIsImRlbExheWVyIiwiY2xlYXJMYXllciIsInRvRGF0YVVSTCIsInBhdGhUb0ltYWdlIl0sZnVuY3Rpb24odCl7WGsucHJvdG90eXBlW3RdPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZpKCdJbiBJRTguMCBWTUwgbW9kZSBwYWludGVyIG5vdCBzdXBwb3J0IG1ldGhvZCAiJyt0KyciJyl9fSh0KX0pLFBvKCJ2bWwiLFhrKTtmdW5jdGlvbiBZayh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdCl9dmFyIGprPXJyLkNNRCxxaz1BcnJheS5wcm90b3R5cGUuam9pbixLaz0ibm9uZSIsJGs9TWF0aC5yb3VuZCxKaz1NYXRoLnNpbixRaz1NYXRoLmNvcyx0UD1NYXRoLlBJLGVQPTIqTWF0aC5QSSxpUD0xODAvdFAsblA9MWUtNDtmdW5jdGlvbiBvUCh0KXtyZXR1cm4gJGsoMWU0KnQpLzFlNH1mdW5jdGlvbiBhUCh0KXtyZXR1cm4gdDxuUCYmLW5QPHR9ZnVuY3Rpb24gclAodCxlKXtlJiZzUCh0LCJ0cmFuc2Zvcm0iLCJtYXRyaXgoIitxay5jYWxsKGUsIiwiKSsiKSIpfWZ1bmN0aW9uIHNQKHQsZSxpKXtpJiYoImxpbmVhciI9PT1pLnR5cGV8fCJyYWRpYWwiPT09aS50eXBlKXx8dC5zZXRBdHRyaWJ1dGUoZSxpKX1mdW5jdGlvbiBsUCh0LGUsaSxuKXtpZihmdW5jdGlvbih0LGUpe3ZhciBpPWU/dC50ZXh0RmlsbDp0LmZpbGw7cmV0dXJuIG51bGwhPWkmJmkhPT1La30oZSxpKSl7dmFyIG89aT9lLnRleHRGaWxsOmUuZmlsbDtzUCh0LCJmaWxsIixvPSJ0cmFuc3BhcmVudCI9PT1vP0trOm8pLHNQKHQsImZpbGwtb3BhY2l0eSIsbnVsbCE9ZS5maWxsT3BhY2l0eT9lLmZpbGxPcGFjaXR5KmUub3BhY2l0eTplLm9wYWNpdHkpfWVsc2Ugc1AodCwiZmlsbCIsS2spO2lmKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZT90LnRleHRTdHJva2U6dC5zdHJva2U7cmV0dXJuIG51bGwhPWkmJmkhPT1La30oZSxpKSl7dmFyIGE9aT9lLnRleHRTdHJva2U6ZS5zdHJva2U7c1AodCwic3Ryb2tlIixhPSJ0cmFuc3BhcmVudCI9PT1hP0trOmEpLHNQKHQsInN0cm9rZS13aWR0aCIsKGk/ZS50ZXh0U3Ryb2tlV2lkdGg6ZS5saW5lV2lkdGgpLyghaSYmZS5zdHJva2VOb1NjYWxlP24uZ2V0TGluZVNjYWxlKCk6MSkpLHNQKHQsInBhaW50LW9yZGVyIixpPyJzdHJva2UiOiJmaWxsIiksc1AodCwic3Ryb2tlLW9wYWNpdHkiLG51bGwhPWUuc3Ryb2tlT3BhY2l0eT9lLnN0cm9rZU9wYWNpdHk6ZS5vcGFjaXR5KSxlLmxpbmVEYXNoPyhzUCh0LCJzdHJva2UtZGFzaGFycmF5IixlLmxpbmVEYXNoLmpvaW4oIiwiKSksc1AodCwic3Ryb2tlLWRhc2hvZmZzZXQiLCRrKGUubGluZURhc2hPZmZzZXR8fDApKSk6c1AodCwic3Ryb2tlLWRhc2hhcnJheSIsIiIpLGUubGluZUNhcCYmc1AodCwic3Ryb2tlLWxpbmVjYXAiLGUubGluZUNhcCksZS5saW5lSm9pbiYmc1AodCwic3Ryb2tlLWxpbmVqb2luIixlLmxpbmVKb2luKSxlLm1pdGVyTGltaXQmJnNQKHQsInN0cm9rZS1taXRlcmxpbWl0IixlLm1pdGVyTGltaXQpfWVsc2Ugc1AodCwic3Ryb2tlIixLayl9dmFyIHVQPXt9O3VQLmJydXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGUsaT10Ll9fc3ZnRWw7aXx8KGk9WWsoInBhdGgiKSx0Ll9fc3ZnRWw9aSksdC5wYXRofHx0LmNyZWF0ZVBhdGhQcm94eSgpO3ZhciBuPXQucGF0aDtpZih0Ll9fZGlydHlQYXRoKXtuLmJlZ2luUGF0aCgpLG4uc3ViUGl4ZWxPcHRpbWl6ZT0hMSx0LmJ1aWxkUGF0aChuLHQuc2hhcGUpLHQuX19kaXJ0eVBhdGg9ITE7dmFyIG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9dC5kYXRhLG49dC5sZW4oKSxvPTA7bzxuOyl7dmFyIGE9IiIscj0wO3N3aXRjaChpW28rK10pe2Nhc2UgamsuTTphPSJNIixyPTI7YnJlYWs7Y2FzZSBqay5MOmE9IkwiLHI9MjticmVhaztjYXNlIGprLlE6YT0iUSIscj00O2JyZWFrO2Nhc2UgamsuQzphPSJDIixyPTY7YnJlYWs7Y2FzZSBqay5BOnZhciBzPWlbbysrXSxsPWlbbysrXSx1PWlbbysrXSxoPWlbbysrXSxjPWlbbysrXSxkPWlbbysrXSxmPWlbbysrXSxwPWlbbysrXSxnPU1hdGguYWJzKGQpLG09YVAoZy1lUCl8fChwP2VQPD1kOmVQPD0tZCksdj0wPGQ/ZCVlUDpkJWVQK2VQLHk9ITE7eT0hIW18fCFhUChnKSYmdFA8PXY9PSEhcDt2YXIgeD1vUChzK3UqUWsoYykpLF89b1AobCtoKkprKGMpKTttJiYoZD1wP2VQLTFlLTQ6MWUtNC1lUCx5PSEwLDk9PT1vJiZlLnB1c2goIk0iLHgsXykpO3ZhciB3PW9QKHMrdSpRayhjK2QpKSxiPW9QKGwraCpKayhjK2QpKTtlLnB1c2goIkEiLG9QKHUpLG9QKGgpLCRrKGYqaVApLCt5LCtwLHcsYik7YnJlYWs7Y2FzZSBqay5aOmE9IloiO2JyZWFrO2Nhc2UgamsuUjp3PW9QKGlbbysrXSksYj1vUChpW28rK10pO3ZhciBTPW9QKGlbbysrXSksTT1vUChpW28rK10pO2UucHVzaCgiTSIsdyxiLCJMIix3K1MsYiwiTCIsdytTLGIrTSwiTCIsdyxiK00sIkwiLHcsYil9YSYmZS5wdXNoKGEpO2Zvcih2YXIgST0wO0k8cjtJKyspZS5wdXNoKG9QKGlbbysrXSkpfXJldHVybiBlLmpvaW4oIiAiKX0obik7by5pbmRleE9mKCJOYU4iKTwwJiZzUChpLCJkIixvKX1sUChpLGUsITEsdCksclAoaSx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0P21QKHQsdC5nZXRCb3VuZGluZ1JlY3QoKSk6eVAodCl9O3ZhciBoUD17YnJ1c2g6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxpPWUuaW1hZ2U7aSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQmJihpPWkuc3JjKTtpZihpKXt2YXIgbj1lLnh8fDAsbz1lLnl8fDAsYT1lLndpZHRoLHI9ZS5oZWlnaHQscz10Ll9fc3ZnRWw7c3x8KHM9WWsoImltYWdlIiksdC5fX3N2Z0VsPXMpLGkhPT10Ll9faW1hZ2VTcmMmJihmdW5jdGlvbih0LGUsaSl7dC5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsZSxpKX0ocywiaHJlZiIsaSksdC5fX2ltYWdlU3JjPWkpLHNQKHMsIndpZHRoIixhKSxzUChzLCJoZWlnaHQiLHIpLHNQKHMsIngiLG4pLHNQKHMsInkiLG8pLHJQKHMsdC50cmFuc2Zvcm0pLG51bGwhPWUudGV4dD9tUCh0LHQuZ2V0Qm91bmRpbmdSZWN0KCkpOnlQKHQpfX19LGNQPXt9LGRQPW5ldyBEaSxmUD17fSxwUD1bXSxnUD17bGVmdDoic3RhcnQiLHJpZ2h0OiJlbmQiLGNlbnRlcjoibWlkZGxlIixtaWRkbGU6Im1pZGRsZSJ9LG1QPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5zdHlsZSxuPXQudHJhbnNmb3JtLG89dCBpbnN0YW5jZW9mIFVyfHxpLnRyYW5zZm9ybVRleHQ7dC5fX2RpcnR5JiZSbihpKTt2YXIgYT1pLnRleHQ7aWYobnVsbCE9YSYmKGErPSIiKSxxbihhLGkpKXtudWxsPT1hJiYoYT0iIiksIW8mJm4mJihkUC5jb3B5KGUpLGRQLmFwcGx5VHJhbnNmb3JtKG4pLGU9ZFApO3ZhciByPXQuX190ZXh0U3ZnRWw7cnx8KHI9WWsoInRleHQiKSx0Ll9fdGV4dFN2Z0VsPXIpO3ZhciBzPXIuc3R5bGUsbD1pLmZvbnR8fGRuLHU9ci5fX2NvbXB1dGVkRm9udDtsIT09ci5fX3N0eWxlRm9udCYmKHMuZm9udD1yLl9fc3R5bGVGb250PWwsdT1yLl9fY29tcHV0ZWRGb250PXMuZm9udCk7dmFyIGg9aS50ZXh0UGFkZGluZyxjPWkudGV4dExpbmVIZWlnaHQsZD10Ll9fdGV4dENvdGVudEJsb2NrO2QmJiF0Ll9fZGlydHlUZXh0fHwoZD10Ll9fdGV4dENvdGVudEJsb2NrPU1uKGEsdSxoLGMsaS50cnVuY2F0ZSkpO3ZhciBmPWQub3V0ZXJIZWlnaHQscD1kLmxpbmVIZWlnaHQ7SG4oZlAsdCxpLGUpO3ZhciBnPWZQLmJhc2VYLG09ZlAuYmFzZVksdj1mUC50ZXh0QWxpZ258fCJsZWZ0Iix5PWZQLnRleHRWZXJ0aWNhbEFsaWduOyFmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXtyZShwUCksZSYmaSYmc2UocFAsaSk7dmFyIHM9bi50ZXh0Um90YXRpb247aWYobyYmcyl7dmFyIGw9bi50ZXh0T3JpZ2luOyJjZW50ZXIiPT09bD8oYT1vLndpZHRoLzIrby54LHI9by5oZWlnaHQvMitvLnkpOmwmJihhPWxbMF0rby54LHI9bFsxXStvLnkpLHBQWzRdLT1hLHBQWzVdLT1yLGhlKHBQLHBQLHMpLHBQWzRdKz1hLHBQWzVdKz1yfXJQKHQscFApfShyLG8sbixpLGUsZyxtKTt2YXIgeD1nLF89dm4obSxmLHkpO2gmJih4PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4icmlnaHQiPT09ZT90LWlbMV06ImNlbnRlciI9PT1lP3QraVszXS8yLWlbMV0vMjp0K2lbM119KGcsdixoKSxfKz1oWzBdKSxfKz1wLzIsbFAocixpLCEwLHQpO3ZhciB3PWQuY2FuQ2FjaGVCeVRleHRTdHJpbmcsYj10Ll9fdHNwYW5MaXN0fHwodC5fX3RzcGFuTGlzdD1bXSksUz1iLmxlbmd0aDtpZih3JiZ0Ll9fY2FuQ2FjaGVCeVRleHRTdHJpbmcmJnQuX190ZXh0PT09YSl7aWYodC5fX2RpcnR5VGV4dCYmUylmb3IodmFyIE09MDtNPFM7KytNKXZQKGJbTV0sdix4LF8rTSpwKX1lbHNle3QuX190ZXh0PWEsdC5fX2NhbkNhY2hlQnlUZXh0U3RyaW5nPXc7dmFyIEk9ZC5saW5lcyxUPUkubGVuZ3RoO2ZvcihNPTA7TTxUO00rKyl7dmFyIEE9YltNXSxEPUlbTV07QT9BLl9fenJUZXh0IT09RCYmKEEuaW5uZXJIVE1MPSIiLEEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoRCkpKTooQT1iW01dPVlrKCJ0c3BhbiIpLHIuYXBwZW5kQ2hpbGQoQSksQS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShEKSkpLHZQKEEsdix4LF8rTSpwKX1pZihUPFMpe2Zvcig7TTxTO00rKylyLnJlbW92ZUNoaWxkKGJbTV0pO2IubGVuZ3RoPVR9fX19O2Z1bmN0aW9uIHZQKHQsZSxpLG4pe3NQKHQsImRvbWluYW50LWJhc2VsaW5lIiwibWlkZGxlIiksc1AodCwidGV4dC1hbmNob3IiLGdQW2VdKSxzUCh0LCJ4IixpKSxzUCh0LCJ5IixuKX1mdW5jdGlvbiB5UCh0KXt0JiZ0Ll9fdGV4dFN2Z0VsJiYodC5fX3RleHRTdmdFbC5wYXJlbnROb2RlJiZ0Ll9fdGV4dFN2Z0VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5fX3RleHRTdmdFbCksdC5fX3RleHRTdmdFbD1udWxsLHQuX190c3Bhbkxpc3Q9W10sdC5fX3RleHQ9bnVsbCl9ZnVuY3Rpb24geFAoKXt9ZnVuY3Rpb24gX1AodCxlKXtmb3IodmFyIGk9MCxuPWUubGVuZ3RoLG89MCxhPTA7aTxuO2krKyl7dmFyIHI9ZVtpXTtpZihyLnJlbW92ZWQpe2ZvcihzPVtdLGw9YTtsPGErci5jb3VudDtsKyspcy5wdXNoKGwpO3IuaW5kaWNlcz1zLGErPXIuY291bnR9ZWxzZXtmb3IodmFyIHM9W10sbD1vO2w8bytyLmNvdW50O2wrKylzLnB1c2gobCk7ci5pbmRpY2VzPXMsbys9ci5jb3VudCxyLmFkZGVkfHwoYSs9ci5jb3VudCl9fXJldHVybiBlfWNQLmRyYXdSZWN0VGV4dD1tUCxjUC5icnVzaD1mdW5jdGlvbih0KXtudWxsIT10LnN0eWxlLnRleHQ/bVAodCwhMSk6eVAodCl9LHhQLnByb3RvdHlwZT17ZGlmZjpmdW5jdGlvbihsLHUsdCl7dD10fHxmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZX0sdGhpcy5lcXVhbHM9dDt2YXIgaD10aGlzO2w9bC5zbGljZSgpO3ZhciBjPSh1PXUuc2xpY2UoKSkubGVuZ3RoLGQ9bC5sZW5ndGgsZj0xLGU9YytkLHA9W3tuZXdQb3M6LTEsY29tcG9uZW50czpbXX1dLGk9dGhpcy5leHRyYWN0Q29tbW9uKHBbMF0sdSxsLDApO2lmKHBbMF0ubmV3UG9zKzE+PWMmJmQ8PWkrMSl7Zm9yKHZhciBuPVtdLG89MDtvPHUubGVuZ3RoO28rKyluLnB1c2gobyk7cmV0dXJuW3tpbmRpY2VzOm4sY291bnQ6dS5sZW5ndGh9XX1mdW5jdGlvbiBhKCl7Zm9yKHZhciB0PS0xKmY7dDw9Zjt0Kz0yKXt2YXIgZSxpPXBbdC0xXSxuPXBbdCsxXSxvPShuP24ubmV3UG9zOjApLXQ7aSYmKHBbdC0xXT12b2lkIDApO3ZhciBhPWkmJmkubmV3UG9zKzE8YyxyPW4mJjA8PW8mJm88ZDtpZihhfHxyKXtpZighYXx8ciYmaS5uZXdQb3M8bi5uZXdQb3M/KGU9e25ld1Bvczoocz1uKS5uZXdQb3MsY29tcG9uZW50czpzLmNvbXBvbmVudHMuc2xpY2UoMCl9LGgucHVzaENvbXBvbmVudChlLmNvbXBvbmVudHMsdm9pZCAwLCEwKSk6KChlPWkpLm5ld1BvcysrLGgucHVzaENvbXBvbmVudChlLmNvbXBvbmVudHMsITAsdm9pZCAwKSksbz1oLmV4dHJhY3RDb21tb24oZSx1LGwsdCksZS5uZXdQb3MrMT49YyYmZDw9bysxKXJldHVybiBfUChoLGUuY29tcG9uZW50cyx1LGwpO3BbdF09ZX1lbHNlIHBbdF09dm9pZCAwfXZhciBzO2YrK31mb3IoO2Y8PWU7KXt2YXIgcj1hKCk7aWYocilyZXR1cm4gcn19LHB1c2hDb21wb25lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRbdC5sZW5ndGgtMV07biYmbi5hZGRlZD09PWUmJm4ucmVtb3ZlZD09PWk/dFt0Lmxlbmd0aC0xXT17Y291bnQ6bi5jb3VudCsxLGFkZGVkOmUscmVtb3ZlZDppfTp0LnB1c2goe2NvdW50OjEsYWRkZWQ6ZSxyZW1vdmVkOml9KX0sZXh0cmFjdENvbW1vbjpmdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89ZS5sZW5ndGgsYT1pLmxlbmd0aCxyPXQubmV3UG9zLHM9ci1uLGw9MDtyKzE8byYmcysxPGEmJnRoaXMuZXF1YWxzKGVbcisxXSxpW3MrMV0pOylyKysscysrLGwrKztyZXR1cm4gbCYmdC5jb21wb25lbnRzLnB1c2goe2NvdW50Omx9KSx0Lm5ld1Bvcz1yLHN9LHRva2VuaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LGpvaW46ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoKX19O3ZhciB3UD1uZXcgeFA7ZnVuY3Rpb24gYlAodCxlLGksbixvKXt0aGlzLl96cklkPXQsdGhpcy5fc3ZnUm9vdD1lLHRoaXMuX3RhZ05hbWVzPSJzdHJpbmciPT10eXBlb2YgaT9baV06aSx0aGlzLl9tYXJrTGFiZWw9bix0aGlzLl9kb21OYW1lPW98fCJfZG9tIix0aGlzLm5leHRJZD0wfWZ1bmN0aW9uIFNQKHQsZSl7YlAuY2FsbCh0aGlzLHQsZSxbImxpbmVhckdyYWRpZW50IiwicmFkaWFsR3JhZGllbnQiXSwiX19ncmFkaWVudF9pbl91c2VfXyIpfWZ1bmN0aW9uIE1QKHQsZSl7YlAuY2FsbCh0aGlzLHQsZSwiY2xpcFBhdGgiLCJfX2NsaXBwYXRoX2luX3VzZV9fIil9ZnVuY3Rpb24gSVAodCxlKXtiUC5jYWxsKHRoaXMsdCxlLFsiZmlsdGVyIl0sIl9fZmlsdGVyX2luX3VzZV9fIiwiX3NoYWRvd0RvbSIpfWZ1bmN0aW9uIFRQKHQpe3JldHVybiB0JiYodC5zaGFkb3dCbHVyfHx0LnNoYWRvd09mZnNldFh8fHQuc2hhZG93T2Zmc2V0WXx8dC50ZXh0U2hhZG93Qmx1cnx8dC50ZXh0U2hhZG93T2Zmc2V0WHx8dC50ZXh0U2hhZG93T2Zmc2V0WSl9ZnVuY3Rpb24gQVAodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfWZ1bmN0aW9uIERQKHQsZSl7cmV0dXJuIGUmJnQmJmUucGFyZW50Tm9kZSE9PXR9ZnVuY3Rpb24gQ1AodCxlLGkpe2lmKERQKHQsZSkmJmkpe3ZhciBuPWkubmV4dFNpYmxpbmc7bj90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSl9fWZ1bmN0aW9uIExQKHQsZSl7aWYoRFAodCxlKSl7dmFyIGk9dC5maXJzdENoaWxkO2k/dC5pbnNlcnRCZWZvcmUoZSxpKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiBrUCh0LGUpe2UmJnQmJmUucGFyZW50Tm9kZT09PXQmJnQucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gUFAodCl7cmV0dXJuIHQuX190ZXh0U3ZnRWx9ZnVuY3Rpb24gTlAodCl7cmV0dXJuIHQuX19zdmdFbH1iUC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1ZayxiUC5wcm90b3R5cGUuZ2V0RGVmcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdmdSb290LG49dGhpcy5fc3ZnUm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpO3JldHVybiAwPT09bi5sZW5ndGg/dD8oKG49ZS5pbnNlcnRCZWZvcmUodGhpcy5jcmVhdGVFbGVtZW50KCJkZWZzIiksZS5maXJzdENoaWxkKSkuY29udGFpbnN8fChuLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3ZhciBlPW4uY2hpbGRyZW47aWYoIWUpcmV0dXJuITE7Zm9yKHZhciBpPWUubGVuZ3RoLTE7MDw9aTstLWkpaWYoZVtpXT09PXQpcmV0dXJuITA7cmV0dXJuITF9KSxuKTpudWxsOm5bMF19LGJQLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgaT10aGlzLmdldERlZnMoITEpO2lmKHRbdGhpcy5fZG9tTmFtZV0mJmkuY29udGFpbnModFt0aGlzLl9kb21OYW1lXSkpImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUodCk7ZWxzZXt2YXIgbj10aGlzLmFkZCh0KTtuJiYodFt0aGlzLl9kb21OYW1lXT1uKX19fSxiUC5wcm90b3R5cGUuYWRkRG9tPWZ1bmN0aW9uKHQpe3RoaXMuZ2V0RGVmcyghMCkuYXBwZW5kQ2hpbGQodCl9LGJQLnByb3RvdHlwZS5yZW1vdmVEb209ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREZWZzKCExKTtlJiZ0W3RoaXMuX2RvbU5hbWVdJiYoZS5yZW1vdmVDaGlsZCh0W3RoaXMuX2RvbU5hbWVdKSx0W3RoaXMuX2RvbU5hbWVdPW51bGwpfSxiUC5wcm90b3R5cGUuZ2V0RG9tcz1mdW5jdGlvbigpe3ZhciBpPXRoaXMuZ2V0RGVmcyghMSk7aWYoIWkpcmV0dXJuW107dmFyIG49W107cmV0dXJuIFIodGhpcy5fdGFnTmFtZXMsZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0KTtuPW4uY29uY2F0KFtdLnNsaWNlLmNhbGwoZSkpfSksbn0sYlAucHJvdG90eXBlLm1hcmtBbGxVbnVzZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERvbXMoKSxlPXRoaXM7Uih0LGZ1bmN0aW9uKHQpe3RbZS5fbWFya0xhYmVsXT0iMCJ9KX0sYlAucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3QmJih0W3RoaXMuX21hcmtMYWJlbF09IjEiKX0sYlAucHJvdG90eXBlLnJlbW92ZVVudXNlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RGVmcyghMSk7aWYoZSl7dmFyIHQ9dGhpcy5nZXREb21zKCksaT10aGlzO1IodCxmdW5jdGlvbih0KXsiMSIhPT10W2kuX21hcmtMYWJlbF0mJmUucmVtb3ZlQ2hpbGQodCl9KX19LGJQLnByb3RvdHlwZS5nZXRTdmdQcm94eT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFyP3VQOnQgaW5zdGFuY2VvZiBRbj9oUDp0IGluc3RhbmNlb2YgVXI/Y1A6dVB9LGJQLnByb3RvdHlwZS5nZXRUZXh0U3ZnRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX3RleHRTdmdFbH0sYlAucHJvdG90eXBlLmdldFN2Z0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zdmdFbH0sdyhTUCxiUCksU1AucHJvdG90eXBlLmFkZFdpdGhvdXRVcGRhdGU9ZnVuY3Rpb24oYSxyKXtpZihyJiZyLnN0eWxlKXt2YXIgcz10aGlzO1IoWyJmaWxsIiwic3Ryb2tlIl0sZnVuY3Rpb24odCl7aWYoci5zdHlsZVt0XSYmKCJsaW5lYXIiPT09ci5zdHlsZVt0XS50eXBlfHwicmFkaWFsIj09PXIuc3R5bGVbdF0udHlwZSkpe3ZhciBlLGk9ci5zdHlsZVt0XSxuPXMuZ2V0RGVmcyghMCk7aS5fZG9tPyhlPWkuX2RvbSxuLmNvbnRhaW5zKGkuX2RvbSl8fHMuYWRkRG9tKGUpKTplPXMuYWRkKGkpLHMubWFya1VzZWQocik7dmFyIG89ZS5nZXRBdHRyaWJ1dGUoImlkIik7YS5zZXRBdHRyaWJ1dGUodCwidXJsKCMiK28rIikiKX19KX19LFNQLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU7aWYoImxpbmVhciI9PT10LnR5cGUpZT10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVhckdyYWRpZW50Iik7ZWxzZXtpZigicmFkaWFsIiE9PXQudHlwZSlyZXR1cm4gdmkoIklsbGVnYWwgZ3JhZGllbnQgdHlwZS4iKSxudWxsO2U9dGhpcy5jcmVhdGVFbGVtZW50KCJyYWRpYWxHcmFkaWVudCIpfXJldHVybiB0LmlkPXQuaWR8fHRoaXMubmV4dElkKyssZS5zZXRBdHRyaWJ1dGUoImlkIiwienIiK3RoaXMuX3pySWQrIi1ncmFkaWVudC0iK3QuaWQpLHRoaXMudXBkYXRlRG9tKHQsZSksdGhpcy5hZGREb20oZSksZX0sU1AucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihpKXt2YXIgbj10aGlzO2JQLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLGksZnVuY3Rpb24oKXt2YXIgdD1pLnR5cGUsZT1pLl9kb20udGFnTmFtZTsibGluZWFyIj09PXQmJiJsaW5lYXJHcmFkaWVudCI9PT1lfHwicmFkaWFsIj09PXQmJiJyYWRpYWxHcmFkaWVudCI9PT1lP24udXBkYXRlRG9tKGksaS5fZG9tKToobi5yZW1vdmVEb20oaSksbi5hZGQoaSkpfSl9LFNQLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlKXtpZigibGluZWFyIj09PXQudHlwZSllLnNldEF0dHJpYnV0ZSgieDEiLHQueCksZS5zZXRBdHRyaWJ1dGUoInkxIix0LnkpLGUuc2V0QXR0cmlidXRlKCJ4MiIsdC54MiksZS5zZXRBdHRyaWJ1dGUoInkyIix0LnkyKTtlbHNle2lmKCJyYWRpYWwiIT09dC50eXBlKXJldHVybiB2b2lkIHZpKCJJbGxlZ2FsIGdyYWRpZW50IHR5cGUuIik7ZS5zZXRBdHRyaWJ1dGUoImN4Iix0LngpLGUuc2V0QXR0cmlidXRlKCJjeSIsdC55KSxlLnNldEF0dHJpYnV0ZSgiciIsdC5yKX10Lmdsb2JhbD9lLnNldEF0dHJpYnV0ZSgiZ3JhZGllbnRVbml0cyIsInVzZXJTcGFjZU9uVXNlIik6ZS5zZXRBdHRyaWJ1dGUoImdyYWRpZW50VW5pdHMiLCJvYmplY3RCb3VuZGluZ0JveCIpLGUuaW5uZXJIVE1MPSIiO2Zvcih2YXIgaT10LmNvbG9yU3RvcHMsbj0wLG89aS5sZW5ndGg7bjxvOysrbil7dmFyIGE9dGhpcy5jcmVhdGVFbGVtZW50KCJzdG9wIik7YS5zZXRBdHRyaWJ1dGUoIm9mZnNldCIsMTAwKmlbbl0ub2Zmc2V0KyIlIik7dmFyIHI9aVtuXS5jb2xvcjtpZigtMTxyLmluZGV4T2YoInJnYmEiKSl7dmFyIHM9RmUocilbM10sbD1aZShyKTthLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsIiMiK2wpLGEuc2V0QXR0cmlidXRlKCJzdG9wLW9wYWNpdHkiLHMpfWVsc2UgYS5zZXRBdHRyaWJ1dGUoInN0b3AtY29sb3IiLGlbbl0uY29sb3IpO2UuYXBwZW5kQ2hpbGQoYSl9dC5fZG9tPWV9LFNQLnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbih0KXtpZih0LnN0eWxlKXt2YXIgZT10LnN0eWxlLmZpbGw7ZSYmZS5fZG9tJiZiUC5wcm90b3R5cGUubWFya1VzZWQuY2FsbCh0aGlzLGUuX2RvbSksKGU9dC5zdHlsZS5zdHJva2UpJiZlLl9kb20mJmJQLnByb3RvdHlwZS5tYXJrVXNlZC5jYWxsKHRoaXMsZS5fZG9tKX19LHcoTVAsYlApLE1QLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTdmdFbGVtZW50KHQpO2UmJnRoaXMudXBkYXRlRG9tKGUsdC5fX2NsaXBQYXRocywhMSk7dmFyIGk9dGhpcy5nZXRUZXh0U3ZnRWxlbWVudCh0KTtpJiZ0aGlzLnVwZGF0ZURvbShpLHQuX19jbGlwUGF0aHMsITApLHRoaXMubWFya1VzZWQodCl9LE1QLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlLGkpe2lmKGUmJjA8ZS5sZW5ndGgpe3ZhciBuLG8sYT10aGlzLmdldERlZnMoITApLHI9ZVswXSxzPWk/Il90ZXh0RG9tIjoiX2RvbSI7cltzXT8obz1yW3NdLmdldEF0dHJpYnV0ZSgiaWQiKSxuPXJbc10sYS5jb250YWlucyhuKXx8YS5hcHBlbmRDaGlsZChuKSk6KG89InpyIit0aGlzLl96cklkKyItY2xpcC0iK3RoaXMubmV4dElkLCsrdGhpcy5uZXh0SWQsKG49dGhpcy5jcmVhdGVFbGVtZW50KCJjbGlwUGF0aCIpKS5zZXRBdHRyaWJ1dGUoImlkIixvKSxhLmFwcGVuZENoaWxkKG4pLHJbc109bik7dmFyIGw9dGhpcy5nZXRTdmdQcm94eShyKTtpZihyLnRyYW5zZm9ybSYmci5wYXJlbnQuaW52VHJhbnNmb3JtJiYhaSl7dmFyIHU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoci50cmFuc2Zvcm0pO2xlKHIudHJhbnNmb3JtLHIucGFyZW50LmludlRyYW5zZm9ybSxyLnRyYW5zZm9ybSksbC5icnVzaChyKSxyLnRyYW5zZm9ybT11fWVsc2UgbC5icnVzaChyKTt2YXIgaD10aGlzLmdldFN2Z0VsZW1lbnQocik7bi5pbm5lckhUTUw9IiIsbi5hcHBlbmRDaGlsZChoLmNsb25lTm9kZSgpKSx0LnNldEF0dHJpYnV0ZSgiY2xpcC1wYXRoIiwidXJsKCMiK28rIikiKSwxPGUubGVuZ3RoJiZ0aGlzLnVwZGF0ZURvbShuLGUuc2xpY2UoMSksaSl9ZWxzZSB0JiZ0LnNldEF0dHJpYnV0ZSgiY2xpcC1wYXRoIiwibm9uZSIpfSxNUC5wcm90b3R5cGUubWFya1VzZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0Ll9fY2xpcFBhdGhzJiZSKHQuX19jbGlwUGF0aHMsZnVuY3Rpb24odCl7dC5fZG9tJiZiUC5wcm90b3R5cGUubWFya1VzZWQuY2FsbChlLHQuX2RvbSksdC5fdGV4dERvbSYmYlAucHJvdG90eXBlLm1hcmtVc2VkLmNhbGwoZSx0Ll90ZXh0RG9tKX0pfSx3KElQLGJQKSxJUC5wcm90b3R5cGUuYWRkV2l0aG91dFVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKGUmJlRQKGUuc3R5bGUpKXt2YXIgaTtpZihlLl9zaGFkb3dEb20paT1lLl9zaGFkb3dEb20sdGhpcy5nZXREZWZzKCEwKS5jb250YWlucyhlLl9zaGFkb3dEb20pfHx0aGlzLmFkZERvbShpKTtlbHNlIGk9dGhpcy5hZGQoZSk7dGhpcy5tYXJrVXNlZChlKTt2YXIgbj1pLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnN0eWxlLmZpbHRlcj0idXJsKCMiK24rIikifX0sSVAucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoImZpbHRlciIpO3JldHVybiB0Ll9zaGFkb3dEb21JZD10Ll9zaGFkb3dEb21JZHx8dGhpcy5uZXh0SWQrKyxlLnNldEF0dHJpYnV0ZSgiaWQiLCJ6ciIrdGhpcy5fenJJZCsiLXNoYWRvdy0iK3QuX3NoYWRvd0RvbUlkKSx0aGlzLnVwZGF0ZURvbSh0LGUpLHRoaXMuYWRkRG9tKGUpLGV9LElQLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZihUUChlLnN0eWxlKSl7dmFyIGk9dGhpcztiUC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLGZ1bmN0aW9uKCl7aS51cGRhdGVEb20oZSxlLl9zaGFkb3dEb20pfSl9ZWxzZSB0aGlzLnJlbW92ZSh0LGUpfSxJUC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7bnVsbCE9ZS5fc2hhZG93RG9tSWQmJih0aGlzLnJlbW92ZURvbSh0KSx0LnN0eWxlLmZpbHRlcj0iIil9LElQLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmZURyb3BTaGFkb3ciKTtpPTA9PT1pLmxlbmd0aD90aGlzLmNyZWF0ZUVsZW1lbnQoImZlRHJvcFNoYWRvdyIpOmlbMF07dmFyIG4sbyxhLHIscz10LnN0eWxlLGw9dC5zY2FsZSYmdC5zY2FsZVswXXx8MSx1PXQuc2NhbGUmJnQuc2NhbGVbMV18fDE7aWYocy5zaGFkb3dCbHVyfHxzLnNoYWRvd09mZnNldFh8fHMuc2hhZG93T2Zmc2V0WSluPXMuc2hhZG93T2Zmc2V0WHx8MCxvPXMuc2hhZG93T2Zmc2V0WXx8MCxhPXMuc2hhZG93Qmx1cixyPXMuc2hhZG93Q29sb3I7ZWxzZXtpZighcy50ZXh0U2hhZG93Qmx1cilyZXR1cm4gdm9pZCB0aGlzLnJlbW92ZURvbShlLHMpO249cy50ZXh0U2hhZG93T2Zmc2V0WHx8MCxvPXMudGV4dFNoYWRvd09mZnNldFl8fDAsYT1zLnRleHRTaGFkb3dCbHVyLHI9cy50ZXh0U2hhZG93Q29sb3J9aS5zZXRBdHRyaWJ1dGUoImR4IixuL2wpLGkuc2V0QXR0cmlidXRlKCJkeSIsby91KSxpLnNldEF0dHJpYnV0ZSgiZmxvb2QtY29sb3IiLHIpO3ZhciBoPWEvMi9sKyIgIithLzIvdTtpLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIixoKSxlLnNldEF0dHJpYnV0ZSgieCIsIi0xMDAlIiksZS5zZXRBdHRyaWJ1dGUoInkiLCItMTAwJSIpLGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5jZWlsKGEvMioyMDApKyIlIiksZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKGEvMioyMDApKyIlIiksZS5hcHBlbmRDaGlsZChpKSx0Ll9zaGFkb3dEb209ZX0sSVAucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3QuX3NoYWRvd0RvbSYmYlAucHJvdG90eXBlLm1hcmtVc2VkLmNhbGwodGhpcyx0Ll9zaGFkb3dEb20pfTtmdW5jdGlvbiBPUCh0LGUsaSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnN0b3JhZ2U9ZSx0aGlzLl9vcHRzPWk9UCh7fSxpfHx7fSk7dmFyIG89WWsoInN2ZyIpO28uc2V0QXR0cmlidXRlKCJ4bWxucyIsImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiksby5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKSxvLnNldEF0dHJpYnV0ZSgiYmFzZVByb2ZpbGUiLCJmdWxsIiksby5zdHlsZS5jc3NUZXh0PSJ1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDsiO3ZhciBhPVlrKCJnIik7by5hcHBlbmRDaGlsZChhKTt2YXIgcj1ZaygiZyIpO28uYXBwZW5kQ2hpbGQociksdGhpcy5ncmFkaWVudE1hbmFnZXI9bmV3IFNQKG4sciksdGhpcy5jbGlwUGF0aE1hbmFnZXI9bmV3IE1QKG4sciksdGhpcy5zaGFkb3dNYW5hZ2VyPW5ldyBJUChuLHIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Muc3R5bGUuY3NzVGV4dD0ib3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlIix0aGlzLl9zdmdEb209byx0aGlzLl9zdmdSb290PXIsdGhpcy5fYmFja2dyb3VuZFJvb3Q9YSx0aGlzLl92aWV3cG9ydD1zLHQuYXBwZW5kQ2hpbGQocykscy5hcHBlbmRDaGlsZChvKSx0aGlzLnJlc2l6ZShpLndpZHRoLGkuaGVpZ2h0KSx0aGlzLl92aXNpYmxlTGlzdD1bXX1PUC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk9QLGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4ic3ZnIn0sZ2V0Vmlld3BvcnRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0fSxnZXRTdmdEb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ZnRG9tfSxnZXRTdmdSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N2Z1Jvb3R9LGdldFZpZXdwb3J0Um9vdE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Vmlld3BvcnRSb290KCk7aWYodClyZXR1cm57b2Zmc2V0TGVmdDp0Lm9mZnNldExlZnR8fDAsb2Zmc2V0VG9wOnQub2Zmc2V0VG9wfHwwfX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCk7dGhpcy5fcGFpbnRMaXN0KHQpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24odCl7dGhpcy5fYmFja2dyb3VuZFJvb3QmJnRoaXMuX2JhY2tncm91bmROb2RlJiZ0aGlzLl9iYWNrZ3JvdW5kUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9iYWNrZ3JvdW5kTm9kZSk7dmFyIGU9WWsoInJlY3QiKTtlLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuZ2V0V2lkdGgoKSksZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5nZXRIZWlnaHQoKSksZS5zZXRBdHRyaWJ1dGUoIngiLDApLGUuc2V0QXR0cmlidXRlKCJ5IiwwKSxlLnNldEF0dHJpYnV0ZSgiaWQiLDApLGUuc3R5bGUuZmlsbD10LHRoaXMuX2JhY2tncm91bmRSb290LmFwcGVuZENoaWxkKGUpLHRoaXMuX2JhY2tncm91bmROb2RlPWV9LF9wYWludExpc3Q6ZnVuY3Rpb24odCl7dGhpcy5ncmFkaWVudE1hbmFnZXIubWFya0FsbFVudXNlZCgpLHRoaXMuY2xpcFBhdGhNYW5hZ2VyLm1hcmtBbGxVbnVzZWQoKSx0aGlzLnNoYWRvd01hbmFnZXIubWFya0FsbFVudXNlZCgpO3ZhciBlLGksbj10aGlzLl9zdmdSb290LG89dGhpcy5fdmlzaWJsZUxpc3QsYT10Lmxlbmd0aCxyPVtdO2ZvcihlPTA7ZTxhO2UrKyl7dmFyIHM9dFtlXSxsPShpPXMpaW5zdGFuY2VvZiBBcj91UDppIGluc3RhbmNlb2YgUW4/aFA6aSBpbnN0YW5jZW9mIFVyP2NQOnVQLHU9TlAocyl8fFBQKHMpO3MuaW52aXNpYmxlfHwocy5fX2RpcnR5JiYobCYmbC5icnVzaChzKSx0aGlzLmNsaXBQYXRoTWFuYWdlci51cGRhdGUocykscy5zdHlsZSYmKHRoaXMuZ3JhZGllbnRNYW5hZ2VyLnVwZGF0ZShzLnN0eWxlLmZpbGwpLHRoaXMuZ3JhZGllbnRNYW5hZ2VyLnVwZGF0ZShzLnN0eWxlLnN0cm9rZSksdGhpcy5zaGFkb3dNYW5hZ2VyLnVwZGF0ZSh1LHMpKSxzLl9fZGlydHk9ITEpLHIucHVzaChzKSl9dmFyIGgsYz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHdQLmRpZmYodCxlLGkpfShvLHIpO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspe2lmKChwPWNbZV0pLnJlbW92ZWQpZm9yKHZhciBkPTA7ZDxwLmNvdW50O2QrKyl7dT1OUChzPW9bcC5pbmRpY2VzW2RdXSk7dmFyIGY9UFAocyk7a1Aobix1KSxrUChuLGYpfX1mb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgcDtpZigocD1jW2VdKS5hZGRlZClmb3IoZD0wO2Q8cC5jb3VudDtkKyspe3U9TlAocz1yW3AuaW5kaWNlc1tkXV0pLGY9UFAocyk7aD9DUChuLHUsaCk6TFAobix1KSx1P0NQKG4sZix1KTpoP0NQKG4sZixoKTpMUChuLGYpLENQKG4sZix1KSxoPWZ8fHV8fGgsdGhpcy5ncmFkaWVudE1hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZSh1fHxmLHMpLHRoaXMuc2hhZG93TWFuYWdlci5hZGRXaXRob3V0VXBkYXRlKHV8fGYscyksdGhpcy5jbGlwUGF0aE1hbmFnZXIubWFya1VzZWQocyl9ZWxzZSBpZighcC5yZW1vdmVkKWZvcihkPTA7ZDxwLmNvdW50O2QrKyl7dT1OUChzPXJbcC5pbmRpY2VzW2RdXSksZj1QUChzKSx1PU5QKHMpLGY9UFAocyk7dGhpcy5ncmFkaWVudE1hbmFnZXIubWFya1VzZWQocyksdGhpcy5ncmFkaWVudE1hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZSh1fHxmLHMpLHRoaXMuc2hhZG93TWFuYWdlci5tYXJrVXNlZChzKSx0aGlzLnNoYWRvd01hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZSh1fHxmLHMpLHRoaXMuY2xpcFBhdGhNYW5hZ2VyLm1hcmtVc2VkKHMpLGYmJkNQKG4sZix1KSxoPXV8fGZ8fGh9fXRoaXMuZ3JhZGllbnRNYW5hZ2VyLnJlbW92ZVVudXNlZCgpLHRoaXMuY2xpcFBhdGhNYW5hZ2VyLnJlbW92ZVVudXNlZCgpLHRoaXMuc2hhZG93TWFuYWdlci5yZW1vdmVVbnVzZWQoKSx0aGlzLl92aXNpYmxlTGlzdD1yfSxfZ2V0RGVmczpmdW5jdGlvbih0KXt2YXIgbixlPXRoaXMuX3N2Z0RvbTtyZXR1cm4gMCE9PShuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKSkubGVuZ3RoP25bMF06dD8oKG49ZS5pbnNlcnRCZWZvcmUoWWsoImRlZnMiKSxlLmZpcnN0Q2hpbGQpKS5jb250YWluc3x8KG4uY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9bi5jaGlsZHJlbjtpZighZSlyZXR1cm4hMTtmb3IodmFyIGk9ZS5sZW5ndGgtMTswPD1pOy0taSlpZihlW2ldPT09dClyZXR1cm4hMDtyZXR1cm4hMX0pLG4pOm51bGx9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3ZpZXdwb3J0O2kuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIG49dGhpcy5fb3B0cztpZihudWxsIT10JiYobi53aWR0aD10KSxudWxsIT1lJiYobi5oZWlnaHQ9ZSksdD10aGlzLl9nZXRTaXplKDApLGU9dGhpcy5fZ2V0U2l6ZSgxKSxpLnN0eWxlLmRpc3BsYXk9IiIsdGhpcy5fd2lkdGghPT10fHx0aGlzLl9oZWlnaHQhPT1lKXt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lO3ZhciBvPWkuc3R5bGU7by53aWR0aD10KyJweCIsby5oZWlnaHQ9ZSsicHgiO3ZhciBhPXRoaXMuX3N2Z0RvbTthLnNldEF0dHJpYnV0ZSgid2lkdGgiLHQpLGEuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGUpfXRoaXMuX2JhY2tncm91bmROb2RlJiYodGhpcy5fYmFja2dyb3VuZE5vZGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdCksdGhpcy5fYmFja2dyb3VuZE5vZGUuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGUpKX0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LF9nZXRTaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29wdHMsaT1bIndpZHRoIiwiaGVpZ2h0Il1bdF0sbj1bImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Il1bdF0sbz1bInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCJdW3RdLGE9WyJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nQm90dG9tIl1bdF07aWYobnVsbCE9ZVtpXSYmImF1dG8iIT09ZVtpXSlyZXR1cm4gcGFyc2VGbG9hdChlW2ldKTt2YXIgcj10aGlzLnJvb3Qscz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHIpO3JldHVybihyW25dfHxBUChzW2ldKXx8QVAoci5zdHlsZVtpXSkpLShBUChzW29dKXx8MCktKEFQKHNbYV0pfHwwKXwwfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD0iIix0aGlzLl9zdmdSb290PXRoaXMuX2JhY2tncm91bmRSb290PXRoaXMuX3N2Z0RvbT10aGlzLl9iYWNrZ3JvdW5kTm9kZT10aGlzLl92aWV3cG9ydD10aGlzLnN0b3JhZ2U9bnVsbH0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl92aWV3cG9ydCYmdGhpcy5yb290LnJlbW92ZUNoaWxkKHRoaXMuX3ZpZXdwb3J0KX0sdG9EYXRhVVJMOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmcmVzaCgpLCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCwiK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLl9zdmdEb20ub3V0ZXJIVE1MLnJlcGxhY2UoLz48L2csIj5cblxyPCIpKX19LFIoWyJnZXRMYXllciIsImluc2VydExheWVyIiwiZWFjaExheWVyIiwiZWFjaEJ1aWx0aW5MYXllciIsImVhY2hPdGhlckxheWVyIiwiZ2V0TGF5ZXJzIiwibW9kTGF5ZXIiLCJkZWxMYXllciIsImNsZWFyTGF5ZXIiLCJwYXRoVG9JbWFnZSJdLGZ1bmN0aW9uKHQpe09QLnByb3RvdHlwZVt0XT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2aSgnSW4gU1ZHIG1vZGUgcGFpbnRlciBub3Qgc3VwcG9ydCBtZXRob2QgIicrdCsnIicpfX0odCl9KSxQbygic3ZnIixPUCksdC52ZXJzaW9uPSI0LjkuMCIsdC5kZXBlbmRlbmNpZXM9e3pyZW5kZXI6IjQuMy4yIn0sdC5QUklPUklUWT1MZCx0LmluaXQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPW1mKHQpO2lmKG4pcmV0dXJuIG47dmFyIG89bmV3IHpkKHQsZSxpKTtyZXR1cm4gby5pZD0iZWNfIitjZisrLHVmW28uaWRdPW8sSm8odCxmZixvLmlkKSxmdW5jdGlvbihuKXt2YXIgbz0iX19jb25uZWN0VXBkYXRlU3RhdHVzIjtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3RbaV1bb109ZX19VGQoZWYsZnVuY3Rpb24odCxlKXtuLl9tZXNzYWdlQ2VudGVyLm9uKGUsZnVuY3Rpb24odCl7aWYoaGZbbi5ncm91cF0mJjAhPT1uW29dKXtpZih0JiZ0LmVzY2FwZUNvbm5lY3QpcmV0dXJuO3ZhciBlPW4ubWFrZUFjdGlvbkZyb21FdmVudCh0KSxpPVtdO1RkKHVmLGZ1bmN0aW9uKHQpe3QhPT1uJiZ0Lmdyb3VwPT09bi5ncm91cCYmaS5wdXNoKHQpfSksYShpLDApLFRkKGksZnVuY3Rpb24odCl7MSE9PXRbb10mJnQuZGlzcGF0Y2hBY3Rpb24oZSl9KSxhKGksMil9fSl9KX0obyksb30sdC5jb25uZWN0PWZ1bmN0aW9uKGUpe2lmKEwoZSkpe3ZhciB0PWU7ZT1udWxsLFRkKHQsZnVuY3Rpb24odCl7bnVsbCE9dC5ncm91cCYmKGU9dC5ncm91cCl9KSxlPWV8fCJnXyIrZGYrKyxUZCh0LGZ1bmN0aW9uKHQpe3QuZ3JvdXA9ZX0pfXJldHVybiBoZltlXT0hMCxlfSx0LmRpc0Nvbm5lY3Q9cGYsdC5kaXNjb25uZWN0PWdmLHQuZGlzcG9zZT1mdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQ/dD11Zlt0XTp0IGluc3RhbmNlb2YgemR8fCh0PW1mKHQpKSx0IGluc3RhbmNlb2YgemQmJiF0LmlzRGlzcG9zZWQoKSYmdC5kaXNwb3NlKCl9LHQuZ2V0SW5zdGFuY2VCeURvbT1tZix0LmdldEluc3RhbmNlQnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gdWZbdF19LHQucmVnaXN0ZXJUaGVtZT12Zix0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yPXlmLHQucmVnaXN0ZXJQcm9jZXNzb3I9eGYsdC5yZWdpc3RlclBvc3RVcGRhdGU9ZnVuY3Rpb24odCl7YWYucHVzaCh0KX0sdC5yZWdpc3RlckFjdGlvbj1fZix0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbT13Zix0LmdldENvb3JkaW5hdGVTeXN0ZW1EaW1lbnNpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPWxoLmdldCh0KTtpZihlKXJldHVybiBlLmdldERpbWVuc2lvbnNJbmZvP2UuZ2V0RGltZW5zaW9uc0luZm8oKTplLmRpbWVuc2lvbnMuc2xpY2UoKX0sdC5yZWdpc3RlckxheW91dD1iZix0LnJlZ2lzdGVyVmlzdWFsPVNmLHQucmVnaXN0ZXJMb2FkaW5nPUlmLHQuZXh0ZW5kQ29tcG9uZW50TW9kZWw9VGYsdC5leHRlbmRDb21wb25lbnRWaWV3PUFmLHQuZXh0ZW5kU2VyaWVzTW9kZWw9RGYsdC5leHRlbmRDaGFydFZpZXc9Q2YsdC5zZXRDYW52YXNDcmVhdG9yPWZ1bmN0aW9uKHQpe2YoImNyZWF0ZUNhbnZhcyIsdCl9LHQucmVnaXN0ZXJNYXA9ZnVuY3Rpb24odCxlLGkpe1NkLnJlZ2lzdGVyTWFwKHQsZSxpKX0sdC5nZXRNYXA9ZnVuY3Rpb24odCl7dmFyIGU9U2QucmV0cmlldmVNYXAodCk7cmV0dXJuIGUmJmVbMF0mJntnZW9Kc29uOmVbMF0uZ2VvSlNPTixzcGVjaWFsQXJlYXM6ZVswXS5zcGVjaWFsQXJlYXN9fSx0LmRhdGFUb29sPXt9LHQuenJlbmRlcj1Pbyx0Lm51bWJlcj1RbCx0LmZvcm1hdD1tdSx0LnRocm90dGxlPUxjLHQuaGVscGVyPVNnLHQubWF0cml4PXBlLHQudmVjdG9yPUl0LHQuY29sb3I9SmUsdC5wYXJzZUdlb0pTT049Q2csdC5wYXJzZUdlb0pzb249V2csdC51dGlsPUhnLHQuZ3JhcGhpYz1aZyx0Lkxpc3Q9WWYsdC5Nb2RlbD1DbCx0LkF4aXM9R2csdC5lbnY9dn0pOw=="></script>
<script src="data:application/javascript;base64,IWZ1bmN0aW9uKHIsbil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sbik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuZWNTdGF0PW4oKTpyLmVjU3RhdD1uKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihlKXtpZih0W2VdKXJldHVybiB0W2VdLmV4cG9ydHM7dmFyIG89dFtlXT17ZXhwb3J0czp7fSxpZDplLGxvYWRlZDohMX07cmV0dXJuIHJbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciB0PXt9O3JldHVybiBuLm09cixuLmM9dCxuLnA9IiIsbigwKX0oW2Z1bmN0aW9uKHIsbix0KXtyLmV4cG9ydHM9dCgxMil9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7cmV0dXJuIHI9bnVsbD09PXI/TmFOOityLCJudW1iZXIiPT10eXBlb2YgciYmIWlzTmFOKHIpfWZ1bmN0aW9uIHQocil7cmV0dXJuIGlzRmluaXRlKHIpJiZyPT09TWF0aC5yb3VuZChyKX1yZXR1cm57aXNOdW1iZXI6bixpc0ludGVnZXI6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbil7dmFyIHQ9ci5sZW5ndGg7aWYoIXQpcmV0dXJuIDA7aWYobjw9MHx8dDwyKXJldHVybiByWzBdO2lmKG4+PTEpcmV0dXJuIHJbdC0xXTt2YXIgZT0odC0xKSpuLG89TWF0aC5mbG9vcihlKSxhPXJbb10sdT1yW28rMV07cmV0dXJuIGErKHUtYSkqKGUtbyl9fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPVtdO3Qocik7KW4ucHVzaChyLmxlbmd0aCkscj1yWzBdO3JldHVybiBufWZ1bmN0aW9uIHQocil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWwuY2FsbChyKX1mdW5jdGlvbiBlKHIsbil7Zm9yKHZhciB0PVtdLGU9MDtlPHI7ZSsrKXt0W2VdPVtdO2Zvcih2YXIgbz0wO288bjtvKyspdFtlXVtvXT0wfXJldHVybiB0fWZ1bmN0aW9uIG8ocil7Zm9yKHZhciBuPTAsdD0wO3Q8ci5sZW5ndGg7dCsrKW4rPXJbdF07cmV0dXJuIG59ZnVuY3Rpb24gYShyLG4pe2Zvcih2YXIgdD0wLGU9MDtlPHIubGVuZ3RoO2UrKyl0Kz1yW2VdW25dO3JldHVybiB0fWZ1bmN0aW9uIHUocixuKXtyZXR1cm4gcj5uPzE6cjxuPy0xOnI9PT1uPzA6TmFOfWZ1bmN0aW9uIGkocixuLHQsZSl7Zm9yKG51bGw9PXQmJih0PTApLG51bGw9PWUmJihlPXIubGVuZ3RoKTt0PGU7KXt2YXIgbz1NYXRoLmZsb29yKCh0K2UpLzIpLGE9dShyW29dLG4pO2lmKGE+MCllPW87ZWxzZXtpZighKGE8MCkpcmV0dXJuIG8rMTt0PW8rMX19cmV0dXJuIHR9ZnVuY3Rpb24gZihyLG4sdCl7aWYociYmbil7aWYoci5tYXAmJnIubWFwPT09aClyZXR1cm4gci5tYXAobix0KTtmb3IodmFyIGU9W10sbz0wLGE9ci5sZW5ndGg7bzxhO28rKyllLnB1c2gobi5jYWxsKHQscltvXSxvLHIpKTtyZXR1cm4gZX19dmFyIGw9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPUFycmF5LnByb3RvdHlwZSxoPXMubWFwO3JldHVybntzaXplOm4saXNBcnJheTp0LHplcm9zOmUsc3VtOm8sc3VtT2ZDb2x1bW46YSxhc2NlbmRpbmc6dSxiaXNlY3Q6aSxtYXA6Zn19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtpZighbyhyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlLCB5b3Ugc2hvdWxkIGlucHV0IGFuIGFycmF5Iik7dmFyIG49W10sdD1hKHIpO2lmKDE9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKWkocltlXSkmJm4ucHVzaChyW2VdKTtlbHNlIGlmKDI9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKXtmb3IodmFyIHU9ITAsZj0wO2Y8dFsxXTtmKyspaShyW2VdW2ZdKXx8KHU9ITEpO3UmJm4ucHVzaChyW2VdKX1yZXR1cm4gbn12YXIgZT10KDMpLG89ZS5pc0FycmF5LGE9ZS5zaXplLHU9dCgxKSxpPXUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7dmFyIG49dCg5KTtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9bihyKTtyZXR1cm4gdD9NYXRoLnNxcnQodCk6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtmb3IodmFyIG49LSgxLzApLHQ9MDt0PHIubGVuZ3RoO3QrKylvKHJbdF0pJiZyW3RdPm4mJihuPXJbdF0pO3JldHVybiBufXZhciBlPXQoMSksbz1lLmlzTnVtYmVyO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7dmFyIG49ci5sZW5ndGg7cmV0dXJuIG4/ZShyKS9yLmxlbmd0aDowfXZhciBlPXQoMTApO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPTEvMCx0PTA7dDxyLmxlbmd0aDt0KyspbyhyW3RdKSYmclt0XTxuJiYobj1yW3RdKTtyZXR1cm4gbn12YXIgZT10KDEpLG89ZS5pc051bWJlcjtyZXR1cm4gbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3ZhciBuPXIubGVuZ3RoO2lmKCFufHxuPDIpcmV0dXJuIDA7aWYoci5sZW5ndGg+PTIpe2Zvcih2YXIgdCxlPWEociksdT0wLGk9MDtpPHIubGVuZ3RoO2krKylvKHJbaV0pJiYodD1yW2ldLWUsdSs9dCp0KTtyZXR1cm4gdS9yLmxlbmd0aC0xfX12YXIgZT10KDEpLG89ZS5pc051bWJlcixhPXQoNyk7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXt2YXIgbj1yLmxlbmd0aDtpZighbilyZXR1cm4gMDtmb3IodmFyIHQ9MCxlPTA7ZTxuO2UrKylvKHJbZV0pJiYodCs9cltlXSk7cmV0dXJuIHR9dmFyIGU9dCgxKSxvPWUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe2Zvcih2YXIgdCxvLGksZixzPWwociksaD1jKHNbMF0sMiksdj1hKHIsbikscD0hMDtwOyl7cD0hMTtmb3IodmFyIGQ9MDtkPHNbMF07ZCsrKXt0PTEvMCxvPS0xO2Zvcih2YXIgTT0wO008bjtNKyspaT11KHJbZF0sdltNXSksaTx0JiYodD1pLG89TSk7aFtkXVswXSE9PW8mJihwPSEwKSxoW2RdWzBdPW8saFtkXVsxXT1nKHQsMil9Zm9yKHZhciBkPTA7ZDxuO2QrKyl7Zj1bXTtmb3IodmFyIE09MDtNPGgubGVuZ3RoO00rKyloW01dWzBdPT09ZCYmZi5wdXNoKHJbTV0pO3ZbZF09ZShmKX19dmFyIHg9e2NlbnRyb2lkczp2LGNsdXN0ZXJBc3NpZ25lZDpofTtyZXR1cm4geH1mdW5jdGlvbiBlKHIpe2Zvcih2YXIgbix0LGU9bChyKSxvPVtdLGE9MDthPGVbMV07YSsrKXtuPTA7Zm9yKHZhciB1PTA7dTxlWzBdO3UrKyluKz1yW3VdW2FdO3Q9bi9lWzBdLG8ucHVzaCh0KX1yZXR1cm4gb31mdW5jdGlvbiBvKHIsdCxvKXtmdW5jdGlvbiBhKCl7aWYoRTx0KXt5PTEvMDtmb3IodmFyIHIsZSxvLGE9MDthPHgubGVuZ3RoO2ErKyl7Yj1bXSx3PVtdO2Zvcih2YXIgdT0wO3U8ZC5sZW5ndGg7dSsrKWRbdV1bMF09PT1hP2IucHVzaCh2W3VdKTp3LnB1c2goZFt1XVsxXSk7Tj1uKGIsMiksQT1zKE4uY2x1c3RlckFzc2lnbmVkLDEpLHE9aCh3KSxBK3E8eSYmKHk9cStBLHI9YSxlPU4uY2VudHJvaWRzLG89Ti5jbHVzdGVyQXNzaWduZWQpfWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKTA9PT1vW3VdWzBdP29bdV1bMF09cjoxPT09b1t1XVswXSYmKG9bdV1bMF09eC5sZW5ndGgpO2Zvcih4W3JdPWVbMF0seC5wdXNoKGVbMV0pLHU9MCxhPTA7dTxkLmxlbmd0aCYmYTxvLmxlbmd0aDt1KyspZFt1XVswXT09PXImJihkW3VdWzBdPW9bYV1bMF0sZFt1XVsxXT1vW2ErK11bMV0pO2Zvcih2YXIgaT1bXSx1PTA7dTx4Lmxlbmd0aDt1Kyspe2lbdV09W107Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXVswXT09PXUmJmlbdV0ucHVzaCh2W2FdKX1qLmNsdXN0ZXJBc3NtZW50PWQsai5jZW50cm9pZHM9eCxqLnBvaW50c0luQ2x1c3Rlcj1pLEUrK31lbHNlIGouaXNFbmQ9ITA7cmV0dXJuIGp9Zm9yKHZhciBmLHY9aShyKSxwPWwodiksZD1jKHBbMF0sMiksTT1lKHYpLHg9W01dLG09MDttPHBbMF07bSsrKWY9dSh2W21dLE0pLGRbbV1bMV09ZyhmLDIpO3ZhciB5LGIsdyxOLEEscSxFPTEsaj17aXNFbmQ6ITF9LHo9e25leHQ6YX07aWYobylyZXR1cm4gejtmb3IodmFyIGo7IShqPXoubmV4dCgpKS5pc0VuZDspO3JldHVybiBqfWZ1bmN0aW9uIGEocixuKXtmb3IodmFyIHQsZSxvLGE9bChyKSx1PWMobixhWzFdKSxpPTA7aTxhWzFdO2krKyl7dD1yWzBdW2ldLGU9clswXVtpXTtmb3IodmFyIGY9MTtmPGFbMF07ZisrKXJbZl1baV08dCYmKHQ9cltmXVtpXSkscltmXVtpXT5lJiYoZT1yW2ZdW2ldKTtvPWUtdDtmb3IodmFyIGY9MDtmPG47ZisrKXVbZl1baV09dCtvKk1hdGgucmFuZG9tKCl9cmV0dXJuIHV9ZnVuY3Rpb24gdShyLG4pe2lmKCF2KHIpJiYhdihuKSlyZXR1cm4gcChnKHItbiwyKSk7Zm9yKHZhciB0PTAsZT0wO2U8ci5sZW5ndGg7ZSsrKXQrPWcocltlXS1uW2VdLDIpO3JldHVybiBwKHQpfXZhciBpPXQoNCksZj10KDMpLGw9Zi5zaXplLHM9Zi5zdW1PZkNvbHVtbixoPWYuc3VtLGM9Zi56ZXJvcyx2PWYuaXNBcnJheSxwPU1hdGguc3FydCxnPU1hdGgucG93O3JldHVybntrTWVhbnM6bixoaWVyYXJjaGljYWxLTWVhbnM6b319LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJue2NsdXN0ZXJpbmc6dCgxMSkscmVncmVzc2lvbjp0KDE0KSxzdGF0aXN0aWNzOnQoMTUpLGhpc3RvZ3JhbTp0KDEzKX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe249bnVsbD09bj9wLnNxdWFyZVJvb3Q6cFtuXTtmb3IodmFyIHQ9aShyKSxhPWUodCksdT1vKHQpLGY9bih0LHUsYSksbD12KHUsYSxmKSxnPWgoTWF0aC5jZWlsKHUvbCkqbCxNYXRoLmZsb29yKGEvbCkqbCxsKSxkPWcubGVuZ3RoLE09bmV3IEFycmF5KGQrMSkseD0wO3g8PWQ7eCsrKU1beF09e30sTVt4XS5zYW1wbGU9W10sTVt4XS54MD14PjA/Z1t4LTFdOmdbeF0tdT09PWw/dTpnW3hdLWwsTVt4XS54MT14PGQ/Z1t4XTphLWdbeC0xXT09PWw/YTpnW3gtMV0rbDtmb3IodmFyIHg9MDt4PHQubGVuZ3RoO3grKyl1PD10W3hdJiZ0W3hdPD1hJiZNW2MoZyx0W3hdLDAsZCldLnNhbXBsZS5wdXNoKHRbeF0pO3ZhciByPXMoTSxmdW5jdGlvbihyKXtyZXR1cm5bKHIueDArci54MSkvMixyLnNhbXBsZS5sZW5ndGhdfSk7cmV0dXJue2JpbnM6TSxkYXRhOnJ9fXZhciBlPXQoNiksbz10KDgpLGE9dCgyKSx1PXQoNSksaT10KDQpLGY9dCgzKSxsPWYuYXNjZW5kaW5nLHM9Zi5tYXAsaD10KDE3KSxjPWYuYmlzZWN0LHY9dCgxOCkscD17c3F1YXJlUm9vdDpmdW5jdGlvbihyKXt2YXIgbj1NYXRoLmNlaWwoTWF0aC5zcXJ0KHIubGVuZ3RoKSk7cmV0dXJuIG4+NTA/NTA6bn0sc2NvdHQ6ZnVuY3Rpb24ocixuLHQpe3JldHVybiBNYXRoLmNlaWwoKHQtbikvKDMuNSp1KHIpKk1hdGgucG93KHIubGVuZ3RoLC0xLzMpKSl9LGZyZWVkbWFuRGlhY29uaXM6ZnVuY3Rpb24ocixuLHQpe3JldHVybiByLnNvcnQobCksTWF0aC5jZWlsKCh0LW4pLygyKihhKHIsLjc1KS1hKHIsLjI1KSkqTWF0aC5wb3coci5sZW5ndGgsLTEvMykpKX0sc3R1cmdlczpmdW5jdGlvbihyKXtyZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKHIubGVuZ3RoKS9NYXRoLkxOMikrMX19O3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocixuKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoLTE7dCsrKXtmb3IodmFyIGU9dCxvPXQrMTtvPHIubGVuZ3RoLTE7bysrKU1hdGguYWJzKHJbdF1bb10pPk1hdGguYWJzKHJbdF1bZV0pJiYoZT1vKTtmb3IodmFyIGE9dDthPHIubGVuZ3RoO2ErKyl7dmFyIHU9clthXVt0XTtyW2FdW3RdPXJbYV1bZV0sclthXVtlXT11fWZvcih2YXIgaT10KzE7aTxyLmxlbmd0aC0xO2krKylmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj10O2YtLSlyW2ZdW2ldLT1yW2ZdW3RdL3JbdF1bdF0qclt0XVtpXX1mb3IodmFyIGw9bmV3IEFycmF5KG4pLHM9ci5sZW5ndGgtMSxvPXIubGVuZ3RoLTI7bz49MDtvLS0pe2Zvcih2YXIgdT0wLHQ9bysxO3Q8ci5sZW5ndGgtMTt0KyspdSs9clt0XVtvXSpsW3RdO2xbb109KHJbc11bb10tdSkvcltvXVtvXX1yZXR1cm4gbH12YXIgZT10KDQpLG89e2xpbmVhcjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MCx1PTAsaT1uLmxlbmd0aCxmPTA7ZjxpO2YrKyl0Kz1uW2ZdWzBdLG8rPW5bZl1bMV0sYSs9bltmXVswXSpuW2ZdWzFdLHUrPW5bZl1bMF0qbltmXVswXTtmb3IodmFyIGw9KGkqYS10Km8pLyhpKnUtdCp0KSxzPW8vaS1sKnQvaSxoPVtdLGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHY9W25bY11bMF0sbCpuW2NdWzBdK3NdO2gucHVzaCh2KX12YXIgcD0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyJ4ICsgIitNYXRoLnJvdW5kKDEwMCpzKS8xMDA7cmV0dXJue3BvaW50czpoLHBhcmFtZXRlcjp7Z3JhZGllbnQ6bCxpbnRlcmNlcHQ6c30sZXhwcmVzc2lvbjpwfX0sbGluZWFyVGhyb3VnaE9yaWdpbjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MDthPG4ubGVuZ3RoO2ErKyl0Kz1uW2FdWzBdKm5bYV1bMF0sbys9blthXVswXSpuW2FdWzFdO2Zvcih2YXIgdT1vL3QsaT1bXSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBsPVtuW2ZdWzBdLG5bZl1bMF0qdV07aS5wdXNoKGwpfXZhciBzPSJ5ID0gIitNYXRoLnJvdW5kKDEwMCp1KS8xMDArIngiO3JldHVybntwb2ludHM6aSxwYXJhbWV0ZXI6e2dyYWRpZW50OnV9LGV4cHJlc3Npb246c319LGV4cG9uZW50aWFsOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTAsZj0wLGw9MDtsPG4ubGVuZ3RoO2wrKyl0Kz1uW2xdWzBdLG8rPW5bbF1bMV0sZis9bltsXVswXSpuW2xdWzFdLGErPW5bbF1bMF0qbltsXVswXSpuW2xdWzFdLHUrPW5bbF1bMV0qTWF0aC5sb2cobltsXVsxXSksaSs9bltsXVswXSpuW2xdWzFdKk1hdGgubG9nKG5bbF1bMV0pO2Zvcih2YXIgcz1vKmEtZipmLGg9TWF0aC5wb3coTWF0aC5FLChhKnUtZippKS9zKSxjPShvKmktZip1KS9zLHY9W10scD0wO3A8bi5sZW5ndGg7cCsrKXt2YXIgZz1bbltwXVswXSxoKk1hdGgucG93KE1hdGguRSxjKm5bcF1bMF0pXTt2LnB1c2goZyl9dmFyIGQ9InkgPSAiK01hdGgucm91bmQoMTAwKmgpLzEwMCsiZV4oIitNYXRoLnJvdW5kKDEwMCpjKS8xMDArIngpIjtyZXR1cm57cG9pbnRzOnYscGFyYW1ldGVyOntjb2VmZmljaWVudDpoLGluZGV4OmN9LGV4cHJlc3Npb246ZH19LGxvZ2FyaXRobWljOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTA7aTxuLmxlbmd0aDtpKyspdCs9TWF0aC5sb2cobltpXVswXSksbys9bltpXVsxXSpNYXRoLmxvZyhuW2ldWzBdKSxhKz1uW2ldWzFdLHUrPU1hdGgucG93KE1hdGgubG9nKG5baV1bMF0pLDIpO2Zvcih2YXIgZj0oaSpvLWEqdCkvKGkqdS10KnQpLGw9KGEtZip0KS9pLHM9W10saD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgYz1bbltoXVswXSxmKk1hdGgubG9nKG5baF1bMF0pK2xdO3MucHVzaChjKX12YXIgdj0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyIgKyAiK01hdGgucm91bmQoMTAwKmYpLzEwMCsibG4oeCkiO3JldHVybntwb2ludHM6cyxwYXJhbWV0ZXI6e2dyYWRpZW50OmYsaW50ZXJjZXB0Omx9LGV4cHJlc3Npb246dn19LHBvbHlub21pYWw6ZnVuY3Rpb24ocix0KXt2YXIgbz1lKHIpOyJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9Mik7Zm9yKHZhciBhPVtdLHU9W10saT10KzEsZj0wO2Y8aTtmKyspe2Zvcih2YXIgbD0wLHM9MDtzPG8ubGVuZ3RoO3MrKylsKz1vW3NdWzFdKk1hdGgucG93KG9bc11bMF0sZik7dS5wdXNoKGwpO2Zvcih2YXIgaD1bXSxjPTA7YzxpO2MrKyl7Zm9yKHZhciB2PTAscD0wO3A8by5sZW5ndGg7cCsrKXYrPU1hdGgucG93KG9bcF1bMF0sZitjKTtoLnB1c2godil9YS5wdXNoKGgpfWEucHVzaCh1KTtmb3IodmFyIGc9bihhLGkpLGQ9W10sZj0wO2Y8by5sZW5ndGg7ZisrKXtmb3IodmFyIE09MCxzPTA7czxnLmxlbmd0aDtzKyspTSs9Z1tzXSpNYXRoLnBvdyhvW2ZdWzBdLHMpO2QucHVzaChbb1tmXVswXSxNXSl9Zm9yKHZhciB4PSJ5ID0gIixmPWcubGVuZ3RoLTE7Zj49MDtmLS0peCs9Zj4xP01hdGgucm91bmQoZ1tmXSpNYXRoLnBvdygxMCxmKzEpKS9NYXRoLnBvdygxMCxmKzEpKyJ4XiIrZisiICsgIjoxPT09Zj9NYXRoLnJvdW5kKDEwMCpnW2ZdKS8xMDArInggKyAiOk1hdGgucm91bmQoMTAwKmdbZl0pLzEwMDtyZXR1cm57cG9pbnRzOmQscGFyYW1ldGVyOmcsZXhwcmVzc2lvbjp4fX19LGE9ZnVuY3Rpb24ocixuLHQpe3JldHVybiBvW3JdKG4sdCl9O3JldHVybiBhfS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe3ZhciBuPXt9O3JldHVybiBuLm1heD10KDYpLG4uZGV2aWF0aW9uPXQoNSksbi5tZWFuPXQoNyksbi5tZWRpYW49dCgxNiksbi5taW49dCg4KSxuLm1heD10KDIpLG4ubWF4PXQoOSksbi5zdW09dCgxMCksbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3JldHVybiBlKHIsLjUpfXZhciBlPXQoMik7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2U8Mj8obj1yLHI9MCx0PTEpOnQ9ZTwzPzE6K3Q7Zm9yKHZhciBvPU1hdGguY2VpbCgobi1yKS90KSxhPW5ldyBBcnJheShvKzEpLHU9MDt1PG8rMTt1KyspYVt1XT1yK3UqdDtyZXR1cm4gYX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1NYXRoLmFicyhuLXIpL3Qsbz1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4xMCkpLGE9ZS9vO3JldHVybiBhPj1NYXRoLnNxcnQoNTApP28qPTEwOmE+PU1hdGguc3FydCgxMCk/byo9NTphPj1NYXRoLnNxcnQoMikmJihvKj0yKSxuPj1yP286LW99fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9XSl9KTs="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCgohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJlY2hhcnRzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImVjaGFydHMiXSx0KTp0KGUuZGF0YVRvb2w9e30sZS5lY2hhcnRzKX0odGhpcyxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT1BcnJheS5wcm90b3R5cGUubWFwO2Z1bmN0aW9uIGwoZSx0LHIpe2lmKGUmJnQpe2lmKGUubWFwJiZlLm1hcD09PWkpcmV0dXJuIGUubWFwKHQscik7Zm9yKHZhciBhPVtdLG89MCxuPWUubGVuZ3RoO288bjtvKyspYS5wdXNoKHQuY2FsbChyLGVbb10sbyxlKSk7cmV0dXJuIGF9fWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgcj1lLmZpcnN0Q2hpbGQ7cjspe2lmKDE9PT1yLm5vZGVUeXBlJiZyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCkpcmV0dXJuIHI7cj1yLm5leHRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGcoZSx0KXtmb3IodmFyIHI9ZS5maXJzdENoaWxkLGE9W107cjspci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpJiZhLnB1c2gocikscj1yLm5leHRTaWJsaW5nO3JldHVybiBhfXZhciByPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtwYXJzZTpmdW5jdGlvbihlKXt2YXIgdDtpZighKHQ9InN0cmluZyI9PXR5cGVvZiBlPyhuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKTplKXx8dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9ZCh0LCJnZXhmIik7aWYoIXIpcmV0dXJuIG51bGw7Zm9yKHZhciBhPWQociwiZ3JhcGgiKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlP2woZyhlLCJhdHRyaWJ1dGUiKSxmdW5jdGlvbihlKXtyZXR1cm57aWQ6dihlLCJpZCIpLHRpdGxlOnYoZSwidGl0bGUiKSx0eXBlOnYoZSwidHlwZSIpfX0pOltdfShkKGEsImF0dHJpYnV0ZXMiKSksbj17fSxpPTA7aTxvLmxlbmd0aDtpKyspbltvW2ldLmlkXT1vW2ldO3JldHVybntub2RlczpmdW5jdGlvbihlLHApe3JldHVybiBlP2woZyhlLCJub2RlIiksZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOnYoZSwiaWQiKSxuYW1lOnYoZSwibGFiZWwiKSxpdGVtU3R5bGU6e25vcm1hbDp7fX19LHI9ZChlLCJ2aXo6c2l6ZSIpLGE9ZChlLCJ2aXo6cG9zaXRpb24iKSxvPWQoZSwidml6OmNvbG9yIiksbj1kKGUsImF0dHZhbHVlcyIpO2lmKHImJih0LnN5bWJvbFNpemU9cGFyc2VGbG9hdCh2KHIsInZhbHVlIikpKSxhJiYodC54PXBhcnNlRmxvYXQodihhLCJ4IikpLHQueT1wYXJzZUZsb2F0KHYoYSwieSIpKSksbyYmKHQuaXRlbVN0eWxlLm5vcm1hbC5jb2xvcj0icmdiKCIrWzB8dihvLCJyIiksMHx2KG8sImciKSwwfHYobywiYiIpXS5qb2luKCIsIikrIikiKSxuKXt2YXIgaT1nKG4sImF0dHZhbHVlIik7dC5hdHRyaWJ1dGVzPXt9O2Zvcih2YXIgbD0wO2w8aS5sZW5ndGg7bCsrKXt2YXIgdT1pW2xdLHM9dih1LCJmb3IiKSxmPXYodSwidmFsdWUiKSxjPXBbc107aWYoYyl7c3dpdGNoKGMudHlwZSl7Y2FzZSJpbnRlZ2VyIjpjYXNlImxvbmciOmY9cGFyc2VJbnQoZiwxMCk7YnJlYWs7Y2FzZSJmbG9hdCI6Y2FzZSJkb3VibGUiOmY9cGFyc2VGbG9hdChmKTticmVhaztjYXNlImJvb2xlYW4iOmY9InRydWUiPT09Zi50b0xvd2VyQ2FzZSgpfXQuYXR0cmlidXRlc1tzXT1mfX19cmV0dXJuIHR9KTpbXX0oZChhLCJub2RlcyIpLG4pLGxpbmtzOmZ1bmN0aW9uKGUpe3JldHVybiBlP2woZyhlLCJlZGdlIiksZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOnYoZSwiaWQiKSxuYW1lOnYoZSwibGFiZWwiKSxzb3VyY2U6dihlLCJzb3VyY2UiKSx0YXJnZXQ6dihlLCJ0YXJnZXQiKSxsaW5lU3R5bGU6e25vcm1hbDp7fX19LHI9dC5saW5lU3R5bGUubm9ybWFsLGE9ZChlLCJ2aXo6dGhpY2tuZXNzIiksbz1kKGUsInZpejpjb2xvciIpO3JldHVybiBhJiYoci53aWR0aD1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKSksbyYmKHIuY29sb3I9InJnYigiK1swfHYobywiciIpLDB8dihvLCJnIiksMHx2KG8sImIiKV0uam9pbigiLCIpKyIpIiksdH0pOltdfShkKGEsImVkZ2VzIikpfX19KTtmdW5jdGlvbiB3KGUsdCl7dmFyIHI9KGUubGVuZ3RoLTEpKnQrMSxhPU1hdGguZmxvb3Iociksbz0rZVthLTFdLG49ci1hO3JldHVybiBuP28rbiooZVthXS1vKTpvfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHIsYT1bXSxvPVtdLG49W10saT0odD10fHxbXSkuYm91bmRJUVIsbD0ibm9uZSI9PT1pfHwwPT09aSx1PTA7dTxlLmxlbmd0aDt1Kyspe24ucHVzaCh1KyIiKTt2YXIgcz0oKHI9ZVt1XS5zbGljZSgpKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdH0pLHIpLGY9dyhzLC4yNSksYz13KHMsLjUpLHA9dyhzLC43NSksdj1zWzBdLGQ9c1tzLmxlbmd0aC0xXSxnPShudWxsPT1pPzEuNTppKSoocC1mKSxoPWw/djpNYXRoLm1heCh2LGYtZyksYj1sP2Q6TWF0aC5taW4oZCxwK2cpO2EucHVzaChbaCxmLGMscCxiXSk7Zm9yKHZhciBtPTA7bTxzLmxlbmd0aDttKyspe3ZhciB5PXNbbV07aWYoeTxofHxiPHkpe3ZhciB4PVt1LHldOyJ2ZXJ0aWNhbCI9PT10LmxheW91dCYmeC5yZXZlcnNlKCksby5wdXNoKHgpfX19cmV0dXJue2JveERhdGE6YSxvdXRsaWVyczpvLGF4aXNEYXRhOm59fXZhciBvPSIxLjAuMCI7dC5kYXRhVG9vbCYmKHQuZGF0YVRvb2wudmVyc2lvbj1vLHQuZGF0YVRvb2wuZ2V4Zj1yLHQuZGF0YVRvb2wucHJlcGFyZUJveHBsb3REYXRhPWEpLGUudmVyc2lvbj1vLGUuZ2V4Zj1yLGUucHJlcGFyZUJveHBsb3REYXRhPWF9KTsK"></script>
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ2VjaGFydHM0cicsCgogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgCiAgICB2YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTsKCiAgICB2YXIgY2hhcnQsb3B0czsKCiAgICBjb25zdCBldmFsRnVuID0gKHNvdXJjZU9wdHMpID0+IHsKICAgICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBzb3VyY2VPcHRzKTsKICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgaWYgKG9wdHNba2V5XSAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGV2YWxGdW4ob3B0c1trZXldKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgb3B0c1trZXldID0gZXZhbCgnKCcgKyBvcHRzW2tleV0gKyAnKScpOwogICAgICAgICAgICB9IGNhdGNoIHsgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybihvcHRzKTsKICAgIH0KICAgIAogICAgcmV0dXJuIHsKCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbih4KSB7CiAgICAgICAgCiAgICAgICAgaWYoeC5kaXNwb3NlID09PSB0cnVlKXsKICAgICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSk7CiAgICAgICAgICBjaGFydC5kaXNwb3NlKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHsKICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgIGlmKHgudGhlbWUyID09PSB0cnVlKXsKICAgICAgICAgICAgdmFyIHRoID0gSlNPTi5wYXJzZSh4LmN1c3RvbVRoZW1lKTsKICAgICAgICAgICAgZWNoYXJ0cy5yZWdpc3RlclRoZW1lKHgudGhlbWVfbmFtZSwgdGgpOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgfQoKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdyZWdpc3Rlck1hcCcpKXsKICAgICAgICAgIGZvciggdmFyIG1hcCA9IDA7IG1hcCA8IHgucmVnaXN0ZXJNYXAubGVuZ3RoOyBtYXArKyl7CiAgICAgICAgICAgIGVjaGFydHMucmVnaXN0ZXJNYXAoeC5yZWdpc3Rlck1hcFttYXBdLm1hcE5hbWUsIHgucmVnaXN0ZXJNYXBbbWFwXS5nZW9KU09OKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnbWFwYm94VG9rZW4nKSl7CiAgICAgICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHgubWFwYm94VG9rZW47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSwgeC50aGVtZSwge3JlbmRlcmVyOiB4LnJlbmRlcmVyfSk7CiAgICAgICAgCiAgICAgICAgb3B0cyA9IGV2YWxGdW4oeC5vcHRzKTsKICAgICAgICAKICAgICAgICBpZih4LmRyYXcgPT09IHRydWUpCiAgICAgICAgICBjaGFydC5zZXRPcHRpb24ob3B0cyk7CiAgICAgICAgCiAgICAgICAgLy8gc2hpbnkgY2FsbGJhY2tzCiAgICAgICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkgewogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigiYnJ1c2hzZWxlY3RlZCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19icnVzaCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBjaGFydC5vbigiYnJ1c2giLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfYnJ1c2hfcmVsZWFzZWQnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgIGNoYXJ0Lm9uKCJsZWdlbmRzZWxlY3RjaGFuZ2VkIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2xlZ2VuZF9jaGFuZ2UnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUubmFtZSk7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2xlZ2VuZF9zZWxlY3RlZCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5zZWxlY3RlZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgY2hhcnQub24oImdsb2JhbG91dCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19nbG9iYWxfb3V0JyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdjYXB0dXJlJykpewogICAgICAgICAgICBjaGFydC5vbih4LmNhcHR1cmUsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnXycgKyB4LmNhcHR1cmUgKyAiOmVjaGFydHM0clBhcnNlIiwgZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigiY2xpY2siLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9kYXRhJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19jbGlja2VkX3JvdycgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5kYXRhSW5kZXggKyAxKTsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9zZXJpZScgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5zZXJpZXNOYW1lKTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX21vdXNlb3Zlcl9kYXRhJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfcm93JyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGFJbmRleCArIDEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfc2VyaWUnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUuc2VyaWVzTmFtZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgJChkb2N1bWVudCkub24oJ3NoaW55OnJlY2FsY3VsYXRpbmcnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHguaGlkZVdoaXRlID09PSB0cnVlKXsKICAgICAgICAgICAgICB2YXIgY3NzID0gJy5yZWNhbGN1bGF0aW5nIHtvcGFjaXR5OiAxLjAgIWltcG9ydGFudDsgfScsCiAgICAgICAgICAgICAgICAgIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sCiAgICAgICAgICAgICAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICAgICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCl7CiAgICAgICAgICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYoeC5sb2FkaW5nID09PSB0cnVlKXsKICAgICAgICAgICAgICBjaGFydC5zaG93TG9hZGluZygnZGVmYXVsdCcsIHgubG9hZGluZ09wdHMpOwogICAgICAgICAgICB9IGVsc2UgaWYoeC5sb2FkaW5nID09PSBmYWxzZSkgewogICAgICAgICAgICAgIGNoYXJ0LmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgJChkb2N1bWVudCkub24oJ3NoaW55OnZhbHVlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNoYXJ0LmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnY29ubmVjdCcpKXsKICAgICAgICAgIHZhciBjb25uZWN0aW9ucyA9IFtdOwogICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IHguY29ubmVjdC5sZW5ndGg7IGMrKyl7CiAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goZ2V0X2VfY2hhcnRzKHguY29ubmVjdFtjXSkpOwogICAgICAgICAgfQogICAgICAgICAgY29ubmVjdGlvbnMucHVzaChjaGFydCk7CiAgICAgICAgICBlY2hhcnRzLmNvbm5lY3QoY29ubmVjdGlvbnMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBhY3Rpb25zCiAgICAgICAgaWYoeC5ldmVudHMubGVuZ3RoID49IDEpewogICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHguZXZlbnRzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oeC5ldmVudHNbaV0uZGF0YSk7CiAgICAgICAgICB9ICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gYnV0dG9ucwogICAgICAgIHZhciBidXR0b25zID0geC5idXR0b25zOwogICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLm1hcCggZnVuY3Rpb24oYnV0dG9uSWQpewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgCiAgICAgICAgICAgIChmdW5jdGlvbihpZCkgewogICAgICAgICAgICAgIGNvbnN0IHNjb3BlZF9pZCA9IGlkOwogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGJ1dHRvbnNbc2NvcGVkX2lkXS5mb3JFYWNoKGZ1bmN0aW9uKGVsKXsKICAgICAgICAgICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oZWwuZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgICkoYnV0dG9uSWQpCiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnb24nKSl7CiAgICAgICAgICBmb3IodmFyIGUgPSAwOyBlIDwgeC5vbi5sZW5ndGg7IGUrKyl7CiAgICAgICAgICAgIGNoYXJ0Lm9uKHgub25bZV0uZXZlbnQsIHgub25bZV0ucXVlcnksIHgub25bZV0uaGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ29mZicpKXsKICAgICAgICAgIGZvcih2YXIgZXYgPSAwOyBldiA8IHgub2ZmLmxlbmd0aDsgZXYrKyl7CiAgICAgICAgICAgIGNoYXJ0Lm9mZih4Lm9mZltldl0uZXZlbnQsIHgub2ZmW2V2XS5xdWVyeSwgeC5vZmZbZXZdLmhhbmRsZXIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdjaGFydEdyb3VwJykpewogICAgICAgICAgY2hhcnQuZ3JvdXAgPSB4LmNoYXJ0R3JvdXA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2dyb3VwQ29ubmVjdCcpKXsKICAgICAgICAgIGVjaGFydHMuY29ubmVjdCh4Lmdyb3VwQ29ubmVjdCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2dyb3VwRGlzY29ubmVjdCcpKXsKICAgICAgICAgIGVjaGFydHMuZGlzY29ubmVjdCh4Lmdyb3VwRGlzY29ubmVjdCk7CiAgICAgICAgfQoKICAgICAgfSwKICAgICAgCiAgICAgIGdldENoYXJ0OiBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBjaGFydDsKICAgICAgfSwKICAgICAgCiAgICAgIGdldE9wdHM6IGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIG9wdHM7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgaWYoY2hhcnQpewogICAgICAgICAgY2hhcnQucmVzaXplKHt3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fSk7CiAgICAgICAgfQoKICAgICAgfQoKICAgIH07CiAgfQp9KTsKCmZ1bmN0aW9uIGdldF9lX2NoYXJ0cyhpZCl7CgogIHZhciBodG1sV2lkZ2V0c09iaiA9IEhUTUxXaWRnZXRzLmZpbmQoIiMiICsgaWQpOwoKICB2YXIgZWNoYXJ0czsKCiAgaWYgKHR5cGVvZiBodG1sV2lkZ2V0c09iaiAhPSAndW5kZWZpbmVkJykgewogICAgZWNoYXJ0cyA9IGh0bWxXaWRnZXRzT2JqLmdldENoYXJ0KCk7CiAgfQoKICByZXR1cm4oZWNoYXJ0cyk7Cn0KCmZ1bmN0aW9uIGdldF9lX2NoYXJ0c19vcHRzKGlkKXsKCiAgdmFyIGh0bWxXaWRnZXRzT2JqID0gSFRNTFdpZGdldHMuZmluZCgiIyIgKyBpZCk7CgogIHZhciBlY2hhcnRzOwoKICBpZiAodHlwZW9mIGh0bWxXaWRnZXRzT2JqICE9ICd1bmRlZmluZWQnKSB7CiAgICBlY2hhcnRzID0gaHRtbFdpZGdldHNPYmouZ2V0T3B0cygpOwogIH0KCiAgcmV0dXJuKGVjaGFydHMpOwp9CgpmdW5jdGlvbiBkaXN0aW5jdCh2YWx1ZSwgaW5kZXgsIHNlbGYpIHsgCiAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4Owp9CgppZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7CiAgCiAgLy8gRFJBVwogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2RyYXdfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgdmFyIG9wdHMgPSBnZXRfZV9jaGFydHNfb3B0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LnNldE9wdGlvbihvcHRzKTsKICAgICAgfQogIH0pOwogIAogIC8vIEhJR0hMSUdIVCBBTkQgRE9XTlBMQVkKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9oaWdobGlnaHRfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgIHR5cGU6ICdoaWdobGlnaHQnLAogICAgICAgICAgc2VyaWVzSW5kZXg6IGRhdGEuc2VyaWVzSW5kZXgsCiAgICAgICAgICBzZXJpZXNOYW1lOiBkYXRhLnNlcmllc05hbWUKICAgICAgICB9KTsKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2Rvd25wbGF5X3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbih7CiAgICAgICAgICB0eXBlOiAnZG93bnBsYXknLAogICAgICAgICAgc2VyaWVzSW5kZXg6IGRhdGEuc2VyaWVzSW5kZXgsCiAgICAgICAgICBzZXJpZXNOYW1lOiBkYXRhLnNlcmllc05hbWUKICAgICAgICB9KTsKICAgICAgfQogIH0pOwogIAogIC8vIFRPT0xUSVAgIAogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3Nob3d0aXBfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKGRhdGEub3B0cyk7CiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9oaWRldGlwX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbih7CiAgICAgICAgICB0eXBlOiAnaGlkZVRpcCcKICAgICAgICB9KTsKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2FwcGVuZF9wJywKICAgIGZ1bmN0aW9uKG9wdHMpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKG9wdHMuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuYXBwZW5kRGF0YSh7CiAgICAgICAgICBzZXJpZXNJbmRleDogb3B0cy5zZXJpZXNJbmRleCwKICAgICAgICAgIGRhdGE6IG9wdHMuZGF0YQogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfZm9jdXNfbm9kZV9hZGphY2VuY3lfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhWzBdLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihoaWdobGlnaHQpewogICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oaGlnaGxpZ2h0Lm9wdHMpOwogICAgICAgIH0pCiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV91bmZvY3VzX25vZGVfYWRqYWNlbmN5X3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YVswXS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oaGlnaGxpZ2h0KXsKICAgICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKGhpZ2hsaWdodC5vcHRzKTsKICAgICAgICB9KQogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfZGlzcGF0Y2hfYWN0aW9uX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbihkYXRhLm9wdHMpOwogICAgICB9CiAgfSk7CgogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3JlZ2lzdGVyX21hcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAkLmFqYXgoeyAKICAgICAgICAgIHVybDogeC5nZW9KU09OLCAKICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsIAogICAgICAgICAgYXN5bmM6IHgubWFwQXN5bmMsCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihqc29uKXsgCiAgICAgICAgICAgIGVjaGFydHMucmVnaXN0ZXJNYXAoeC5tYXBOYW1lLCBqc29uKTsKICAgICAgICAgIH0gCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgIH0KICB9KTsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfcmVzaXplJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQucmVzaXplKCk7CiAgICAgIH0KICB9KTsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2Vfc2VuZF9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgbGV0IG9wdHMgPSBjaGFydC5nZXRPcHRpb24oKTsKCiAgICAgICAgLy8gYWRkIHNlcmllcwogICAgICAgIGlmKCFvcHRzLnNlcmllcykKICAgICAgICAgIG9wdHMuc2VyaWVzID0gW107CgogICAgICAgIGRhdGEub3B0cy5zZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzZXJpZSl7CiAgICAgICAgICBvcHRzLnNlcmllcy5wdXNoKHNlcmllKTsKICAgICAgICB9KQoKICAgICAgICAvLyBsZWdlbmQKICAgICAgICBpZihvcHRzLmxlZ2VuZC5sZW5ndGggPiAwKQogICAgICAgICAgaWYoZGF0YS5vcHRzLmxlZ2VuZC5kYXRhKQogICAgICAgICAgICBvcHRzLmxlZ2VuZFswXS5kYXRhID0gb3B0cy5sZWdlbmRbMF0uZGF0YS5jb25jYXQoZGF0YS5vcHRzLmxlZ2VuZC5kYXRhKTsKCiAgICAgICAgLy8geCBBeGlzCiAgICAgICAgaWYob3B0cy54QXhpcyl7CiAgICAgICAgICBpZihvcHRzLnhBeGlzWzBdLmRhdGEpewogICAgICAgICAgICBsZXQgeGF4aXMgPSBvcHRzLnhBeGlzWzBdLmRhdGEuY29uY2F0KGRhdGEub3B0cy54QXhpc1swXS5kYXRhKTsKICAgICAgICAgICAgeGF4aXMgPSB4YXhpcy5maWx0ZXIoZGlzdGluY3QpOwogICAgICAgICAgICBvcHRzLnhBeGlzWzBdLmRhdGEgPSB4YXhpczsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIHkgQXhpcwogICAgICAgIGlmKG9wdHMueUF4aXMpewogICAgICAgICAgaWYob3B0cy55QXhpc1swXS5kYXRhKXsKICAgICAgICAgICAgbGV0IHlheGlzID0gb3B0cy55QXhpc1swXS5kYXRhLmNvbmNhdChkYXRhLm9wdHMueUF4aXNbMF0uZGF0YSk7CiAgICAgICAgICAgIHlheGlzID0geWF4aXMuZmlsdGVyKGRpc3RpbmN0KTsKICAgICAgICAgICAgb3B0cy55QXhpc1swXS5kYXRhID0geWF4aXM7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjaGFydC5zZXRPcHRpb24ob3B0cywgdHJ1ZSk7CiAgICAgIH0KICB9KTsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfcmVtb3ZlX3NlcmllX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBsZXQgb3B0cyA9IGNoYXJ0LmdldE9wdGlvbigpOwoKICAgICAgICBpZihkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgbGV0IHNlcmllcyA9IG9wdHMuc2VyaWVzOwogICAgICAgICAgc2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocywgaW5kZXgpewogICAgICAgICAgICBpZihzLm5hbWUgPT0gZGF0YS5zZXJpZV9uYW1lKXsKICAgICAgICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHNlcmllcykKICAgICAgICAgIG9wdHMuc2VyaWVzID0gc2VyaWVzOwogICAgICAgIH0KCiAgICAgICAgaWYoZGF0YS5zZXJpZV9pbmRleCkKICAgICAgICAgIG9wdHMuc2VyaWVzID0gb3B0cy5zZXJpZXMuc3BsaWNlKGRhdGEuaW5kZXgsIDEpOwoKICAgICAgICBjaGFydC5zZXRPcHRpb24ob3B0cywgdHJ1ZSk7CiAgICAgIH0KICB9KTsKICAKfQo="></script>

</head>
<body>
<div id="htmlwidget_container">
  <button id="BUTTON">Zoom in</button>
  <div id="htmlwidget-8b2192033bc32c874fbb" style="width:100%;height:500px;" class="echarts4r html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-8b2192033bc32c874fbb">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":{"BUTTON":[{"data":{"type":"dataZoom","dataZoomIndex":0,"start":20,"end":40}}]},"opts":{"yAxis":[{"show":true}],"xAxis":[{"type":"value"}],"legend":{"data":["speed"]},"series":[{"data":[{"value":[2,4]},{"value":[4,7]},{"value":[10,4]},{"value":[10,9]},{"value":[14,12]},{"value":[16,8]},{"value":[17,11]},{"value":[18,10]},{"value":[20,12]},{"value":[20,15]},{"value":[22,7]},{"value":[24,12]},{"value":[26,10]},{"value":[26,13]},{"value":[26,14]},{"value":[26,15]},{"value":[28,11]},{"value":[28,12]},{"value":[32,16]},{"value":[32,17]},{"value":[32,20]},{"value":[34,10]},{"value":[34,13]},{"value":[34,13]},{"value":[36,14]},{"value":[36,19]},{"value":[40,16]},{"value":[40,17]},{"value":[42,18]},{"value":[46,13]},{"value":[46,19]},{"value":[48,20]},{"value":[50,17]},{"value":[52,20]},{"value":[54,15]},{"value":[54,23]},{"value":[56,18]},{"value":[56,20]},{"value":[60,14]},{"value":[64,20]},{"value":[66,22]},{"value":[68,19]},{"value":[70,24]},{"value":[76,18]},{"value":[80,14]},{"value":[84,18]},{"value":[85,25]},{"value":[92,24]},{"value":[93,24]},{"value":[120,24]}],"name":"speed","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":3}],"dataZoom":[[]],"toolbox":{"feature":{"dataZoom":[]}}},"dispose":true},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-8b2192033bc32c874fbb">{"viewer":{"width":"100%","height":350,"padding":0,"fill":true},"browser":{"width":"100%","height":500,"padding":0,"fill":true}}</script>
</body>
</html>
